<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.375092', '31.627226'], ['120.374092', '31.627253'], ['120.372932', '31.627272'], ['120.371864', '31.627245'], ['120.370956', '31.627192'], ['120.370979', '31.627127'], ['120.371918', '31.627172'], ['120.372696', '31.627195'], ['120.373955', '31.627192'], ['120.37619', '31.627113'], ['120.377357', '31.627081'], ['120.377357', '31.627081'], ['120.377289', '31.626429'], ['120.377083', '31.624514'], ['120.376945', '31.623087'], ['120.376915', '31.622795'], ['120.376854', '31.622257'], ['120.376785', '31.621489'], ['120.376717', '31.620811'], ['120.37664', '31.619965'], ['120.37664', '31.619493'], ['120.376648', '31.619131'], ['120.376678', '31.618771'], ['120.376694', '31.61865'], ['120.376755', '31.618216'], ['120.3769', '31.617504'], ['120.377052', '31.616945'], ['120.377052', '31.616945'], ['120.377007', '31.616785'], ['120.376907', '31.61664'], ['120.37677', '31.616535'], ['120.37664', '31.61647'], ['120.376472', '31.616415'], ['120.376244', '31.616381'], ['120.37426', '31.61602'], ['120.372719', '31.615669'], ['120.369263', '31.614809'], ['120.367157', '31.614288'], ['120.367043', '31.614262'], ['120.366211', '31.614054'], ['120.363403', '31.613346'], ['120.359406', '31.612345'], ['120.358154', '31.612026'], ['120.357239', '31.611771'], ['120.356697', '31.611597'], ['120.356483', '31.611515'], ['120.355782', '31.611238'], ['120.355202', '31.610973'], ['120.353294', '31.610086'], ['120.353294', '31.610086'], ['120.352837', '31.609982'], ['120.352585', '31.609896'], ['120.352448', '31.609861'], ['120.352303', '31.609848'], ['120.35215', '31.609848'], ['120.352036', '31.609861'], ['120.351921', '31.609905'], ['120.351852', '31.609945'], ['120.351761', '31.610014'], ['120.351692', '31.610086'], ['120.351639', '31.610174'], ['120.351601', '31.610264'], ['120.351585', '31.610355'], ['120.351585', '31.610464'], ['120.351601', '31.610529'], ['120.351624', '31.610609'], ['120.351677', '31.610689'], ['120.351761', '31.610777'], ['120.351852', '31.610838'], ['120.351936', '31.61088'], ['120.352036', '31.61092'], ['120.352142', '31.610937'], ['120.352249', '31.610937'], ['120.352379', '31.61091'], ['120.352516', '31.610861'], ['120.352699', '31.610764'], ['120.353722', '31.610188'], ['120.354713', '31.609676'], ['120.355247', '31.6094'], ['120.356194', '31.608892'], ['120.357185', '31.608307'], ['120.357491', '31.608143'], ['120.358421', '31.607664'], ['120.358696', '31.607517'], ['120.359451', '31.607109'], ['120.359932', '31.606831'], ['120.360268', '31.606785'], ['120.360847', '31.606424'], ['120.362053', '31.605686'], ['120.363647', '31.604618'], ['120.364182', '31.604254'], ['120.364807', '31.603811'], ['120.366211', '31.602791'], ['120.366951', '31.602236'], ['120.367882', '31.601494'], ['120.369171', '31.600433'], ['120.370605', '31.599197'], ['120.371674', '31.598238'], ['120.37265', '31.5973'], ['120.373283', '31.59668'], ['120.373856', '31.596107'], ['120.374207', '31.595737'], ['120.375175', '31.594717'], ['120.37587', '31.593943'], ['120.37674', '31.59296'], ['120.37822', '31.591167'], ['120.378517', '31.590797'], ['120.378937', '31.590204'], ['120.379112', '31.589922'], ['120.379379', '31.589405'], ['120.379532', '31.589071'], ['120.3797', '31.588575'], ['120.37986', '31.587955'], ['120.379936', '31.587496'], ['120.379982', '31.586927'], ['120.379982', '31.586636'], ['120.379974', '31.586349'], ['120.379921', '31.585884'], ['120.37989', '31.58569'], ['120.379776', '31.584831'], ['120.379753', '31.584549'], ['120.37973', '31.584162'], ['120.379745', '31.583961'], ['120.379799', '31.583464'], ['120.379868', '31.583052'], ['120.38002', '31.582464'], ['120.380127', '31.582178'], ['120.380241', '31.581894'], ['120.380394', '31.581553'], ['120.380562', '31.58127'], ['120.380753', '31.580942'], ['120.381737', '31.57951'], ['120.382042', '31.579062'], ['120.382828', '31.577929'], ['120.383064', '31.577578'], ['120.383598', '31.576805'], ['120.384033', '31.576176'], ['120.384544', '31.575438'], ['120.385033', '31.574705'], ['120.385155', '31.574522'], ['120.385223', '31.574404'], ['120.385315', '31.574293'], ['120.385582', '31.573839'], ['120.385857', '31.573381'], ['120.385857', '31.573381'], ['120.386101', '31.572813'], ['120.386482', '31.572004'], ['120.386658', '31.571663'], ['120.387901', '31.569294'], ['120.388', '31.569132'], ['120.388115', '31.568966'], ['120.388176', '31.568893'], ['120.388214', '31.568863'], ['120.388336', '31.568768'], ['120.388496', '31.56868'], ['120.388603', '31.568634'], ['120.388718', '31.568611'], ['120.388863', '31.568598'], ['120.388977', '31.568594'], ['120.389091', '31.568594'], ['120.389229', '31.568615'], ['120.38945', '31.568676'], ['120.39016', '31.568916'], ['120.390503', '31.569006'], ['120.390862', '31.569088'], ['120.391022', '31.569111'], ['120.391403', '31.569139'], ['120.39254', '31.569115'], ['120.394554', '31.568588'], ['120.395203', '31.568415'], ['120.396149', '31.568159'], ['120.39695', '31.567938'], ['120.398018', '31.567644'], ['120.399208', '31.567318'], ['120.404984', '31.565733'], ['120.405334', '31.565638'], ['120.406845', '31.565222'], ['120.408371', '31.564796'], ['120.408714', '31.564705'], ['120.40905', '31.564613'], ['120.409752', '31.564423'], ['120.410156', '31.564312'], ['120.4123', '31.563721'], ['120.415627', '31.562809'], ['120.417725', '31.562227'], ['120.419823', '31.561649'], ['120.420723', '31.561401'], ['120.420784', '31.561384'], ['120.421906', '31.561062'], ['120.423149', '31.560724'], ['120.426926', '31.559681'], ['120.427238', '31.559591'], ['120.429558', '31.558949'], ['120.431229', '31.558489'], ['120.432121', '31.558243'], ['120.432899', '31.558025'], ['120.435051', '31.557436'], ['120.436256', '31.557104'], ['120.441055', '31.555765'], ['120.441376', '31.555674'], ['120.441696', '31.555582'], ['120.443283', '31.555147'], ['120.450279', '31.553215'], ['120.450279', '31.553215'], ['120.450378', '31.553068'], ['120.450912', '31.552904'], ['120.451576', '31.552732'], ['120.451653', '31.552717'], ['120.452164', '31.552591'], ['120.45298', '31.552408'], ['120.454102', '31.552174'], ['120.45443', '31.552109'], ['120.454628', '31.552126'], ['120.454628', '31.552126'], ['120.454102', '31.550783'], ['120.45311', '31.548294'], ['120.452744', '31.547359'], ['120.452065', '31.545609'], ['120.451385', '31.543938'], ['120.450584', '31.541859'], ['120.450539', '31.541744'], ['120.450203', '31.540943'], ['120.449905', '31.540186'], ['120.450035', '31.539968'], ['120.45063', '31.539804'], ['120.452118', '31.539375'], ['120.45295', '31.539103'], ['120.453903', '31.538742'], ['120.454102', '31.538652'], ['120.454704', '31.538389'], ['120.4552', '31.538147'], ['120.457367', '31.537081'], ['120.457527', '31.536995'], ['120.460907', '31.53533'], ['120.463234', '31.534176'], ['120.464256', '31.53371'], ['120.465599', '31.533165'], ['120.467377', '31.532536'], ['120.468117', '31.532305'], ['120.468117', '31.532305'], ['120.468384', '31.531986'], ['120.468575', '31.531675'], ['120.468254', '31.53076'], ['120.468063', '31.530195'], ['120.467094', '31.527439'], ['120.466881', '31.526827'], ['120.466866', '31.526775'], ['120.46666', '31.526207'], ['120.466461', '31.525673'], ['120.466087', '31.524618'], ['120.465584', '31.523151'], ['120.465279', '31.522263'], ['120.465378', '31.522076'], ['120.466095', '31.521902'], ['120.467476', '31.521553'], ['120.468391', '31.521328'], ['120.469429', '31.52107'], ['120.47245', '31.520325'], ['120.472984', '31.520191'], ['120.473877', '31.519964'], ['120.474472', '31.519773'], ['120.475952', '31.519276'], ['120.476074', '31.519236'], ['120.476456', '31.519115'], ['120.476646', '31.519049'], ['120.477272', '31.518833'], ['120.47744', '31.518776'], ['120.477905', '31.51862'], ['120.479591', '31.518055'], ['120.481621', '31.517365'], ['120.481941', '31.517258'], ['120.484116', '31.516535'], ['120.484238', '31.516489'], ['120.484451', '31.516407'], ['120.484581', '31.51635'], ['120.486076', '31.515638'], ['120.487305', '31.515049'], ['120.487625', '31.514891'], ['120.487854', '31.514782'], ['120.489304', '31.514097'], ['120.489555', '31.513975'], ['120.490166', '31.513702'], ['120.490669', '31.513502'], ['120.491501', '31.513191'], ['120.491745', '31.513098'], ['120.491943', '31.513025'], ['120.492348', '31.512886'], ['120.493332', '31.512531'], ['120.493706', '31.512396'], ['120.494286', '31.512192'], ['120.49514', '31.511885'], ['120.495308', '31.511822'], ['120.495911', '31.511602'], ['120.496506', '31.511375'], ['120.496681', '31.511267'], ['120.4972', '31.51092'], ['120.497459', '31.510752'], ['120.498047', '31.510365'], ['120.500443', '31.508789'], ['120.503792', '31.506571'], ['120.504433', '31.506161'], ['120.505722', '31.505304'], ['120.506195', '31.504986'], ['120.506195', '31.504986'], ['120.506462', '31.504658'], ['120.506676', '31.504244'], ['120.506676', '31.504076'], ['120.506676', '31.501835'], ['120.506676', '31.501766'], ['120.506668', '31.50087'], ['120.506668', '31.500446'], ['120.506668', '31.499453'], ['120.506668', '31.498047'], ['120.506668', '31.497801'], ['120.506668', '31.497492'], ['120.506668', '31.495209'], ['120.506668', '31.494513'], ['120.50666', '31.494175'], ['120.50666', '31.494089'], ['120.506668', '31.493654'], ['120.506668', '31.493456'], ['120.506668', '31.493073']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>