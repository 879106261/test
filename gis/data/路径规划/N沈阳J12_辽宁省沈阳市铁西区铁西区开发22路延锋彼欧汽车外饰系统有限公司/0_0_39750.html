<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['123.056839', '41.442631'], ['123.056847', '41.44223'], ['123.056824', '41.442181'], ['123.056793', '41.442142'], ['123.056694', '41.442101'], ['123.056694', '41.442062'], ['123.056694', '41.442047'], ['123.056625', '41.441936'], ['123.056625', '41.44183'], ['123.057518', '41.441811'], ['123.057571', '41.441921'], ['123.058746', '41.442684'], ['123.059944', '41.443443'], ['123.060005', '41.443489'], ['123.058624', '41.44471'], ['123.056976', '41.446167'], ['123.056068', '41.446968'], ['123.055321', '41.447632'], ['123.054619', '41.448257'], ['123.053375', '41.449368'], ['123.05307', '41.44965'], ['123.05278', '41.449902'], ['123.05278', '41.449902'], ['123.056381', '41.450993'], ['123.057404', '41.451321'], ['123.057655', '41.451412'], ['123.057701', '41.451427'], ['123.058159', '41.45163'], ['123.058762', '41.451923'], ['123.059135', '41.452133'], ['123.059341', '41.452301'], ['123.059456', '41.452461'], ['123.059532', '41.452606'], ['123.05957', '41.452755'], ['123.059593', '41.452942'], ['123.059586', '41.453079'], ['123.059547', '41.4533'], ['123.059502', '41.453522'], ['123.059448', '41.453732'], ['123.059334', '41.454262'], ['123.059273', '41.454529'], ['123.059212', '41.454922'], ['123.059189', '41.455284'], ['123.059326', '41.456863'], ['123.059357', '41.457157'], ['123.059402', '41.457417'], ['123.059456', '41.457607'], ['123.059677', '41.45813'], ['123.059822', '41.458378'], ['123.060593', '41.45961'], ['123.060745', '41.459862'], ['123.060867', '41.460133'], ['123.061432', '41.461571'], ['123.061638', '41.462147'], ['123.061699', '41.462399'], ['123.061714', '41.462463'], ['123.061882', '41.463295'], ['123.062042', '41.464149'], ['123.062172', '41.464516'], ['123.062317', '41.464794'], ['123.063065', '41.466137'], ['123.063576', '41.46701'], ['123.063744', '41.467335'], ['123.064224', '41.468212'], ['123.064392', '41.468559'], ['123.064507', '41.468895'], ['123.064651', '41.469406'], ['123.064919', '41.470699'], ['123.064995', '41.471039'], ['123.065094', '41.471329'], ['123.065567', '41.472561'], ['123.065681', '41.472843'], ['123.065895', '41.473385'], ['123.065964', '41.473564'], ['123.066277', '41.474453'], ['123.067207', '41.47691'], ['123.067291', '41.477085'], ['123.067436', '41.477333'], ['123.068184', '41.478439'], ['123.068771', '41.479248'], ['123.068848', '41.479343'], ['123.069016', '41.479538'], ['123.069145', '41.479671'], ['123.069298', '41.47979'], ['123.071861', '41.481503'], ['123.073334', '41.482475'], ['123.075226', '41.483757'], ['123.075455', '41.483936'], ['123.075943', '41.484375'], ['123.076668', '41.485023'], ['123.07785', '41.486088'], ['123.078148', '41.486366'], ['123.078362', '41.486591'], ['123.078773', '41.487049'], ['123.078979', '41.48732'], ['123.079079', '41.487476'], ['123.079147', '41.487621'], ['123.079201', '41.487774'], ['123.079216', '41.487888'], ['123.079239', '41.488064'], ['123.079216', '41.488316'], ['123.079193', '41.488548'], ['123.07914', '41.488747'], ['123.078918', '41.489368'], ['123.078033', '41.491573'], ['123.077919', '41.491825'], ['123.077232', '41.492985'], ['123.076675', '41.493977'], ['123.076561', '41.494183'], ['123.076477', '41.494377'], ['123.076447', '41.49453'], ['123.076424', '41.494785'], ['123.076454', '41.494915'], ['123.076622', '41.495361'], ['123.076775', '41.495728'], ['123.077034', '41.496368'], ['123.077057', '41.496494'], ['123.077072', '41.496632'], ['123.077057', '41.496941'], ['123.077034', '41.497162'], ['123.076988', '41.497406'], ['123.076942', '41.497631'], ['123.076942', '41.497734'], ['123.076958', '41.497986'], ['123.076988', '41.498085'], ['123.077126', '41.498363'], ['123.077393', '41.498726'], ['123.07753', '41.49894'], ['123.077637', '41.499161'], ['123.077682', '41.499294'], ['123.077751', '41.499588'], ['123.077751', '41.499725'], ['123.077751', '41.500324'], ['123.077721', '41.500462'], ['123.077629', '41.500702'], ['123.077515', '41.500961'], ['123.077393', '41.501232'], ['123.077354', '41.501369'], ['123.077324', '41.501545'], ['123.077309', '41.50169'], ['123.077248', '41.502293'], ['123.077232', '41.502445'], ['123.077194', '41.502735'], ['123.077148', '41.503178'], ['123.077141', '41.503422'], ['123.077171', '41.50378'], ['123.077202', '41.503941'], ['123.077255', '41.50412'], ['123.077339', '41.504299'], ['123.077545', '41.504646'], ['123.077637', '41.504761'], ['123.077759', '41.504929'], ['123.07782', '41.505032'], ['123.077934', '41.50526'], ['123.078011', '41.505394'], ['123.078117', '41.505547'], ['123.078186', '41.505676'], ['123.078308', '41.505905'], ['123.078445', '41.506115'], ['123.078575', '41.506348'], ['123.07859', '41.506351'], ['123.078667', '41.506485'], ['123.07888', '41.506821'], ['123.078957', '41.50695'], ['123.079208', '41.50742'], ['123.079468', '41.507977'], ['123.079674', '41.508438'], ['123.080063', '41.509182'], ['123.080215', '41.509445'], ['123.080383', '41.509708'], ['123.080627', '41.510052'], ['123.080925', '41.510372'], ['123.08165', '41.511299'], ['123.082581', '41.512432'], ['123.084328', '41.514568'], ['123.085709', '41.516254'], ['123.085922', '41.516529'], ['123.086174', '41.516911'], ['123.086464', '41.51733'], ['123.0867', '41.517712'], ['123.087456', '41.518826'], ['123.089073', '41.520729'], ['123.089378', '41.521084'], ['123.089691', '41.521435'], ['123.09082', '41.522774'], ['123.090889', '41.522854'], ['123.091873', '41.524014'], ['123.093239', '41.525597'], ['123.093872', '41.526348'], ['123.09417', '41.526688'], ['123.094429', '41.526981'], ['123.094894', '41.527515'], ['123.095032', '41.527668'], ['123.095627', '41.52832'], ['123.095734', '41.528439'], ['123.096214', '41.528988'], ['123.096901', '41.529743'], ['123.097168', '41.530102'], ['123.097404', '41.53043'], ['123.097549', '41.530663'], ['123.097763', '41.531036'], ['123.09816', '41.531765'], ['123.098648', '41.532627'], ['123.098953', '41.533104'], ['123.099129', '41.53336'], ['123.099464', '41.533813'], ['123.100075', '41.534557'], ['123.100204', '41.534714'], ['123.100311', '41.534809'], ['123.100655', '41.53503'], ['123.100967', '41.535194'], ['123.102531', '41.536057'], ['123.102692', '41.536133'], ['123.102882', '41.53619'], ['123.103104', '41.536217'], ['123.104248', '41.536335'], ['123.104355', '41.536354'], ['123.104408', '41.536381'], ['123.10453', '41.536533'], ['123.104813', '41.537128'], ['123.104813', '41.537128'], ['123.104881', '41.537312'], ['123.10495', '41.537392'], ['123.104996', '41.537418'], ['123.105103', '41.537441'], ['123.105545', '41.537426'], ['123.105766', '41.537495'], ['123.10582', '41.537533'], ['123.105881', '41.537613'], ['123.106133', '41.53804'], ['123.106339', '41.538292'], ['123.106773', '41.538654'], ['123.107155', '41.539135'], ['123.107239', '41.539261'], ['123.107262', '41.539307'], ['123.107368', '41.539452'], ['123.107872', '41.540146'], ['123.108383', '41.540764'], ['123.108559', '41.540951'], ['123.10881', '41.54121'], ['123.108948', '41.541309'], ['123.109055', '41.541355'], ['123.109795', '41.541557'], ['123.110039', '41.541603'], ['123.110229', '41.541668'], ['123.110428', '41.541752'], ['123.110558', '41.541828'], ['123.110672', '41.541912'], ['123.110916', '41.542126'], ['123.11145', '41.542652'], ['123.111671', '41.542892'], ['123.112282', '41.543388'], ['123.112793', '41.543743'], ['123.113708', '41.544357'], ['123.116623', '41.546082'], ['123.116798', '41.546215'], ['123.117035', '41.54641'], ['123.117233', '41.54665'], ['123.117653', '41.547199'], ['123.118034', '41.547695'], ['123.118279', '41.548004'], ['123.11853', '41.548363'], ['123.118721', '41.548603'], ['123.11911', '41.549061'], ['123.119263', '41.549217'], ['123.119469', '41.549385'], ['123.119781', '41.549622'], ['123.120331', '41.550018'], ['123.120728', '41.550289'], ['123.121109', '41.55056'], ['123.121864', '41.551132'], ['123.122116', '41.551346'], ['123.122322', '41.55154'], ['123.122498', '41.551762'], ['123.123856', '41.553883'], ['123.124519', '41.554916'], ['123.124596', '41.555023'], ['123.124725', '41.555164'], ['123.124878', '41.555298'], ['123.125229', '41.555565'], ['123.126923', '41.556812'], ['123.127594', '41.557327'], ['123.129349', '41.558655'], ['123.12986', '41.559048'], ['123.130188', '41.559345'], ['123.130295', '41.559471'], ['123.130417', '41.559666'], ['123.130577', '41.560043'], ['123.130737', '41.560547'], ['123.130798', '41.560745'], ['123.130852', '41.560932'], ['123.130913', '41.561138'], ['123.130951', '41.561275'], ['123.131042', '41.56155'], ['123.131187', '41.562073'], ['123.131287', '41.562355'], ['123.131401', '41.562592'], ['123.131493', '41.562752'], ['123.13163', '41.562927'], ['123.131775', '41.563099'], ['123.132156', '41.563477'], ['123.13253', '41.563839'], ['123.133591', '41.564873'], ['123.134026', '41.565304'], ['123.134232', '41.565521'], ['123.134354', '41.565685'], ['123.134567', '41.566036'], ['123.134659', '41.566257'], ['123.134766', '41.566555'], ['123.134773', '41.56657'], ['123.135155', '41.567844'], ['123.135315', '41.568413'], ['123.135353', '41.568554'], ['123.135544', '41.56916'], ['123.135666', '41.569485'], ['123.135788', '41.569778'], ['123.136299', '41.570827'], ['123.13678', '41.571857'], ['123.136948', '41.572266'], ['123.137238', '41.57296'], ['123.137459', '41.573524'], ['123.13752', '41.573677'], ['123.137604', '41.573891'], ['123.137741', '41.574387'], ['123.137772', '41.574593'], ['123.137779', '41.57473'], ['123.137833', '41.575035'], ['123.137909', '41.575619'], ['123.13797', '41.576046'], ['123.138229', '41.578178'], ['123.138329', '41.578835'], ['123.138489', '41.580078'], ['123.13855', '41.580326'], ['123.138611', '41.580471'], ['123.138969', '41.581188'], ['123.139633', '41.582306'], ['123.139977', '41.58289'], ['123.140114', '41.583126'], ['123.140175', '41.583248'], ['123.140198', '41.583286'], ['123.140381', '41.583641'], ['123.140465', '41.583855'], ['123.140625', '41.584343'], ['123.140747', '41.584686'], ['123.140846', '41.584896'], ['123.141296', '41.585712'], ['123.141624', '41.58633'], ['123.142036', '41.587078'], ['123.142288', '41.587555'], ['123.142593', '41.588116'], ['123.142975', '41.588806'], ['123.143097', '41.589005'], ['123.143257', '41.589226'], ['123.143593', '41.589615'], ['123.14386', '41.589893'], ['123.144203', '41.590267'], ['123.144592', '41.590679'], ['123.144852', '41.590965'], ['123.145004', '41.591122'], ['123.145424', '41.591545'], ['123.145905', '41.592064'], ['123.146461', '41.592648'], ['123.146797', '41.593014'], ['123.147095', '41.593334'], ['123.147919', '41.594193'], ['123.147972', '41.594234'], ['123.148071', '41.594311'], ['123.148331', '41.594471'], ['123.148827', '41.594749'], ['123.149376', '41.595081'], ['123.149681', '41.595299'], ['123.14991', '41.595531'], ['123.150131', '41.595814'], ['123.15023', '41.595982'], ['123.150345', '41.596195'], ['123.150673', '41.596874'], ['123.151451', '41.598671'], ['123.15181', '41.599693'], ['123.1521', '41.600517'], ['123.152435', '41.601398'], ['123.152687', '41.601921'], ['123.152817', '41.602192'], ['123.152962', '41.602489'], ['123.153145', '41.602875'], ['123.153229', '41.603115'], ['123.153282', '41.603333'], ['123.153343', '41.603737'], ['123.153549', '41.605167'], ['123.153549', '41.605221'], ['123.153687', '41.606243'], ['123.153877', '41.607361'], ['123.153992', '41.608379'], ['123.154259', '41.610203'], ['123.154625', '41.612869'], ['123.154648', '41.61311'], ['123.154648', '41.61311'], ['123.150101', '41.613476'], ['123.145523', '41.61385'], ['123.14344', '41.613991'], ['123.141838', '41.614193'], ['123.140656', '41.614361'], ['123.139877', '41.614494'], ['123.138969', '41.614658'], ['123.138168', '41.614826'], ['123.137321', '41.615017'], ['123.135979', '41.615356'], ['123.134819', '41.615681'], ['123.134766', '41.615696'], ['123.133682', '41.616035'], ['123.133163', '41.616207'], ['123.132637', '41.61639'], ['123.13166', '41.616764'], ['123.130928', '41.617065'], ['123.129745', '41.617561'], ['123.129021', '41.617893'], ['123.128113', '41.618343'], ['123.127274', '41.618786'], ['123.126083', '41.619438'], ['123.121323', '41.62207'], ['123.120834', '41.622337'], ['123.116341', '41.624821'], ['123.113838', '41.626202'], ['123.112793', '41.626781'], ['123.112045', '41.627197'], ['123.109894', '41.628399'], ['123.105064', '41.631046'], ['123.104286', '41.631481'], ['123.101997', '41.632744'], ['123.099365', '41.634201'], ['123.095032', '41.636597'], ['123.094551', '41.636894'], ['123.094154', '41.637173'], ['123.093628', '41.637592'], ['123.093277', '41.637913'], ['123.09301', '41.638184'], ['123.093002', '41.638199'], ['123.092705', '41.638542'], ['123.092293', '41.639088'], ['123.09211', '41.639381'], ['123.091965', '41.639645'], ['123.09182', '41.639946'], ['123.09166', '41.640312'], ['123.091545', '41.640644'], ['123.091446', '41.641014'], ['123.091377', '41.641323'], ['123.091331', '41.641655'], ['123.091309', '41.641991'], ['123.091309', '41.642311'], ['123.091324', '41.642685'], ['123.09137', '41.643093'], ['123.091446', '41.64357'], ['123.092575', '41.649166'], ['123.092651', '41.649521'], ['123.092766', '41.650112'], ['123.092796', '41.650394'], ['123.092827', '41.650707'], ['123.092827', '41.651005'], ['123.092812', '41.651329'], ['123.092781', '41.651669'], ['123.09272', '41.65205'], ['123.092628', '41.65237'], ['123.092537', '41.652706'], ['123.092415', '41.653046'], ['123.09227', '41.653366'], ['123.091934', '41.654022'], ['123.091751', '41.654327'], ['123.09153', '41.654671'], ['123.091316', '41.654961'], ['123.090912', '41.655483'], ['123.09082', '41.655602'], ['123.090492', '41.65596'], ['123.090149', '41.6563'], ['123.089584', '41.656796'], ['123.089333', '41.656963'], ['123.088448', '41.657661'], ['123.088242', '41.657852'], ['123.088242', '41.657852'], ['123.088951', '41.658459'], ['123.089958', '41.659321'], ['123.090546', '41.659821'], ['123.09082', '41.660057'], ['123.090912', '41.660137'], ['123.090927', '41.660156'], ['123.091492', '41.660648'], ['123.092033', '41.66111'], ['123.092506', '41.661503'], ['123.093948', '41.662788'], ['123.094261', '41.663078'], ['123.095482', '41.664303'], ['123.096184', '41.665024'], ['123.096481', '41.665268'], ['123.097023', '41.66563'], ['123.097801', '41.666065'], ['123.098877', '41.666615'], ['123.100967', '41.667698'], ['123.103531', '41.669041'], ['123.104263', '41.669449'], ['123.105064', '41.669979'], ['123.10601', '41.67067'], ['123.106621', '41.671143'], ['123.107162', '41.671543'], ['123.109039', '41.67297'], ['123.110237', '41.673874'], ['123.112793', '41.675713'], ['123.114418', '41.67688'], ['123.115479', '41.677654'], ['123.115906', '41.677948'], ['123.116844', '41.678619'], ['123.11779', '41.67931'], ['123.118263', '41.679657'], ['123.118744', '41.680004'], ['123.119263', '41.680397'], ['123.119576', '41.68063'], ['123.120277', '41.681198'], ['123.120667', '41.681519'], ['123.121002', '41.681812'], ['123.121155', '41.681938'], ['123.121361', '41.682125'], ['123.122246', '41.682945'], ['123.122681', '41.683357'], ['123.12294', '41.683601'], ['123.123474', '41.684101'], ['123.124527', '41.685043'], ['123.125565', '41.685894'], ['123.12693', '41.68697'], ['123.128693', '41.688358'], ['123.129204', '41.688721'], ['123.129608', '41.688957'], ['123.130028', '41.689148'], ['123.13047', '41.689297'], ['123.130936', '41.689419'], ['123.131104', '41.689449'], ['123.131386', '41.689499'], ['123.131859', '41.689537'], ['123.13237', '41.689556'], ['123.133308', '41.689537'], ['123.134766', '41.689487'], ['123.134819', '41.689487'], ['123.135246', '41.689472'], ['123.135948', '41.689472'], ['123.136459', '41.68951'], ['123.136948', '41.689587'], ['123.137589', '41.689732'], ['123.137985', '41.689865'], ['123.138321', '41.690018'], ['123.138687', '41.690201'], ['123.139351', '41.690613'], ['123.140167', '41.691158'], ['123.140869', '41.691631'], ['123.141113', '41.691788'], ['123.141739', '41.692219'], ['123.141998', '41.692387'], ['123.143074', '41.693111'], ['123.143097', '41.693123'], ['123.144051', '41.693752'], ['123.144432', '41.694'], ['123.144623', '41.69413'], ['123.145035', '41.694382'], ['123.145111', '41.694424'], ['123.145386', '41.694576'], ['123.145668', '41.694721'], ['123.146294', '41.694988'], ['123.146843', '41.695183'], ['123.147179', '41.695286'], ['123.147652', '41.695404'], ['123.14814', '41.695511'], ['123.148888', '41.69566'], ['123.149101', '41.695702'], ['123.149612', '41.695801'], ['123.150299', '41.695942'], ['123.150871', '41.696056'], ['123.152023', '41.696274'], ['123.152023', '41.696274'], ['123.152992', '41.694805'], ['123.15313', '41.694546'], ['123.153259', '41.694241'], ['123.153366', '41.693928'], ['123.153419', '41.693703'], ['123.153496', '41.693321'], ['123.153526', '41.693111'], ['123.153656', '41.692036'], ['123.153847', '41.690578'], ['123.153923', '41.689987'], ['123.153984', '41.689697'], ['123.15406', '41.689423'], ['123.154259', '41.688946'], ['123.154434', '41.688637'], ['123.154633', '41.688324'], ['123.155388', '41.687244'], ['123.155594', '41.686943'], ['123.155594', '41.686943'], ['123.155525', '41.686859'], ['123.155495', '41.686806'], ['123.15551', '41.686695'], ['123.155571', '41.686596'], ['123.155571', '41.686596'], ['123.154472', '41.685097'], ['123.152481', '41.682472'], ['123.152229', '41.682125'], ['123.151405', '41.681026'], ['123.151405', '41.681026'], ['123.149582', '41.681854'], ['123.149582', '41.681854'], ['123.149429', '41.681644'], ['123.149353', '41.681541'], ['123.149353', '41.681541'], ['123.149216', '41.681599']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>