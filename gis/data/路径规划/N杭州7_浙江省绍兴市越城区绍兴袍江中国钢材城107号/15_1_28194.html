<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.859879', '30.002977'], ['120.860199', '30.002934'], ['120.860802', '30.002855'], ['120.861671', '30.002737'], ['120.862663', '30.002617'], ['120.863251', '30.002546'], ['120.863251', '30.002546'], ['120.863274', '30.001818'], ['120.863251', '30.00086'], ['120.863213', '30.000351'], ['120.863144', '30.000132'], ['120.863144', '30.000132'], ['120.863075', '30.000082'], ['120.863037', '30.000036'], ['120.863037', '30.000036'], ['120.862694', '29.999844'], ['120.862434', '29.999762'], ['120.862038', '29.999676'], ['120.861656', '29.999626'], ['120.861237', '29.999599'], ['120.860962', '29.999592'], ['120.860382', '29.999622'], ['120.860275', '29.999636'], ['120.860161', '29.999662'], ['120.860039', '29.999735'], ['120.859993', '29.999783'], ['120.859993', '29.999783'], ['120.859985', '29.999836'], ['120.859947', '29.999901'], ['120.859886', '29.999964'], ['120.859825', '29.99999'], ['120.859741', '30.0'], ['120.859673', '29.999987'], ['120.859596', '29.999949'], ['120.859558', '29.999905'], ['120.859558', '29.999905'], ['120.859253', '29.999836'], ['120.859077', '29.999836'], ['120.857506', '29.999964'], ['120.855927', '30.000109'], ['120.85569', '30.000147'], ['120.855339', '30.000223'], ['120.855011', '30.00032'], ['120.854637', '30.000473'], ['120.85331', '30.001062'], ['120.852158', '30.001593'], ['120.851761', '30.001772'], ['120.851486', '30.001875'], ['120.851181', '30.001957'], ['120.850838', '30.002014'], ['120.849609', '30.0021'], ['120.849411', '30.00211'], ['120.848', '30.002195'], ['120.847664', '30.002213'], ['120.847191', '30.002239'], ['120.84539', '30.002344'], ['120.844444', '30.002399'], ['120.844215', '30.002432'], ['120.843819', '30.002508'], ['120.84343', '30.002613'], ['120.843132', '30.002722'], ['120.842659', '30.002947'], ['120.842339', '30.003147'], ['120.841568', '30.003611'], ['120.841492', '30.003658'], ['120.841171', '30.003889'], ['120.840248', '30.004513'], ['120.839577', '30.004965'], ['120.838905', '30.00539'], ['120.83709', '30.006588'], ['120.836723', '30.006823'], ['120.836571', '30.006914'], ['120.836174', '30.007158'], ['120.835617', '30.007542'], ['120.834541', '30.008284'], ['120.833229', '30.009153'], ['120.832985', '30.009285'], ['120.832321', '30.009541'], ['120.832039', '30.009626'], ['120.831665', '30.009705'], ['120.831284', '30.009748'], ['120.830719', '30.009787'], ['120.829269', '30.009905'], ['120.828613', '30.009956'], ['120.828247', '30.009996'], ['120.827637', '30.01005'], ['120.826775', '30.010109'], ['120.826103', '30.010178'], ['120.823593', '30.010408'], ['120.822594', '30.010511'], ['120.821739', '30.010605'], ['120.821091', '30.010656'], ['120.820648', '30.010656'], ['120.820114', '30.010609'], ['120.819336', '30.010525'], ['120.818497', '30.01046'], ['120.817772', '30.010424'], ['120.816032', '30.010387'], ['120.814758', '30.010368'], ['120.81456', '30.010368'], ['120.814133', '30.010368'], ['120.813225', '30.010355'], ['120.812843', '30.010342'], ['120.812477', '30.0103'], ['120.811478', '30.010069'], ['120.81031', '30.009773'], ['120.809624', '30.009609'], ['120.80825', '30.009275'], ['120.807838', '30.009184'], ['120.807503', '30.009115'], ['120.807411', '30.009102'], ['120.806969', '30.009022'], ['120.806503', '30.00897'], ['120.805664', '30.008862'], ['120.804932', '30.008772'], ['120.801689', '30.008383'], ['120.80056', '30.008238'], ['120.800392', '30.008215'], ['120.800133', '30.008183'], ['120.79985', '30.008152'], ['120.799629', '30.008116'], ['120.799591', '30.008112'], ['120.79834', '30.007973'], ['120.797737', '30.007904'], ['120.797112', '30.007832'], ['120.79615', '30.00771'], ['120.795494', '30.007635'], ['120.79258', '30.007282'], ['120.791924', '30.007204'], ['120.791153', '30.007149'], ['120.790909', '30.007139'], ['120.790604', '30.007172'], ['120.79007', '30.007261'], ['120.789558', '30.007364'], ['120.787323', '30.007822'], ['120.785843', '30.008139'], ['120.785164', '30.008278'], ['120.784576', '30.008402'], ['120.784195', '30.008476'], ['120.783691', '30.008585'], ['120.783279', '30.008671'], ['120.782433', '30.008844'], ['120.782211', '30.008888'], ['120.781502', '30.008993'], ['120.779625', '30.009127'], ['120.779015', '30.009163'], ['120.778641', '30.009197'], ['120.778481', '30.009207'], ['120.77813', '30.009226'], ['120.77784', '30.009245'], ['120.776779', '30.009317'], ['120.776039', '30.009367'], ['120.775269', '30.009413'], ['120.774597', '30.009459'], ['120.77449', '30.009466'], ['120.773544', '30.009527'], ['120.773094', '30.009562'], ['120.772797', '30.009579'], ['120.772682', '30.009586'], ['120.772514', '30.009596'], ['120.771706', '30.009657'], ['120.771225', '30.009687'], ['120.770302', '30.009745'], ['120.768745', '30.009857'], ['120.767075', '30.009956'], ['120.765686', '30.010056'], ['120.763893', '30.010178'], ['120.763611', '30.010195'], ['120.762955', '30.010265'], ['120.762428', '30.010334'], ['120.761894', '30.010447'], ['120.761719', '30.010496'], ['120.761307', '30.010605'], ['120.760765', '30.010786'], ['120.760406', '30.010925'], ['120.760033', '30.011093'], ['120.759308', '30.011457'], ['120.757652', '30.012474'], ['120.754799', '30.014206'], ['120.754402', '30.014454'], ['120.754257', '30.01454'], ['120.754082', '30.014648'], ['120.752975', '30.015318'], ['120.751305', '30.016298'], ['120.750732', '30.016588'], ['120.750015', '30.016909'], ['120.749634', '30.017067'], ['120.748795', '30.017361'], ['120.748016', '30.017569'], ['120.74733', '30.017723'], ['120.746819', '30.017813'], ['120.746353', '30.017887'], ['120.744865', '30.018074'], ['120.743088', '30.018272'], ['120.742805', '30.018311'], ['120.742226', '30.018383'], ['120.741478', '30.018459'], ['120.740791', '30.018538'], ['120.739738', '30.018658'], ['120.738533', '30.018793'], ['120.738533', '30.018793'], ['120.737625', '30.019154'], ['120.736954', '30.019409'], ['120.736763', '30.019514'], ['120.736534', '30.019695'], ['120.736259', '30.020031'], ['120.736221', '30.020178'], ['120.735725', '30.02116'], ['120.735641', '30.021362'], ['120.735588', '30.021641'], ['120.735588', '30.021757'], ['120.735626', '30.021996'], ['120.735672', '30.022118'], ['120.735771', '30.022305'], ['120.735878', '30.02243'], ['120.736061', '30.022596'], ['120.736168', '30.022678'], ['120.736389', '30.022781'], ['120.736603', '30.022846'], ['120.736748', '30.022873'], ['120.737038', '30.022892'], ['120.737183', '30.022882'], ['120.737411', '30.022827'], ['120.737556', '30.022774'], ['120.737816', '30.022631'], ['120.737976', '30.022509'], ['120.738159', '30.022266'], ['120.738251', '30.022072'], ['120.738281', '30.021936'], ['120.738304', '30.021753'], ['120.738304', '30.021635'], ['120.738266', '30.021431'], ['120.738174', '30.021225'], ['120.738106', '30.02109'], ['120.738007', '30.020977'], ['120.737854', '30.020838'], ['120.737717', '30.020733'], ['120.737541', '30.020651'], ['120.737305', '30.020573'], ['120.737068', '30.020529'], ['120.736656', '30.020519'], ['120.736473', '30.020529'], ['120.735992', '30.020599'], ['120.735428', '30.020742'], ['120.735268', '30.020794'], ['120.735008', '30.020924'], ['120.734726', '30.021116'], ['120.734619', '30.021206'], ['120.734535', '30.021301'], ['120.734383', '30.021528'], ['120.734283', '30.021767'], ['120.734222', '30.021996'], ['120.734055', '30.022978'], ['120.733757', '30.024458'], ['120.733688', '30.024736'], ['120.733597', '30.024952'], ['120.733482', '30.025156'], ['120.733353', '30.025351'], ['120.733185', '30.025564'], ['120.733124', '30.025633'], ['120.732773', '30.02598'], ['120.73233', '30.026388'], ['120.731949', '30.026667'], ['120.731567', '30.026905'], ['120.731117', '30.027157'], ['120.729248', '30.028097'], ['120.728889', '30.028282'], ['120.728508', '30.028471'], ['120.72728', '30.029089'], ['120.725754', '30.029854'], ['120.725243', '30.0301'], ['120.724586', '30.03043'], ['120.72345', '30.031002'], ['120.722923', '30.031301'], ['120.722519', '30.031576'], ['120.721931', '30.032053'], ['120.721451', '30.032522'], ['120.721138', '30.032887'], ['120.720924', '30.033159'], ['120.720726', '30.033466'], ['120.720459', '30.033962'], ['120.720108', '30.034782'], ['120.719574', '30.036188'], ['120.719406', '30.036617'], ['120.718979', '30.037746'], ['120.718353', '30.039349'], ['120.717873', '30.040611'], ['120.717781', '30.040884'], ['120.717697', '30.041059'], ['120.717491', '30.04159'], ['120.716476', '30.044231'], ['120.716446', '30.044344'], ['120.71608', '30.045296'], ['120.715721', '30.046228'], ['120.715179', '30.047604'], ['120.714828', '30.048529'], ['120.714027', '30.050642'], ['120.713661', '30.051594'], ['120.712784', '30.053867'], ['120.712372', '30.054878'], ['120.712234', '30.055222'], ['120.712204', '30.055269'], ['120.712029', '30.055582'], ['120.711861', '30.055855'], ['120.711533', '30.056311'], ['120.711281', '30.056622'], ['120.711113', '30.056801'], ['120.710808', '30.057096'], ['120.710571', '30.057308'], ['120.71019', '30.057617'], ['120.709839', '30.057846'], ['120.709396', '30.058107'], ['120.708939', '30.058329'], ['120.708435', '30.058542'], ['120.708305', '30.058594'], ['120.708054', '30.058685'], ['120.707726', '30.058781'], ['120.707397', '30.058857'], ['120.704231', '30.059498'], ['120.70182', '30.059965'], ['120.700066', '30.060318'], ['120.696877', '30.060984'], ['120.696617', '30.061043'], ['120.695793', '30.06122'], ['120.693634', '30.06172'], ['120.690453', '30.062487'], ['120.68779', '30.063173'], ['120.687218', '30.063324'], ['120.684296', '30.064079'], ['120.683578', '30.064266'], ['120.682388', '30.064568'], ['120.681999', '30.064667'], ['120.681244', '30.064861'], ['120.679794', '30.065237'], ['120.678894', '30.06547'], ['120.678528', '30.065569'], ['120.677795', '30.06576'], ['120.676674', '30.066055'], ['120.675468', '30.066362'], ['120.674309', '30.066668'], ['120.674004', '30.066744'], ['120.673828', '30.066793'], ['120.673424', '30.066902'], ['120.672363', '30.067179'], ['120.671272', '30.067495'], ['120.671097', '30.067556'], ['120.669777', '30.067915'], ['120.669273', '30.06805'], ['120.668648', '30.068224'], ['120.665916', '30.068962'], ['120.663681', '30.069578'], ['120.661903', '30.070082'], ['120.659828', '30.070669'], ['120.658791', '30.070965'], ['120.658691', '30.07099'], ['120.657593', '30.071299'], ['120.656235', '30.071726'], ['120.654877', '30.072149'], ['120.651855', '30.073092'], ['120.651527', '30.073196'], ['120.651482', '30.073202'], ['120.648567', '30.074127'], ['120.64698', '30.074657'], ['120.645554', '30.075191'], ['120.644089', '30.075783'], ['120.643394', '30.07608'], ['120.643333', '30.076107'], ['120.641891', '30.076744'], ['120.640427', '30.0774'], ['120.634598', '30.080004'], ['120.633461', '30.080479'], ['120.633255', '30.080564'], ['120.632904', '30.080708'], ['120.63179', '30.081133'], ['120.63118', '30.081347'], ['120.629883', '30.081776'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>