<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.859879', '30.002977'], ['120.860199', '30.002934'], ['120.860802', '30.002855'], ['120.861671', '30.002737'], ['120.862663', '30.002617'], ['120.863251', '30.002546'], ['120.863251', '30.002546'], ['120.863274', '30.001818'], ['120.863251', '30.00086'], ['120.863213', '30.000351'], ['120.863144', '30.000132'], ['120.863144', '30.000132'], ['120.863075', '30.000082'], ['120.863037', '30.000036'], ['120.863037', '30.000036'], ['120.862694', '29.999844'], ['120.862434', '29.999762'], ['120.862038', '29.999676'], ['120.861656', '29.999626'], ['120.861237', '29.999599'], ['120.860962', '29.999592'], ['120.860382', '29.999622'], ['120.860275', '29.999636'], ['120.860161', '29.999662'], ['120.860039', '29.999735'], ['120.859993', '29.999783'], ['120.859993', '29.999783'], ['120.859985', '29.999836'], ['120.859947', '29.999901'], ['120.859886', '29.999964'], ['120.859825', '29.99999'], ['120.859741', '30.0'], ['120.859673', '29.999987'], ['120.859596', '29.999949'], ['120.859558', '29.999905'], ['120.859535', '29.999863'], ['120.85952', '29.999813'], ['120.85952', '29.999748'], ['120.859535', '29.999691'], ['120.859581', '29.999626'], ['120.859642', '29.999561'], ['120.859642', '29.999561'], ['120.859642', '29.99938'], ['120.85952', '29.998703'], ['120.859459', '29.998402'], ['120.859375', '29.99802'], ['120.859299', '29.997704'], ['120.859207', '29.9974'], ['120.8591', '29.997089'], ['120.859077', '29.997013'], ['120.858887', '29.99642'], ['120.858734', '29.995951'], ['120.858604', '29.995516'], ['120.858566', '29.995405'], ['120.858482', '29.995142'], ['120.858376', '29.994835'], ['120.858192', '29.994293'], ['120.858025', '29.993811'], ['120.857727', '29.99283'], ['120.857674', '29.992674'], ['120.857567', '29.992287'], ['120.857033', '29.990688'], ['120.856705', '29.989918'], ['120.856506', '29.989523'], ['120.856468', '29.989405'], ['120.855965', '29.988333'], ['120.855423', '29.987244'], ['120.85453', '29.985422'], ['120.854454', '29.985237'], ['120.853378', '29.982973'], ['120.853264', '29.982733'], ['120.852913', '29.981991'], ['120.852783', '29.981731'], ['120.852768', '29.981689'], ['120.852043', '29.9802'], ['120.851341', '29.978706'], ['120.850616', '29.977131'], ['120.850365', '29.976606'], ['120.850197', '29.976244'], ['120.849823', '29.975456'], ['120.849609', '29.974987'], ['120.849503', '29.974752'], ['120.849503', '29.974752'], ['120.849297', '29.974762'], ['120.849144', '29.974783'], ['120.848099', '29.975538'], ['120.848099', '29.975538'], ['120.847748', '29.975742'], ['120.847404', '29.975943'], ['120.847404', '29.975943'], ['120.847084', '29.976171'], ['120.846588', '29.976484'], ['120.84639', '29.97658'], ['120.846153', '29.976671'], ['120.845909', '29.97673'], ['120.845749', '29.976753'], ['120.845589', '29.976767'], ['120.845367', '29.976767'], ['120.844933', '29.97674'], ['120.844574', '29.976721'], ['120.844322', '29.976721'], ['120.844002', '29.976744'], ['120.843765', '29.976789'], ['120.843529', '29.976849'], ['120.843307', '29.976917'], ['120.843185', '29.976967'], ['120.842957', '29.977072'], ['120.842392', '29.977386'], ['120.841225', '29.978298'], ['120.837013', '29.981689'], ['120.833946', '29.984154'], ['120.833252', '29.984739'], ['120.831909', '29.985924'], ['120.830818', '29.98694'], ['120.829025', '29.98871'], ['120.828148', '29.989635'], ['120.82795', '29.989878'], ['120.827637', '29.990213'], ['120.826897', '29.990997'], ['120.826141', '29.991858'], ['120.825607', '29.992445'], ['120.825386', '29.992674'], ['120.825134', '29.992929'], ['120.824265', '29.99382'], ['120.823624', '29.994431'], ['120.822685', '29.995287'], ['120.822388', '29.995529'], ['120.821083', '29.996632'], ['120.820549', '29.997089'], ['120.820091', '29.997454'], ['120.819366', '29.998013'], ['120.818153', '29.998888'], ['120.817139', '29.999586'], ['120.816063', '30.000296'], ['120.815468', '30.000669'], ['120.814255', '30.001385'], ['120.810242', '30.003658'], ['120.810158', '30.003706'], ['120.808998', '30.004417'], ['120.807632', '30.005295'], ['120.80645', '30.006128'], ['120.805664', '30.006706'], ['120.805656', '30.006716'], ['120.804901', '30.007299'], ['120.80394', '30.008074'], ['120.80294', '30.008934'], ['120.802216', '30.009596'], ['120.800606', '30.011089'], ['120.797386', '30.014084'], ['120.796783', '30.014648'], ['120.794548', '30.016722'], ['120.791786', '30.019289'], ['120.790825', '30.020205'], ['120.790108', '30.020956'], ['120.789627', '30.021515'], ['120.789383', '30.021799'], ['120.788864', '30.022486'], ['120.788383', '30.023178'], ['120.787834', '30.024063'], ['120.787369', '30.024908'], ['120.787033', '30.025633'], ['120.786934', '30.02586'], ['120.786522', '30.026894'], ['120.786301', '30.027586'], ['120.786072', '30.028547'], ['120.785934', '30.029154'], ['120.785866', '30.02961'], ['120.785789', '30.030123'], ['120.785713', '30.030828'], ['120.785683', '30.031248'], ['120.785645', '30.032187'], ['120.785667', '30.032915'], ['120.785744', '30.033884'], ['120.785805', '30.034317'], ['120.785965', '30.035278'], ['120.786057', '30.035683'], ['120.786293', '30.036598'], ['120.786293', '30.036617'], ['120.786392', '30.036909'], ['120.78672', '30.037865'], ['120.787979', '30.040873'], ['120.788292', '30.041662'], ['120.788597', '30.042492'], ['120.788734', '30.042946'], ['120.788887', '30.043411'], ['120.788971', '30.043707'], ['120.789085', '30.044125'], ['120.789261', '30.044977'], ['120.789421', '30.045856'], ['120.789505', '30.046524'], ['120.789612', '30.047583'], ['120.789612', '30.047604'], ['120.789635', '30.048243'], ['120.789635', '30.049154'], ['120.789627', '30.049809'], ['120.789574', '30.05055'], ['120.789513', '30.051102'], ['120.789421', '30.051826'], ['120.78933', '30.052309'], ['120.789261', '30.052752'], ['120.78907', '30.053616'], ['120.788872', '30.054358'], ['120.788521', '30.055525'], ['120.788231', '30.056467'], ['120.787628', '30.058346'], ['120.787628', '30.058346'], ['120.787636', '30.058485'], ['120.787605', '30.058594'], ['120.787483', '30.059103'], ['120.787399', '30.059475'], ['120.787155', '30.060492'], ['120.786995', '30.061125'], ['120.786606', '30.062378'], ['120.786606', '30.062378'], ['120.786507', '30.063074'], ['120.786491', '30.063419'], ['120.786514', '30.064016'], ['120.786552', '30.064219'], ['120.786652', '30.064657'], ['120.78688', '30.06547'], ['120.786957', '30.065825'], ['120.786995', '30.066029'], ['120.787003', '30.066372'], ['120.786957', '30.066658'], ['120.786896', '30.066893'], ['120.786835', '30.067085'], ['120.786713', '30.06736'], ['120.786552', '30.067627'], ['120.7864', '30.067808'], ['120.78611', '30.068098'], ['120.785965', '30.068216'], ['120.785637', '30.068434'], ['120.785484', '30.06852'], ['120.785179', '30.068651'], ['120.784851', '30.06875'], ['120.784508', '30.068821'], ['120.784256', '30.06885'], ['120.783691', '30.068838'], ['120.783661', '30.068838'], ['120.783424', '30.068808'], ['120.783188', '30.068758'], ['120.782921', '30.06868'], ['120.78241', '30.068464'], ['120.781479', '30.067995'], ['120.781052', '30.067839'], ['120.780777', '30.067764'], ['120.780472', '30.067705'], ['120.780174', '30.067669'], ['120.779625', '30.067652'], ['120.779366', '30.067669'], ['120.778702', '30.067678'], ['120.77758', '30.067722'], ['120.774925', '30.067865'], ['120.773163', '30.068056'], ['120.772346', '30.068146'], ['120.770554', '30.068243'], ['120.769402', '30.068401'], ['120.766914', '30.068802'], ['120.766045', '30.068924'], ['120.76432', '30.069145'], ['120.762497', '30.069317'], ['120.761719', '30.069384'], ['120.761414', '30.069401'], ['120.759727', '30.069494'], ['120.757034', '30.069578'], ['120.755119', '30.069632'], ['120.754265', '30.069649'], ['120.752617', '30.0697'], ['120.742256', '30.06999'], ['120.739738', '30.070061'], ['120.737274', '30.070133'], ['120.736954', '30.070147'], ['120.736053', '30.070177'], ['120.733803', '30.070286'], ['120.732101', '30.070429'], ['120.728828', '30.070803'], ['120.726128', '30.071201'], ['120.723244', '30.071758'], ['120.721741', '30.072088'], ['120.719749', '30.072565'], ['120.717781', '30.073097'], ['120.717422', '30.073191'], ['120.715797', '30.073668'], ['120.71331', '30.074467'], ['120.71032', '30.07552'], ['120.708076', '30.076384'], ['120.705956', '30.077286'], ['120.704727', '30.077822'], ['120.703339', '30.07848'], ['120.700638', '30.079809'], ['120.699593', '30.080341'], ['120.699181', '30.080564'], ['120.698746', '30.080797'], ['120.695961', '30.082344'], ['120.695793', '30.082436'], ['120.686935', '30.087364'], ['120.68573', '30.088015'], ['120.684036', '30.088881'], ['120.683159', '30.089312'], ['120.681931', '30.089882'], ['120.680496', '30.090508'], ['120.678802', '30.091208'], ['120.677917', '30.091549'], ['120.67765', '30.091654'], ['120.676117', '30.092222'], ['120.674026', '30.092924'], ['120.673828', '30.092981'], ['120.672913', '30.093269'], ['120.67144', '30.093702'], ['120.670219', '30.094027'], ['120.667259', '30.094744'], ['120.665619', '30.095091'], ['120.664597', '30.095282'], ['120.656883', '30.096619'], ['120.652214', '30.097435'], ['120.651855', '30.097496'], ['120.651253', '30.097591'], ['120.647377', '30.098333'], ['120.647034', '30.098406'], ['120.646667', '30.09848'], ['120.645531', '30.098734'], ['120.643051', '30.099318'], ['120.640038', '30.100113'], ['120.637878', '30.100725'], ['120.63665', '30.101093'], ['120.635048', '30.10161'], ['120.632889', '30.102341'], ['120.632317', '30.102539'], ['120.629883', '30.103382'], ['120.629082', '30.103653'], ['120.627235', '30.104294'], ['120.62384', '30.105482'], ['120.622025', '30.106146'], ['120.621239', '30.106453'], ['120.619751', '30.107058'], ['120.618843', '30.107441'], ['120.617851', '30.107868'], ['120.616997', '30.108259'], ['120.616623', '30.108438'], ['120.616623', '30.108438'], ['120.616249', '30.108707'], ['120.614845', '30.109423'], ['120.614464', '30.109663'], ['120.614273', '30.109804'], ['120.614143', '30.109932'], ['120.614037', '30.11009'], ['120.614006', '30.110161'], ['120.613983', '30.110247'], ['120.613976', '30.110346'], ['120.613983', '30.110443'], ['120.614029', '30.110529'], ['120.61409', '30.11062'], ['120.614143', '30.110664'], ['120.614204', '30.110693'], ['120.614319', '30.110746'], ['120.614433', '30.110764'], ['120.614548', '30.110756'], ['120.614677', '30.110716'], ['120.614761', '30.110661'], ['120.614845', '30.110596'], ['120.614914', '30.110487'], ['120.614967', '30.110373'], ['120.61499', '30.110277'], ['120.614998', '30.110147'], ['120.614975', '30.109987'], ['120.614944', '30.109896'], ['120.614891', '30.109783'], ['120.614723', '30.109436'], ['120.614655', '30.109322'], ['120.614388', '30.108898'], ['120.614143', '30.10858'], ['120.61409', '30.108511'], ['120.613792', '30.108212'], ['120.613541', '30.108034'], ['120.612709', '30.107445'], ['120.612709', '30.107445'], ['120.61245', '30.107271'], ['120.611786', '30.106762'], ['120.611679', '30.106693'], ['120.611526', '30.106544'], ['120.611046', '30.106066'], ['120.610741', '30.105728'], ['120.610397', '30.10533'], ['120.610184', '30.105049'], ['120.609772', '30.104435'], ['120.609589', '30.104124'], ['120.609344', '30.103659'], ['120.609161', '30.103247'], ['120.608978', '30.102768'], ['120.608948', '30.102686'], ['120.60891', '30.102539'], ['120.608765', '30.102022'], ['120.608681', '30.101654'], ['120.608505', '30.100569'], ['120.608376', '30.099752'], ['120.60817', '30.098503'], ['120.607994', '30.097382'], ['120.60791', '30.096905'], ['120.60778', '30.096128'], ['120.607407', '30.094227'], ['120.607254', '30.093597'], ['120.607132', '30.093529'], ['120.606918', '30.09259'], ['120.606766', '30.09194'], ['120.606667', '30.091549'], ['120.606514', '30.090906'], ['120.606293', '30.090031'], ['120.606133', '30.089367'], ['120.605713', '30.0875'], ['120.605629', '30.087162'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.624367', '30.083174'], ['120.62542', '30.082878'], ['120.628021', '30.082172'], ['120.629082', '30.081875'], ['120.629395', '30.081772'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>