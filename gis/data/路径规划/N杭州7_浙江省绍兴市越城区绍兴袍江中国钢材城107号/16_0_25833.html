<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.859879', '30.002977'], ['120.860199', '30.002934'], ['120.860199', '30.002934'], ['120.860168', '30.003658'], ['120.860153', '30.004021'], ['120.860123', '30.004648'], ['120.860092', '30.005251'], ['120.860077', '30.005434'], ['120.860069', '30.006071'], ['120.860054', '30.006262'], ['120.859985', '30.008087'], ['120.859947', '30.008881'], ['120.859909', '30.009544'], ['120.859886', '30.010132'], ['120.85984', '30.011084'], ['120.859833', '30.011358'], ['120.859795', '30.011818'], ['120.859741', '30.012369'], ['120.859741', '30.012453'], ['120.857796', '30.012392'], ['120.856712', '30.012356'], ['120.856087', '30.012335'], ['120.854904', '30.012308'], ['120.854454', '30.012291'], ['120.85421', '30.0123'], ['120.853592', '30.0124'], ['120.852524', '30.012587'], ['120.851692', '30.01273'], ['120.850945', '30.012865'], ['120.849609', '30.013096'], ['120.849411', '30.013134'], ['120.848701', '30.013264'], ['120.847664', '30.013456'], ['120.847061', '30.013565'], ['120.846924', '30.013584'], ['120.846718', '30.01362'], ['120.844482', '30.014021'], ['120.842384', '30.0144'], ['120.840988', '30.014648'], ['120.840508', '30.01473'], ['120.839287', '30.01495'], ['120.83725', '30.015308'], ['120.836494', '30.015451'], ['120.836311', '30.015482'], ['120.835457', '30.015638'], ['120.833389', '30.01602'], ['120.832161', '30.016233'], ['120.832047', '30.016249'], ['120.830589', '30.01652'], ['120.828148', '30.016958'], ['120.827698', '30.017063'], ['120.827637', '30.017076'], ['120.827255', '30.017178'], ['120.826309', '30.017483'], ['120.825943', '30.017632'], ['120.825287', '30.017939'], ['120.825066', '30.018051'], ['120.824158', '30.018576'], ['120.823883', '30.018747'], ['120.823486', '30.01898'], ['120.823067', '30.019218'], ['120.822311', '30.019667'], ['120.820976', '30.02046'], ['120.820923', '30.020496'], ['120.819359', '30.021416'], ['120.818718', '30.021799'], ['120.818153', '30.022154'], ['120.817802', '30.022348'], ['120.817146', '30.022734'], ['120.816963', '30.022842'], ['120.816597', '30.023046'], ['120.815086', '30.023949'], ['120.814606', '30.024231'], ['120.813698', '30.024765'], ['120.812981', '30.025187'], ['120.812233', '30.025633'], ['120.811111', '30.026299'], ['120.810234', '30.026804'], ['120.809387', '30.027296'], ['120.808701', '30.027704'], ['120.805855', '30.029327'], ['120.805664', '30.02943'], ['120.805313', '30.029613'], ['120.804581', '30.029961'], ['120.803513', '30.030418'], ['120.802841', '30.030668'], ['120.802208', '30.030893'], ['120.801277', '30.031189'], ['120.80024', '30.031475'], ['120.79982', '30.031576'], ['120.799683', '30.031616'], ['120.799126', '30.031731'], ['120.797958', '30.032019'], ['120.79763', '30.032114'], ['120.797012', '30.032322'], ['120.796562', '30.032522'], ['120.796371', '30.032627'], ['120.795982', '30.032887'], ['120.795654', '30.033133'], ['120.795593', '30.033178'], ['120.793884', '30.034649'], ['120.793221', '30.035204'], ['120.792717', '30.035601'], ['120.791481', '30.036497'], ['120.791481', '30.036497'], ['120.791306', '30.036617'], ['120.790916', '30.036888'], ['120.790092', '30.037508'], ['120.789841', '30.037704'], ['120.789536', '30.037937'], ['120.789215', '30.038174'], ['120.788857', '30.038406'], ['120.788513', '30.038593'], ['120.788071', '30.038807'], ['120.787743', '30.038942'], ['120.786736', '30.039293'], ['120.786362', '30.039436'], ['120.78614', '30.039536'], ['120.785896', '30.039675'], ['120.785683', '30.039818'], ['120.785355', '30.040073'], ['120.78521', '30.040209'], ['120.785034', '30.040396'], ['120.784821', '30.040668'], ['120.78466', '30.040916'], ['120.784477', '30.041254'], ['120.784256', '30.041719'], ['120.783752', '30.042856'], ['120.783691', '30.042999'], ['120.78363', '30.043125'], ['120.783363', '30.043638'], ['120.783218', '30.043848'], ['120.783073', '30.044035'], ['120.782867', '30.044266'], ['120.782661', '30.044466'], ['120.782234', '30.044809'], ['120.780037', '30.046329'], ['120.778488', '30.047409'], ['120.778198', '30.047604'], ['120.777779', '30.047892'], ['120.777412', '30.048107'], ['120.777245', '30.048195'], ['120.776917', '30.048342'], ['120.776428', '30.048489'], ['120.776131', '30.048565'], ['120.775528', '30.048676'], ['120.775429', '30.048676'], ['120.773567', '30.048502'], ['120.772232', '30.048321'], ['120.77182', '30.048285'], ['120.771332', '30.048298'], ['120.770958', '30.048328'], ['120.770561', '30.048397'], ['120.770126', '30.048525'], ['120.76886', '30.04903'], ['120.766846', '30.049887'], ['120.765793', '30.050333'], ['120.764206', '30.051003'], ['120.76368', '30.051216'], ['120.762352', '30.051754'], ['120.761719', '30.05201'], ['120.760544', '30.05249'], ['120.759964', '30.052729'], ['120.75753', '30.05372'], ['120.755859', '30.053949'], ['120.755241', '30.053984'], ['120.754997', '30.05398'], ['120.754257', '30.053928'], ['120.75322', '30.053829'], ['120.752975', '30.053785'], ['120.750061', '30.053137'], ['120.748207', '30.052723'], ['120.744896', '30.052017'], ['120.743355', '30.051689'], ['120.742722', '30.051554'], ['120.742531', '30.051533'], ['120.742386', '30.051529'], ['120.741867', '30.051554'], ['120.740517', '30.051626'], ['120.739738', '30.051699'], ['120.737579', '30.051889'], ['120.733047', '30.052378'], ['120.732155', '30.052517'], ['120.730553', '30.052799'], ['120.728905', '30.053282'], ['120.727806', '30.053642'], ['120.726311', '30.05415'], ['120.725624', '30.054367'], ['120.724792', '30.054535'], ['120.72464', '30.054575'], ['120.723419', '30.05468'], ['120.72197', '30.054777'], ['120.719704', '30.054878'], ['120.717781', '30.054996'], ['120.715912', '30.055109'], ['120.712593', '30.055256'], ['120.712593', '30.055256'], ['120.712166', '30.055487'], ['120.712029', '30.055582'], ['120.711861', '30.055855'], ['120.711533', '30.056311'], ['120.711281', '30.056622'], ['120.711113', '30.056801'], ['120.710808', '30.057096'], ['120.710571', '30.057308'], ['120.71019', '30.057617'], ['120.709839', '30.057846'], ['120.709396', '30.058107'], ['120.708939', '30.058329'], ['120.708435', '30.058542'], ['120.708305', '30.058594'], ['120.708054', '30.058685'], ['120.707726', '30.058781'], ['120.707397', '30.058857'], ['120.704231', '30.059498'], ['120.70182', '30.059965'], ['120.700066', '30.060318'], ['120.696877', '30.060984'], ['120.696617', '30.061043'], ['120.695793', '30.06122'], ['120.693634', '30.06172'], ['120.690453', '30.062487'], ['120.68779', '30.063173'], ['120.687218', '30.063324'], ['120.684296', '30.064079'], ['120.683578', '30.064266'], ['120.682388', '30.064568'], ['120.681999', '30.064667'], ['120.681244', '30.064861'], ['120.679794', '30.065237'], ['120.678894', '30.06547'], ['120.678528', '30.065569'], ['120.677795', '30.06576'], ['120.676674', '30.066055'], ['120.675468', '30.066362'], ['120.674309', '30.066668'], ['120.674004', '30.066744'], ['120.673828', '30.066793'], ['120.673424', '30.066902'], ['120.672363', '30.067179'], ['120.671272', '30.067495'], ['120.671097', '30.067556'], ['120.669777', '30.067915'], ['120.669273', '30.06805'], ['120.668648', '30.068224'], ['120.665916', '30.068962'], ['120.663681', '30.069578'], ['120.661903', '30.070082'], ['120.659828', '30.070669'], ['120.658791', '30.070965'], ['120.658691', '30.07099'], ['120.657593', '30.071299'], ['120.656235', '30.071726'], ['120.654877', '30.072149'], ['120.651855', '30.073092'], ['120.651527', '30.073196'], ['120.651482', '30.073202'], ['120.648567', '30.074127'], ['120.64698', '30.074657'], ['120.645554', '30.075191'], ['120.644089', '30.075783'], ['120.643394', '30.07608'], ['120.643333', '30.076107'], ['120.641891', '30.076744'], ['120.640427', '30.0774'], ['120.634598', '30.080004'], ['120.633461', '30.080479'], ['120.633255', '30.080564'], ['120.632904', '30.080708'], ['120.63179', '30.081133'], ['120.63118', '30.081347'], ['120.629883', '30.081776'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>