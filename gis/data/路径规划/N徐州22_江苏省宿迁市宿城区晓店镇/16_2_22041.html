<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.272888', '33.931419'], ['118.272827', '33.931316'], ['118.272621', '33.931107'], ['118.272621', '33.931107'], ['118.268867', '33.931129'], ['118.268349', '33.93111'], ['118.268349', '33.93111'], ['118.268364', '33.932468'], ['118.268394', '33.934471'], ['118.268394', '33.934471'], ['118.268921', '33.934467'], ['118.270683', '33.934437'], ['118.271736', '33.934414'], ['118.272987', '33.93441'], ['118.27314', '33.934406'], ['118.27314', '33.934883'], ['118.273148', '33.935978'], ['118.273148', '33.936634'], ['118.273148', '33.936699'], ['118.273148', '33.936768'], ['118.273148', '33.937321'], ['118.273155', '33.938652'], ['118.273163', '33.939346'], ['118.273163', '33.940083'], ['118.273163', '33.94091'], ['118.273163', '33.941711'], ['118.27317', '33.941757'], ['118.274017', '33.941765'], ['118.276077', '33.941822'], ['118.277367', '33.941822'], ['118.277565', '33.941895'], ['118.277588', '33.942841'], ['118.277618', '33.943523'], ['118.277664', '33.945023'], ['118.277672', '33.945312'], ['118.277695', '33.946056'], ['118.277733', '33.946972'], ['118.27774', '33.947224'], ['118.277771', '33.94775'], ['118.277802', '33.94825'], ['118.277802', '33.948341'], ['118.277847', '33.94912'], ['118.277855', '33.949207'], ['118.277878', '33.949409'], ['118.277977', '33.950439'], ['118.278053', '33.951317'], ['118.27816', '33.952374'], ['118.27832', '33.953957'], ['118.278336', '33.954166'], ['118.278374', '33.954491'], ['118.278442', '33.955193'], ['118.278488', '33.955589'], ['118.278519', '33.955841'], ['118.278648', '33.957253'], ['118.278763', '33.958363'], ['118.278801', '33.958736'], ['118.278809', '33.958893'], ['118.278809', '33.958958'], ['118.278854', '33.959366'], ['118.278877', '33.959454'], ['118.278915', '33.959805'], ['118.279037', '33.961033'], ['118.279091', '33.961559'], ['118.279152', '33.962227'], ['118.279251', '33.963173'], ['118.279358', '33.964188'], ['118.279556', '33.966255'], ['118.279869', '33.969372'], ['118.279877', '33.96944'], ['118.2799', '33.969727'], ['118.280083', '33.971352'], ['118.280083', '33.971668'], ['118.28009', '33.971855'], ['118.280144', '33.972252'], ['118.280304', '33.973866'], ['118.280327', '33.974079'], ['118.280525', '33.976101'], ['118.280586', '33.976715'], ['118.2808', '33.978603'], ['118.280922', '33.979321'], ['118.281059', '33.980045'], ['118.281219', '33.980713'], ['118.281242', '33.980782'], ['118.28157', '33.981915'], ['118.281807', '33.982578'], ['118.282372', '33.9841'], ['118.2827', '33.985023'], ['118.284302', '33.989384'], ['118.285156', '33.991699'], ['118.285576', '33.992832'], ['118.286514', '33.995354'], ['118.286842', '33.996315'], ['118.286842', '33.996315'], ['118.286957', '33.99649'], ['118.287033', '33.996544'], ['118.287086', '33.99659'], ['118.287239', '33.996651'], ['118.288193', '33.996559'], ['118.289612', '33.996422'], ['118.290909', '33.996281'], ['118.291199', '33.996246'], ['118.291267', '33.996243'], ['118.292931', '33.996105'], ['118.295425', '33.995834'], ['118.297958', '33.995586'], ['118.299324', '33.995457'], ['118.299828', '33.995407'], ['118.300781', '33.995319'], ['118.302681', '33.995136'], ['118.303459', '33.995064'], ['118.304611', '33.994957'], ['118.304649', '33.995014'], ['118.304916', '33.996155'], ['118.305283', '33.99773'], ['118.30545', '33.998447'], ['118.305504', '33.998714'], ['118.305695', '33.999538'], ['118.306084', '34.001129'], ['118.306183', '34.001797'], ['118.306305', '34.002682'], ['118.306381', '34.003349'], ['118.306496', '34.004395'], ['118.306496', '34.004395'], ['118.311043', '34.003902'], ['118.313019', '34.003677'], ['118.313469', '34.003628'], ['118.315887', '34.003315'], ['118.316124', '34.00325'], ['118.316597', '34.003067'], ['118.31707', '34.002911'], ['118.31707', '34.002911'], ['118.317101', '34.002983'], ['118.3172', '34.003105'], ['118.317245', '34.003174'], ['118.317459', '34.003357'], ['118.31942', '34.004913'], ['118.319931', '34.005322'], ['118.319931', '34.005322'], ['118.322754', '34.007526'], ['118.323448', '34.008083'], ['118.324074', '34.008629'], ['118.32489', '34.00938'], ['118.325325', '34.009876'], ['118.326569', '34.011051'], ['118.32814', '34.012524'], ['118.329094', '34.013309'], ['118.329529', '34.013672'], ['118.332458', '34.016106'], ['118.338135', '34.02079'], ['118.339287', '34.021767'], ['118.339546', '34.021973'], ['118.339638', '34.022068'], ['118.33976', '34.022121'], ['118.339325', '34.024658'], ['118.33889', '34.027229'], ['118.338364', '34.030254'], ['118.337936', '34.032803'], ['118.337547', '34.035133'], ['118.337448', '34.035641'], ['118.3368', '34.039467'], ['118.336784', '34.039558'], ['118.33625', '34.042736'], ['118.335869', '34.044987'], ['118.335571', '34.046627'], ['118.335487', '34.047195'], ['118.335083', '34.049541'], ['118.334122', '34.055157'], ['118.333763', '34.057308'], ['118.33371', '34.057617'], ['118.333588', '34.058407'], ['118.33345', '34.059814'], ['118.333344', '34.059814'], ['118.33123', '34.059982'], ['118.328568', '34.060173'], ['118.327972', '34.060223'], ['118.327332', '34.060268'], ['118.325508', '34.060406'], ['118.322754', '34.060577'], ['118.322174', '34.060612'], ['118.320396', '34.060757'], ['118.318642', '34.060875'], ['118.318497', '34.060936'], ['118.318306', '34.060963'], ['118.3181', '34.061008'], ['118.316589', '34.061337'], ['118.315842', '34.061508'], ['118.315102', '34.061646'], ['118.313705', '34.061966'], ['118.313271', '34.06208'], ['118.313095', '34.062145'], ['118.312767', '34.06229'], ['118.312706', '34.062317'], ['118.312126', '34.062611'], ['118.310745', '34.063339'], ['118.309677', '34.063931'], ['118.308266', '34.064701'], ['118.30777', '34.06493'], ['118.307388', '34.065086'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>