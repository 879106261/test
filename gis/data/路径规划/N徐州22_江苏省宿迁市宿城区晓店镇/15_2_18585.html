<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.272888', '33.931419'], ['118.272827', '33.931316'], ['118.272621', '33.931107'], ['118.272621', '33.931107'], ['118.268867', '33.931129'], ['118.268349', '33.93111'], ['118.265366', '33.930901'], ['118.263458', '33.930763'], ['118.262756', '33.930714'], ['118.262756', '33.930714'], ['118.262527', '33.930813'], ['118.262329', '33.930935'], ['118.262276', '33.931019'], ['118.262169', '33.931248'], ['118.262436', '33.933838'], ['118.262505', '33.93457'], ['118.262619', '33.935822'], ['118.262726', '33.936768'], ['118.262779', '33.937355'], ['118.262878', '33.938232'], ['118.262932', '33.938812'], ['118.263084', '33.940411'], ['118.263092', '33.940456'], ['118.26326', '33.942093'], ['118.263283', '33.942314'], ['118.263298', '33.942417'], ['118.26339', '33.943432'], ['118.263451', '33.944016'], ['118.263504', '33.944546'], ['118.263557', '33.945061'], ['118.263763', '33.947205'], ['118.263824', '33.94775'], ['118.263885', '33.948288'], ['118.263908', '33.948521'], ['118.264', '33.949528'], ['118.264', '33.949593'], ['118.264153', '33.950939'], ['118.264168', '33.951157'], ['118.264229', '33.951664'], ['118.264259', '33.952026'], ['118.26442', '33.953644'], ['118.264359', '33.953651'], ['118.263138', '33.953846'], ['118.261932', '33.954052'], ['118.261345', '33.954159'], ['118.260712', '33.954262'], ['118.258278', '33.954693'], ['118.258278', '33.954693'], ['118.258026', '33.954891'], ['118.257935', '33.955101'], ['118.257935', '33.956348'], ['118.257973', '33.957249'], ['118.258034', '33.958057'], ['118.258118', '33.958679'], ['118.258125', '33.958736'], ['118.258247', '33.959366'], ['118.258408', '33.960094'], ['118.258476', '33.9604'], ['118.258575', '33.960743'], ['118.258621', '33.960857'], ['118.258713', '33.961243'], ['118.258919', '33.962143'], ['118.258995', '33.962627'], ['118.259094', '33.963234'], ['118.259148', '33.963619'], ['118.25927', '33.964264'], ['118.259346', '33.964596'], ['118.259422', '33.964985'], ['118.259628', '33.965885'], ['118.259903', '33.966904'], ['118.260139', '33.967705'], ['118.260605', '33.969032'], ['118.26088', '33.969727'], ['118.260895', '33.969784'], ['118.261032', '33.9701'], ['118.261055', '33.970169'], ['118.261192', '33.970486'], ['118.262596', '33.973972'], ['118.262962', '33.974846'], ['118.263062', '33.975105'], ['118.263107', '33.975216'], ['118.263184', '33.975391'], ['118.26326', '33.975601'], ['118.263481', '33.976128'], ['118.263626', '33.976517'], ['118.263924', '33.97723'], ['118.265335', '33.980713'], ['118.266281', '33.983059'], ['118.268356', '33.988182'], ['118.269104', '33.990013'], ['118.269501', '33.990921'], ['118.269867', '33.991699'], ['118.270012', '33.991985'], ['118.270691', '33.993229'], ['118.271141', '33.993961'], ['118.271599', '33.994678'], ['118.271759', '33.994957'], ['118.272499', '33.995964'], ['118.273056', '33.996685'], ['118.273529', '33.997284'], ['118.27446', '33.998375'], ['118.274605', '33.99852'], ['118.27475', '33.998672'], ['118.274857', '33.998798'], ['118.275055', '33.999001'], ['118.275253', '33.999207'], ['118.275368', '33.999313'], ['118.277725', '34.001637'], ['118.278397', '34.002354'], ['118.278587', '34.002567'], ['118.278641', '34.002636'], ['118.278679', '34.002682'], ['118.278809', '34.002872'], ['118.278969', '34.003105'], ['118.279381', '34.003693'], ['118.279488', '34.00386'], ['118.279686', '34.004288'], ['118.279877', '34.004753'], ['118.279984', '34.005081'], ['118.280083', '34.005459'], ['118.280174', '34.00613'], ['118.280205', '34.006466'], ['118.280197', '34.007797'], ['118.280197', '34.007797'], ['118.282242', '34.007702'], ['118.283813', '34.007568'], ['118.286545', '34.007198'], ['118.286674', '34.007183'], ['118.287857', '34.007019'], ['118.288765', '34.006863'], ['118.29232', '34.006115'], ['118.293411', '34.005898'], ['118.293488', '34.00592'], ['118.2939', '34.007797'], ['118.29406', '34.008499'], ['118.294327', '34.009708'], ['118.29454', '34.010605'], ['118.294632', '34.011021'], ['118.295113', '34.013149'], ['118.295135', '34.013248'], ['118.295235', '34.013672'], ['118.295517', '34.014935'], ['118.295586', '34.015209'], ['118.295586', '34.015236'], ['118.29567', '34.015629'], ['118.296181', '34.017845'], ['118.296394', '34.018776'], ['118.296692', '34.020096'], ['118.296944', '34.021236'], ['118.296959', '34.02129'], ['118.297203', '34.022369'], ['118.297714', '34.024658'], ['118.298676', '34.028893'], ['118.300179', '34.03558'], ['118.300194', '34.035641'], ['118.300377', '34.036476'], ['118.300385', '34.036526'], ['118.300468', '34.036861'], ['118.300652', '34.037651'], ['118.300781', '34.038242'], ['118.301544', '34.041626'], ['118.301567', '34.041687'], ['118.301796', '34.042694'], ['118.302002', '34.043617'], ['118.302048', '34.043812'], ['118.302063', '34.043877'], ['118.302208', '34.044582'], ['118.302315', '34.04509'], ['118.302658', '34.046627'], ['118.303253', '34.049232'], ['118.303467', '34.05022'], ['118.30352', '34.050533'], ['118.304077', '34.054054'], ['118.304451', '34.056324'], ['118.304611', '34.057468'], ['118.304642', '34.057617'], ['118.304924', '34.059414'], ['118.305069', '34.060375'], ['118.305153', '34.060863'], ['118.305496', '34.063015'], ['118.305664', '34.06395'], ['118.305847', '34.064575'], ['118.305908', '34.064735'], ['118.306259', '34.065517'], ['118.306259', '34.065517'], ['118.307365', '34.06506'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>