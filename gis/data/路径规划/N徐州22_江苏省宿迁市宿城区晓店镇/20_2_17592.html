<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.272888', '33.931419'], ['118.272827', '33.931316'], ['118.272621', '33.931107'], ['118.272621', '33.931107'], ['118.268867', '33.931129'], ['118.268349', '33.93111'], ['118.268349', '33.93111'], ['118.268364', '33.932468'], ['118.268394', '33.934471'], ['118.268433', '33.936768'], ['118.268463', '33.937538'], ['118.268486', '33.938728'], ['118.268486', '33.938728'], ['118.268837', '33.938725'], ['118.269218', '33.938721'], ['118.271805', '33.938671'], ['118.272995', '33.938652'], ['118.273155', '33.938652'], ['118.274757', '33.938622'], ['118.275085', '33.938606'], ['118.276054', '33.938606'], ['118.277237', '33.938564'], ['118.277428', '33.93858'], ['118.277473', '33.939514'], ['118.277481', '33.939774'], ['118.277519', '33.940506'], ['118.277534', '33.940968'], ['118.277573', '33.941818'], ['118.277565', '33.941895'], ['118.277588', '33.942841'], ['118.277618', '33.943523'], ['118.277664', '33.945023'], ['118.277672', '33.945312'], ['118.277695', '33.946056'], ['118.277733', '33.946972'], ['118.27774', '33.947224'], ['118.277771', '33.94775'], ['118.277802', '33.94825'], ['118.277802', '33.948341'], ['118.277847', '33.94912'], ['118.277855', '33.949207'], ['118.277878', '33.949409'], ['118.277977', '33.950439'], ['118.278053', '33.951317'], ['118.27816', '33.952374'], ['118.27832', '33.953957'], ['118.278336', '33.954166'], ['118.278374', '33.954491'], ['118.278442', '33.955193'], ['118.278488', '33.955589'], ['118.278519', '33.955841'], ['118.278648', '33.957253'], ['118.278763', '33.958363'], ['118.278801', '33.958736'], ['118.278809', '33.958893'], ['118.278809', '33.958958'], ['118.278854', '33.959366'], ['118.278877', '33.959454'], ['118.278915', '33.959805'], ['118.279037', '33.961033'], ['118.279091', '33.961559'], ['118.279152', '33.962227'], ['118.279251', '33.963173'], ['118.279358', '33.964188'], ['118.279556', '33.966255'], ['118.279869', '33.969372'], ['118.279877', '33.96944'], ['118.2799', '33.969727'], ['118.280083', '33.971352'], ['118.280083', '33.971668'], ['118.28009', '33.971855'], ['118.280144', '33.972252'], ['118.280304', '33.973866'], ['118.280327', '33.974079'], ['118.280525', '33.976101'], ['118.280586', '33.976715'], ['118.2808', '33.978603'], ['118.280922', '33.979321'], ['118.281059', '33.980045'], ['118.281219', '33.980713'], ['118.281242', '33.980782'], ['118.28157', '33.981915'], ['118.281807', '33.982578'], ['118.282372', '33.9841'], ['118.2827', '33.985023'], ['118.284302', '33.989384'], ['118.285156', '33.991699'], ['118.285576', '33.992832'], ['118.286514', '33.995354'], ['118.286842', '33.996315'], ['118.286949', '33.99667'], ['118.286987', '33.996777'], ['118.287003', '33.996933'], ['118.287003', '33.997082'], ['118.286972', '33.997971'], ['118.286926', '33.998684'], ['118.286919', '33.999126'], ['118.286896', '33.999538'], ['118.286865', '34.000637'], ['118.286835', '34.001785'], ['118.286812', '34.002682'], ['118.286743', '34.005096'], ['118.28669', '34.006264'], ['118.286674', '34.007183'], ['118.286674', '34.007263'], ['118.286606', '34.009659'], ['118.286568', '34.010723'], ['118.286461', '34.013657'], ['118.286461', '34.013672'], ['118.286392', '34.01643'], ['118.286392', '34.016949'], ['118.286392', '34.017006'], ['118.286415', '34.017452'], ['118.286736', '34.019577'], ['118.286972', '34.021057'], ['118.287407', '34.023949'], ['118.287521', '34.024658'], ['118.287582', '34.025055'], ['118.28759', '34.025112'], ['118.288338', '34.0298'], ['118.288498', '34.030804'], ['118.288918', '34.033489'], ['118.289017', '34.034077'], ['118.289253', '34.035641'], ['118.289421', '34.03669'], ['118.289513', '34.037258'], ['118.28952', '34.037308'], ['118.289566', '34.037613'], ['118.290184', '34.041965'], ['118.290199', '34.042027'], ['118.290512', '34.044079'], ['118.290535', '34.04414'], ['118.290955', '34.046627'], ['118.291084', '34.04739'], ['118.291229', '34.048359'], ['118.291283', '34.048786'], ['118.29129', '34.048843'], ['118.291321', '34.049129'], ['118.291771', '34.05304'], ['118.291779', '34.053097'], ['118.29184', '34.053715'], ['118.292007', '34.055515'], ['118.292198', '34.057083'], ['118.292282', '34.057617'], ['118.292412', '34.05835'], ['118.292519', '34.058876'], ['118.29261', '34.059219'], ['118.292854', '34.059925'], ['118.293007', '34.060337'], ['118.293152', '34.060669'], ['118.293358', '34.061104'], ['118.293564', '34.061493'], ['118.294167', '34.062454'], ['118.294403', '34.062794'], ['118.294792', '34.063313'], ['118.295143', '34.063747'], ['118.295395', '34.06403'], ['118.2957', '34.06435'], ['118.296127', '34.064758'], ['118.296715', '34.065273'], ['118.297081', '34.065586'], ['118.297539', '34.065926'], ['118.298134', '34.066334'], ['118.299263', '34.067081'], ['118.300003', '34.067543'], ['118.300522', '34.06786'], ['118.300522', '34.06786'], ['118.300781', '34.067768'], ['118.302086', '34.067291'], ['118.302544', '34.067108'], ['118.306152', '34.065556'], ['118.306259', '34.065517'], ['118.307365', '34.06506'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>