<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.272888', '33.931419'], ['118.272827', '33.931316'], ['118.272621', '33.931107'], ['118.272621', '33.931107'], ['118.268867', '33.931129'], ['118.268349', '33.93111'], ['118.268349', '33.93111'], ['118.268364', '33.932468'], ['118.268394', '33.934471'], ['118.268433', '33.936768'], ['118.268463', '33.937538'], ['118.268486', '33.938728'], ['118.268486', '33.938728'], ['118.268837', '33.938725'], ['118.269218', '33.938721'], ['118.271805', '33.938671'], ['118.272995', '33.938652'], ['118.273155', '33.938652'], ['118.273163', '33.939346'], ['118.273163', '33.940083'], ['118.273163', '33.94091'], ['118.273163', '33.941711'], ['118.273186', '33.941921'], ['118.273239', '33.942417'], ['118.2733', '33.943115'], ['118.273407', '33.944218'], ['118.273514', '33.945221'], ['118.273537', '33.945599'], ['118.273582', '33.946068'], ['118.273643', '33.946575'], ['118.273643', '33.946575'], ['118.274788', '33.947063'], ['118.275085', '33.947166'], ['118.27536', '33.947277'], ['118.276077', '33.947575'], ['118.276367', '33.947693'], ['118.276497', '33.94775'], ['118.276672', '33.947834'], ['118.277458', '33.948154'], ['118.277626', '33.948212'], ['118.277802', '33.948341'], ['118.277847', '33.94912'], ['118.277855', '33.949207'], ['118.277878', '33.949409'], ['118.277977', '33.950439'], ['118.278053', '33.951317'], ['118.27816', '33.952374'], ['118.27832', '33.953957'], ['118.278336', '33.954166'], ['118.278374', '33.954491'], ['118.278442', '33.955193'], ['118.278488', '33.955589'], ['118.278519', '33.955841'], ['118.278648', '33.957253'], ['118.278763', '33.958363'], ['118.278801', '33.958736'], ['118.278809', '33.958893'], ['118.278809', '33.958958'], ['118.278854', '33.959366'], ['118.278877', '33.959454'], ['118.278915', '33.959805'], ['118.279037', '33.961033'], ['118.279091', '33.961559'], ['118.279152', '33.962227'], ['118.279251', '33.963173'], ['118.279358', '33.964188'], ['118.279556', '33.966255'], ['118.279869', '33.969372'], ['118.279877', '33.96944'], ['118.2799', '33.969727'], ['118.280083', '33.971352'], ['118.280083', '33.971668'], ['118.28009', '33.971855'], ['118.280144', '33.972252'], ['118.280304', '33.973866'], ['118.280327', '33.974079'], ['118.280525', '33.976101'], ['118.280586', '33.976715'], ['118.2808', '33.978603'], ['118.280922', '33.979321'], ['118.281059', '33.980045'], ['118.281219', '33.980713'], ['118.281242', '33.980782'], ['118.28157', '33.981915'], ['118.281807', '33.982578'], ['118.282372', '33.9841'], ['118.2827', '33.985023'], ['118.284302', '33.989384'], ['118.285156', '33.991699'], ['118.285576', '33.992832'], ['118.286514', '33.995354'], ['118.286842', '33.996315'], ['118.286842', '33.996315'], ['118.286957', '33.99649'], ['118.287033', '33.996544'], ['118.287086', '33.99659'], ['118.287239', '33.996651'], ['118.288193', '33.996559'], ['118.289612', '33.996422'], ['118.290909', '33.996281'], ['118.291199', '33.996246'], ['118.29129', '33.996357'], ['118.29184', '33.998699'], ['118.291855', '33.998764'], ['118.292122', '33.999924'], ['118.292366', '34.000992'], ['118.292747', '34.002682'], ['118.292946', '34.003548'], ['118.293488', '34.00592'], ['118.2939', '34.007797'], ['118.29406', '34.008499'], ['118.294327', '34.009708'], ['118.29454', '34.010605'], ['118.294632', '34.011021'], ['118.295113', '34.013149'], ['118.295135', '34.013248'], ['118.295235', '34.013672'], ['118.295517', '34.014935'], ['118.295586', '34.015209'], ['118.295586', '34.015236'], ['118.29567', '34.015629'], ['118.296181', '34.017845'], ['118.296394', '34.018776'], ['118.296692', '34.020096'], ['118.296944', '34.021236'], ['118.296959', '34.02129'], ['118.297203', '34.022369'], ['118.297714', '34.024658'], ['118.298676', '34.028893'], ['118.300179', '34.03558'], ['118.300194', '34.035641'], ['118.300377', '34.036476'], ['118.300385', '34.036526'], ['118.300468', '34.036861'], ['118.300652', '34.037651'], ['118.300781', '34.038242'], ['118.301544', '34.041626'], ['118.301567', '34.041687'], ['118.301796', '34.042694'], ['118.302002', '34.043617'], ['118.302048', '34.043812'], ['118.302063', '34.043877'], ['118.302208', '34.044582'], ['118.302315', '34.04509'], ['118.302658', '34.046627'], ['118.303253', '34.049232'], ['118.303467', '34.05022'], ['118.30352', '34.050533'], ['118.304077', '34.054054'], ['118.304451', '34.056324'], ['118.304611', '34.057468'], ['118.304642', '34.057617'], ['118.304924', '34.059414'], ['118.305069', '34.060375'], ['118.305153', '34.060863'], ['118.305496', '34.063015'], ['118.305664', '34.06395'], ['118.305847', '34.064575'], ['118.305908', '34.064735'], ['118.306259', '34.065517'], ['118.306259', '34.065517'], ['118.307365', '34.06506'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>