<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.144043', '41.131741'], ['121.144157', '41.132458'], ['121.144157', '41.132458'], ['121.144844', '41.132393'], ['121.145325', '41.132347'], ['121.14653', '41.132214'], ['121.146683', '41.132271'], ['121.147156', '41.132626'], ['121.147369', '41.132812'], ['121.147415', '41.132854'], ['121.14782', '41.133209'], ['121.148163', '41.133457'], ['121.148468', '41.13369'], ['121.148994', '41.13409'], ['121.149414', '41.134403'], ['121.149681', '41.134609'], ['121.150299', '41.135078'], ['121.151268', '41.135818'], ['121.152039', '41.136372'], ['121.152115', '41.136436'], ['121.152649', '41.136799'], ['121.152931', '41.136986'], ['121.153061', '41.137077'], ['121.153732', '41.137535'], ['121.154472', '41.138046'], ['121.154549', '41.138115'], ['121.154922', '41.138374'], ['121.155441', '41.138783'], ['121.155716', '41.139004'], ['121.155869', '41.139137'], ['121.156189', '41.139397'], ['121.157097', '41.140163'], ['121.157227', '41.140301'], ['121.158516', '41.141636'], ['121.158806', '41.141945'], ['121.158936', '41.142059'], ['121.159073', '41.142193'], ['121.159561', '41.142788'], ['121.159798', '41.14307'], ['121.160065', '41.143417'], ['121.160355', '41.143795'], ['121.161316', '41.145058'], ['121.161705', '41.14555'], ['121.162224', '41.146194'], ['121.162384', '41.146374'], ['121.162552', '41.146561'], ['121.162704', '41.146729'], ['121.162956', '41.146988'], ['121.16346', '41.147469'], ['121.164299', '41.148254'], ['121.164505', '41.148434'], ['121.165375', '41.149239'], ['121.165688', '41.149525'], ['121.166687', '41.150444'], ['121.166939', '41.150684'], ['121.167114', '41.150841'], ['121.167671', '41.151367'], ['121.167801', '41.151485'], ['121.167946', '41.151619'], ['121.168312', '41.151966'], ['121.16851', '41.152191'], ['121.168701', '41.15247'], ['121.168861', '41.15276'], ['121.16909', '41.15321'], ['121.169411', '41.153797'], ['121.169609', '41.154152'], ['121.169922', '41.154751'], ['121.169937', '41.154781'], ['121.170616', '41.156052'], ['121.170746', '41.156311'], ['121.170959', '41.156719'], ['121.171402', '41.157513'], ['121.171761', '41.158054'], ['121.172447', '41.158943'], ['121.172905', '41.159477'], ['121.173225', '41.159813'], ['121.173492', '41.16008'], ['121.173912', '41.160473'], ['121.174339', '41.160854'], ['121.174759', '41.161232'], ['121.174835', '41.161266'], ['121.175591', '41.161926'], ['121.175644', '41.162014'], ['121.176575', '41.162834'], ['121.176834', '41.163124'], ['121.176994', '41.163338'], ['121.177139', '41.163578'], ['121.177589', '41.16436'], ['121.178009', '41.165104'], ['121.178375', '41.165768'], ['121.178429', '41.165871'], ['121.178764', '41.166462'], ['121.178856', '41.166618'], ['121.178947', '41.166805'], ['121.179085', '41.16703'], ['121.179199', '41.167236'], ['121.179352', '41.167515'], ['121.17955', '41.167866'], ['121.180008', '41.168713'], ['121.180923', '41.170345'], ['121.181297', '41.171001'], ['121.181358', '41.171124'], ['121.181549', '41.171444'], ['121.181938', '41.172142'], ['121.182564', '41.173248'], ['121.182678', '41.173454'], ['121.182793', '41.173672'], ['121.183189', '41.174454'], ['121.183319', '41.174721'], ['121.183395', '41.174942'], ['121.183617', '41.175747'], ['121.183716', '41.176205'], ['121.183784', '41.176548'], ['121.18383', '41.176754'], ['121.183998', '41.177559'], ['121.184059', '41.177792'], ['121.184105', '41.177986'], ['121.184166', '41.178169'], ['121.184235', '41.17831'], ['121.184494', '41.178879'], ['121.184601', '41.179092'], ['121.184738', '41.179382'], ['121.185226', '41.180359'], ['121.185707', '41.181343'], ['121.186066', '41.182026'], ['121.186882', '41.183472'], ['121.187637', '41.184772'], ['121.188072', '41.185459'], ['121.189713', '41.18774'], ['121.190247', '41.188477'], ['121.191483', '41.190132'], ['121.192032', '41.190773'], ['121.192619', '41.191387'], ['121.194687', '41.193443'], ['121.195076', '41.193832'], ['121.195251', '41.194004'], ['121.195358', '41.194107'], ['121.195595', '41.194347'], ['121.19606', '41.194801'], ['121.196327', '41.195084'], ['121.197006', '41.19577'], ['121.197296', '41.196072'], ['121.198219', '41.197128'], ['121.19915', '41.198223'], ['121.199608', '41.19873'], ['121.199707', '41.198841'], ['121.200012', '41.199142'], ['121.200844', '41.199959'], ['121.201172', '41.200264'], ['121.202003', '41.201031'], ['121.202118', '41.201141'], ['121.202309', '41.201321'], ['121.202621', '41.201599'], ['121.203957', '41.202801'], ['121.205795', '41.204456'], ['121.20591', '41.204571'], ['121.206238', '41.204941'], ['121.206528', '41.205315'], ['121.206879', '41.205776'], ['121.207367', '41.206409'], ['121.208122', '41.20739'], ['121.208328', '41.207588'], ['121.208466', '41.207661'], ['121.208679', '41.207737'], ['121.208916', '41.207779'], ['121.209084', '41.207783'], ['121.209251', '41.207775'], ['121.209846', '41.207687'], ['121.210014', '41.207703'], ['121.210258', '41.207775'], ['121.210464', '41.20789'], ['121.210579', '41.207996'], ['121.21067', '41.208103'], ['121.210732', '41.208214'], ['121.211113', '41.209057'], ['121.211243', '41.209297'], ['121.211327', '41.209404'], ['121.211571', '41.209717'], ['121.211594', '41.209728'], ['121.2127', '41.210991'], ['121.214027', '41.212505'], ['121.215553', '41.214252'], ['121.216675', '41.21553'], ['121.217148', '41.216068'], ['121.218025', '41.217056'], ['121.21833', '41.217369'], ['121.219055', '41.218067'], ['121.221405', '41.220219'], ['121.221931', '41.220703'], ['121.223145', '41.221817'], ['121.223785', '41.222416'], ['121.224304', '41.222923'], ['121.22448', '41.223141'], ['121.22467', '41.2234'], ['121.22493', '41.223824'], ['121.225174', '41.224308'], ['121.226936', '41.228561'], ['121.227158', '41.229111'], ['121.227821', '41.230732'], ['121.228035', '41.231236'], ['121.228096', '41.23138'], ['121.22821', '41.231689'], ['121.228241', '41.231773'], ['121.228401', '41.232197'], ['121.229057', '41.234348'], ['121.229813', '41.236736'], ['121.230026', '41.237309'], ['121.230293', '41.237923'], ['121.230896', '41.239155'], ['121.231247', '41.239876'], ['121.231415', '41.240234'], ['121.231689', '41.240803'], ['121.231972', '41.241314'], ['121.232758', '41.242676'], ['121.233353', '41.24371'], ['121.233528', '41.243996'], ['121.233734', '41.244354'], ['121.2341', '41.245029'], ['121.234291', '41.245422'], ['121.235779', '41.248432'], ['121.236397', '41.249653'], ['121.236771', '41.250397'], ['121.236992', '41.25087'], ['121.237473', '41.252029'], ['121.237991', '41.253319'], ['121.238136', '41.253658'], ['121.238304', '41.254047'], ['121.238594', '41.254677'], ['121.238785', '41.255013'], ['121.240631', '41.258152'], ['121.241096', '41.258976'], ['121.241295', '41.25938'], ['121.241341', '41.25948'], ['121.242401', '41.261814'], ['121.243034', '41.263157'], ['121.243546', '41.26416'], ['121.243805', '41.264648'], ['121.244606', '41.266121'], ['121.245117', '41.267071'], ['121.245155', '41.267151'], ['121.245628', '41.268028'], ['121.245811', '41.268391'], ['121.245949', '41.268631'], ['121.246429', '41.26963'], ['121.24662', '41.270119'], ['121.246811', '41.270687'], ['121.247482', '41.272873'], ['121.247566', '41.273178'], ['121.247917', '41.274559'], ['121.248131', '41.275524'], ['121.248169', '41.275635'], ['121.248238', '41.275867'], ['121.248428', '41.27634'], ['121.248726', '41.27697'], ['121.248924', '41.277359'], ['121.249344', '41.278271'], ['121.249992', '41.279846'], ['121.250092', '41.28009'], ['121.250282', '41.280552'], ['121.250443', '41.280972'], ['121.250893', '41.282307'], ['121.250977', '41.282566'], ['121.251144', '41.282986'], ['121.251259', '41.283245'], ['121.252808', '41.286617'], ['121.25296', '41.286957'], ['121.253334', '41.287876'], ['121.253548', '41.288498'], ['121.253716', '41.289124'], ['121.254021', '41.290508'], ['121.254082', '41.290874'], ['121.254181', '41.291523'], ['121.254265', '41.292419'], ['121.254349', '41.293442'], ['121.254456', '41.294422'], ['121.254532', '41.294941'], ['121.254669', '41.295628'], ['121.254852', '41.296818'], ['121.254967', '41.297367'], ['121.255013', '41.297604'], ['121.255081', '41.297874'], ['121.255447', '41.299236'], ['121.25547', '41.299358'], ['121.255623', '41.299988'], ['121.255753', '41.300621'], ['121.255928', '41.302013'], ['121.256187', '41.304363'], ['121.256561', '41.306995'], ['121.256584', '41.307213'], ['121.256775', '41.308594'], ['121.256805', '41.3088'], ['121.257019', '41.310154'], ['121.257179', '41.311199'], ['121.257202', '41.311359'], ['121.257332', '41.312195'], ['121.257408', '41.312893'], ['121.257523', '41.314507'], ['121.257591', '41.31543'], ['121.257637', '41.315884'], ['121.257683', '41.316257'], ['121.257904', '41.317478'], ['121.258133', '41.318768'], ['121.25827', '41.319576'], ['121.258453', '41.320648'], ['121.258896', '41.323059'], ['121.259186', '41.324444'], ['121.259262', '41.324814'], ['121.259369', '41.324917'], ['121.259811', '41.326912'], ['121.259972', '41.32761'], ['121.260025', '41.327877'], ['121.260284', '41.329033'], ['121.26059', '41.3302'], ['121.260681', '41.330563'], ['121.260933', '41.331406']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>