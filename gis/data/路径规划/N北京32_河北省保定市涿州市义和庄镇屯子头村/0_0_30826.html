<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.312248', '39.395'], ['116.312607', '39.394058'], ['116.312904', '39.393204'], ['116.313042', '39.392666'], ['116.313087', '39.392376'], ['116.313103', '39.39209'], ['116.31311', '39.391148'], ['116.313118', '39.390106'], ['116.31311', '39.389145'], ['116.313141', '39.388443'], ['116.313179', '39.387543'], ['116.313194', '39.387421'], ['116.313194', '39.387421'], ['116.313011', '39.386765'], ['116.312965', '39.38665'], ['116.312897', '39.386528'], ['116.31282', '39.386421'], ['116.312714', '39.386326'], ['116.312599', '39.38623'], ['116.31221', '39.385986'], ['116.312088', '39.385899'], ['116.311943', '39.385788'], ['116.311836', '39.38567'], ['116.31179', '39.385597'], ['116.311752', '39.385502'], ['116.311745', '39.385445'], ['116.311737', '39.385349'], ['116.311745', '39.385284'], ['116.311768', '39.385193'], ['116.311821', '39.385101'], ['116.311882', '39.385025'], ['116.311974', '39.384945'], ['116.312073', '39.384884'], ['116.312248', '39.384804'], ['116.312508', '39.384716'], ['116.31282', '39.384628'], ['116.313126', '39.38456'], ['116.31353', '39.38451'], ['116.313896', '39.384476'], ['116.31427', '39.384472'], ['116.314598', '39.384483'], ['116.315681', '39.384594'], ['116.316444', '39.384804'], ['116.316666', '39.384861'], ['116.316879', '39.384941'], ['116.317032', '39.385014'], ['116.317177', '39.38509'], ['116.317177', '39.38509'], ['116.317368', '39.385201'], ['116.31749', '39.385288'], ['116.31768', '39.385448'], ['116.318069', '39.385815'], ['116.318222', '39.385986'], ['116.318367', '39.386154'], ['116.318588', '39.386475'], ['116.318588', '39.386475'], ['116.318726', '39.386715'], ['116.318878', '39.387028'], ['116.318985', '39.387272'], ['116.319077', '39.387581'], ['116.319389', '39.388893'], ['116.319458', '39.38913'], ['116.319504', '39.38924'], ['116.319572', '39.389359'], ['116.319633', '39.389439'], ['116.319725', '39.389511'], ['116.319824', '39.389572'], ['116.319931', '39.389614'], ['116.320038', '39.389645'], ['116.32016', '39.389656'], ['116.320274', '39.389652'], ['116.320396', '39.389626'], ['116.320518', '39.389587'], ['116.32061', '39.389534'], ['116.320694', '39.389473'], ['116.32077', '39.389381'], ['116.320801', '39.389328'], ['116.320839', '39.38924'], ['116.320847', '39.389172'], ['116.320839', '39.38908'], ['116.320816', '39.389015'], ['116.32077', '39.388927'], ['116.320709', '39.388844'], ['116.320633', '39.388767'], ['116.320503', '39.38868'], ['116.320366', '39.388615'], ['116.319458', '39.388325'], ['116.315811', '39.38781'], ['116.314507', '39.387615'], ['116.31279', '39.387367'], ['116.312393', '39.387306'], ['116.307022', '39.386532'], ['116.30307', '39.385986'], ['116.30127', '39.385723'], ['116.298309', '39.385288'], ['116.294678', '39.384789'], ['116.292503', '39.38446'], ['116.292038', '39.38438'], ['116.29126', '39.384293'], ['116.290672', '39.384232'], ['116.28717', '39.383892'], ['116.285355', '39.383747'], ['116.283455', '39.38361'], ['116.282616', '39.383579'], ['116.282616', '39.383579'], ['116.28093', '39.383667'], ['116.280319', '39.38372'], ['116.279762', '39.383812'], ['116.279297', '39.383945'], ['116.279167', '39.383984'], ['116.278625', '39.384216'], ['116.278625', '39.384216'], ['116.277893', '39.384777'], ['116.277626', '39.385017'], ['116.277351', '39.385361'], ['116.277191', '39.385632'], ['116.277039', '39.385986'], ['116.277023', '39.386036'], ['116.276917', '39.386532'], ['116.276863', '39.387085'], ['116.276855', '39.388054'], ['116.277039', '39.388832'], ['116.277191', '39.3895'], ['116.277245', '39.389786'], ['116.277512', '39.391293'], ['116.277779', '39.393169'], ['116.277855', '39.394062'], ['116.277924', '39.39571'], ['116.277939', '39.396969'], ['116.277946', '39.397335'], ['116.277931', '39.398083'], ['116.277893', '39.398819'], ['116.277687', '39.401058'], ['116.277573', '39.401993'], ['116.277184', '39.404156'], ['116.276672', '39.406277'], ['116.27623', '39.407955'], ['116.273956', '39.416626'], ['116.273643', '39.417812'], ['116.273354', '39.418945'], ['116.273346', '39.418999'], ['116.2724', '39.422653'], ['116.272186', '39.423706'], ['116.271873', '39.425415'], ['116.271751', '39.426456'], ['116.27166', '39.4282'], ['116.271652', '39.429913'], ['116.271652', '39.429928'], ['116.271721', '39.431293'], ['116.27179', '39.432079'], ['116.271858', '39.432697'], ['116.272148', '39.434475'], ['116.272324', '39.435261'], ['116.272873', '39.437317'], ['116.273499', '39.439209'], ['116.274017', '39.440498'], ['116.274193', '39.440914'], ['116.274597', '39.441811'], ['116.275803', '39.444389'], ['116.276886', '39.446629'], ['116.27845', '39.45005'], ['116.279068', '39.451515'], ['116.279221', '39.4519'], ['116.279297', '39.452095'], ['116.279739', '39.453236'], ['116.28006', '39.454124'], ['116.280441', '39.455257'], ['116.280846', '39.456532'], ['116.281143', '39.4576'], ['116.281372', '39.458389'], ['116.28167', '39.459534'], ['116.282082', '39.461224'], ['116.282196', '39.461769'], ['116.282372', '39.462891'], ['116.282455', '39.463444'], ['116.282555', '39.463989'], ['116.282646', '39.464722'], ['116.283371', '39.471214'], ['116.283493', '39.471996'], ['116.283714', '39.473476'], ['116.283798', '39.473877'], ['116.283813', '39.473969'], ['116.283905', '39.474377'], ['116.284203', '39.475334'], ['116.285301', '39.478561'], ['116.285362', '39.478714'], ['116.285362', '39.478714'], ['116.285576', '39.479458'], ['116.285667', '39.4799'], ['116.285751', '39.480392'], ['116.285858', '39.481457'], ['116.285919', '39.481838'], ['116.286057', '39.482357'], ['116.286293', '39.4832'], ['116.286736', '39.48439'], ['116.286926', '39.484863'], ['116.287766', '39.486923'], ['116.288269', '39.488029'], ['116.289345', '39.490246'], ['116.290176', '39.491974'], ['116.29203', '39.495846'], ['116.292381', '39.49659'], ['116.292969', '39.497837'], ['116.293098', '39.498096'], ['116.293472', '39.498894'], ['116.293922', '39.499916'], ['116.294411', '39.501202'], ['116.294426', '39.501259'], ['116.294693', '39.502296'], ['116.294792', '39.502827'], ['116.294922', '39.503654'], ['116.294998', '39.504345'], ['116.295029', '39.50526'], ['116.295036', '39.506405'], ['116.295036', '39.506836'], ['116.295036', '39.50724'], ['116.295036', '39.507511'], ['116.295036', '39.507511'], ['116.29512', '39.507671'], ['116.295143', '39.507771'], ['116.295197', '39.508125'], ['116.295235', '39.508392'], ['116.295319', '39.508778'], ['116.295319', '39.508778'], ['116.295486', '39.509315'], ['116.29554', '39.509567'], ['116.29554', '39.509567'], ['116.295624', '39.51096'], ['116.295639', '39.511055'], ['116.294205', '39.511044'], ['116.292923', '39.511055'], ['116.291885', '39.511116'], ['116.290985', '39.511234'], ['116.290535', '39.511333'], ['116.289513', '39.511597'], ['116.288834', '39.511799'], ['116.288376', '39.511982'], ['116.287788', '39.51226'], ['116.287521', '39.512413'], ['116.287193', '39.512634'], ['116.286926', '39.51284'], ['116.286613', '39.513119'], ['116.286415', '39.513317'], ['116.286179', '39.51358'], ['116.286011', '39.513809'], ['116.285858', '39.514046'], ['116.285667', '39.514397'], ['116.285316', '39.515228'], ['116.285164', '39.516331'], ['116.284988', '39.517822'], ['116.284912', '39.518391'], ['116.284912', '39.518391'], ['116.283928', '39.518291'], ['116.282784', '39.518204'], ['116.280701', '39.51804'], ['116.279297', '39.517925'], ['116.278252', '39.517849'], ['116.277893', '39.517822'], ['116.275459', '39.517639'], ['116.271301', '39.517303'], ['116.269638', '39.517151'], ['116.268036', '39.517036'], ['116.267281', '39.516991'], ['116.267281', '39.516991'], ['116.267357', '39.516457'], ['116.267746', '39.514271'], ['116.268127', '39.511959'], ['116.268219', '39.511387'], ['116.268265', '39.510983'], ['116.268356', '39.509739'], ['116.268303', '39.508415'], ['116.268143', '39.507034'], ['116.268143', '39.507034'], ['116.267784', '39.507286'], ['116.266617', '39.508133'], ['116.266335', '39.508308'], ['116.265739', '39.50864'], ['116.260979', '39.511135'], ['116.257957', '39.512711'], ['116.257637', '39.512875'], ['116.257324', '39.51305'], ['116.255974', '39.513741'], ['116.255768', '39.513847'], ['116.25518', '39.514191'], ['116.252899', '39.51572'], ['116.252258', '39.516159'], ['116.25193', '39.516422'], ['116.251793', '39.516567'], ['116.251305', '39.517117'], ['116.251114', '39.517387'], ['116.250969', '39.517632'], ['116.250908', '39.517822'], ['116.250893', '39.517868'], ['116.250534', '39.51915'], ['116.25029', '39.520058'], ['116.249931', '39.521744'], ['116.24984', '39.522289'], ['116.249695', '39.52285'], ['116.249573', '39.523094'], ['116.249123', '39.523605'], ['116.248886', '39.523888'], ['116.24881', '39.524021'], ['116.248718', '39.524239'], ['116.248688', '39.524456'], ['116.24823', '39.527416'], ['116.248222', '39.527733'], ['116.24826', '39.527924'], ['116.248322', '39.528053'], ['116.248459', '39.528332'], ['116.248749', '39.528805'], ['116.249359', '39.5298'], ['116.249779', '39.530403'], ['116.249779', '39.530403'], ['116.249031', '39.530594'], ['116.248688', '39.530693'], ['116.248459', '39.530724'], ['116.248459', '39.530724'], ['116.248016', '39.530579'], ['116.247887', '39.530556'], ['116.247734', '39.530552'], ['116.246918', '39.530632'], ['116.246552', '39.530693'], ['116.24617', '39.5308'], ['116.245956', '39.530819'], ['116.245834', '39.530781'], ['116.245697', '39.530655'], ['116.24559', '39.530529'], ['116.245461', '39.530415'], ['116.245201', '39.530201'], ['116.244606', '39.529621'], ['116.244331', '39.5294'], ['116.244118', '39.529259'], ['116.244026', '39.529209'], ['116.243858', '39.529148'], ['116.24334', '39.528976'], ['116.242912', '39.528805'], ['116.242783', '39.528763'], ['116.242584', '39.528709'], ['116.241478', '39.528507'], ['116.241478', '39.528507'], ['116.24131', '39.528805'], ['116.241203', '39.529003'], ['116.241081', '39.529274'], ['116.24102', '39.529446'], ['116.240356', '39.531521'], ['116.240181', '39.532139'], ['116.240166', '39.532272'], ['116.240181', '39.532413'], ['116.240211', '39.532665'], ['116.240273', '39.533268'], ['116.240295', '39.533314'], ['116.240379', '39.533394'], ['116.240379', '39.533394'], ['116.240295', '39.533447'], ['116.240059', '39.533669'], ['116.239738', '39.534199'], ['116.239273', '39.53474'], ['116.238297', '39.537907'], ['116.238213', '39.538338'], ['116.238205', '39.538765'], ['116.238335', '39.5392'], ['116.238335', '39.5392'], ['116.237785', '39.539089'], ['116.237244', '39.53904'], ['116.236801', '39.539059'], ['116.236168', '39.539112'], ['116.235352', '39.539108'], ['116.233719', '39.539089'], ['116.232544', '39.539082'], ['116.231743', '39.539074'], ['116.23053', '39.539013'], ['116.23053', '39.539013'], ['116.230423', '39.539791'], ['116.2304', '39.539982']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>