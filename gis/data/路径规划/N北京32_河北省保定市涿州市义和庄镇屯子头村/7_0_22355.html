<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.312248', '39.395'], ['116.312607', '39.394058'], ['116.312904', '39.393204'], ['116.313049', '39.393234'], ['116.312279', '39.395336'], ['116.311974', '39.396515'], ['116.311874', '39.396969'], ['116.311401', '39.399338'], ['116.311111', '39.400837'], ['116.311058', '39.40115'], ['116.310699', '39.402992'], ['116.310455', '39.404472'], ['116.310448', '39.404526'], ['116.310295', '39.40588'], ['116.310249', '39.40641'], ['116.310242', '39.406559'], ['116.310204', '39.407013'], ['116.310181', '39.407372'], ['116.310135', '39.407955'], ['116.310089', '39.408539'], ['116.310036', '39.409321'], ['116.31002', '39.409538'], ['116.309975', '39.41021'], ['116.309868', '39.411037'], ['116.309608', '39.41296'], ['116.309464', '39.413818'], ['116.309319', '39.414955'], ['116.30925', '39.415409'], ['116.309021', '39.416977'], ['116.308907', '39.417862'], ['116.308891', '39.417908'], ['116.308792', '39.41864'], ['116.308746', '39.418945'], ['116.308563', '39.420212'], ['116.308525', '39.420418'], ['116.308472', '39.420845'], ['116.30838', '39.421459'], ['116.308334', '39.421932'], ['116.308319', '39.422272'], ['116.308327', '39.422508'], ['116.308456', '39.423916'], ['116.30854', '39.424778'], ['116.308624', '39.425652'], ['116.308632', '39.425705'], ['116.308815', '39.427711'], ['116.308922', '39.428761'], ['116.308998', '39.429596'], ['116.309006', '39.429928'], ['116.309029', '39.430351'], ['116.309036', '39.430622'], ['116.309135', '39.432003'], ['116.309189', '39.43293'], ['116.309341', '39.435261'], ['116.309341', '39.435322'], ['116.30941', '39.436432'], ['116.309464', '39.437004'], ['116.309479', '39.43721'], ['116.309502', '39.437599'], ['116.309517', '39.437809'], ['116.30954', '39.437916'], ['116.309547', '39.43811'], ['116.309586', '39.438839'], ['116.309593', '39.439091'], ['116.309601', '39.439686'], ['116.309608', '39.440205'], ['116.309639', '39.440914'], ['116.309639', '39.441013'], ['116.309639', '39.441101'], ['116.309647', '39.441868'], ['116.309677', '39.442818'], ['116.309669', '39.44487'], ['116.309669', '39.445259'], ['116.309654', '39.445934'], ['116.309654', '39.446232'], ['116.309647', '39.446663'], ['116.309639', '39.447422'], ['116.309639', '39.447483'], ['116.309639', '39.447674'], ['116.309593', '39.449516'], ['116.309593', '39.449539'], ['116.309593', '39.449833'], ['116.309639', '39.450378'], ['116.309654', '39.450924'], ['116.309692', '39.4519'], ['116.309723', '39.45277'], ['116.309753', '39.453537'], ['116.309761', '39.45377'], ['116.309769', '39.454628'], ['116.309776', '39.45528'], ['116.309822', '39.456009'], ['116.309837', '39.457008'], ['116.309853', '39.457062'], ['116.309875', '39.457981'], ['116.309891', '39.458397'], ['116.310036', '39.460663'], ['116.310089', '39.462852'], ['116.310089', '39.462891'], ['116.31015', '39.465347'], ['116.310158', '39.465424'], ['116.310234', '39.467403'], ['116.310265', '39.467957'], ['116.310272', '39.468121'], ['116.310326', '39.469013'], ['116.310448', '39.472126'], ['116.310501', '39.472321'], ['116.310593', '39.47245'], ['116.310638', '39.472542'], ['116.310692', '39.472839'], ['116.310738', '39.473263'], ['116.310738', '39.473423'], ['116.310722', '39.473785'], ['116.31073', '39.473877'], ['116.310806', '39.474045'], ['116.310974', '39.474319'], ['116.311226', '39.47459'], ['116.311493', '39.474819'], ['116.311745', '39.474972'], ['116.312439', '39.47533'], ['116.313248', '39.475739'], ['116.314499', '39.47636'], ['116.316513', '39.477341'], ['116.31723', '39.477718'], ['116.31813', '39.47821'], ['116.318016', '39.478291'], ['116.317413', '39.477951'], ['116.317055', '39.477764'], ['116.317055', '39.477764'], ['116.315712', '39.478111'], ['116.315567', '39.478172'], ['116.315453', '39.478256'], ['116.315315', '39.478378'], ['116.315201', '39.478516'], ['116.315063', '39.478695'], ['116.31488', '39.479008'], ['116.311905', '39.484863'], ['116.311287', '39.486084'], ['116.31086', '39.487076'], ['116.310791', '39.487217'], ['116.310684', '39.487377'], ['116.310524', '39.487568'], ['116.310181', '39.487946'], ['116.306999', '39.491497'], ['116.306839', '39.491619'], ['116.306473', '39.491795'], ['116.305824', '39.492111'], ['116.304901', '39.492565'], ['116.304657', '39.492699'], ['116.304436', '39.492779'], ['116.304253', '39.492805'], ['116.302597', '39.492935'], ['116.302238', '39.492977'], ['116.301888', '39.49305'], ['116.30127', '39.493187'], ['116.298653', '39.493774'], ['116.297829', '39.493973'], ['116.296356', '39.494427'], ['116.295891', '39.494541'], ['116.295479', '39.494633'], ['116.295197', '39.494667'], ['116.294151', '39.494751'], ['116.293846', '39.494797'], ['116.293518', '39.494865'], ['116.293114', '39.494976'], ['116.292442', '39.495209'], ['116.292183', '39.495281'], ['116.291847', '39.495346'], ['116.291534', '39.495392'], ['116.291214', '39.495415'], ['116.290932', '39.495415'], ['116.290489', '39.49538'], ['116.289574', '39.49527'], ['116.289238', '39.495243'], ['116.288628', '39.495251'], ['116.287102', '39.495392'], ['116.285759', '39.495602'], ['116.285339', '39.495659'], ['116.284981', '39.495686'], ['116.283783', '39.495747'], ['116.281487', '39.4958'], ['116.280762', '39.495846'], ['116.280693', '39.495857'], ['116.279297', '39.49617'], ['116.277725', '39.496525'], ['116.276146', '39.49691'], ['116.275017', '39.497272'], ['116.273888', '39.497742'], ['116.272072', '39.498543'], ['116.271645', '39.498779'], ['116.271484', '39.498943'], ['116.27137', '39.499115'], ['116.271217', '39.499413'], ['116.271095', '39.499947'], ['116.271034', '39.500275'], ['116.270905', '39.501167'], ['116.270775', '39.502079'], ['116.270737', '39.502441'], ['116.270836', '39.503544'], ['116.270981', '39.504917'], ['116.270958', '39.505135'], ['116.270912', '39.505299'], ['116.270805', '39.505486'], ['116.270714', '39.505638'], ['116.270584', '39.505745'], ['116.270264', '39.505928'], ['116.268661', '39.506695'], ['116.268433', '39.506836'], ['116.268204', '39.506977'], ['116.268143', '39.507034'], ['116.267784', '39.507286'], ['116.266617', '39.508133'], ['116.266335', '39.508308'], ['116.265739', '39.50864'], ['116.260979', '39.511135'], ['116.257957', '39.512711'], ['116.257637', '39.512875'], ['116.257324', '39.51305'], ['116.255974', '39.513741'], ['116.255768', '39.513847'], ['116.25518', '39.514191'], ['116.252899', '39.51572'], ['116.252258', '39.516159'], ['116.25193', '39.516422'], ['116.251793', '39.516567'], ['116.251305', '39.517117'], ['116.251114', '39.517387'], ['116.250969', '39.517632'], ['116.250908', '39.517822'], ['116.250893', '39.517868'], ['116.250534', '39.51915'], ['116.25029', '39.520058'], ['116.249931', '39.521744'], ['116.24984', '39.522289'], ['116.249695', '39.52285'], ['116.249573', '39.523094'], ['116.249123', '39.523605'], ['116.248886', '39.523888'], ['116.24881', '39.524021'], ['116.248718', '39.524239'], ['116.248688', '39.524456'], ['116.24823', '39.527416'], ['116.248222', '39.527733'], ['116.24826', '39.527924'], ['116.248322', '39.528053'], ['116.248459', '39.528332'], ['116.248749', '39.528805'], ['116.249359', '39.5298'], ['116.249779', '39.530403'], ['116.249779', '39.530403'], ['116.249031', '39.530594'], ['116.248688', '39.530693'], ['116.248459', '39.530724'], ['116.248459', '39.530724'], ['116.248016', '39.530579'], ['116.247887', '39.530556'], ['116.247734', '39.530552'], ['116.246918', '39.530632'], ['116.246552', '39.530693'], ['116.24617', '39.5308'], ['116.245956', '39.530819'], ['116.245834', '39.530781'], ['116.245697', '39.530655'], ['116.24559', '39.530529'], ['116.245461', '39.530415'], ['116.245201', '39.530201'], ['116.244606', '39.529621'], ['116.244331', '39.5294'], ['116.244118', '39.529259'], ['116.244026', '39.529209'], ['116.243858', '39.529148'], ['116.24334', '39.528976'], ['116.242912', '39.528805'], ['116.242783', '39.528763'], ['116.242584', '39.528709'], ['116.241478', '39.528507'], ['116.241478', '39.528507'], ['116.24131', '39.528805'], ['116.241203', '39.529003'], ['116.241081', '39.529274'], ['116.24102', '39.529446'], ['116.240356', '39.531521'], ['116.240181', '39.532139'], ['116.240166', '39.532272'], ['116.240181', '39.532413'], ['116.240211', '39.532665'], ['116.240273', '39.533268'], ['116.240295', '39.533314'], ['116.240379', '39.533394'], ['116.240379', '39.533394'], ['116.240295', '39.533447'], ['116.240059', '39.533669'], ['116.239738', '39.534199'], ['116.239273', '39.53474'], ['116.238297', '39.537907'], ['116.238213', '39.538338'], ['116.238205', '39.538765'], ['116.238335', '39.5392'], ['116.238335', '39.5392'], ['116.237785', '39.539089'], ['116.237244', '39.53904'], ['116.236801', '39.539059'], ['116.236168', '39.539112'], ['116.235352', '39.539108'], ['116.233719', '39.539089'], ['116.232544', '39.539082'], ['116.231743', '39.539074'], ['116.23053', '39.539013'], ['116.23053', '39.539013'], ['116.230423', '39.539791'], ['116.2304', '39.539982']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>