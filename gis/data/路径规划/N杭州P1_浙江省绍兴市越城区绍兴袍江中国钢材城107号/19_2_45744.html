<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460541', '30.251165'], ['120.460136', '30.251249'], ['120.454201', '30.252518'], ['120.454102', '30.252542'], ['120.453651', '30.252647'], ['120.453362', '30.252708'], ['120.453362', '30.252708'], ['120.45269', '30.252842'], ['120.451546', '30.253019'], ['120.451019', '30.253065'], ['120.450409', '30.253092'], ['120.449669', '30.253101'], ['120.442017', '30.253033'], ['120.440918', '30.253014'], ['120.439079', '30.252996'], ['120.438248', '30.252951'], ['120.437759', '30.252909'], ['120.437119', '30.252827'], ['120.436356', '30.252701'], ['120.436081', '30.25264'], ['120.434906', '30.252348'], ['120.43454', '30.252239'], ['120.434402', '30.252199'], ['120.433983', '30.252071'], ['120.433983', '30.252071'], ['120.432121', '30.251507'], ['120.430763', '30.251102'], ['120.427696', '30.250191'], ['120.426857', '30.249977'], ['120.426765', '30.24996'], ['120.426064', '30.249817'], ['120.425438', '30.249714'], ['120.424767', '30.249632'], ['120.424347', '30.249586'], ['120.423561', '30.24954'], ['120.42289', '30.249523'], ['120.422195', '30.249527'], ['120.421532', '30.249561'], ['120.420906', '30.249609'], ['120.420311', '30.24968'], ['120.419708', '30.249769'], ['120.418961', '30.249914'], ['120.418427', '30.250031'], ['120.417313', '30.250341'], ['120.416695', '30.250547'], ['120.416115', '30.250772'], ['120.414696', '30.251411'], ['120.413635', '30.251867'], ['120.411232', '30.252951'], ['120.410156', '30.253437'], ['120.408409', '30.254227'], ['120.4077', '30.254532'], ['120.40728', '30.254683'], ['120.40654', '30.254887'], ['120.406166', '30.254955'], ['120.405647', '30.255013'], ['120.404976', '30.255045'], ['120.404549', '30.255032'], ['120.404213', '30.254999'], ['120.403778', '30.254936'], ['120.403458', '30.254868'], ['120.403099', '30.254774'], ['120.402687', '30.254644'], ['120.402275', '30.254488'], ['120.401558', '30.254181'], ['120.398705', '30.25292'], ['120.397705', '30.252478'], ['120.397202', '30.252249'], ['120.39682', '30.252081'], ['120.394234', '30.250959'], ['120.392433', '30.250214'], ['120.391998', '30.25005'], ['120.391815', '30.249977'], ['120.390915', '30.249613'], ['120.390915', '30.249613'], ['120.390587', '30.249586'], ['120.389679', '30.249323'], ['120.388771', '30.249088'], ['120.388771', '30.249088'], ['120.388725', '30.248825'], ['120.388725', '30.248402'], ['120.388748', '30.248211'], ['120.388832', '30.24789'], ['120.388885', '30.247704'], ['120.38903', '30.247244'], ['120.389496', '30.24572'], ['120.389603', '30.245359'], ['120.389793', '30.244709'], ['120.389946', '30.244223'], ['120.390144', '30.243597'], ['120.390411', '30.242701'], ['120.390869', '30.241119'], ['120.390976', '30.240728'], ['120.391121', '30.240278'], ['120.39138', '30.239414'], ['120.391609', '30.238747'], ['120.391792', '30.238155'], ['120.391953', '30.237709'], ['120.39222', '30.237167'], ['120.392319', '30.236971'], ['120.39238', '30.236799'], ['120.392433', '30.236563'], ['120.392479', '30.23632'], ['120.392525', '30.235847'], ['120.39254', '30.235682'], ['120.392586', '30.234995'], ['120.392632', '30.234375'], ['120.392639', '30.234175'], ['120.392838', '30.231771'], ['120.392838', '30.231697'], ['120.39299', '30.23171'], ['120.394615', '30.231922'], ['120.395752', '30.232071'], ['120.397278', '30.232286'], ['120.397682', '30.232336'], ['120.398216', '30.232405'], ['120.399223', '30.232536'], ['120.400452', '30.232674'], ['120.400452', '30.232674'], ['120.400528', '30.231798'], ['120.400597', '30.230951'], ['120.40065', '30.23035'], ['120.400688', '30.229853'], ['120.400764', '30.229044'], ['120.400787', '30.228724'], ['120.400856', '30.228148'], ['120.400894', '30.227737'], ['120.401001', '30.226515'], ['120.401016', '30.226103'], ['120.400993', '30.225798'], ['120.400932', '30.225388'], ['120.400833', '30.224949'], ['120.400757', '30.224701'], ['120.400688', '30.224476'], ['120.400551', '30.224197'], ['120.400276', '30.223547'], ['120.400208', '30.223387'], ['120.400116', '30.223183'], ['120.399529', '30.221857'], ['120.399437', '30.221645'], ['120.399292', '30.221312'], ['120.398727', '30.220039'], ['120.39856', '30.219627'], ['120.39856', '30.219627'], ['120.398338', '30.219454'], ['120.398125', '30.219349'], ['120.39666', '30.218834'], ['120.395721', '30.218515'], ['120.394806', '30.218203'], ['120.394402', '30.218046'], ['120.393982', '30.217878'], ['120.39373', '30.217678'], ['120.392937', '30.217405'], ['120.392136', '30.217127'], ['120.392136', '30.217127'], ['120.391182', '30.21715'], ['120.39064', '30.217131'], ['120.390518', '30.21711'], ['120.390144', '30.216995'], ['120.389938', '30.216927'], ['120.389938', '30.216927'], ['120.389336', '30.216631'], ['120.388908', '30.216406'], ['120.388321', '30.216089'], ['120.388176', '30.216034'], ['120.387886', '30.215902'], ['120.387886', '30.215902'], ['120.387741', '30.215906'], ['120.387253', '30.21586'], ['120.386963', '30.215851'], ['120.386436', '30.215837'], ['120.38607', '30.215841'], ['120.385643', '30.215874'], ['120.38504', '30.215952'], ['120.38401', '30.216146'], ['120.383636', '30.216228'], ['120.383339', '30.21628'], ['120.383011', '30.21632'], ['120.382713', '30.216337'], ['120.382523', '30.21632'], ['120.382225', '30.216267'], ['120.38192', '30.216181'], ['120.381668', '30.216066'], ['120.381477', '30.215952'], ['120.381317', '30.215855'], ['120.381172', '30.215725'], ['120.38102', '30.215578'], ['120.380859', '30.215364'], ['120.380737', '30.215147'], ['120.380661', '30.214977'], ['120.380615', '30.21483'], ['120.380585', '30.214657'], ['120.380577', '30.214472'], ['120.380577', '30.214306'], ['120.380585', '30.21419'], ['120.380608', '30.214085'], ['120.380661', '30.213854'], ['120.380722', '30.213711'], ['120.380783', '30.213579'], ['120.380882', '30.213428'], ['120.380997', '30.213264'], ['120.381104', '30.213133'], ['120.381226', '30.213034'], ['120.381401', '30.2129'], ['120.381615', '30.212765'], ['120.381866', '30.212646'], ['120.382149', '30.212561'], ['120.382744', '30.21246'], ['120.384148', '30.212454'], ['120.384506', '30.212444'], ['120.384949', '30.2124'], ['120.385307', '30.212355'], ['120.386154', '30.212172'], ['120.386726', '30.212013'], ['120.387146', '30.211922'], ['120.388176', '30.211407'], ['120.390648', '30.210192'], ['120.391548', '30.209743'], ['120.395821', '30.207619'], ['120.396919', '30.2071'], ['120.398918', '30.206221'], ['120.400528', '30.205578'], ['120.402229', '30.204945'], ['120.403687', '30.204458'], ['120.405754', '30.203825'], ['120.406593', '30.203581'], ['120.408829', '30.203009'], ['120.410156', '30.202717'], ['120.410301', '30.202686'], ['120.412346', '30.202286'], ['120.413895', '30.202036'], ['120.415337', '30.201832'], ['120.41655', '30.201689'], ['120.419189', '30.201458'], ['120.419823', '30.201416'], ['120.425369', '30.201056'], ['120.428665', '30.200825'], ['120.43129', '30.200573'], ['120.432121', '30.200464'], ['120.433006', '30.200352'], ['120.434654', '30.200117'], ['120.435608', '30.199961'], ['120.437775', '30.199572'], ['120.438927', '30.199335'], ['120.441414', '30.198767'], ['120.444061', '30.198078'], ['120.445869', '30.197552'], ['120.447174', '30.197126'], ['120.450066', '30.19628'], ['120.451721', '30.195778'], ['120.451843', '30.195738'], ['120.452469', '30.195547'], ['120.453316', '30.195295'], ['120.454102', '30.195053'], ['120.455627', '30.194592'], ['120.461617', '30.192774'], ['120.465225', '30.191662'], ['120.467201', '30.191015'], ['120.468712', '30.1905'], ['120.46891', '30.19043'], ['120.470261', '30.189939'], ['120.471725', '30.189388'], ['120.473419', '30.188721'], ['120.474876', '30.188116'], ['120.476074', '30.187613'], ['120.476601', '30.187378'], ['120.494637', '30.17944'], ['120.498047', '30.177933'], ['120.498299', '30.177822'], ['120.499962', '30.177057'], ['120.500732', '30.17668'], ['120.502205', '30.175894'], ['120.502853', '30.175516'], ['120.504318', '30.174608'], ['120.504814', '30.174284'], ['120.505562', '30.173767'], ['120.506142', '30.173347'], ['120.507195', '30.172541'], ['120.508286', '30.17164'], ['120.509254', '30.170759'], ['120.510353', '30.169695'], ['120.51123', '30.168758'], ['120.51149', '30.168455'], ['120.512291', '30.167532'], ['120.51326', '30.166325'], ['120.514282', '30.164949'], ['120.514854', '30.164198'], ['120.516014', '30.162632'], ['120.516632', '30.161808'], ['120.519852', '30.157469'], ['120.52002', '30.157244'], ['120.520767', '30.156242'], ['120.521477', '30.15527'], ['120.522011', '30.154587'], ['120.522415', '30.154036'], ['120.524086', '30.15181'], ['120.526154', '30.149002'], ['120.52726', '30.147532'], ['120.527786', '30.146797'], ['120.528015', '30.146484'], ['120.528038', '30.146467'], ['120.529068', '30.145065'], ['120.529846', '30.144085'], ['120.530655', '30.143124'], ['120.531708', '30.142'], ['120.532112', '30.141607'], ['120.532936', '30.140839'], ['120.533363', '30.140448'], ['120.533997', '30.13991'], ['120.534996', '30.139124'], ['120.535988', '30.138393'], ['120.536674', '30.137924'], ['120.5373', '30.137531'], ['120.538071', '30.137062'], ['120.539268', '30.136393'], ['120.540436', '30.135778'], ['120.541031', '30.135496'], ['120.541527', '30.135269'], ['120.541992', '30.135073'], ['120.542389', '30.134899'], ['120.543228', '30.134575'], ['120.544411', '30.134125'], ['120.546448', '30.133398'], ['120.547119', '30.133169'], ['120.549438', '30.132395'], ['120.551781', '30.131645'], ['120.555267', '30.130632'], ['120.557137', '30.130123'], ['120.559219', '30.129576'], ['120.561562', '30.128994'], ['120.563965', '30.12842'], ['120.565422', '30.128065'], ['120.566429', '30.127827'], ['120.567581', '30.127565'], ['120.56958', '30.127071'], ['120.57058', '30.126831'], ['120.57827', '30.125004'], ['120.579453', '30.124718'], ['120.580338', '30.12451'], ['120.583061', '30.123857'], ['120.58503', '30.123373'], ['120.585938', '30.123125'], ['120.587677', '30.122627'], ['120.589378', '30.122095'], ['120.589638', '30.122013'], ['120.590927', '30.121576'], ['120.591698', '30.121288'], ['120.593117', '30.12076'], ['120.594383', '30.120256'], ['120.595024', '30.120008'], ['120.595909', '30.119621'], ['120.597404', '30.118954'], ['120.598343', '30.118502'], ['120.599594', '30.117895'], ['120.600891', '30.117218'], ['120.602783', '30.116167'], ['120.604523', '30.115133'], ['120.606087', '30.114166'], ['120.607086', '30.113525'], ['120.607407', '30.113325'], ['120.60791', '30.113008'], ['120.609444', '30.112076'], ['120.610687', '30.111349'], ['120.61203', '30.110605'], ['120.61203', '30.110605'], ['120.612297', '30.110386'], ['120.61277', '30.110117'], ['120.613449', '30.109732'], ['120.613678', '30.109497'], ['120.613792', '30.109331'], ['120.613884', '30.109125'], ['120.613922', '30.108967'], ['120.613937', '30.108803'], ['120.613899', '30.108599'], ['120.613823', '30.108389'], ['120.613541', '30.108034'], ['120.612709', '30.107445'], ['120.612709', '30.107445'], ['120.61245', '30.107271'], ['120.611786', '30.106762'], ['120.611679', '30.106693'], ['120.611526', '30.106544'], ['120.611046', '30.106066'], ['120.610741', '30.105728'], ['120.610397', '30.10533'], ['120.610184', '30.105049'], ['120.609772', '30.104435'], ['120.609589', '30.104124'], ['120.609344', '30.103659'], ['120.609161', '30.103247'], ['120.608978', '30.102768'], ['120.608948', '30.102686'], ['120.60891', '30.102539'], ['120.608765', '30.102022'], ['120.608681', '30.101654'], ['120.608505', '30.100569'], ['120.608376', '30.099752'], ['120.60817', '30.098503'], ['120.607994', '30.097382'], ['120.60791', '30.096905'], ['120.60778', '30.096128'], ['120.607407', '30.094227'], ['120.607254', '30.093597'], ['120.607132', '30.093529'], ['120.606918', '30.09259'], ['120.606766', '30.09194'], ['120.606667', '30.091549'], ['120.606514', '30.090906'], ['120.606293', '30.090031'], ['120.606133', '30.089367'], ['120.605713', '30.0875'], ['120.605629', '30.087162'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.624367', '30.083174'], ['120.62542', '30.082878'], ['120.628021', '30.082172'], ['120.629082', '30.081875'], ['120.629395', '30.081772'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>