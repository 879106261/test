<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460754', '30.251024'], ['120.461823', '30.250793'], ['120.463257', '30.250496'], ['120.464226', '30.250313'], ['120.465088', '30.25017'], ['120.465866', '30.250055'], ['120.466927', '30.249941'], ['120.468109', '30.24984'], ['120.470596', '30.24968'], ['120.47097', '30.249662'], ['120.471359', '30.249636'], ['120.471855', '30.249609'], ['120.474915', '30.249413'], ['120.476074', '30.249344'], ['120.477821', '30.249214'], ['120.477821', '30.249214'], ['120.479126', '30.249071'], ['120.481644', '30.248772'], ['120.482765', '30.248632'], ['120.483414', '30.248556'], ['120.484329', '30.248451'], ['120.485825', '30.248268'], ['120.487541', '30.24803'], ['120.488564', '30.247847'], ['120.489784', '30.247564'], ['120.490089', '30.247482'], ['120.490898', '30.247213'], ['120.496216', '30.245359'], ['120.496834', '30.245138'], ['120.497696', '30.244827'], ['120.498047', '30.244705'], ['120.499817', '30.244085'], ['120.50119', '30.243643'], ['120.501572', '30.243525'], ['120.502853', '30.243143'], ['120.504326', '30.242764'], ['120.505646', '30.242474'], ['120.506691', '30.242268'], ['120.50811', '30.242031'], ['120.508629', '30.241953'], ['120.51046', '30.241722'], ['120.511452', '30.241568'], ['120.517334', '30.240755'], ['120.518616', '30.240551'], ['120.52002', '30.240295'], ['120.520546', '30.2402'], ['120.520912', '30.240122'], ['120.5224', '30.239813'], ['120.523079', '30.239662'], ['120.523651', '30.239544'], ['120.524353', '30.239393'], ['120.53054', '30.238064'], ['120.532234', '30.237696'], ['120.532524', '30.237635'], ['120.532524', '30.237635'], ['120.532959', '30.237547'], ['120.536766', '30.23674'], ['120.538124', '30.236435'], ['120.538994', '30.236233'], ['120.539841', '30.236038'], ['120.541992', '30.2355'], ['120.546539', '30.234375'], ['120.546738', '30.234322'], ['120.54792', '30.234026'], ['120.548401', '30.233912'], ['120.548477', '30.233892'], ['120.548859', '30.233803'], ['120.549339', '30.233685'], ['120.551277', '30.233202'], ['120.553291', '30.232729'], ['120.55394', '30.232605'], ['120.554306', '30.232536'], ['120.555237', '30.232353'], ['120.55542', '30.232323'], ['120.556183', '30.232271'], ['120.556183', '30.232271'], ['120.556343', '30.232187'], ['120.556526', '30.232132'], ['120.556702', '30.232044'], ['120.5569', '30.231932'], ['120.557091', '30.231792'], ['120.557541', '30.231411'], ['120.557716', '30.231285'], ['120.557838', '30.231216'], ['120.557915', '30.231184'], ['120.557999', '30.231165'], ['120.558105', '30.231155'], ['120.558197', '30.231159'], ['120.558258', '30.231171'], ['120.558372', '30.231216'], ['120.558472', '30.231262'], ['120.558586', '30.231361'], ['120.558647', '30.231445'], ['120.558701', '30.231558'], ['120.558731', '30.23168'], ['120.558746', '30.231876'], ['120.558762', '30.232477'], ['120.558792', '30.232769'], ['120.55883', '30.233034'], ['120.558899', '30.233356'], ['120.558998', '30.233643'], ['120.559105', '30.233925'], ['120.559135', '30.233994'], ['120.559242', '30.234207'], ['120.559341', '30.234375'], ['120.559387', '30.234457'], ['120.559502', '30.234627'], ['120.559608', '30.234758'], ['120.559998', '30.235096'], ['120.560478', '30.235525'], ['120.560478', '30.235525'], ['120.560684', '30.235723'], ['120.561005', '30.235992'], ['120.561157', '30.236111'], ['120.561363', '30.236298'], ['120.561546', '30.236431'], ['120.561546', '30.236431'], ['120.561714', '30.236431'], ['120.561966', '30.236544'], ['120.562332', '30.236685'], ['120.562599', '30.236767'], ['120.562775', '30.236809'], ['120.562927', '30.236832'], ['120.563065', '30.236835'], ['120.56321', '30.236832'], ['120.563354', '30.236799'], ['120.563492', '30.236767'], ['120.563629', '30.236712'], ['120.563751', '30.236641'], ['120.563866', '30.236557'], ['120.563965', '30.236467'], ['120.564079', '30.236324'], ['120.564178', '30.236172'], ['120.564278', '30.235977'], ['120.564392', '30.235703'], ['120.564445', '30.235491'], ['120.564499', '30.23527'], ['120.564537', '30.235044'], ['120.564545', '30.234818'], ['120.564522', '30.234493'], ['120.564514', '30.234375'], ['120.564461', '30.233707'], ['120.564453', '30.233488'], ['120.564468', '30.233324'], ['120.564507', '30.23315'], ['120.564568', '30.232977'], ['120.564636', '30.232822'], ['120.564705', '30.2327'], ['120.564819', '30.232527'], ['120.564972', '30.232365'], ['120.565132', '30.232208'], ['120.565262', '30.232105'], ['120.56559', '30.231836'], ['120.565758', '30.23167'], ['120.565834', '30.231585'], ['120.565941', '30.231466'], ['120.566063', '30.231298'], ['120.566658', '30.230268'], ['120.566696', '30.230177'], ['120.567215', '30.228853'], ['120.567596', '30.227964'], ['120.568054', '30.226944'], ['120.568726', '30.225496'], ['120.569794', '30.223387'], ['120.570007', '30.222956'], ['120.570717', '30.221525'], ['120.57119', '30.220495'], ['120.571861', '30.218945'], ['120.572403', '30.21755'], ['120.572723', '30.216675'], ['120.57309', '30.21562'], ['120.573586', '30.214016'], ['120.573975', '30.212677'], ['120.574051', '30.2124'], ['120.574432', '30.210825'], ['120.574715', '30.209576'], ['120.574829', '30.208942'], ['120.575134', '30.207199'], ['120.575386', '30.20536'], ['120.5755', '30.204344'], ['120.5756', '30.203169'], ['120.575684', '30.201971'], ['120.575706', '30.201416'], ['120.575737', '30.200434'], ['120.575745', '30.198565'], ['120.575706', '30.197195'], ['120.57563', '30.195847'], ['120.575577', '30.195108'], ['120.575439', '30.193811'], ['120.575287', '30.192444'], ['120.575104', '30.191229'], ['120.574966', '30.19043'], ['120.574944', '30.190317'], ['120.574844', '30.189817'], ['120.574806', '30.189577'], ['120.574768', '30.189344'], ['120.574631', '30.188681'], ['120.574257', '30.187054'], ['120.57383', '30.185452'], ['120.573486', '30.184217'], ['120.57325', '30.183525'], ['120.572945', '30.18255'], ['120.572578', '30.181511'], ['120.57206', '30.180187'], ['120.571762', '30.17944'], ['120.571739', '30.179405'], ['120.567192', '30.168455'], ['120.565697', '30.164867'], ['120.565399', '30.164127'], ['120.564827', '30.162769'], ['120.563965', '30.160683'], ['120.562622', '30.157469'], ['120.562263', '30.15659'], ['120.561188', '30.153633'], ['120.560402', '30.151043'], ['120.560272', '30.150534'], ['120.559731', '30.148373'], ['120.559593', '30.147728'], ['120.559341', '30.146484'], ['120.55928', '30.146179'], ['120.559143', '30.145386'], ['120.558205', '30.139763'], ['120.557953', '30.138124'], ['120.557838', '30.137327'], ['120.557686', '30.136372'], ['120.557564', '30.135633'], ['120.557564', '30.135633'], ['120.557518', '30.135496'], ['120.557251', '30.134657'], ['120.557091', '30.13397'], ['120.55703', '30.133802'], ['120.556854', '30.133465'], ['120.556755', '30.133329'], ['120.556549', '30.133099'], ['120.556366', '30.132929'], ['120.556168', '30.132792'], ['120.555923', '30.132631'], ['120.555672', '30.132517'], ['120.555672', '30.132517'], ['120.555008', '30.131922'], ['120.554825', '30.131676'], ['120.554756', '30.131533'], ['120.554695', '30.131367'], ['120.554665', '30.13122'], ['120.554657', '30.131071'], ['120.554665', '30.130928'], ['120.554703', '30.13076'], ['120.554749', '30.130625'], ['120.554817', '30.130461'], ['120.554909', '30.130325'], ['120.555016', '30.130196'], ['120.555168', '30.130053'], ['120.555344', '30.129904'], ['120.555557', '30.129765'], ['120.555733', '30.129662'], ['120.555931', '30.129576'], ['120.55616', '30.129488'], ['120.556396', '30.129427'], ['120.556625', '30.129393'], ['120.556915', '30.129372'], ['120.557167', '30.129372'], ['120.558083', '30.129444'], ['120.558304', '30.129457'], ['120.55854', '30.129448'], ['120.558846', '30.129414'], ['120.559624', '30.129253'], ['120.560349', '30.129036'], ['120.561241', '30.128807'], ['120.561806', '30.128675'], ['120.563965', '30.128216'], ['120.564888', '30.128016'], ['120.565788', '30.127827'], ['120.567215', '30.127518'], ['120.567581', '30.127565'], ['120.56958', '30.127071'], ['120.57058', '30.126831'], ['120.57827', '30.125004'], ['120.579453', '30.124718'], ['120.580338', '30.12451'], ['120.583061', '30.123857'], ['120.58503', '30.123373'], ['120.585938', '30.123125'], ['120.587677', '30.122627'], ['120.589378', '30.122095'], ['120.589638', '30.122013'], ['120.590927', '30.121576'], ['120.591698', '30.121288'], ['120.593117', '30.12076'], ['120.594383', '30.120256'], ['120.595024', '30.120008'], ['120.595909', '30.119621'], ['120.597404', '30.118954'], ['120.598343', '30.118502'], ['120.599594', '30.117895'], ['120.600891', '30.117218'], ['120.602783', '30.116167'], ['120.604523', '30.115133'], ['120.606087', '30.114166'], ['120.607086', '30.113525'], ['120.607407', '30.113325'], ['120.60791', '30.113008'], ['120.609444', '30.112076'], ['120.610687', '30.111349'], ['120.61203', '30.110605'], ['120.61203', '30.110605'], ['120.612297', '30.110386'], ['120.61277', '30.110117'], ['120.613449', '30.109732'], ['120.613678', '30.109497'], ['120.613792', '30.109331'], ['120.613884', '30.109125'], ['120.613922', '30.108967'], ['120.613937', '30.108803'], ['120.613899', '30.108599'], ['120.613823', '30.108389'], ['120.613541', '30.108034'], ['120.612709', '30.107445'], ['120.612709', '30.107445'], ['120.61245', '30.107271'], ['120.611786', '30.106762'], ['120.611679', '30.106693'], ['120.611526', '30.106544'], ['120.611046', '30.106066'], ['120.610741', '30.105728'], ['120.610397', '30.10533'], ['120.610184', '30.105049'], ['120.609772', '30.104435'], ['120.609589', '30.104124'], ['120.609344', '30.103659'], ['120.609161', '30.103247'], ['120.608978', '30.102768'], ['120.608948', '30.102686'], ['120.60891', '30.102539'], ['120.608765', '30.102022'], ['120.608681', '30.101654'], ['120.608505', '30.100569'], ['120.608376', '30.099752'], ['120.60817', '30.098503'], ['120.607994', '30.097382'], ['120.60791', '30.096905'], ['120.60778', '30.096128'], ['120.607407', '30.094227'], ['120.607254', '30.093597'], ['120.607132', '30.093529'], ['120.606918', '30.09259'], ['120.606766', '30.09194'], ['120.606667', '30.091549'], ['120.606514', '30.090906'], ['120.606293', '30.090031'], ['120.606133', '30.089367'], ['120.605713', '30.0875'], ['120.605629', '30.087162'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.62439', '30.083311'], ['120.624779', '30.085005'], ['120.624779', '30.085005'], ['120.624916', '30.084991'], ['120.625198', '30.084949'], ['120.625473', '30.084877'], ['120.625504', '30.084858'], ['120.625366', '30.084244'], ['120.625313', '30.084026'], ['120.625305', '30.083948'], ['120.625328', '30.083925'], ['120.625771', '30.083824'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>