<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460754', '30.251024'], ['120.461823', '30.250793'], ['120.463257', '30.250496'], ['120.464226', '30.250313'], ['120.465088', '30.25017'], ['120.465866', '30.250055'], ['120.466927', '30.249941'], ['120.468109', '30.24984'], ['120.470596', '30.24968'], ['120.47097', '30.249662'], ['120.471359', '30.249636'], ['120.471855', '30.249609'], ['120.474915', '30.249413'], ['120.476074', '30.249344'], ['120.477821', '30.249214'], ['120.477821', '30.249214'], ['120.479126', '30.249071'], ['120.481644', '30.248772'], ['120.482765', '30.248632'], ['120.483414', '30.248556'], ['120.484329', '30.248451'], ['120.485825', '30.248268'], ['120.487541', '30.24803'], ['120.488564', '30.247847'], ['120.489784', '30.247564'], ['120.490089', '30.247482'], ['120.490898', '30.247213'], ['120.496216', '30.245359'], ['120.496834', '30.245138'], ['120.497696', '30.244827'], ['120.498047', '30.244705'], ['120.499817', '30.244085'], ['120.50119', '30.243643'], ['120.501572', '30.243525'], ['120.502853', '30.243143'], ['120.504326', '30.242764'], ['120.505646', '30.242474'], ['120.506691', '30.242268'], ['120.50811', '30.242031'], ['120.508629', '30.241953'], ['120.51046', '30.241722'], ['120.511452', '30.241568'], ['120.517334', '30.240755'], ['120.518616', '30.240551'], ['120.52002', '30.240295'], ['120.520546', '30.2402'], ['120.520912', '30.240122'], ['120.5224', '30.239813'], ['120.523079', '30.239662'], ['120.523651', '30.239544'], ['120.524353', '30.239393'], ['120.53054', '30.238064'], ['120.532234', '30.237696'], ['120.532524', '30.237635'], ['120.532524', '30.237635'], ['120.532677', '30.23757'], ['120.532791', '30.237513'], ['120.533066', '30.237387'], ['120.534012', '30.237118'], ['120.534264', '30.237036'], ['120.534515', '30.236954'], ['120.535179', '30.236702'], ['120.535179', '30.236702'], ['120.534958', '30.236185'], ['120.534752', '30.235634'], ['120.534569', '30.235048'], ['120.534348', '30.234375'], ['120.53434', '30.234344'], ['120.534103', '30.233671'], ['120.533928', '30.23315'], ['120.533333', '30.231398'], ['120.533157', '30.230846'], ['120.532967', '30.230261'], ['120.532745', '30.229605'], ['120.532623', '30.22924'], ['120.532318', '30.228338'], ['120.532295', '30.228264'], ['120.532127', '30.227768'], ['120.532036', '30.227488'], ['120.531609', '30.226185'], ['120.531273', '30.225204'], ['120.530762', '30.223684'], ['120.530655', '30.223387'], ['120.530563', '30.223087'], ['120.530106', '30.221716'], ['120.529884', '30.221056'], ['120.529343', '30.219421'], ['120.528931', '30.21821'], ['120.528877', '30.218042'], ['120.528419', '30.216658'], ['120.528252', '30.21616'], ['120.528084', '30.215651'], ['120.527893', '30.215099'], ['120.527786', '30.214769'], ['120.527641', '30.214357'], ['120.527298', '30.213398'], ['120.527008', '30.212631'], ['120.526901', '30.2124'], ['120.526741', '30.212023'], ['120.526161', '30.210825'], ['120.525749', '30.210064'], ['120.525368', '30.209393'], ['120.524834', '30.208534'], ['120.524223', '30.207619'], ['120.523712', '30.206861'], ['120.522728', '30.2054'], ['120.522385', '30.204863'], ['120.52224', '30.204618'], ['120.522087', '30.204311'], ['120.521919', '30.203838'], ['120.521858', '30.20356'], ['120.521721', '30.202805'], ['120.521629', '30.202084'], ['120.521545', '30.201571'], ['120.52153', '30.201416'], ['120.521446', '30.200834'], ['120.521149', '30.198671'], ['120.521004', '30.197733'], ['120.520683', '30.195492'], ['120.5205', '30.19412'], ['120.520294', '30.192778'], ['120.520157', '30.192085'], ['120.52002', '30.191484'], ['120.519997', '30.191416'], ['120.519814', '30.190716'], ['120.519722', '30.19043'], ['120.519722', '30.190409'], ['120.519478', '30.189577'], ['120.519295', '30.188967'], ['120.519188', '30.18858'], ['120.518921', '30.187635'], ['120.518646', '30.186703'], ['120.518082', '30.184662'], ['120.518021', '30.184484'], ['120.517807', '30.183712'], ['120.517372', '30.182178'], ['120.517128', '30.18128'], ['120.516701', '30.17944'], ['120.516319', '30.177704'], ['120.516251', '30.177368'], ['120.516144', '30.176893'], ['120.516014', '30.176338'], ['120.515945', '30.175985'], ['120.515556', '30.174158'], ['120.515228', '30.172474'], ['120.51506', '30.17164'], ['120.514694', '30.169786'], ['120.514648', '30.169662'], ['120.514549', '30.169453'], ['120.514549', '30.169453'], ['120.514488', '30.169418'], ['120.514465', '30.169399'], ['120.514465', '30.169399'], ['120.514061', '30.169384'], ['120.513229', '30.169498'], ['120.513031', '30.169508'], ['120.512772', '30.169508'], ['120.512566', '30.169493'], ['120.512367', '30.169453'], ['120.512131', '30.16939'], ['120.511971', '30.169317'], ['120.511772', '30.169222'], ['120.511566', '30.169094'], ['120.510674', '30.168476'], ['120.510643', '30.168455'], ['120.51046', '30.168333'], ['120.5103', '30.168247'], ['120.510139', '30.168186'], ['120.509995', '30.168142'], ['120.509834', '30.168116'], ['120.509659', '30.168106'], ['120.509499', '30.168116'], ['120.509293', '30.168165'], ['120.509209', '30.1682'], ['120.509056', '30.168268'], ['120.50898', '30.168303'], ['120.508835', '30.168407'], ['120.508774', '30.168455'], ['120.508659', '30.168589'], ['120.508583', '30.168667'], ['120.508583', '30.168667'], ['120.508575', '30.168776'], ['120.508583', '30.168911'], ['120.508614', '30.169003'], ['120.508713', '30.169163'], ['120.50885', '30.169266'], ['120.508942', '30.169302'], ['120.509056', '30.169327'], ['120.509308', '30.169336'], ['120.509521', '30.169235'], ['120.509781', '30.169098'], ['120.509995', '30.168953'], ['120.510185', '30.168816'], ['120.510353', '30.168657'], ['120.510544', '30.168455'], ['120.510674', '30.168282'], ['120.510895', '30.167891'], ['120.510986', '30.167686'], ['120.511047', '30.1675'], ['120.511086', '30.167309'], ['120.511108', '30.167091'], ['120.511124', '30.166662'], ['120.511124', '30.166298'], ['120.511124', '30.164513'], ['120.511124', '30.164202'], ['120.511108', '30.163702'], ['120.511108', '30.161858'], ['120.511124', '30.160933'], ['120.511177', '30.160677'], ['120.51123', '30.160551'], ['120.511375', '30.160334'], ['120.511467', '30.160231'], ['120.51162', '30.160112'], ['120.511864', '30.159969'], ['120.512077', '30.159901'], ['120.512238', '30.159863'], ['120.512543', '30.159845'], ['120.512924', '30.159908'], ['120.513603', '30.160061'], ['120.514435', '30.160242'], ['120.515976', '30.160604'], ['120.515976', '30.160604'], ['120.516418', '30.160633'], ['120.516541', '30.16062'], ['120.516838', '30.160551'], ['120.51712', '30.160227'], ['120.517357', '30.159935'], ['120.517876', '30.159353'], ['120.518921', '30.15807'], ['120.519379', '30.157469'], ['120.51947', '30.157356'], ['120.519836', '30.156853'], ['120.52002', '30.156616'], ['120.520424', '30.156059'], ['120.521011', '30.155251'], ['120.521309', '30.154858'], ['120.521408', '30.154787'], ['120.52166', '30.154526'], ['120.521873', '30.154276'], ['120.522224', '30.153816'], ['120.522453', '30.153471'], ['120.522606', '30.153196'], ['120.522705', '30.152956'], ['120.522774', '30.152729'], ['120.522827', '30.152487'], ['120.522888', '30.152035'], ['120.522888', '30.151752'], ['120.522835', '30.150751'], ['120.522835', '30.150751'], ['120.524719', '30.15052'], ['120.524719', '30.15052'], ['120.526001', '30.150373'], ['120.52726', '30.150217'], ['120.527931', '30.150045'], ['120.530617', '30.149639'], ['120.530617', '30.149639'], ['120.5299', '30.149227'], ['120.528976', '30.148737'], ['120.524765', '30.146484'], ['120.524574', '30.146379'], ['120.524406', '30.14629'], ['120.524124', '30.146175'], ['120.523712', '30.146061'], ['120.523605', '30.146011'], ['120.52317', '30.145582'], ['120.522606', '30.1451'], ['120.522385', '30.144873'], ['120.522011', '30.144419'], ['120.521828', '30.144131'], ['120.521683', '30.143858'], ['120.521263', '30.142834'], ['120.521263', '30.142834'], ['120.521301', '30.143993'], ['120.521324', '30.144293'], ['120.521378', '30.144541'], ['120.521423', '30.144722'], ['120.521492', '30.144968'], ['120.521599', '30.145218'], ['120.521736', '30.145496'], ['120.521881', '30.145742'], ['120.522163', '30.146097'], ['120.522346', '30.146284'], ['120.522415', '30.146353'], ['120.522606', '30.146484'], ['120.52269', '30.14654'], ['120.522949', '30.146721'], ['120.523117', '30.146805'], ['120.523476', '30.14698'], ['120.523811', '30.147171'], ['120.523811', '30.147171'], ['120.524162', '30.147356'], ['120.524498', '30.147539'], ['120.524498', '30.147539'], ['120.524887', '30.147678'], ['120.525024', '30.147722'], ['120.52552', '30.147842'], ['120.52581', '30.147886'], ['120.526154', '30.147879'], ['120.526367', '30.147833'], ['120.526604', '30.147747'], ['120.526794', '30.147659'], ['120.526939', '30.14756'], ['120.52726', '30.147276'], ['120.528015', '30.146484'], ['120.528038', '30.146467'], ['120.529068', '30.145065'], ['120.529846', '30.144085'], ['120.530655', '30.143124'], ['120.531708', '30.142'], ['120.532112', '30.141607'], ['120.532936', '30.140839'], ['120.533363', '30.140448'], ['120.533997', '30.13991'], ['120.534996', '30.139124'], ['120.535988', '30.138393'], ['120.536674', '30.137924'], ['120.5373', '30.137531'], ['120.538071', '30.137062'], ['120.539268', '30.136393'], ['120.540436', '30.135778'], ['120.541031', '30.135496'], ['120.541527', '30.135269'], ['120.541992', '30.135073'], ['120.542389', '30.134899'], ['120.543228', '30.134575'], ['120.544411', '30.134125'], ['120.546448', '30.133398'], ['120.547119', '30.133169'], ['120.549438', '30.132395'], ['120.551781', '30.131645'], ['120.555267', '30.130632'], ['120.557137', '30.130123'], ['120.559219', '30.129576'], ['120.561562', '30.128994'], ['120.563965', '30.12842'], ['120.565422', '30.128065'], ['120.566429', '30.127827'], ['120.567581', '30.127565'], ['120.56958', '30.127071'], ['120.57058', '30.126831'], ['120.57827', '30.125004'], ['120.579453', '30.124718'], ['120.580338', '30.12451'], ['120.583061', '30.123857'], ['120.58503', '30.123373'], ['120.585938', '30.123125'], ['120.587677', '30.122627'], ['120.589378', '30.122095'], ['120.589638', '30.122013'], ['120.590927', '30.121576'], ['120.591698', '30.121288'], ['120.593117', '30.12076'], ['120.594383', '30.120256'], ['120.595024', '30.120008'], ['120.595909', '30.119621'], ['120.597404', '30.118954'], ['120.598343', '30.118502'], ['120.599594', '30.117895'], ['120.600891', '30.117218'], ['120.602783', '30.116167'], ['120.604523', '30.115133'], ['120.606087', '30.114166'], ['120.607086', '30.113525'], ['120.607407', '30.113325'], ['120.60791', '30.113008'], ['120.609444', '30.112076'], ['120.610687', '30.111349'], ['120.61203', '30.110605'], ['120.61203', '30.110605'], ['120.612297', '30.110386'], ['120.61277', '30.110117'], ['120.613449', '30.109732'], ['120.613678', '30.109497'], ['120.613792', '30.109331'], ['120.613884', '30.109125'], ['120.613922', '30.108967'], ['120.613937', '30.108803'], ['120.613899', '30.108599'], ['120.613823', '30.108389'], ['120.613541', '30.108034'], ['120.612709', '30.107445'], ['120.612709', '30.107445'], ['120.61245', '30.107271'], ['120.611786', '30.106762'], ['120.611679', '30.106693'], ['120.611526', '30.106544'], ['120.611046', '30.106066'], ['120.610741', '30.105728'], ['120.610397', '30.10533'], ['120.610184', '30.105049'], ['120.609772', '30.104435'], ['120.609589', '30.104124'], ['120.609344', '30.103659'], ['120.609161', '30.103247'], ['120.608978', '30.102768'], ['120.608948', '30.102686'], ['120.60891', '30.102539'], ['120.608765', '30.102022'], ['120.608681', '30.101654'], ['120.608505', '30.100569'], ['120.608376', '30.099752'], ['120.60817', '30.098503'], ['120.607994', '30.097382'], ['120.60791', '30.096905'], ['120.60778', '30.096128'], ['120.607407', '30.094227'], ['120.607254', '30.093597'], ['120.607132', '30.093529'], ['120.606918', '30.09259'], ['120.606766', '30.09194'], ['120.606667', '30.091549'], ['120.606514', '30.090906'], ['120.606293', '30.090031'], ['120.606133', '30.089367'], ['120.605713', '30.0875'], ['120.605629', '30.087162'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.624367', '30.083174'], ['120.62542', '30.082878'], ['120.628021', '30.082172'], ['120.629082', '30.081875'], ['120.629395', '30.081772'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>