<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460754', '30.251024'], ['120.461823', '30.250793'], ['120.463257', '30.250496'], ['120.464226', '30.250313'], ['120.465088', '30.25017'], ['120.465866', '30.250055'], ['120.466927', '30.249941'], ['120.468109', '30.24984'], ['120.470596', '30.24968'], ['120.47097', '30.249662'], ['120.471359', '30.249636'], ['120.471855', '30.249609'], ['120.474915', '30.249413'], ['120.476074', '30.249344'], ['120.477821', '30.249214'], ['120.477821', '30.249214'], ['120.479126', '30.249071'], ['120.481644', '30.248772'], ['120.482765', '30.248632'], ['120.483414', '30.248556'], ['120.484329', '30.248451'], ['120.485825', '30.248268'], ['120.487541', '30.24803'], ['120.488564', '30.247847'], ['120.489784', '30.247564'], ['120.490089', '30.247482'], ['120.490898', '30.247213'], ['120.496216', '30.245359'], ['120.496834', '30.245138'], ['120.497696', '30.244827'], ['120.498047', '30.244705'], ['120.499817', '30.244085'], ['120.50119', '30.243643'], ['120.501572', '30.243525'], ['120.502853', '30.243143'], ['120.504326', '30.242764'], ['120.505646', '30.242474'], ['120.506691', '30.242268'], ['120.50811', '30.242031'], ['120.508629', '30.241953'], ['120.51046', '30.241722'], ['120.511452', '30.241568'], ['120.517334', '30.240755'], ['120.518616', '30.240551'], ['120.52002', '30.240295'], ['120.520546', '30.2402'], ['120.520912', '30.240122'], ['120.5224', '30.239813'], ['120.523079', '30.239662'], ['120.523651', '30.239544'], ['120.524353', '30.239393'], ['120.53054', '30.238064'], ['120.532234', '30.237696'], ['120.532524', '30.237635'], ['120.532524', '30.237635'], ['120.532959', '30.237547'], ['120.536766', '30.23674'], ['120.538124', '30.236435'], ['120.538994', '30.236233'], ['120.539841', '30.236038'], ['120.541992', '30.2355'], ['120.546539', '30.234375'], ['120.546738', '30.234322'], ['120.54792', '30.234026'], ['120.548401', '30.233912'], ['120.548477', '30.233892'], ['120.548859', '30.233803'], ['120.549339', '30.233685'], ['120.551277', '30.233202'], ['120.553291', '30.232729'], ['120.55394', '30.232605'], ['120.554306', '30.232536'], ['120.555237', '30.232353'], ['120.55542', '30.232323'], ['120.556183', '30.232271'], ['120.556183', '30.232271'], ['120.556366', '30.232277'], ['120.55677', '30.232317'], ['120.557053', '30.232313'], ['120.557556', '30.2323'], ['120.558571', '30.232317'], ['120.55864', '30.232323'], ['120.559341', '30.232365'], ['120.560432', '30.232445'], ['120.560837', '30.23247'], ['120.563965', '30.232681'], ['120.564377', '30.232708'], ['120.566223', '30.232834'], ['120.567772', '30.232973'], ['120.568779', '30.233042'], ['120.569885', '30.233095'], ['120.573586', '30.233356'], ['120.574615', '30.233438'], ['120.576035', '30.233515'], ['120.578072', '30.233658'], ['120.583191', '30.234022'], ['120.584312', '30.234093'], ['120.584312', '30.234022'], ['120.584328', '30.233852'], ['120.584496', '30.2325'], ['120.584579', '30.231991'], ['120.584793', '30.230961'], ['120.58493', '30.230291'], ['120.585022', '30.229822'], ['120.585442', '30.227764'], ['120.58551', '30.227436'], ['120.585739', '30.226219'], ['120.585938', '30.225286'], ['120.586311', '30.223387'], ['120.586441', '30.222752'], ['120.586517', '30.222355'], ['120.586578', '30.222092'], ['120.586815', '30.220839'], ['120.586884', '30.220533'], ['120.58699', '30.219995'], ['120.587059', '30.219654'], ['120.587288', '30.218506'], ['120.587463', '30.217636'], ['120.587761', '30.216202'], ['120.588013', '30.214869'], ['120.588135', '30.213779'], ['120.588165', '30.213507'], ['120.588356', '30.212496'], ['120.588371', '30.2124'], ['120.588455', '30.212017'], ['120.589073', '30.208942'], ['120.589424', '30.207178'], ['120.589478', '30.206875'], ['120.589493', '30.2068'], ['120.589539', '30.206549'], ['120.590294', '30.202768'], ['120.590561', '30.201416'], ['120.591324', '30.197514'], ['120.59137', '30.197313'], ['120.591515', '30.196598'], ['120.591606', '30.19599'], ['120.59169', '30.195391'], ['120.592056', '30.191219'], ['120.592064', '30.191151'], ['120.592125', '30.19043'], ['120.592285', '30.188652'], ['120.592545', '30.185583'], ['120.592644', '30.184462'], ['120.59288', '30.181501'], ['120.592957', '30.180578'], ['120.593056', '30.17944'], ['120.593063', '30.179344'], ['120.593086', '30.179153'], ['120.593292', '30.17684'], ['120.59346', '30.174835'], ['120.593529', '30.174007'], ['120.593582', '30.173498'], ['120.593628', '30.172817'], ['120.593689', '30.172167'], ['120.593811', '30.170542'], ['120.593834', '30.170313'], ['120.593918', '30.1703'], ['120.594383', '30.170242'], ['120.595825', '30.170053'], ['120.596474', '30.16997'], ['120.597313', '30.169888'], ['120.599236', '30.169735'], ['120.600471', '30.169636'], ['120.600807', '30.1696'], ['120.601334', '30.169544'], ['120.601768', '30.169476'], ['120.60215', '30.16939'], ['120.603683', '30.168993'], ['120.605049', '30.168638'], ['120.605743', '30.168455'], ['120.605911', '30.168411'], ['120.60791', '30.167904'], ['120.608376', '30.167778'], ['120.608803', '30.167673'], ['120.610474', '30.167231'], ['120.611778', '30.166893'], ['120.612747', '30.166645'], ['120.612946', '30.166594'], ['120.613289', '30.166506'], ['120.613617', '30.16643'], ['120.613777', '30.166342'], ['120.615112', '30.165968'], ['120.615479', '30.165825'], ['120.615852', '30.165661'], ['120.616348', '30.165405'], ['120.616631', '30.165226'], ['120.616959', '30.164991'], ['120.617218', '30.164791'], ['120.618073', '30.164059'], ['120.618507', '30.163679'], ['120.618546', '30.16363'], ['120.619148', '30.163082'], ['120.619713', '30.162596'], ['120.619797', '30.162596'], ['120.620041', '30.162378'], ['120.621002', '30.161589'], ['120.621239', '30.161394'], ['120.621277', '30.161337'], ['120.621368', '30.161245'], ['120.622101', '30.160656'], ['120.622444', '30.160425'], ['120.622559', '30.160347'], ['120.623024', '30.16004'], ['120.624313', '30.159121'], ['120.624939', '30.158703'], ['120.625015', '30.158684'], ['120.626808', '30.157719'], ['120.627228', '30.157513'], ['120.627319', '30.157469'], ['120.627464', '30.1574'], ['120.628296', '30.156836'], ['120.628418', '30.156731'], ['120.628868', '30.156389'], ['120.629082', '30.156193'], ['120.629166', '30.156116'], ['120.629662', '30.155647'], ['120.62973', '30.155582'], ['120.629883', '30.155409'], ['120.630348', '30.154873'], ['120.630745', '30.1544'], ['120.631134', '30.153807'], ['120.631233', '30.153702'], ['120.634972', '30.157469'], ['120.635567', '30.15807'], ['120.635567', '30.15807'], ['120.636299', '30.157469'], ['120.639671', '30.154692'], ['120.640625', '30.153938'], ['120.641197', '30.153488'], ['120.641815', '30.153042'], ['120.644356', '30.151011'], ['120.644417', '30.150969'], ['120.645111', '30.150404'], ['120.645538', '30.150108'], ['120.64637', '30.149582'], ['120.646973', '30.149261'], ['120.647537', '30.148975'], ['120.647964', '30.148785'], ['120.649063', '30.148373'], ['120.649811', '30.148043'], ['120.650589', '30.147682'], ['120.651176', '30.147383'], ['120.651566', '30.147158'], ['120.651855', '30.14698'], ['120.652641', '30.146484'], ['120.653801', '30.145742'], ['120.654839', '30.14506'], ['120.65567', '30.144476'], ['120.659012', '30.142262'], ['120.662605', '30.139877'], ['120.66832', '30.136089'], ['120.668877', '30.135689'], ['120.669128', '30.135496'], ['120.670197', '30.134657'], ['120.671097', '30.133921'], ['120.673828', '30.131754'], ['120.67408', '30.131554'], ['120.675697', '30.13036'], ['120.677094', '30.129379'], ['120.678314', '30.12846'], ['120.678368', '30.128416'], ['120.678825', '30.128059'], ['120.680222', '30.127035'], ['120.681366', '30.126242'], ['120.682175', '30.125719'], ['120.683281', '30.12505'], ['120.684204', '30.124517'], ['120.684219', '30.12451'], ['120.685059', '30.124054'], ['120.685997', '30.123571'], ['120.687828', '30.122713'], ['120.688774', '30.122305'], ['120.689804', '30.121899'], ['120.690773', '30.121536'], ['120.692398', '30.120985'], ['120.693024', '30.120806'], ['120.693024', '30.120806'], ['120.693001', '30.118872'], ['120.692986', '30.114786'], ['120.692978', '30.113525'], ['120.69297', '30.112635'], ['120.69297', '30.111832'], ['120.692947', '30.111454'], ['120.692818', '30.1106'], ['120.692726', '30.110237'], ['120.692596', '30.10984'], ['120.692215', '30.108875'], ['120.692215', '30.108776'], ['120.69223', '30.108646'], ['120.69223', '30.108646'], ['120.691826', '30.108282'], ['120.690872', '30.107353'], ['120.690727', '30.107214'], ['120.690071', '30.106594'], ['120.689392', '30.105898'], ['120.688225', '30.10454'], ['120.687813', '30.104063'], ['120.68734', '30.103512'], ['120.686501', '30.102539'], ['120.681763', '30.097'], ['120.67955', '30.094448'], ['120.679077', '30.093903'], ['120.67881', '30.093552'], ['120.678551', '30.093178'], ['120.678291', '30.092764'], ['120.678101', '30.092419'], ['120.677925', '30.092075'], ['120.677742', '30.09164'], ['120.677704', '30.091549'], ['120.677582', '30.091198'], ['120.677406', '30.090591'], ['120.677132', '30.089676'], ['120.676933', '30.089003'], ['120.676918', '30.088928'], ['120.675926', '30.08511'], ['120.675499', '30.083569'], ['120.675491', '30.083538'], ['120.67495', '30.081585'], ['120.674728', '30.080769'], ['120.674675', '30.080564'], ['120.674469', '30.079823'], ['120.674202', '30.07884'], ['120.673828', '30.077414'], ['120.673744', '30.077101'], ['120.672356', '30.071987'], ['120.671669', '30.069578'], ['120.671097', '30.067556'], ['120.671097', '30.067556'], ['120.669777', '30.067915'], ['120.669273', '30.06805'], ['120.668648', '30.068224'], ['120.665916', '30.068962'], ['120.663681', '30.069578'], ['120.661903', '30.070082'], ['120.659828', '30.070669'], ['120.658791', '30.070965'], ['120.658691', '30.07099'], ['120.657593', '30.071299'], ['120.656235', '30.071726'], ['120.654877', '30.072149'], ['120.651855', '30.073092'], ['120.651527', '30.073196'], ['120.651482', '30.073202'], ['120.648567', '30.074127'], ['120.64698', '30.074657'], ['120.645554', '30.075191'], ['120.644089', '30.075783'], ['120.643394', '30.07608'], ['120.643333', '30.076107'], ['120.641891', '30.076744'], ['120.640427', '30.0774'], ['120.634598', '30.080004'], ['120.633461', '30.080479'], ['120.633255', '30.080564'], ['120.632904', '30.080708'], ['120.63179', '30.081133'], ['120.63118', '30.081347'], ['120.629883', '30.081776'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>