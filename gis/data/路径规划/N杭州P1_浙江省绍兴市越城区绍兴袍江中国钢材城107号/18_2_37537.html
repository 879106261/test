<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460754', '30.251024'], ['120.461823', '30.250793'], ['120.463257', '30.250496'], ['120.464226', '30.250313'], ['120.465088', '30.25017'], ['120.465866', '30.250055'], ['120.466927', '30.249941'], ['120.468109', '30.24984'], ['120.470596', '30.24968'], ['120.47097', '30.249662'], ['120.471359', '30.249636'], ['120.471855', '30.249609'], ['120.474915', '30.249413'], ['120.476074', '30.249344'], ['120.477821', '30.249214'], ['120.477821', '30.249214'], ['120.479126', '30.249071'], ['120.481644', '30.248772'], ['120.482765', '30.248632'], ['120.483414', '30.248556'], ['120.484329', '30.248451'], ['120.485825', '30.248268'], ['120.487541', '30.24803'], ['120.488564', '30.247847'], ['120.489784', '30.247564'], ['120.490089', '30.247482'], ['120.490898', '30.247213'], ['120.496216', '30.245359'], ['120.496834', '30.245138'], ['120.497696', '30.244827'], ['120.498047', '30.244705'], ['120.499817', '30.244085'], ['120.50119', '30.243643'], ['120.501572', '30.243525'], ['120.502853', '30.243143'], ['120.504326', '30.242764'], ['120.505646', '30.242474'], ['120.506691', '30.242268'], ['120.50811', '30.242031'], ['120.508629', '30.241953'], ['120.51046', '30.241722'], ['120.511452', '30.241568'], ['120.517334', '30.240755'], ['120.518616', '30.240551'], ['120.52002', '30.240295'], ['120.520546', '30.2402'], ['120.520912', '30.240122'], ['120.521011', '30.24004'], ['120.521263', '30.239862'], ['120.52137', '30.239769'], ['120.521461', '30.239666'], ['120.521523', '30.239563'], ['120.521637', '30.239302'], ['120.52169', '30.239206'], ['120.521751', '30.239136'], ['120.521828', '30.239075'], ['120.521927', '30.239021'], ['120.522079', '30.238976'], ['120.523323', '30.238703'], ['120.523643', '30.238628'], ['120.523643', '30.238628'], ['120.523079', '30.237846'], ['120.521759', '30.236038'], ['120.520966', '30.234926'], ['120.520569', '30.234375'], ['120.520081', '30.233681'], ['120.52002', '30.233606'], ['120.519638', '30.233124'], ['120.519493', '30.232738'], ['120.519218', '30.231823'], ['120.519066', '30.231253'], ['120.518738', '30.23037'], ['120.51857', '30.229782'], ['120.518456', '30.229254'], ['120.51841', '30.228903'], ['120.518295', '30.228138'], ['120.51825', '30.227924'], ['120.518143', '30.227547'], ['120.518005', '30.227276'], ['120.517815', '30.226976'], ['120.517548', '30.226622'], ['120.51722', '30.226137'], ['120.516602', '30.225178'], ['120.516487', '30.224968'], ['120.516045', '30.223833'], ['120.515877', '30.223387'], ['120.515465', '30.222361'], ['120.515221', '30.221697'], ['120.514946', '30.22106'], ['120.514816', '30.220741'], ['120.514435', '30.219553'], ['120.514328', '30.219223'], ['120.514214', '30.218897'], ['120.514076', '30.218565'], ['120.513962', '30.218351'], ['120.513855', '30.218147'], ['120.513245', '30.217079'], ['120.51265', '30.216129'], ['120.512604', '30.216011'], ['120.512566', '30.215855'], ['120.512512', '30.215174'], ['120.512451', '30.214409'], ['120.512383', '30.214102'], ['120.512222', '30.213737'], ['120.512054', '30.213465'], ['120.511726', '30.212978'], ['120.511475', '30.212532'], ['120.511406', '30.2124'], ['120.511261', '30.212109'], ['120.511124', '30.211857'], ['120.510735', '30.211147'], ['120.510155', '30.209854'], ['120.509674', '30.208838'], ['120.509315', '30.208128'], ['120.508675', '30.206926'], ['120.507965', '30.205624'], ['120.507263', '30.204308'], ['120.506386', '30.202696'], ['120.506226', '30.202396'], ['120.505981', '30.201893'], ['120.50573', '30.201416'], ['120.505028', '30.200083'], ['120.504326', '30.198675'], ['120.50399', '30.198029'], ['120.503616', '30.197287'], ['120.503479', '30.197014'], ['120.503319', '30.196766'], ['120.502899', '30.196142'], ['120.502533', '30.195688'], ['120.501549', '30.194632'], ['120.501312', '30.194326'], ['120.501175', '30.194084'], ['120.500679', '30.193199'], ['120.500519', '30.192982'], ['120.500381', '30.192833'], ['120.500175', '30.192499'], ['120.499474', '30.190605'], ['120.499413', '30.19043'], ['120.499306', '30.190165'], ['120.498711', '30.188599'], ['120.498444', '30.187901'], ['120.498344', '30.187635'], ['120.498291', '30.18749'], ['120.498184', '30.187231'], ['120.498047', '30.186897'], ['120.497963', '30.18671'], ['120.497597', '30.185764'], ['120.497414', '30.185274'], ['120.496841', '30.183781'], ['120.496445', '30.182804'], ['120.496391', '30.182669'], ['120.496193', '30.182171'], ['120.496017', '30.181681'], ['120.495949', '30.181484'], ['120.495872', '30.181293'], ['120.495644', '30.180702'], ['120.495461', '30.180204'], ['120.495163', '30.17944'], ['120.494904', '30.178785'], ['120.494438', '30.177645'], ['120.493439', '30.175064'], ['120.493065', '30.174093'], ['120.493065', '30.174093'], ['120.492943', '30.173794'], ['120.492905', '30.173685'], ['120.493103', '30.173653'], ['120.493767', '30.173552'], ['120.494308', '30.173471'], ['120.495491', '30.173288'], ['120.496765', '30.173092'], ['120.497238', '30.172995'], ['120.497948', '30.1728'], ['120.498047', '30.17277'], ['120.500092', '30.172157'], ['120.501976', '30.171589'], ['120.502533', '30.171415'], ['120.503288', '30.171185'], ['120.503883', '30.171001'], ['120.504318', '30.170874'], ['120.504784', '30.170732'], ['120.505508', '30.170507'], ['120.506241', '30.170292'], ['120.507538', '30.169891'], ['120.50782', '30.169804'], ['120.508492', '30.1696'], ['120.50856', '30.169571'], ['120.509155', '30.16939'], ['120.509308', '30.169336'], ['120.509521', '30.169235'], ['120.509781', '30.169098'], ['120.509995', '30.168953'], ['120.510185', '30.168816'], ['120.510353', '30.168657'], ['120.510544', '30.168455'], ['120.510674', '30.168282'], ['120.510895', '30.167891'], ['120.510986', '30.167686'], ['120.511047', '30.1675'], ['120.511086', '30.167309'], ['120.511108', '30.167091'], ['120.511124', '30.166662'], ['120.511124', '30.166298'], ['120.511124', '30.164513'], ['120.511124', '30.164202'], ['120.511108', '30.163702'], ['120.511108', '30.161858'], ['120.511124', '30.160933'], ['120.511177', '30.160677'], ['120.51123', '30.160551'], ['120.511375', '30.160334'], ['120.511467', '30.160231'], ['120.51162', '30.160112'], ['120.511864', '30.159969'], ['120.512077', '30.159901'], ['120.512077', '30.159901'], ['120.511253', '30.159681'], ['120.511208', '30.159676'], ['120.511307', '30.159176'], ['120.511368', '30.158798'], ['120.511398', '30.158388'], ['120.511383', '30.158043'], ['120.511353', '30.157618'], ['120.51133', '30.157469'], ['120.511322', '30.157331'], ['120.511269', '30.156836'], ['120.511261', '30.156567'], ['120.511253', '30.156261'], ['120.511261', '30.156038'], ['120.511292', '30.155352'], ['120.511314', '30.155127'], ['120.511368', '30.154749'], ['120.511375', '30.154696'], ['120.511421', '30.154558'], ['120.511475', '30.154404'], ['120.511757', '30.15357'], ['120.512054', '30.152851'], ['120.51226', '30.152336'], ['120.51226', '30.152336'], ['120.512238', '30.152109'], ['120.512215', '30.152014'], ['120.512123', '30.151836'], ['120.511475', '30.151358'], ['120.509743', '30.150118'], ['120.508522', '30.149244'], ['120.508011', '30.14887'], ['120.507759', '30.148693'], ['120.505661', '30.147182'], ['120.504684', '30.146484'], ['120.504433', '30.146297'], ['120.504318', '30.146219'], ['120.504257', '30.146166'], ['120.503662', '30.145742'], ['120.502762', '30.145031'], ['120.502647', '30.144922'], ['120.502457', '30.144712'], ['120.502251', '30.144463'], ['120.502098', '30.144236'], ['120.50193', '30.14395'], ['120.501732', '30.143541'], ['120.501595', '30.14315'], ['120.501183', '30.141827'], ['120.500977', '30.141148'], ['120.500366', '30.139158'], ['120.500099', '30.138224'], ['120.500061', '30.138142'], ['120.499802', '30.13711'], ['120.499641', '30.136497'], ['120.499428', '30.135769'], ['120.499336', '30.135496'], ['120.499237', '30.135164'], ['120.498833', '30.134167'], ['120.498604', '30.133606'], ['120.498444', '30.133211'], ['120.498245', '30.132713'], ['120.498116', '30.132374'], ['120.498047', '30.132196'], ['120.497643', '30.131189'], ['120.497467', '30.130716'], ['120.497253', '30.130178'], ['120.496941', '30.129345'], ['120.496712', '30.128712'], ['120.496597', '30.128403'], ['120.496483', '30.128107'], ['120.496338', '30.127714'], ['120.49617', '30.127275'], ['120.496017', '30.126854'], ['120.495918', '30.126598'], ['120.495903', '30.126539'], ['120.495491', '30.125433'], ['120.495461', '30.125313'], ['120.49527', '30.124823'], ['120.495216', '30.124681'], ['120.495163', '30.12451'], ['120.495033', '30.124153'], ['120.49485', '30.123653'], ['120.494598', '30.122911'], ['120.494423', '30.122444'], ['120.494286', '30.122053'], ['120.494255', '30.122'], ['120.49408', '30.121471'], ['120.493988', '30.121172'], ['120.49395', '30.120964'], ['120.493912', '30.120802'], ['120.493813', '30.120304'], ['120.493614', '30.119331'], ['120.493256', '30.117895'], ['120.492912', '30.116697'], ['120.492493', '30.115318'], ['120.492348', '30.114878'], ['120.49205', '30.113945'], ['120.49192', '30.113525'], ['120.491829', '30.113173'], ['120.491829', '30.113173'], ['120.491623', '30.113186'], ['120.491379', '30.113237'], ['120.491295', '30.113293'], ['120.491257', '30.113342'], ['120.491211', '30.113476'], ['120.491211', '30.113525'], ['120.491234', '30.113638'], ['120.491623', '30.114878'], ['120.491692', '30.115055'], ['120.493103', '30.114697'], ['120.493164', '30.114683'], ['120.494888', '30.114248'], ['120.497734', '30.113525'], ['120.498047', '30.113441'], ['120.498657', '30.113285'], ['120.503372', '30.112091'], ['120.504311', '30.111845'], ['120.505585', '30.111481'], ['120.50573', '30.111435'], ['120.505882', '30.111389'], ['120.507408', '30.110889'], ['120.508041', '30.110661'], ['120.508339', '30.110546'], ['120.508766', '30.110386'], ['120.509995', '30.109892'], ['120.510361', '30.109726'], ['120.511536', '30.109207'], ['120.512337', '30.108829'], ['120.514694', '30.107613'], ['120.515671', '30.107109'], ['120.516998', '30.106415'], ['120.517448', '30.106194'], ['120.518639', '30.105633'], ['120.5187', '30.1056'], ['120.51931', '30.105324'], ['120.52002', '30.105032'], ['120.520149', '30.104979'], ['120.521843', '30.104322'], ['120.523254', '30.103844'], ['120.523804', '30.103676'], ['120.524345', '30.103502'], ['120.525139', '30.103277'], ['120.527206', '30.102757'], ['120.52829', '30.102539'], ['120.529343', '30.102322'], ['120.531433', '30.101986'], ['120.531944', '30.101927'], ['120.53373', '30.101715'], ['120.534157', '30.101675'], ['120.536385', '30.101416'], ['120.536545', '30.101393'], ['120.541618', '30.100828'], ['120.541725', '30.100821'], ['120.541992', '30.100794'], ['120.544472', '30.100525'], ['120.54937', '30.099974'], ['120.550842', '30.099804'], ['120.554146', '30.099436'], ['120.555412', '30.099293'], ['120.55677', '30.099119'], ['120.559372', '30.098715'], ['120.559944', '30.098619'], ['120.560661', '30.098494'], ['120.562775', '30.098097'], ['120.563965', '30.09786'], ['120.565208', '30.097609'], ['120.567207', '30.0972'], ['120.569511', '30.096758'], ['120.569603', '30.096748'], ['120.570084', '30.096666'], ['120.57122', '30.096476'], ['120.572495', '30.096302'], ['120.574272', '30.096107'], ['120.576424', '30.095947'], ['120.577225', '30.095894'], ['120.577766', '30.095865'], ['120.578171', '30.095839'], ['120.579376', '30.095768'], ['120.580498', '30.09569'], ['120.581108', '30.095655'], ['120.583694', '30.095488'], ['120.584557', '30.095387'], ['120.585075', '30.095304'], ['120.585495', '30.0952'], ['120.585846', '30.0951'], ['120.585938', '30.095074'], ['120.586357', '30.094927'], ['120.586586', '30.094839'], ['120.587105', '30.094595'], ['120.587273', '30.094513'], ['120.587875', '30.094152'], ['120.588165', '30.093958'], ['120.588524', '30.093689'], ['120.589081', '30.093178'], ['120.58947', '30.09277'], ['120.589638', '30.09255'], ['120.589905', '30.092186'], ['120.590332', '30.091549'], ['120.590652', '30.091042'], ['120.590897', '30.090651'], ['120.591232', '30.090178'], ['120.591637', '30.089708'], ['120.591965', '30.089384'], ['120.592361', '30.089027'], ['120.592766', '30.088711'], ['120.593353', '30.088324'], ['120.593727', '30.088112'], ['120.594406', '30.087786'], ['120.595207', '30.087479'], ['120.595894', '30.087292'], ['120.596321', '30.087196'], ['120.596565', '30.087152'], ['120.597244', '30.087067'], ['120.597885', '30.087023'], ['120.600334', '30.086985'], ['120.601784', '30.086975'], ['120.601883', '30.086975'], ['120.60247', '30.086971'], ['120.603432', '30.086967'], ['120.605003', '30.086948'], ['120.605179', '30.086931'], ['120.605545', '30.08688'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.62439', '30.083311'], ['120.624779', '30.085005'], ['120.624779', '30.085005'], ['120.624916', '30.084991'], ['120.625198', '30.084949'], ['120.625473', '30.084877'], ['120.625504', '30.084858'], ['120.625366', '30.084244'], ['120.625313', '30.084026'], ['120.625305', '30.083948'], ['120.625328', '30.083925'], ['120.625771', '30.083824'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>