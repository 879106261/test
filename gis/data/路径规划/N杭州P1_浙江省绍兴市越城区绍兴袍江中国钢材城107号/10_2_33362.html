<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460754', '30.251024'], ['120.461823', '30.250793'], ['120.463257', '30.250496'], ['120.464226', '30.250313'], ['120.465088', '30.25017'], ['120.465866', '30.250055'], ['120.466927', '30.249941'], ['120.468109', '30.24984'], ['120.470596', '30.24968'], ['120.47097', '30.249662'], ['120.471359', '30.249636'], ['120.471855', '30.249609'], ['120.474915', '30.249413'], ['120.476074', '30.249344'], ['120.477821', '30.249214'], ['120.477821', '30.249214'], ['120.479126', '30.249071'], ['120.481644', '30.248772'], ['120.482765', '30.248632'], ['120.483414', '30.248556'], ['120.484329', '30.248451'], ['120.485825', '30.248268'], ['120.487541', '30.24803'], ['120.488564', '30.247847'], ['120.489784', '30.247564'], ['120.490089', '30.247482'], ['120.490898', '30.247213'], ['120.496216', '30.245359'], ['120.496834', '30.245138'], ['120.497696', '30.244827'], ['120.498047', '30.244705'], ['120.499817', '30.244085'], ['120.50119', '30.243643'], ['120.501572', '30.243525'], ['120.502853', '30.243143'], ['120.504326', '30.242764'], ['120.505646', '30.242474'], ['120.506691', '30.242268'], ['120.50811', '30.242031'], ['120.508629', '30.241953'], ['120.51046', '30.241722'], ['120.511452', '30.241568'], ['120.517334', '30.240755'], ['120.518616', '30.240551'], ['120.52002', '30.240295'], ['120.520546', '30.2402'], ['120.520912', '30.240122'], ['120.5224', '30.239813'], ['120.523079', '30.239662'], ['120.523651', '30.239544'], ['120.524353', '30.239393'], ['120.53054', '30.238064'], ['120.532234', '30.237696'], ['120.532524', '30.237635'], ['120.532524', '30.237635'], ['120.532959', '30.237547'], ['120.536766', '30.23674'], ['120.538124', '30.236435'], ['120.538994', '30.236233'], ['120.539841', '30.236038'], ['120.541992', '30.2355'], ['120.546539', '30.234375'], ['120.546738', '30.234322'], ['120.54792', '30.234026'], ['120.548401', '30.233912'], ['120.548477', '30.233892'], ['120.548859', '30.233803'], ['120.549339', '30.233685'], ['120.551277', '30.233202'], ['120.553291', '30.232729'], ['120.55394', '30.232605'], ['120.554306', '30.232536'], ['120.555237', '30.232353'], ['120.55542', '30.232323'], ['120.556183', '30.232271'], ['120.556183', '30.232271'], ['120.556366', '30.232277'], ['120.55677', '30.232317'], ['120.557053', '30.232313'], ['120.557556', '30.2323'], ['120.558571', '30.232317'], ['120.55864', '30.232323'], ['120.559341', '30.232365'], ['120.560432', '30.232445'], ['120.560837', '30.23247'], ['120.563965', '30.232681'], ['120.564377', '30.232708'], ['120.566223', '30.232834'], ['120.567772', '30.232973'], ['120.568779', '30.233042'], ['120.569885', '30.233095'], ['120.573586', '30.233356'], ['120.574615', '30.233438'], ['120.576035', '30.233515'], ['120.578072', '30.233658'], ['120.583191', '30.234022'], ['120.584312', '30.234093'], ['120.584312', '30.234022'], ['120.584328', '30.233852'], ['120.584496', '30.2325'], ['120.584579', '30.231991'], ['120.584793', '30.230961'], ['120.58493', '30.230291'], ['120.585022', '30.229822'], ['120.585442', '30.227764'], ['120.58551', '30.227436'], ['120.585739', '30.226219'], ['120.585938', '30.225286'], ['120.586311', '30.223387'], ['120.586441', '30.222752'], ['120.586517', '30.222355'], ['120.586578', '30.222092'], ['120.586815', '30.220839'], ['120.586884', '30.220533'], ['120.58699', '30.219995'], ['120.587059', '30.219654'], ['120.587288', '30.218506'], ['120.587463', '30.217636'], ['120.587761', '30.216202'], ['120.588013', '30.214869'], ['120.588135', '30.213779'], ['120.588165', '30.213507'], ['120.588356', '30.212496'], ['120.588371', '30.2124'], ['120.588455', '30.212017'], ['120.589073', '30.208942'], ['120.589424', '30.207178'], ['120.589478', '30.206875'], ['120.589493', '30.2068'], ['120.589539', '30.206549'], ['120.590294', '30.202768'], ['120.590561', '30.201416'], ['120.591324', '30.197514'], ['120.59137', '30.197313'], ['120.591515', '30.196598'], ['120.591606', '30.19599'], ['120.59169', '30.195391'], ['120.592056', '30.191219'], ['120.592064', '30.191151'], ['120.592125', '30.19043'], ['120.592285', '30.188652'], ['120.592545', '30.185583'], ['120.592644', '30.184462'], ['120.59288', '30.181501'], ['120.592957', '30.180578'], ['120.593056', '30.17944'], ['120.593063', '30.179344'], ['120.593086', '30.179153'], ['120.593292', '30.17684'], ['120.59346', '30.174835'], ['120.593529', '30.174007'], ['120.593582', '30.173498'], ['120.593628', '30.172817'], ['120.593689', '30.172167'], ['120.593811', '30.170542'], ['120.593834', '30.170313'], ['120.593872', '30.16984'], ['120.593918', '30.169313'], ['120.594002', '30.168455'], ['120.594009', '30.168386'], ['120.594025', '30.168192'], ['120.594124', '30.167013'], ['120.594124', '30.166416'], ['120.594063', '30.16588'], ['120.594131', '30.165869'], ['120.594193', '30.165655'], ['120.594246', '30.165133'], ['120.594276', '30.164627'], ['120.594315', '30.164162'], ['120.594315', '30.164089'], ['120.594315', '30.163958'], ['120.594398', '30.162399'], ['120.594406', '30.162174'], ['120.594437', '30.161566'], ['120.594498', '30.160433'], ['120.594566', '30.159317'], ['120.594627', '30.157883'], ['120.594627', '30.157469'], ['120.594627', '30.157454'], ['120.594627', '30.157036'], ['120.594566', '30.155821'], ['120.594452', '30.154709'], ['120.594337', '30.154003'], ['120.594238', '30.153341'], ['120.59407', '30.152626'], ['120.593819', '30.151657'], ['120.593704', '30.151262'], ['120.593536', '30.150738'], ['120.593315', '30.149927'], ['120.593246', '30.149635'], ['120.593246', '30.149635'], ['120.595482', '30.149363'], ['120.597511', '30.149107'], ['120.597656', '30.149036'], ['120.597763', '30.148979'], ['120.600456', '30.14852'], ['120.601837', '30.148319'], ['120.602608', '30.148243'], ['120.603279', '30.14823'], ['120.603699', '30.148251'], ['120.604286', '30.148319'], ['120.604393', '30.148329'], ['120.604523', '30.148298'], ['120.604652', '30.148237'], ['120.605148', '30.147909'], ['120.605522', '30.147692'], ['120.60791', '30.146524'], ['120.607994', '30.146484'], ['120.608551', '30.146206'], ['120.608627', '30.14616'], ['120.608856', '30.146034'], ['120.60907', '30.145874'], ['120.609695', '30.145273'], ['120.60994', '30.145008'], ['120.610023', '30.144926'], ['120.610512', '30.14465'], ['120.610931', '30.144453'], ['120.611229', '30.144335'], ['120.612068', '30.143976'], ['120.61232', '30.143803'], ['120.613121', '30.143082'], ['120.613792', '30.142586'], ['120.614021', '30.142448'], ['120.614082', '30.142313'], ['120.6147', '30.141794'], ['120.615074', '30.141485'], ['120.616508', '30.140255'], ['120.617455', '30.139448'], ['120.61953', '30.137543'], ['120.61985', '30.137262'], ['120.620331', '30.136885'], ['120.62072', '30.136618'], ['120.622398', '30.135496'], ['120.622505', '30.135424'], ['120.622864', '30.135164'], ['120.623238', '30.13484'], ['120.624222', '30.133942'], ['120.625458', '30.132809'], ['120.625717', '30.132605'], ['120.626122', '30.132292'], ['120.628296', '30.130806'], ['120.62854', '30.130615'], ['120.628731', '30.130442'], ['120.628906', '30.130264'], ['120.629082', '30.130039'], ['120.629211', '30.129873'], ['120.62957', '30.129244'], ['120.629677', '30.129057'], ['120.62973', '30.128948'], ['120.629829', '30.128784'], ['120.629883', '30.128706'], ['120.630684', '30.127337'], ['120.631256', '30.126347'], ['120.632286', '30.12451'], ['120.632286', '30.1245'], ['120.632492', '30.124125'], ['120.633499', '30.12237'], ['120.634239', '30.121075'], ['120.634811', '30.12007'], ['120.635925', '30.118137'], ['120.635925', '30.11812'], ['120.636688', '30.116817'], ['120.637108', '30.116066'], ['120.637337', '30.115707'], ['120.637566', '30.115387'], ['120.637901', '30.114944'], ['120.638206', '30.114595'], ['120.638443', '30.114344'], ['120.638916', '30.113894'], ['120.639381', '30.113525'], ['120.639984', '30.113043'], ['120.639984', '30.113043'], ['120.639008', '30.112387'], ['120.63855', '30.112091'], ['120.638123', '30.111809'], ['120.637527', '30.111423'], ['120.636459', '30.110723'], ['120.636276', '30.110596'], ['120.635559', '30.110117'], ['120.63517', '30.109827'], ['120.634506', '30.109272'], ['120.63446', '30.109226'], ['120.634125', '30.108892'], ['120.633736', '30.108456'], ['120.633286', '30.107887'], ['120.632797', '30.107145'], ['120.632782', '30.107119'], ['120.632652', '30.106863'], ['120.632095', '30.105701'], ['120.631844', '30.105122'], ['120.630676', '30.102539'], ['120.630089', '30.10125'], ['120.629883', '30.100773'], ['120.629372', '30.099596'], ['120.629341', '30.099531'], ['120.629234', '30.099266'], ['120.629082', '30.098911'], ['120.628021', '30.096203'], ['120.626816', '30.093164'], ['120.626663', '30.092777'], ['120.62635', '30.091936'], ['120.626213', '30.091549'], ['120.626068', '30.091097'], ['120.626053', '30.091066'], ['120.625877', '30.090418'], ['120.625725', '30.08984'], ['120.625076', '30.087'], ['120.624977', '30.086563'], ['120.624741', '30.085501'], ['120.624619', '30.085026'], ['120.624252', '30.083347'], ['120.624367', '30.083174'], ['120.62542', '30.082878'], ['120.628021', '30.082172'], ['120.629082', '30.081875'], ['120.629395', '30.081772'], ['120.62944', '30.081913'], ['120.629166', '30.082001'], ['120.629082', '30.082022'], ['120.628426', '30.082199'], ['120.625458', '30.082996'], ['120.625458', '30.082996'], ['120.625633', '30.08345'], ['120.625679', '30.083551'], ['120.625748', '30.083767'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>