<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460617', '30.245642'], ['120.460655', '30.24719'], ['120.460655', '30.247608'], ['120.46067', '30.248051'], ['120.460686', '30.248575'], ['120.460762', '30.250933'], ['120.460754', '30.251024'], ['120.461823', '30.250793'], ['120.463257', '30.250496'], ['120.464226', '30.250313'], ['120.465088', '30.25017'], ['120.465866', '30.250055'], ['120.466927', '30.249941'], ['120.468109', '30.24984'], ['120.470596', '30.24968'], ['120.47097', '30.249662'], ['120.471359', '30.249636'], ['120.471855', '30.249609'], ['120.474915', '30.249413'], ['120.476074', '30.249344'], ['120.477821', '30.249214'], ['120.477821', '30.249214'], ['120.479126', '30.249071'], ['120.481644', '30.248772'], ['120.482765', '30.248632'], ['120.483414', '30.248556'], ['120.484329', '30.248451'], ['120.485825', '30.248268'], ['120.487541', '30.24803'], ['120.488564', '30.247847'], ['120.489784', '30.247564'], ['120.490089', '30.247482'], ['120.490898', '30.247213'], ['120.496216', '30.245359'], ['120.496834', '30.245138'], ['120.497696', '30.244827'], ['120.498047', '30.244705'], ['120.499817', '30.244085'], ['120.50119', '30.243643'], ['120.501572', '30.243525'], ['120.502853', '30.243143'], ['120.504326', '30.242764'], ['120.505646', '30.242474'], ['120.506691', '30.242268'], ['120.50811', '30.242031'], ['120.508629', '30.241953'], ['120.51046', '30.241722'], ['120.511452', '30.241568'], ['120.517334', '30.240755'], ['120.518616', '30.240551'], ['120.52002', '30.240295'], ['120.520546', '30.2402'], ['120.520912', '30.240122'], ['120.5224', '30.239813'], ['120.523079', '30.239662'], ['120.523651', '30.239544'], ['120.524353', '30.239393'], ['120.53054', '30.238064'], ['120.532234', '30.237696'], ['120.532524', '30.237635'], ['120.532524', '30.237635'], ['120.532677', '30.23757'], ['120.532791', '30.237513'], ['120.533066', '30.237387'], ['120.534012', '30.237118'], ['120.534264', '30.237036'], ['120.534515', '30.236954'], ['120.535179', '30.236702'], ['120.535179', '30.236702'], ['120.534958', '30.236185'], ['120.534752', '30.235634'], ['120.534569', '30.235048'], ['120.534348', '30.234375'], ['120.53434', '30.234344'], ['120.534103', '30.233671'], ['120.533928', '30.23315'], ['120.533333', '30.231398'], ['120.533157', '30.230846'], ['120.532967', '30.230261'], ['120.532745', '30.229605'], ['120.532623', '30.22924'], ['120.532318', '30.228338'], ['120.532295', '30.228264'], ['120.532127', '30.227768'], ['120.532036', '30.227488'], ['120.531609', '30.226185'], ['120.531273', '30.225204'], ['120.530762', '30.223684'], ['120.530655', '30.223387'], ['120.530563', '30.223087'], ['120.530106', '30.221716'], ['120.529884', '30.221056'], ['120.529343', '30.219421'], ['120.528931', '30.21821'], ['120.528877', '30.218042'], ['120.528419', '30.216658'], ['120.528252', '30.21616'], ['120.528084', '30.215651'], ['120.527893', '30.215099'], ['120.527786', '30.214769'], ['120.527641', '30.214357'], ['120.527298', '30.213398'], ['120.527008', '30.212631'], ['120.526901', '30.2124'], ['120.526741', '30.212023'], ['120.526161', '30.210825'], ['120.525749', '30.210064'], ['120.525368', '30.209393'], ['120.524834', '30.208534'], ['120.524223', '30.207619'], ['120.523712', '30.206861'], ['120.522728', '30.2054'], ['120.522385', '30.204863'], ['120.52224', '30.204618'], ['120.522087', '30.204311'], ['120.521919', '30.203838'], ['120.521858', '30.20356'], ['120.521721', '30.202805'], ['120.521629', '30.202084'], ['120.521545', '30.201571'], ['120.52153', '30.201416'], ['120.521446', '30.200834'], ['120.521149', '30.198671'], ['120.521004', '30.197733'], ['120.520683', '30.195492'], ['120.5205', '30.19412'], ['120.520294', '30.192778'], ['120.520157', '30.192085'], ['120.52002', '30.191484'], ['120.519997', '30.191416'], ['120.519814', '30.190716'], ['120.519722', '30.19043'], ['120.519722', '30.190409'], ['120.519478', '30.189577'], ['120.519295', '30.188967'], ['120.519188', '30.18858'], ['120.518921', '30.187635'], ['120.518646', '30.186703'], ['120.518082', '30.184662'], ['120.518021', '30.184484'], ['120.517807', '30.183712'], ['120.517372', '30.182178'], ['120.517128', '30.18128'], ['120.516701', '30.17944'], ['120.516319', '30.177704'], ['120.516251', '30.177368'], ['120.516144', '30.176893'], ['120.516014', '30.176338'], ['120.515945', '30.175985'], ['120.515556', '30.174158'], ['120.515228', '30.172474'], ['120.51506', '30.17164'], ['120.514694', '30.169786'], ['120.514648', '30.169662'], ['120.514549', '30.169453'], ['120.514549', '30.169453'], ['120.514488', '30.169418'], ['120.514465', '30.169399'], ['120.514465', '30.169399'], ['120.514061', '30.169384'], ['120.513229', '30.169498'], ['120.513031', '30.169508'], ['120.512772', '30.169508'], ['120.512566', '30.169493'], ['120.512367', '30.169453'], ['120.512131', '30.16939'], ['120.511971', '30.169317'], ['120.511772', '30.169222'], ['120.511566', '30.169094'], ['120.510674', '30.168476'], ['120.510643', '30.168455'], ['120.51046', '30.168333'], ['120.5103', '30.168247'], ['120.510139', '30.168186'], ['120.509995', '30.168142'], ['120.509834', '30.168116'], ['120.509659', '30.168106'], ['120.509499', '30.168116'], ['120.509293', '30.168165'], ['120.509209', '30.1682'], ['120.509056', '30.168268'], ['120.50898', '30.168303'], ['120.508835', '30.168407'], ['120.508774', '30.168455'], ['120.508659', '30.168589'], ['120.508583', '30.168667'], ['120.508583', '30.168667'], ['120.508575', '30.168776'], ['120.508583', '30.168911'], ['120.508614', '30.169003'], ['120.508713', '30.169163'], ['120.50885', '30.169266'], ['120.508942', '30.169302'], ['120.509056', '30.169327'], ['120.509308', '30.169336'], ['120.509521', '30.169235'], ['120.509781', '30.169098'], ['120.509995', '30.168953'], ['120.510185', '30.168816'], ['120.510353', '30.168657'], ['120.510544', '30.168455'], ['120.510674', '30.168282'], ['120.510895', '30.167891'], ['120.510986', '30.167686'], ['120.511047', '30.1675'], ['120.511086', '30.167309'], ['120.511108', '30.167091'], ['120.511124', '30.166662'], ['120.511124', '30.166298'], ['120.511124', '30.164513'], ['120.511124', '30.164202'], ['120.511108', '30.163702'], ['120.511108', '30.161858'], ['120.511124', '30.160933'], ['120.511177', '30.160677'], ['120.51123', '30.160551'], ['120.511375', '30.160334'], ['120.511467', '30.160231'], ['120.51162', '30.160112'], ['120.511864', '30.159969'], ['120.512077', '30.159901'], ['120.512077', '30.159901'], ['120.511253', '30.159681'], ['120.511208', '30.159676'], ['120.511307', '30.159176'], ['120.511368', '30.158798'], ['120.511398', '30.158388'], ['120.511383', '30.158043'], ['120.511353', '30.157618'], ['120.51133', '30.157469'], ['120.511322', '30.157331'], ['120.511269', '30.156836'], ['120.511261', '30.156567'], ['120.511253', '30.156261'], ['120.511261', '30.156038'], ['120.511292', '30.155352'], ['120.511314', '30.155127'], ['120.511368', '30.154749'], ['120.511375', '30.154696'], ['120.511421', '30.154558'], ['120.511475', '30.154404'], ['120.511757', '30.15357'], ['120.512054', '30.152851'], ['120.51226', '30.152336'], ['120.512383', '30.152008'], ['120.512405', '30.151905'], ['120.512375', '30.151581'], ['120.512321', '30.150925'], ['120.512314', '30.150707'], ['120.512268', '30.149931'], ['120.51223', '30.149015'], ['120.512169', '30.147873'], ['120.512131', '30.147308'], ['120.512093', '30.146484'], ['120.512077', '30.146294'], ['120.512047', '30.145515'], ['120.512001', '30.144604'], ['120.511894', '30.142769'], ['120.511841', '30.141703'], ['120.511787', '30.14076'], ['120.51165', '30.138559'], ['120.51165', '30.138506'], ['120.511635', '30.138315'], ['120.511566', '30.136862'], ['120.511589', '30.136723'], ['120.511559', '30.135942'], ['120.511528', '30.13567'], ['120.51149', '30.135496'], ['120.511467', '30.135368'], ['120.511375', '30.135151'], ['120.511269', '30.134987'], ['120.5112', '30.134892'], ['120.511154', '30.13483'], ['120.51091', '30.134623'], ['120.510681', '30.134466'], ['120.509789', '30.133963'], ['120.508514', '30.133242'], ['120.508362', '30.133165'], ['120.50808', '30.132946'], ['120.507927', '30.132786'], ['120.507858', '30.13269'], ['120.50779', '30.132565'], ['120.50721', '30.13088'], ['120.507195', '30.130812'], ['120.507843', '30.129713'], ['120.508286', '30.128958'], ['120.508881', '30.12792'], ['120.509041', '30.127678'], ['120.509087', '30.127626'], ['120.509293', '30.127449'], ['120.509567', '30.127277'], ['120.509888', '30.12715'], ['120.510445', '30.127014'], ['120.510643', '30.12697'], ['120.511307', '30.126827'], ['120.512283', '30.126612'], ['120.513443', '30.126354'], ['120.513573', '30.126324'], ['120.514221', '30.126175'], ['120.51445', '30.126125'], ['120.514587', '30.126093'], ['120.515862', '30.125803'], ['120.516792', '30.125587'], ['120.516945', '30.125551'], ['120.517815', '30.125351'], ['120.518089', '30.125286'], ['120.518517', '30.125191'], ['120.519165', '30.12504'], ['120.519165', '30.12504'], ['120.519279', '30.124914'], ['120.519325', '30.12483'], ['120.519348', '30.124735'], ['120.519379', '30.124527'], ['120.519363', '30.12451'], ['120.519104', '30.124107'], ['120.517769', '30.12224'], ['120.516167', '30.120054'], ['120.515541', '30.119167'], ['120.515289', '30.118862'], ['120.515205', '30.118776'], ['120.514542', '30.117887'], ['120.513512', '30.116467'], ['120.512939', '30.115669'], ['120.512459', '30.115013'], ['120.511948', '30.114317'], ['120.511375', '30.113525'], ['120.511131', '30.113173'], ['120.511131', '30.113173'], ['120.510803', '30.112911'], ['120.510597', '30.112726'], ['120.510361', '30.112543'], ['120.510162', '30.1124'], ['120.509949', '30.112288'], ['120.509598', '30.112171'], ['120.508659', '30.111917'], ['120.508606', '30.111902'], ['120.508606', '30.111902'], ['120.50827', '30.111645'], ['120.508186', '30.111576'], ['120.508087', '30.111458'], ['120.507965', '30.111294'], ['120.507904', '30.11116'], ['120.507828', '30.11091'], ['120.507812', '30.110716'], ['120.50782', '30.110556'], ['120.507851', '30.110413'], ['120.507881', '30.110283'], ['120.507927', '30.110182'], ['120.50798', '30.110083'], ['120.508057', '30.109964'], ['120.508186', '30.109808'], ['120.508347', '30.109667'], ['120.508553', '30.109522'], ['120.508781', '30.109404'], ['120.509033', '30.109306'], ['120.509315', '30.109236'], ['120.509491', '30.109209'], ['120.509857', '30.109194'], ['120.510063', '30.109194'], ['120.510361', '30.109188'], ['120.510864', '30.109144'], ['120.511101', '30.109119'], ['120.51136', '30.109066'], ['120.511543', '30.109026'], ['120.512337', '30.108829'], ['120.514694', '30.107613'], ['120.515671', '30.107109'], ['120.516998', '30.106415'], ['120.517448', '30.106194'], ['120.518639', '30.105633'], ['120.5187', '30.1056'], ['120.51931', '30.105324'], ['120.52002', '30.105032'], ['120.520149', '30.104979'], ['120.521843', '30.104322'], ['120.523254', '30.103844'], ['120.523804', '30.103676'], ['120.524345', '30.103502'], ['120.525139', '30.103277'], ['120.527206', '30.102757'], ['120.52829', '30.102539'], ['120.529343', '30.102322'], ['120.531433', '30.101986'], ['120.531944', '30.101927'], ['120.53373', '30.101715'], ['120.534157', '30.101675'], ['120.536385', '30.101416'], ['120.536545', '30.101393'], ['120.541618', '30.100828'], ['120.541725', '30.100821'], ['120.541992', '30.100794'], ['120.544472', '30.100525'], ['120.54937', '30.099974'], ['120.550842', '30.099804'], ['120.554146', '30.099436'], ['120.555412', '30.099293'], ['120.55677', '30.099119'], ['120.559372', '30.098715'], ['120.559944', '30.098619'], ['120.560661', '30.098494'], ['120.562775', '30.098097'], ['120.563965', '30.09786'], ['120.565208', '30.097609'], ['120.567207', '30.0972'], ['120.569511', '30.096758'], ['120.569603', '30.096748'], ['120.570084', '30.096666'], ['120.57122', '30.096476'], ['120.572495', '30.096302'], ['120.574272', '30.096107'], ['120.576424', '30.095947'], ['120.577225', '30.095894'], ['120.577766', '30.095865'], ['120.578171', '30.095839'], ['120.579376', '30.095768'], ['120.580498', '30.09569'], ['120.581108', '30.095655'], ['120.583694', '30.095488'], ['120.584557', '30.095387'], ['120.585075', '30.095304'], ['120.585495', '30.0952'], ['120.585846', '30.0951'], ['120.585938', '30.095074'], ['120.586357', '30.094927'], ['120.586586', '30.094839'], ['120.587105', '30.094595'], ['120.587273', '30.094513'], ['120.587875', '30.094152'], ['120.588165', '30.093958'], ['120.588524', '30.093689'], ['120.589081', '30.093178'], ['120.58947', '30.09277'], ['120.589638', '30.09255'], ['120.589905', '30.092186'], ['120.590332', '30.091549'], ['120.590652', '30.091042'], ['120.590897', '30.090651'], ['120.591232', '30.090178'], ['120.591637', '30.089708'], ['120.591965', '30.089384'], ['120.592361', '30.089027'], ['120.592766', '30.088711'], ['120.593353', '30.088324'], ['120.593727', '30.088112'], ['120.594406', '30.087786'], ['120.595207', '30.087479'], ['120.595894', '30.087292'], ['120.596321', '30.087196'], ['120.596565', '30.087152'], ['120.597244', '30.087067'], ['120.597885', '30.087023'], ['120.600334', '30.086985'], ['120.601784', '30.086975'], ['120.601883', '30.086975'], ['120.60247', '30.086971'], ['120.603432', '30.086967'], ['120.605003', '30.086948'], ['120.605179', '30.086931'], ['120.605545', '30.08688'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.62439', '30.083311'], ['120.624779', '30.085005'], ['120.624779', '30.085005'], ['120.624916', '30.084991'], ['120.625198', '30.084949'], ['120.625473', '30.084877'], ['120.625504', '30.084858'], ['120.625366', '30.084244'], ['120.625313', '30.084026'], ['120.625305', '30.083948'], ['120.625328', '30.083925'], ['120.625771', '30.083824'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>