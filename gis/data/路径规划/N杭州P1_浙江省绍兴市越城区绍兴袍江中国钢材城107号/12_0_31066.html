<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.459854', '30.245998'], ['120.459854', '30.245687'], ['120.459854', '30.245609'], ['120.46035', '30.24552'], ['120.460434', '30.245516'], ['120.460434', '30.245359'], ['120.460403', '30.244303'], ['120.460281', '30.238802'], ['120.460548', '30.238697'], ['120.460953', '30.238663'], ['120.463753', '30.238546'], ['120.464043', '30.238525'], ['120.464363', '30.238466'], ['120.465607', '30.238247'], ['120.465607', '30.238247'], ['120.465561', '30.237173'], ['120.465485', '30.235682'], ['120.465469', '30.235126'], ['120.465454', '30.234945'], ['120.465431', '30.234663'], ['120.465431', '30.234663'], ['120.466621', '30.234394'], ['120.466621', '30.234394'], ['120.466621', '30.234375'], ['120.466339', '30.23358'], ['120.466187', '30.233116'], ['120.465752', '30.231863'], ['120.465454', '30.23105'], ['120.46521', '30.230318'], ['120.464775', '30.229002'], ['120.464668', '30.228756'], ['120.464561', '30.228519'], ['120.464561', '30.228519'], ['120.464401', '30.228411'], ['120.464142', '30.228273'], ['120.464142', '30.228273'], ['120.464066', '30.228161'], ['120.463722', '30.227604'], ['120.463501', '30.227135'], ['120.463425', '30.226866'], ['120.463013', '30.225168'], ['120.462852', '30.224449'], ['120.462593', '30.223387'], ['120.462502', '30.222933'], ['120.462372', '30.222458'], ['120.462166', '30.221703'], ['120.461731', '30.220261'], ['120.461372', '30.219093'], ['120.461197', '30.218565'], ['120.460892', '30.217541'], ['120.460587', '30.216507'], ['120.460434', '30.216063'], ['120.460312', '30.215643'], ['120.46003', '30.214695'], ['120.459793', '30.213989'], ['120.459412', '30.212915'], ['120.459274', '30.212404'], ['120.459274', '30.2124'], ['120.458961', '30.211493'], ['120.458794', '30.21106'], ['120.458519', '30.210304'], ['120.457664', '30.208174'], ['120.457397', '30.207355'], ['120.457077', '30.206329'], ['120.456673', '30.205036'], ['120.456512', '30.204599'], ['120.455933', '30.202942'], ['120.455856', '30.202738'], ['120.455368', '30.201416'], ['120.45536', '30.20138'], ['120.455093', '30.200737'], ['120.455002', '30.200693'], ['120.454712', '30.199968'], ['120.454666', '30.199854'], ['120.454384', '30.199085'], ['120.454102', '30.198288'], ['120.454086', '30.198278'], ['120.453903', '30.197695'], ['120.453888', '30.197639'], ['120.453758', '30.197275'], ['120.453659', '30.196987'], ['120.453377', '30.196115'], ['120.453156', '30.195496'], ['120.452927', '30.194941'], ['120.452721', '30.194513'], ['120.452492', '30.194016'], ['120.452354', '30.193697'], ['120.452202', '30.193388'], ['120.452202', '30.193388'], ['120.451965', '30.193447'], ['120.451012', '30.19375'], ['120.451012', '30.19375'], ['120.45063', '30.193825'], ['120.45018', '30.193933'], ['120.449989', '30.193989'], ['120.449829', '30.194061'], ['120.449677', '30.194153'], ['120.449562', '30.194248'], ['120.449478', '30.194349'], ['120.449387', '30.194471'], ['120.449326', '30.194595'], ['120.449265', '30.194773'], ['120.449219', '30.195004'], ['120.449181', '30.195236'], ['120.449173', '30.195438'], ['120.449181', '30.195581'], ['120.449211', '30.195686'], ['120.449257', '30.195782'], ['120.44931', '30.195864'], ['120.449387', '30.195938'], ['120.449478', '30.195993'], ['120.449547', '30.196033'], ['120.449669', '30.196062'], ['120.449982', '30.196106'], ['120.450256', '30.196098'], ['120.450661', '30.196007'], ['120.451309', '30.195824'], ['120.451447', '30.195791'], ['120.451721', '30.195778'], ['120.451843', '30.195738'], ['120.452469', '30.195547'], ['120.453316', '30.195295'], ['120.454102', '30.195053'], ['120.455627', '30.194592'], ['120.461617', '30.192774'], ['120.465225', '30.191662'], ['120.467201', '30.191015'], ['120.468712', '30.1905'], ['120.46891', '30.19043'], ['120.470261', '30.189939'], ['120.471725', '30.189388'], ['120.473419', '30.188721'], ['120.474876', '30.188116'], ['120.476074', '30.187613'], ['120.476601', '30.187378'], ['120.494637', '30.17944'], ['120.498047', '30.177933'], ['120.498299', '30.177822'], ['120.499962', '30.177057'], ['120.500732', '30.17668'], ['120.502205', '30.175894'], ['120.502853', '30.175516'], ['120.504318', '30.174608'], ['120.504814', '30.174284'], ['120.505562', '30.173767'], ['120.506142', '30.173347'], ['120.507195', '30.172541'], ['120.508286', '30.17164'], ['120.509254', '30.170759'], ['120.510353', '30.169695'], ['120.51123', '30.168758'], ['120.51149', '30.168455'], ['120.512291', '30.167532'], ['120.51326', '30.166325'], ['120.514282', '30.164949'], ['120.514854', '30.164198'], ['120.516014', '30.162632'], ['120.516632', '30.161808'], ['120.519852', '30.157469'], ['120.52002', '30.157244'], ['120.520767', '30.156242'], ['120.521477', '30.15527'], ['120.522011', '30.154587'], ['120.522415', '30.154036'], ['120.524086', '30.15181'], ['120.526154', '30.149002'], ['120.52726', '30.147532'], ['120.527786', '30.146797'], ['120.528015', '30.146484'], ['120.528038', '30.146467'], ['120.529068', '30.145065'], ['120.529846', '30.144085'], ['120.530655', '30.143124'], ['120.531708', '30.142'], ['120.532112', '30.141607'], ['120.532936', '30.140839'], ['120.533363', '30.140448'], ['120.533997', '30.13991'], ['120.534996', '30.139124'], ['120.535988', '30.138393'], ['120.536674', '30.137924'], ['120.5373', '30.137531'], ['120.538071', '30.137062'], ['120.539268', '30.136393'], ['120.540436', '30.135778'], ['120.541031', '30.135496'], ['120.541527', '30.135269'], ['120.541992', '30.135073'], ['120.542389', '30.134899'], ['120.543228', '30.134575'], ['120.544411', '30.134125'], ['120.546448', '30.133398'], ['120.547119', '30.133169'], ['120.549438', '30.132395'], ['120.551781', '30.131645'], ['120.555267', '30.130632'], ['120.557137', '30.130123'], ['120.559219', '30.129576'], ['120.561562', '30.128994'], ['120.563965', '30.12842'], ['120.565422', '30.128065'], ['120.566429', '30.127827'], ['120.567581', '30.127565'], ['120.56958', '30.127071'], ['120.57058', '30.126831'], ['120.57827', '30.125004'], ['120.579453', '30.124718'], ['120.580338', '30.12451'], ['120.583061', '30.123857'], ['120.58503', '30.123373'], ['120.585938', '30.123125'], ['120.587677', '30.122627'], ['120.589378', '30.122095'], ['120.589638', '30.122013'], ['120.590927', '30.121576'], ['120.591698', '30.121288'], ['120.593117', '30.12076'], ['120.594383', '30.120256'], ['120.595024', '30.120008'], ['120.595909', '30.119621'], ['120.597404', '30.118954'], ['120.598343', '30.118502'], ['120.599594', '30.117895'], ['120.600891', '30.117218'], ['120.602783', '30.116167'], ['120.604523', '30.115133'], ['120.606087', '30.114166'], ['120.607086', '30.113525'], ['120.607407', '30.113325'], ['120.60791', '30.113008'], ['120.609444', '30.112076'], ['120.610687', '30.111349'], ['120.61203', '30.110605'], ['120.61203', '30.110605'], ['120.612297', '30.110386'], ['120.61277', '30.110117'], ['120.613449', '30.109732'], ['120.613678', '30.109497'], ['120.613792', '30.109331'], ['120.613884', '30.109125'], ['120.613922', '30.108967'], ['120.613937', '30.108803'], ['120.613899', '30.108599'], ['120.613823', '30.108389'], ['120.613541', '30.108034'], ['120.612709', '30.107445'], ['120.612709', '30.107445'], ['120.61245', '30.107271'], ['120.611786', '30.106762'], ['120.611679', '30.106693'], ['120.611526', '30.106544'], ['120.611046', '30.106066'], ['120.610741', '30.105728'], ['120.610397', '30.10533'], ['120.610184', '30.105049'], ['120.609772', '30.104435'], ['120.609589', '30.104124'], ['120.609344', '30.103659'], ['120.609161', '30.103247'], ['120.608978', '30.102768'], ['120.608948', '30.102686'], ['120.60891', '30.102539'], ['120.608765', '30.102022'], ['120.608681', '30.101654'], ['120.608505', '30.100569'], ['120.608376', '30.099752'], ['120.60817', '30.098503'], ['120.607994', '30.097382'], ['120.60791', '30.096905'], ['120.60778', '30.096128'], ['120.607407', '30.094227'], ['120.607254', '30.093597'], ['120.607132', '30.093529'], ['120.606918', '30.09259'], ['120.606766', '30.09194'], ['120.606667', '30.091549'], ['120.606514', '30.090906'], ['120.606293', '30.090031'], ['120.606133', '30.089367'], ['120.605713', '30.0875'], ['120.605629', '30.087162'], ['120.606071', '30.086863'], ['120.606682', '30.086927'], ['120.607246', '30.086931'], ['120.60791', '30.086922'], ['120.607925', '30.086922'], ['120.608192', '30.086922'], ['120.608582', '30.086908'], ['120.609146', '30.086889'], ['120.609612', '30.086853'], ['120.61026', '30.086788'], ['120.610916', '30.086699'], ['120.611534', '30.086594'], ['120.612541', '30.08638'], ['120.613281', '30.086197'], ['120.615242', '30.085655'], ['120.615318', '30.085634'], ['120.617813', '30.084951'], ['120.618713', '30.084705'], ['120.620132', '30.084318'], ['120.62323', '30.083475'], ['120.623825', '30.083315'], ['120.624214', '30.083206'], ['120.62439', '30.083311'], ['120.624779', '30.085005'], ['120.624779', '30.085005'], ['120.624916', '30.084991'], ['120.625198', '30.084949'], ['120.625473', '30.084877'], ['120.625504', '30.084858'], ['120.625366', '30.084244'], ['120.625313', '30.084026'], ['120.625305', '30.083948'], ['120.625328', '30.083925'], ['120.625771', '30.083824'], ['120.625771', '30.083824'], ['120.625793', '30.083933']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>