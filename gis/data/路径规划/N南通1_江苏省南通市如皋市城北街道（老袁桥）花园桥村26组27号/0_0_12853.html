<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.54583', '32.41106'], ['120.545769', '32.411327'], ['120.545624', '32.41198'], ['120.545509', '32.412567'], ['120.545425', '32.413013'], ['120.545273', '32.413731'], ['120.545052', '32.41457'], ['120.545021', '32.414787'], ['120.54496', '32.414913'], ['120.544594', '32.416557'], ['120.544525', '32.416836'], ['120.544365', '32.41761'], ['120.544113', '32.418808'], ['120.543968', '32.419537'], ['120.543877', '32.41996'], ['120.543724', '32.42065'], ['120.543457', '32.42194'], ['120.543365', '32.422348'], ['120.543312', '32.422619'], ['120.543274', '32.422832'], ['120.542641', '32.42585'], ['120.542633', '32.426022'], ['120.542419', '32.426949'], ['120.542374', '32.427151'], ['120.542343', '32.427246'], ['120.542267', '32.427601'], ['120.542183', '32.428013'], ['120.542145', '32.428211'], ['120.541992', '32.428936'], ['120.541924', '32.429268'], ['120.541794', '32.429874'], ['120.541611', '32.43074'], ['120.541527', '32.431122'], ['120.541428', '32.431641'], ['120.541389', '32.431824'], ['120.541344', '32.432068'], ['120.541252', '32.432484'], ['120.540977', '32.434025'], ['120.540886', '32.434521'], ['120.540817', '32.434948'], ['120.540726', '32.435745'], ['120.540741', '32.435795'], ['120.540497', '32.437874'], ['120.540482', '32.43792'], ['120.537781', '32.437248'], ['120.5364', '32.436905'], ['120.535431', '32.436653'], ['120.534637', '32.436443'], ['120.533768', '32.436256'], ['120.532867', '32.436035'], ['120.531403', '32.435673'], ['120.529388', '32.435181'], ['120.527626', '32.434761'], ['120.526428', '32.434471'], ['120.526123', '32.434399'], ['120.525475', '32.434246'], ['120.524391', '32.433983'], ['120.522568', '32.433552'], ['120.520264', '32.432995'], ['120.52002', '32.432938'], ['120.519875', '32.432903'], ['120.517715', '32.432373'], ['120.516853', '32.432167'], ['120.514977', '32.431709'], ['120.514694', '32.431641'], ['120.513245', '32.431286'], ['120.512543', '32.43111'], ['120.511673', '32.430901'], ['120.510468', '32.430611'], ['120.509735', '32.430439'], ['120.509605', '32.430405'], ['120.506561', '32.429672'], ['120.505775', '32.429474'], ['120.504517', '32.429157'], ['120.503601', '32.428944'], ['120.502464', '32.428665'], ['120.500206', '32.428127'], ['120.498276', '32.427654'], ['120.498047', '32.427605'], ['120.497963', '32.427582'], ['120.497406', '32.427399'], ['120.495377', '32.426731'], ['120.492699', '32.425587'], ['120.4907', '32.424736'], ['120.48912', '32.423943'], ['120.487778', '32.423283'], ['120.483665', '32.421165'], ['120.482681', '32.42065'], ['120.479919', '32.419209'], ['120.479019', '32.418747'], ['120.476578', '32.417526'], ['120.476074', '32.417267'], ['120.474258', '32.416332'], ['120.47287', '32.41563'], ['120.471481', '32.414936'], ['120.471191', '32.414799'], ['120.470909', '32.414665'], ['120.468002', '32.413227'], ['120.466934', '32.412685'], ['120.466286', '32.412346'], ['120.465111', '32.411716'], ['120.464775', '32.411507'], ['120.462975', '32.410412'], ['120.461845', '32.409668'], ['120.460594', '32.40884'], ['120.45993', '32.408432'], ['120.458557', '32.40773'], ['120.458382', '32.407619'], ['120.45784', '32.407272'], ['120.45784', '32.407272'], ['120.457626', '32.407204'], ['120.457253', '32.406979'], ['120.457108', '32.40696'], ['120.456917', '32.406963'], ['120.455589', '32.408211'], ['120.454948', '32.408844'], ['120.454132', '32.409668'], ['120.454102', '32.409695'], ['120.453751', '32.410061'], ['120.452797', '32.411079'], ['120.45192', '32.412064'], ['120.451271', '32.412823'], ['120.451157', '32.412766'], ['120.45089', '32.412632'], ['120.45089', '32.412632'], ['120.451439', '32.411907'], ['120.451721', '32.411575'], ['120.451927', '32.41132'], ['120.452774', '32.410088']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>