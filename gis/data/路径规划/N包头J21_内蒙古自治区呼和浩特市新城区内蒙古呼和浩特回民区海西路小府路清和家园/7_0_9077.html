<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['111.693779', '40.875736'], ['111.693901', '40.875332'], ['111.693901', '40.875332'], ['111.693535', '40.87524'], ['111.692543', '40.874996'], ['111.690994', '40.874622'], ['111.690109', '40.874359'], ['111.689041', '40.874004'], ['111.688126', '40.873676'], ['111.687744', '40.873543'], ['111.687012', '40.873287'], ['111.686714', '40.87318'], ['111.686096', '40.872974'], ['111.685509', '40.872768'], ['111.684479', '40.872406'], ['111.682007', '40.871563'], ['111.681717', '40.871452'], ['111.679337', '40.870644'], ['111.678665', '40.870403'], ['111.677956', '40.870152'], ['111.676933', '40.869793'], ['111.676559', '40.869667'], ['111.675941', '40.869438'], ['111.675644', '40.869328'], ['111.675095', '40.869141'], ['111.674294', '40.868877'], ['111.672554', '40.868279'], ['111.672417', '40.86824'], ['111.671043', '40.867741'], ['111.670189', '40.867443'], ['111.66935', '40.867119'], ['111.669235', '40.867035'], ['111.669136', '40.86692'], ['111.669052', '40.866753'], ['111.669052', '40.866753'], ['111.668526', '40.866638'], ['111.668411', '40.866608'], ['111.667892', '40.866493'], ['111.666748', '40.86623'], ['111.665771', '40.865963'], ['111.665405', '40.865856'], ['111.665039', '40.865746'], ['111.66465', '40.865631'], ['111.664162', '40.865459'], ['111.663895', '40.865368'], ['111.663322', '40.865154'], ['111.661446', '40.864464'], ['111.661026', '40.864304'], ['111.66095', '40.864269'], ['111.659554', '40.863762'], ['111.658882', '40.863495'], ['111.657005', '40.862755'], ['111.656258', '40.862465'], ['111.655594', '40.862202'], ['111.652756', '40.861115'], ['111.650894', '40.86039'], ['111.650368', '40.86021'], ['111.649635', '40.859913'], ['111.649139', '40.859676'], ['111.648941', '40.8596'], ['111.648132', '40.85928'], ['111.647049', '40.858868'], ['111.646194', '40.858582'], ['111.645287', '40.858299'], ['111.644936', '40.8582'], ['111.644699', '40.85815'], ['111.644646', '40.858143'], ['111.644646', '40.858143'], ['111.644035', '40.858047'], ['111.643929', '40.85804'], ['111.643814', '40.858047'], ['111.643593', '40.858074'], ['111.643394', '40.858128'], ['111.643341', '40.85815'], ['111.643135', '40.858223'], ['111.643066', '40.858253'], ['111.642677', '40.858414'], ['111.642525', '40.858459'], ['111.642296', '40.858517'], ['111.642113', '40.85854'], ['111.641937', '40.85854'], ['111.641739', '40.858517'], ['111.641563', '40.858486'], ['111.641411', '40.858433'], ['111.641266', '40.858368'], ['111.641129', '40.858288'], ['111.641014', '40.858196'], ['111.640976', '40.85815'], ['111.6409', '40.858063'], ['111.640816', '40.857956'], ['111.640755', '40.857834'], ['111.640732', '40.857742'], ['111.640701', '40.857643'], ['111.640701', '40.85751'], ['111.640717', '40.857388'], ['111.640755', '40.857277'], ['111.640808', '40.857159'], ['111.640877', '40.857059'], ['111.640968', '40.856956'], ['111.641113', '40.856834'], ['111.641273', '40.856735'], ['111.641502', '40.856602'], ['111.641716', '40.856506'], ['111.641945', '40.85643'], ['111.642197', '40.856373'], ['111.642525', '40.856319'], ['111.643066', '40.856239'], ['111.643112', '40.856236'], ['111.643387', '40.856178'], ['111.643745', '40.856079'], ['111.644157', '40.855919'], ['111.644394', '40.855812'], ['111.644585', '40.855717'], ['111.644768', '40.85561'], ['111.645096', '40.855377'], ['111.645226', '40.855289'], ['111.645493', '40.855095'], ['111.645721', '40.854977'], ['111.645981', '40.854717'], ['111.646034', '40.854645'], ['111.646248', '40.854305'], ['111.646744', '40.853291'], ['111.646797', '40.853214'], ['111.647469', '40.851871'], ['111.648232', '40.850296'], ['111.648674', '40.849434'], ['111.648857', '40.849072'], ['111.648903', '40.848957'], ['111.649132', '40.848488'], ['111.649216', '40.848301'], ['111.64949', '40.847717'], ['111.64959', '40.847507'], ['111.649651', '40.847355'], ['111.649742', '40.847164'], ['111.649887', '40.846809'], ['111.650391', '40.845646'], ['111.650558', '40.845257'], ['111.651566', '40.842937'], ['111.651955', '40.841999'], ['111.652016', '40.84185'], ['111.652046', '40.841774'], ['111.65255', '40.840603'], ['111.652657', '40.84034'], ['111.652809', '40.839912'], ['111.652863', '40.839668'], ['111.653008', '40.838898'], ['111.653114', '40.838474'], ['111.653328', '40.837826'], ['111.653564', '40.837307'], ['111.654099', '40.836365'], ['111.654099', '40.836365'], ['111.654091', '40.836205'], ['111.654091', '40.836182'], ['111.65406', '40.836067'], ['111.653885', '40.835781'], ['111.652878', '40.835686'], ['111.652336', '40.835629'], ['111.651283', '40.835503'], ['111.650841', '40.835457'], ['111.649254', '40.83527'], ['111.648399', '40.835182'], ['111.648399', '40.835182'], ['111.648193', '40.83601'], ['111.648148', '40.836182'], ['111.648018', '40.836639'], ['111.647636', '40.838005'], ['111.647545', '40.838322'], ['111.647446', '40.838638'], ['111.647339', '40.839024'], ['111.647316', '40.839111'], ['111.646935', '40.840111'], ['111.646446', '40.841396'], ['111.646446', '40.841396'], ['111.646225', '40.841354'], ['111.646103', '40.841339'], ['111.6455', '40.841221'], ['111.645241', '40.841179']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>