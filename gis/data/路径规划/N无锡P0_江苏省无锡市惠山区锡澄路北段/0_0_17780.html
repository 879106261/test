<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.375092', '31.627226'], ['120.374092', '31.627253'], ['120.372932', '31.627272'], ['120.371864', '31.627245'], ['120.370956', '31.627192'], ['120.370056', '31.62711'], ['120.369522', '31.627054'], ['120.368607', '31.626926'], ['120.367096', '31.62668'], ['120.366211', '31.626524'], ['120.36586', '31.626463'], ['120.365173', '31.626337'], ['120.363968', '31.626112'], ['120.361671', '31.625683'], ['120.36158', '31.625669'], ['120.358536', '31.625113'], ['120.358017', '31.625017'], ['120.355553', '31.624578'], ['120.355446', '31.624557'], ['120.35495', '31.624426'], ['120.354424', '31.624241'], ['120.354332', '31.624197'], ['120.35376', '31.623901'], ['120.35347', '31.623703'], ['120.351532', '31.62219'], ['120.351479', '31.622135'], ['120.350563', '31.621407'], ['120.350563', '31.621407'], ['120.350266', '31.621584'], ['120.350159', '31.621658'], ['120.34993', '31.621794'], ['120.348824', '31.622509'], ['120.347931', '31.623077'], ['120.347313', '31.623476'], ['120.346581', '31.623966'], ['120.346367', '31.62402'], ['120.344589', '31.625147'], ['120.34446', '31.625227'], ['120.344276', '31.625013'], ['120.344238', '31.624964'], ['120.343422', '31.624022'], ['120.342926', '31.623466'], ['120.342468', '31.622942'], ['120.342041', '31.622444'], ['120.342041', '31.622444'], ['120.339752', '31.619814'], ['120.339554', '31.619621'], ['120.339554', '31.619621'], ['120.339149', '31.619539'], ['120.338898', '31.619509'], ['120.338501', '31.619509'], ['120.337296', '31.619995'], ['120.336441', '31.620317'], ['120.336441', '31.620317'], ['120.336075', '31.620346'], ['120.335579', '31.620512'], ['120.334526', '31.620855'], ['120.333954', '31.621033'], ['120.331024', '31.62199'], ['120.330475', '31.622173'], ['120.327118', '31.623264'], ['120.326439', '31.623484'], ['120.324974', '31.623999'], ['120.324463', '31.624203'], ['120.323441', '31.624632'], ['120.322968', '31.624853'], ['120.322266', '31.625177'], ['120.32225', '31.625183'], ['120.321709', '31.625433'], ['120.320442', '31.62606'], ['120.317963', '31.627354'], ['120.317535', '31.627565'], ['120.317284', '31.627701'], ['120.316757', '31.627956'], ['120.31591', '31.628387'], ['120.315483', '31.628593'], ['120.315422', '31.62863'], ['120.314201', '31.629244'], ['120.313438', '31.629635'], ['120.312363', '31.630192'], ['120.311111', '31.630812'], ['120.309196', '31.631775'], ['120.308327', '31.632204'], ['120.307327', '31.632717'], ['120.306763', '31.632956'], ['120.306313', '31.633112'], ['120.305634', '31.633289'], ['120.305405', '31.633333'], ['120.304779', '31.633411'], ['120.304512', '31.633432'], ['120.304123', '31.633442'], ['120.303513', '31.633425'], ['120.300293', '31.63316'], ['120.298981', '31.633047'], ['120.298744', '31.633024'], ['120.298515', '31.633005'], ['120.298515', '31.633005'], ['120.29808', '31.633179'], ['120.297928', '31.633247'], ['120.297806', '31.633316'], ['120.297668', '31.633421'], ['120.297592', '31.633503'], ['120.297523', '31.633593'], ['120.297424', '31.633741'], ['120.297394', '31.633829'], ['120.297363', '31.633944'], ['120.29734', '31.634031'], ['120.29731', '31.634422'], ['120.297264', '31.63505'], ['120.297234', '31.635408'], ['120.29718', '31.635651'], ['120.297127', '31.635792'], ['120.297119', '31.635912'], ['120.297112', '31.636042'], ['120.297104', '31.636986'], ['120.297112', '31.637831'], ['120.297119', '31.638662'], ['120.29718', '31.640625'], ['120.29718', '31.640869'], ['120.297203', '31.642355'], ['120.297203', '31.643728'], ['120.297226', '31.644453'], ['120.297386', '31.645609'], ['120.297523', '31.646233'], ['120.297646', '31.646744'], ['120.297722', '31.646866'], ['120.297974', '31.647673'], ['120.298607', '31.649302'], ['120.29882', '31.649878'], ['120.299126', '31.650707'], ['120.299164', '31.650782'], ['120.299339', '31.651234'], ['120.299477', '31.651611'], ['120.29953', '31.651752'], ['120.29966', '31.652201'], ['120.299744', '31.65251'], ['120.299828', '31.652933'], ['120.299866', '31.653187'], ['120.29995', '31.653938'], ['120.299957', '31.654022'], ['120.299957', '31.654102'], ['120.299957', '31.654102'], ['120.299965', '31.654509'], ['120.299973', '31.654926'], ['120.29998', '31.655441'], ['120.299927', '31.65596'], ['120.299873', '31.656189'], ['120.299606', '31.657322'], ['120.299171', '31.658772'], ['120.299019', '31.659336'], ['120.298958', '31.659586'], ['120.298882', '31.660299'], ['120.29879', '31.662596'], ['120.298775', '31.663116'], ['120.298767', '31.663433'], ['120.298683', '31.663984'], ['120.298607', '31.664331'], ['120.298462', '31.664778'], ['120.298409', '31.66493'], ['120.298332', '31.665146'], ['120.298264', '31.665308'], ['120.298103', '31.665707'], ['120.297966', '31.666088'], ['120.297798', '31.66655'], ['120.296791', '31.669436'], ['120.296768', '31.669531'], ['120.296539', '31.670214'], ['120.296196', '31.671146'], ['120.296074', '31.671579'], ['120.295883', '31.672369'], ['120.295799', '31.672796'], ['120.295784', '31.672869'], ['120.295654', '31.67358'], ['120.295334', '31.675222'], ['120.295265', '31.675495'], ['120.295135', '31.675941'], ['120.294807', '31.676645'], ['120.294724', '31.676798'], ['120.294594', '31.677027'], ['120.293808', '31.678303'], ['120.293716', '31.678432'], ['120.292366', '31.680609'], ['120.292046', '31.681107'], ['120.291634', '31.681757'], ['120.291359', '31.682154'], ['120.290756', '31.682911'], ['120.290382', '31.683311'], ['120.290062', '31.683666'], ['120.289726', '31.684027'], ['120.289215', '31.68457'], ['120.288589', '31.685238'], ['120.288177', '31.685698'], ['120.288048', '31.685839'], ['120.287857', '31.686016'], ['120.287628', '31.686203'], ['120.28727', '31.686466'], ['120.286873', '31.686697'], ['120.286575', '31.686831'], ['120.28595', '31.687099'], ['120.285446', '31.687336'], ['120.285248', '31.687449'], ['120.284996', '31.687618'], ['120.284782', '31.687786'], ['120.284554', '31.687983'], ['120.284348', '31.68819'], ['120.283424', '31.689289'], ['120.28302', '31.689762'], ['120.281616', '31.691425'], ['120.281395', '31.691694'], ['120.280998', '31.692171'], ['120.280708', '31.692522'], ['120.280563', '31.692734'], ['120.280426', '31.692915'], ['120.28022', '31.693325'], ['120.280121', '31.693598'], ['120.280006', '31.694019'], ['120.279999', '31.694067'], ['120.279976', '31.694244'], ['120.279961', '31.694422'], ['120.279999', '31.694887'], ['120.28006', '31.695246'], ['120.280144', '31.695555'], ['120.280243', '31.695929'], ['120.280792', '31.697937'], ['120.280869', '31.698307'], ['120.281021', '31.699198'], ['120.281036', '31.699726'], ['120.281052', '31.700077'], ['120.281029', '31.700542'], ['120.280968', '31.700974'], ['120.280548', '31.70352'], ['120.280487', '31.703962'], ['120.280266', '31.705425'], ['120.280121', '31.706072'], ['120.280045', '31.706539'], ['120.279922', '31.707272'], ['120.279625', '31.708784'], ['120.27961', '31.708838'], ['120.279564', '31.709103'], ['120.279083', '31.711203'], ['120.278893', '31.711967'], ['120.278801', '31.712278'], ['120.278625', '31.712912'], ['120.278625', '31.712912'], ['120.278786', '31.713013'], ['120.279091', '31.713186']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>