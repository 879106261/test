<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.312248', '39.395'], ['116.312607', '39.394058'], ['116.312904', '39.393204'], ['116.313049', '39.393234'], ['116.312279', '39.395336'], ['116.311974', '39.396515'], ['116.311874', '39.396969'], ['116.311401', '39.399338'], ['116.311111', '39.400837'], ['116.311058', '39.40115'], ['116.310699', '39.402992'], ['116.310455', '39.404472'], ['116.310448', '39.404526'], ['116.310295', '39.40588'], ['116.310249', '39.40641'], ['116.310242', '39.406559'], ['116.310204', '39.407013'], ['116.310181', '39.407372'], ['116.310135', '39.407955'], ['116.310089', '39.408539'], ['116.310036', '39.409321'], ['116.31002', '39.409538'], ['116.309975', '39.41021'], ['116.309868', '39.411037'], ['116.309608', '39.41296'], ['116.309464', '39.413818'], ['116.309326', '39.413879'], ['116.308723', '39.413887'], ['116.307831', '39.413902'], ['116.307312', '39.413906'], ['116.306229', '39.413914'], ['116.305656', '39.413929'], ['116.304489', '39.413948'], ['116.304428', '39.413952'], ['116.303741', '39.41396'], ['116.30127', '39.414001'], ['116.30114', '39.414001'], ['116.301041', '39.414001'], ['116.299957', '39.414021'], ['116.298981', '39.414062'], ['116.297546', '39.414116'], ['116.294296', '39.414196'], ['116.291786', '39.414249'], ['116.290016', '39.41431'], ['116.289146', '39.414341'], ['116.287483', '39.41436'], ['116.284401', '39.414818'], ['116.280678', '39.415333'], ['116.280441', '39.415367'], ['116.279488', '39.415497'], ['116.279297', '39.415524'], ['116.277252', '39.415806'], ['116.277016', '39.41584'], ['116.276283', '39.415985'], ['116.276039', '39.415981'], ['116.276039', '39.415981'], ['116.275734', '39.416172'], ['116.275528', '39.416443'], ['116.275375', '39.416756'], ['116.275101', '39.417812'], ['116.274841', '39.418945'], ['116.274773', '39.41927'], ['116.274681', '39.419659'], ['116.274559', '39.420166'], ['116.274025', '39.422176'], ['116.273811', '39.423065'], ['116.273643', '39.423847'], ['116.273407', '39.425457'], ['116.273193', '39.427799'], ['116.273087', '39.429821'], ['116.273087', '39.429928'], ['116.273087', '39.430397'], ['116.273132', '39.430973'], ['116.27317', '39.431828'], ['116.273239', '39.432568'], ['116.273308', '39.432964'], ['116.273544', '39.434006'], ['116.274109', '39.43634'], ['116.274513', '39.437965'], ['116.274681', '39.438519'], ['116.274925', '39.439152'], ['116.27494', '39.439209'], ['116.27549', '39.44062'], ['116.275627', '39.440914'], ['116.275787', '39.441261'], ['116.276375', '39.442444'], ['116.277229', '39.444279'], ['116.277237', '39.444363'], ['116.277229', '39.444424'], ['116.277115', '39.444561'], ['116.277138', '39.444664'], ['116.275887', '39.444923'], ['116.273872', '39.445396'], ['116.272141', '39.445789'], ['116.270943', '39.446053'], ['116.270134', '39.446217'], ['116.269775', '39.446274'], ['116.268463', '39.44643'], ['116.26783', '39.446503'], ['116.266945', '39.446594'], ['116.266006', '39.446697'], ['116.264702', '39.446827'], ['116.264389', '39.446865'], ['116.263397', '39.446968'], ['116.262512', '39.447063'], ['116.261673', '39.447151'], ['116.26046', '39.447281'], ['116.259377', '39.447411'], ['116.258659', '39.447556'], ['116.258026', '39.447735'], ['116.257713', '39.447849'], ['116.257324', '39.44799'], ['116.257179', '39.448048'], ['116.255974', '39.448536'], ['116.255585', '39.448708'], ['116.253937', '39.44939'], ['116.25074', '39.450741'], ['116.249664', '39.451168'], ['116.249031', '39.451374'], ['116.248016', '39.451649'], ['116.24704', '39.451889'], ['116.246971', '39.4519'], ['116.245476', '39.452267'], ['116.245026', '39.452377'], ['116.244438', '39.452526'], ['116.244133', '39.452595'], ['116.242989', '39.452869'], ['116.242584', '39.452972'], ['116.241997', '39.453121'], ['116.240921', '39.453392'], ['116.240501', '39.453487'], ['116.239342', '39.453796'], ['116.23793', '39.454189'], ['116.236633', '39.454506'], ['116.235352', '39.454845'], ['116.234764', '39.455009'], ['116.234482', '39.455086'], ['116.233856', '39.455265'], ['116.233025', '39.455551'], ['116.226166', '39.458103'], ['116.221146', '39.459988'], ['116.220383', '39.46027'], ['116.21888', '39.460835'], ['116.217636', '39.461308'], ['116.215759', '39.462009'], ['116.213425', '39.462891'], ['116.213379', '39.462902'], ['116.212883', '39.463089'], ['116.212311', '39.463287'], ['116.211624', '39.463497'], ['116.211174', '39.463608'], ['116.210106', '39.463791'], ['116.20713', '39.464157'], ['116.206299', '39.464283'], ['116.205513', '39.464428'], ['116.204605', '39.464607'], ['116.203415', '39.464893'], ['116.199905', '39.465744'], ['116.198753', '39.465977'], ['116.195885', '39.466499'], ['116.193581', '39.466896'], ['116.193268', '39.466949'], ['116.191406', '39.467281'], ['116.190331', '39.467472'], ['116.189819', '39.467552'], ['116.185333', '39.468334'], ['116.182816', '39.468826'], ['116.182259', '39.468941'], ['116.181793', '39.469044'], ['116.181183', '39.469173'], ['116.180534', '39.469299'], ['116.17952', '39.469513'], ['116.178818', '39.46965'], ['116.178383', '39.469738'], ['116.177948', '39.469795'], ['116.177383', '39.469868'], ['116.177048', '39.469898'], ['116.176399', '39.469944'], ['116.174202', '39.470081'], ['116.173882', '39.470089'], ['116.172417', '39.470173'], ['116.171921', '39.470226'], ['116.171494', '39.470287'], ['116.171021', '39.470387'], ['116.170547', '39.470497'], ['116.170097', '39.470631'], ['116.16954', '39.470821'], ['116.169434', '39.470863'], ['116.16909', '39.470989'], ['116.168716', '39.471161'], ['116.167992', '39.471535'], ['116.167168', '39.471951'], ['116.166504', '39.472298'], ['116.165405', '39.472874'], ['116.164818', '39.473167'], ['116.164101', '39.473465'], ['116.163872', '39.473545'], ['116.163406', '39.473686'], ['116.16304', '39.473782'], ['116.16256', '39.473877'], ['116.162239', '39.473934'], ['116.160934', '39.474155'], ['116.16037', '39.474239'], ['116.16037', '39.474239'], ['116.160408', '39.474377'], ['116.160728', '39.475315'], ['116.161255', '39.476852'], ['116.162071', '39.479218'], ['116.162483', '39.480377'], ['116.162949', '39.481709'], ['116.163734', '39.483971'], ['116.164047', '39.484863'], ['116.164162', '39.485188'], ['116.164398', '39.485889'], ['116.164711', '39.486797'], ['116.165001', '39.487652'], ['116.165321', '39.488567'], ['116.165421', '39.488865'], ['116.165726', '39.489742'], ['116.166214', '39.491199'], ['116.166611', '39.49247'], ['116.167343', '39.494572'], ['116.167686', '39.49559'], ['116.16777', '39.495846'], ['116.167816', '39.495972'], ['116.168045', '39.496681'], ['116.16832', '39.497501'], ['116.168732', '39.498665'], ['116.169197', '39.499954'], ['116.169434', '39.500614'], ['116.169487', '39.500759'], ['116.169708', '39.501266'], ['116.170006', '39.502098'], ['116.170677', '39.503994'], ['116.170708', '39.504074'], ['116.171547', '39.506481'], ['116.171661', '39.506836'], ['116.171921', '39.507542'], ['116.172134', '39.508121'], ['116.172745', '39.509769'], ['116.173218', '39.51115'], ['116.173691', '39.512493'], ['116.173874', '39.513123'], ['116.174927', '39.516106'], ['116.175545', '39.517822'], ['116.175941', '39.518898'], ['116.177139', '39.522366'], ['116.177376', '39.522995'], ['116.177475', '39.523262'], ['116.177643', '39.523762'], ['116.177826', '39.524174'], ['116.177956', '39.524544'], ['116.17807', '39.524895'], ['116.178123', '39.525223'], ['116.178154', '39.525684'], ['116.178139', '39.52652'], ['116.178139', '39.527603'], ['116.178162', '39.528214'], ['116.178139', '39.528419'], ['116.178139', '39.528805'], ['116.178139', '39.529987'], ['116.178139', '39.530556'], ['116.178154', '39.532223'], ['116.178162', '39.534107'], ['116.178116', '39.535194'], ['116.178123', '39.535538'], ['116.178444', '39.539791'], ['116.178482', '39.540257'], ['116.178505', '39.540588'], ['116.178589', '39.541767'], ['116.178635', '39.542473'], ['116.178703', '39.543541'], ['116.178772', '39.544281'], ['116.178871', '39.545292'], ['116.178909', '39.545872'], ['116.17894', '39.546337'], ['116.178978', '39.54681'], ['116.179024', '39.547459'], ['116.179283', '39.550701'], ['116.179283', '39.550781'], ['116.179459', '39.553085'], ['116.179825', '39.557625'], ['116.179909', '39.558655'], ['116.180008', '39.559776'], ['116.180061', '39.560448'], ['116.180115', '39.561024'], ['116.180176', '39.561764'], ['116.180229', '39.562401'], ['116.180305', '39.563095'], ['116.180344', '39.563641'], ['116.180359', '39.563744'], ['116.180435', '39.564793'], ['116.180519', '39.565842'], ['116.180611', '39.566799'], ['116.180611', '39.566799'], ['116.181282', '39.566769'], ['116.182472', '39.566757'], ['116.183556', '39.566746'], ['116.184082', '39.566738'], ['116.190338', '39.566662'], ['116.191406', '39.566643'], ['116.192192', '39.566635'], ['116.193886', '39.566612'], ['116.194313', '39.566608'], ['116.194557', '39.566597'], ['116.195763', '39.566586'], ['116.199333', '39.566528'], ['116.204872', '39.566425'], ['116.206688', '39.56641'], ['116.207588', '39.566414'], ['116.208237', '39.566433'], ['116.209442', '39.566452'], ['116.209442', '39.566452'], ['116.209404', '39.565338'], ['116.209404', '39.565338'], ['116.210587', '39.565426'], ['116.211807', '39.565502'], ['116.213203', '39.565575'], ['116.213379', '39.565586'], ['116.213936', '39.565636'], ['116.214081', '39.565674'], ['116.214195', '39.565735'], ['116.21447', '39.565907'], ['116.214645', '39.565956'], ['116.214951', '39.566002'], ['116.216293', '39.566086'], ['116.216293', '39.566086'], ['116.216438', '39.566006'], ['116.216469', '39.56596'], ['116.216545', '39.565769'], ['116.216606', '39.565479'], ['116.216652', '39.565414'], ['116.216721', '39.565376'], ['116.216721', '39.565376'], ['116.21685', '39.565346'], ['116.21727', '39.565334'], ['116.217819', '39.565346'], ['116.218506', '39.565392'], ['116.21981', '39.565552'], ['116.21981', '39.565552'], ['116.220177', '39.564594'], ['116.220375', '39.564201'], ['116.221764', '39.562099'], ['116.221764', '39.562099'], ['116.221558', '39.562061']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>