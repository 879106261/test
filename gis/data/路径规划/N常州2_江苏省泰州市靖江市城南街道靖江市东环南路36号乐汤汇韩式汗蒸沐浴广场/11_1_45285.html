<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.127144', '31.831766'], ['120.127396', '31.831758'], ['120.127556', '31.831736'], ['120.127762', '31.831694'], ['120.127762', '31.831694'], ['120.127892', '31.831644'], ['120.128128', '31.831533'], ['120.128426', '31.831337'], ['120.12896', '31.830984'], ['120.129807', '31.830414'], ['120.129906', '31.830341'], ['120.130913', '31.829691'], ['120.131149', '31.829514'], ['120.132118', '31.828888'], ['120.133377', '31.828152'], ['120.133698', '31.827965'], ['120.134109', '31.827728'], ['120.134682', '31.827404'], ['120.134712', '31.827391'], ['120.135262', '31.827063'], ['120.135696', '31.826822'], ['120.136345', '31.826468'], ['120.13665', '31.826353'], ['120.137207', '31.826229'], ['120.137917', '31.826124'], ['120.13813', '31.826094'], ['120.139183', '31.825956'], ['120.139893', '31.825851'], ['120.140312', '31.82579'], ['120.141037', '31.825687'], ['120.141891', '31.825569'], ['120.14238', '31.825495'], ['120.143112', '31.825405'], ['120.14389', '31.825342'], ['120.144424', '31.825325'], ['120.144905', '31.825319'], ['120.145203', '31.825325'], ['120.145309', '31.825325'], ['120.145638', '31.825342'], ['120.146385', '31.825373'], ['120.146492', '31.825373'], ['120.146713', '31.825373'], ['120.147423', '31.825333'], ['120.148224', '31.825237'], ['120.148598', '31.825172'], ['120.149429', '31.824978'], ['120.150108', '31.824787'], ['120.150543', '31.824671'], ['120.151306', '31.824463'], ['120.152046', '31.824284'], ['120.152428', '31.824213'], ['120.153717', '31.824045'], ['120.153854', '31.824026'], ['120.155197', '31.823845'], ['120.155624', '31.823776'], ['120.155899', '31.823698'], ['120.156372', '31.823507'], ['120.156677', '31.823351'], ['120.157784', '31.822687'], ['120.158203', '31.822435'], ['120.158348', '31.82233'], ['120.158348', '31.82233'], ['120.15947', '31.822235'], ['120.159775', '31.82217'], ['120.160355', '31.822062'], ['120.161797', '31.821785'], ['120.162109', '31.821697'], ['120.16227', '31.821636'], ['120.162514', '31.821516'], ['120.162697', '31.821354'], ['120.162804', '31.821238'], ['120.162834', '31.821129'], ['120.162842', '31.821047'], ['120.162895', '31.820568'], ['120.162994', '31.819527'], ['120.163094', '31.818729'], ['120.163094', '31.818729'], ['120.164391', '31.819471'], ['120.164391', '31.819471'], ['120.164703', '31.819363'], ['120.164825', '31.819317'], ['120.165466', '31.819027'], ['120.166122', '31.818693'], ['120.166313', '31.818621'], ['120.166313', '31.818621'], ['120.166382', '31.818037'], ['120.166412', '31.817911'], ['120.166466', '31.817734'], ['120.16658', '31.817617'], ['120.166702', '31.817526'], ['120.167152', '31.817387'], ['120.167465', '31.817331'], ['120.168091', '31.817226'], ['120.168091', '31.817226'], ['120.16806', '31.81741'], ['120.168068', '31.817543'], ['120.168159', '31.818165'], ['120.168221', '31.818211'], ['120.168243', '31.818302'], ['120.168251', '31.818447'], ['120.168228', '31.818647'], ['120.168266', '31.818802'], ['120.168297', '31.818884'], ['120.168457', '31.818962'], ['120.168465', '31.818962'], ['120.168465', '31.818962'], ['120.168633', '31.818911'], ['120.168716', '31.818867'], ['120.169159', '31.818615'], ['120.169411', '31.818525'], ['120.169708', '31.818464'], ['120.169891', '31.818411'], ['120.170563', '31.818033'], ['120.170738', '31.817968'], ['120.170914', '31.817955'], ['120.171776', '31.817928'], ['120.172028', '31.817947'], ['120.172455', '31.817987'], ['120.173798', '31.818125'], ['120.173798', '31.818125'], ['120.173897', '31.818529'], ['120.174026', '31.819002'], ['120.17421', '31.819349'], ['120.174408', '31.819948'], ['120.1745', '31.820114'], ['120.174583', '31.82021'], ['120.17511', '31.820595'], ['120.175217', '31.820669'], ['120.175369', '31.820734'], ['120.176147', '31.821011'], ['120.176781', '31.821198'], ['120.177628', '31.821457'], ['120.178528', '31.821749'], ['120.178528', '31.821749'], ['120.178482', '31.821894'], ['120.178452', '31.822062'], ['120.178452', '31.822062'], ['120.179192', '31.822262'], ['120.180054', '31.82254'], ['120.180054', '31.82254'], ['120.179779', '31.823183'], ['120.179634', '31.823446'], ['120.17926', '31.8244'], ['120.178963', '31.824978'], ['120.178589', '31.825642'], ['120.178276', '31.826164'], ['120.177895', '31.826666'], ['120.177475', '31.827168'], ['120.177277', '31.827391'], ['120.176659', '31.828098'], ['120.176247', '31.82855'], ['120.176247', '31.82855'], ['120.176758', '31.829031'], ['120.178329', '31.830439'], ['120.179512', '31.831467'], ['120.179886', '31.831732'], ['120.180168', '31.831871'], ['120.180664', '31.832167'], ['120.181686', '31.832848'], ['120.182091', '31.833115'], ['120.182533', '31.833355'], ['120.182838', '31.833494'], ['120.183144', '31.833651'], ['120.183792', '31.833876'], ['120.184113', '31.833961'], ['120.185616', '31.834366'], ['120.187508', '31.834869'], ['120.188446', '31.835035'], ['120.190117', '31.83532'], ['120.190163', '31.835325'], ['120.189095', '31.837122'], ['120.188957', '31.837355'], ['120.188927', '31.837551'], ['120.188972', '31.837709'], ['120.189056', '31.837812'], ['120.189209', '31.837891'], ['120.189377', '31.83791'], ['120.189583', '31.83786'], ['120.189659', '31.837812'], ['120.189995', '31.83754'], ['120.19014', '31.837217'], ['120.19043', '31.836639'], ['120.19059', '31.836338'], ['120.191109', '31.835392'], ['120.191315', '31.835052'], ['120.191666', '31.834518'], ['120.191833', '31.834263'], ['120.192123', '31.833811'], ['120.193237', '31.832283'], ['120.193802', '31.831444'], ['120.194069', '31.831028'], ['120.194878', '31.829691'], ['120.195496', '31.828625'], ['120.196198', '31.827391'], ['120.196632', '31.826626'], ['120.196632', '31.826626'], ['120.199692', '31.821388'], ['120.201103', '31.818924'], ['120.20163', '31.817934'], ['120.201752', '31.817686'], ['120.201874', '31.817444'], ['120.201874', '31.817444'], ['120.201981', '31.816944'], ['120.202133', '31.816553'], ['120.202194', '31.816406'], ['120.202248', '31.816261'], ['120.202385', '31.815897'], ['120.202446', '31.815712'], ['120.202492', '31.815506'], ['120.20253', '31.815304'], ['120.20256', '31.81496'], ['120.20256', '31.814709'], ['120.20253', '31.814453'], ['120.202492', '31.814188'], ['120.202415', '31.813854'], ['120.202309', '31.813337'], ['120.202278', '31.813074'], ['120.202278', '31.812832'], ['120.202309', '31.812639'], ['120.20237', '31.812454'], ['120.202446', '31.812235'], ['120.202614', '31.811979'], ['120.202759', '31.811817'], ['120.202881', '31.811703'], ['120.203056', '31.811558'], ['120.203339', '31.811394'], ['120.203522', '31.811316'], ['120.203873', '31.811207'], ['120.204109', '31.811165'], ['120.204323', '31.811146'], ['120.20459', '31.811159'], ['120.204758', '31.811171'], ['120.205002', '31.811224'], ['120.205215', '31.811293'], ['120.205406', '31.811367'], ['120.205589', '31.811466'], ['120.205757', '31.811581'], ['120.205948', '31.811728'], ['120.206139', '31.811922'], ['120.206429', '31.812172'], ['120.206581', '31.812395'], ['120.206696', '31.812546'], ['120.206848', '31.812714'], ['120.207031', '31.812895'], ['120.207237', '31.813055'], ['120.207466', '31.813215'], ['120.207672', '31.813343'], ['120.207901', '31.813465'], ['120.208282', '31.813616'], ['120.208771', '31.813797'], ['120.210258', '31.814306'], ['120.210381', '31.814367'], ['120.210518', '31.814466'], ['120.211487', '31.814777'], ['120.212402', '31.815069'], ['120.214317', '31.815674'], ['120.216179', '31.816257'], ['120.216614', '31.816406'], ['120.216835', '31.816481'], ['120.218643', '31.817036'], ['120.220985', '31.817774'], ['120.222038', '31.818083'], ['120.223152', '31.818394'], ['120.225067', '31.818829'], ['120.225891', '31.818989'], ['120.227821', '31.819317'], ['120.229019', '31.819485'], ['120.229843', '31.819578'], ['120.230759', '31.819675'], ['120.232208', '31.819786'], ['120.234375', '31.81996'], ['120.237663', '31.820227'], ['120.239059', '31.82032'], ['120.240143', '31.820374'], ['120.241692', '31.820396'], ['120.243843', '31.820374'], ['120.244659', '31.820356'], ['120.245735', '31.82037'], ['120.246826', '31.8204'], ['120.248131', '31.820469'], ['120.248726', '31.820511'], ['120.249046', '31.820538'], ['120.25061', '31.820702'], ['120.252319', '31.820938'], ['120.254608', '31.821329'], ['120.256248', '31.82164'], ['120.256348', '31.821663'], ['120.256607', '31.821711'], ['120.257172', '31.82181'], ['120.259079', '31.822166'], ['120.261032', '31.822546'], ['120.261841', '31.822704'], ['120.262901', '31.822916'], ['120.264732', '31.823341'], ['120.266418', '31.823807'], ['120.26722', '31.824049'], ['120.268311', '31.824409'], ['120.269775', '31.824926'], ['120.270844', '31.825342'], ['120.271515', '31.825621'], ['120.272781', '31.826185'], ['120.274071', '31.826797'], ['120.27449', '31.827013'], ['120.275215', '31.827391'], ['120.275909', '31.827742'], ['120.27832', '31.828989'], ['120.280838', '31.830286'], ['120.282158', '31.830973'], ['120.283012', '31.831402'], ['120.284172', '31.831957'], ['120.285492', '31.832535'], ['120.286079', '31.832777'], ['120.287224', '31.83322'], ['120.287994', '31.833494'], ['120.289299', '31.833942'], ['120.289902', '31.834127'], ['120.291214', '31.834497'], ['120.292496', '31.834845'], ['120.293739', '31.835123'], ['120.295448', '31.835464'], ['120.297501', '31.835783'], ['120.299408', '31.836006'], ['120.300293', '31.836107'], ['120.300743', '31.836164'], ['120.302086', '31.836311'], ['120.302086', '31.836311'], ['120.302612', '31.836302'], ['120.303749', '31.836416'], ['120.304314', '31.836449'], ['120.304512', '31.836445'], ['120.30471', '31.836424'], ['120.304878', '31.836384'], ['120.305046', '31.836329'], ['120.305145', '31.836285'], ['120.305229', '31.836243'], ['120.305405', '31.836134'], ['120.30555', '31.836016'], ['120.305977', '31.835655'], ['120.306114', '31.83556'], ['120.306236', '31.835491'], ['120.306381', '31.835438'], ['120.306488', '31.835413'], ['120.30661', '31.8354'], ['120.306763', '31.835413'], ['120.30687', '31.835438'], ['120.306976', '31.835474'], ['120.307083', '31.835495'], ['120.307205', '31.835577'], ['120.307297', '31.835678'], ['120.307365', '31.835787'], ['120.307411', '31.835894'], ['120.307434', '31.835993'], ['120.307442', '31.836124'], ['120.307419', '31.836288'], ['120.307396', '31.836475'], ['120.30722', '31.837118'], ['120.307114', '31.837418'], ['120.306877', '31.83802'], ['120.306747', '31.838377'], ['120.306717', '31.838451'], ['120.306519', '31.839016'], ['120.30645', '31.839285'], ['120.306396', '31.839558'], ['120.306366', '31.839727'], ['120.30632', '31.83996'], ['120.306267', '31.840141'], ['120.306267', '31.840141'], ['120.306152', '31.840408'], ['120.306053', '31.840702'], ['120.306015', '31.84086'], ['120.305984', '31.840969'], ['120.305977', '31.841129'], ['120.305992', '31.841337'], ['120.305992', '31.841337'], ['120.306038', '31.841511'], ['120.306061', '31.841579'], ['120.306107', '31.841648'], ['120.306206', '31.841808'], ['120.306335', '31.841984'], ['120.306488', '31.842131'], ['120.306595', '31.842218'], ['120.306641', '31.842249'], ['120.306801', '31.842354'], ['120.306999', '31.842453'], ['120.307289', '31.842573'], ['120.307617', '31.842674'], ['120.308006', '31.842773'], ['120.308472', '31.842859'], ['120.308868', '31.842916'], ['120.309212', '31.842941'], ['120.30941', '31.842937'], ['120.30957', '31.842909'], ['120.309723', '31.842869'], ['120.30983', '31.842817'], ['120.309929', '31.84276'], ['120.30999', '31.842691'], ['120.310051', '31.842613'], ['120.310089', '31.842535'], ['120.310112', '31.842453'], ['120.310112', '31.842369'], ['120.310112', '31.842266'], ['120.310081', '31.842171'], ['120.310036', '31.842085'], ['120.309975', '31.842012'], ['120.309883', '31.841944'], ['120.309799', '31.841894'], ['120.309692', '31.841848'], ['120.309593', '31.841827'], ['120.309456', '31.841814'], ['120.309341', '31.841831'], ['120.30925', '31.841854'], ['120.309128', '31.841904'], ['120.309036', '31.841976'], ['120.308907', '31.842085'], ['120.308617', '31.842464'], ['120.308365', '31.842995'], ['120.308174', '31.843506'], ['120.307831', '31.844421'], ['120.307594', '31.845169'], ['120.307114', '31.84684'], ['120.306877', '31.847374'], ['120.306793', '31.847713'], ['120.306732', '31.847986'], ['120.306541', '31.848728'], ['120.306389', '31.849361'], ['120.306152', '31.850317'], ['120.305672', '31.8522'], ['120.304527', '31.856913'], ['120.304016', '31.859413'], ['120.303856', '31.860352'], ['120.303505', '31.862301'], ['120.303421', '31.86286'], ['120.3032', '31.864758'], ['120.303047', '31.866333'], ['120.302887', '31.868233'], ['120.302773', '31.869385'], ['120.302605', '31.871338'], ['120.302208', '31.875864'], ['120.301895', '31.879505'], ['120.301659', '31.88203'], ['120.301636', '31.882322'], ['120.301331', '31.885933'], ['120.301224', '31.887091'], ['120.300957', '31.889931'], ['120.30088', '31.890787'], ['120.300774', '31.891636'], ['120.300629', '31.892569'], ['120.300575', '31.892965'], ['120.300514', '31.893307'], ['120.300323', '31.894409'], ['120.300293', '31.894596'], ['120.30011', '31.895641'], ['120.299683', '31.897591'], ['120.299408', '31.898676'], ['120.299179', '31.899326'], ['120.29895', '31.900187'], ['120.298531', '31.901548'], ['120.298042', '31.90299'], ['120.297562', '31.904297'], ['120.29747', '31.904575'], ['120.29689', '31.905993'], ['120.29631', '31.907331'], ['120.296059', '31.90789'], ['120.294975', '31.910151'], ['120.294197', '31.911579'], ['120.293205', '31.913301'], ['120.293007', '31.913702'], ['120.292793', '31.914036'], ['120.292336', '31.914736'], ['120.291992', '31.915281'], ['120.291557', '31.915947'], ['120.290588', '31.917374'], ['120.289261', '31.919203'], ['120.288193', '31.920555'], ['120.287033', '31.921991'], ['120.286194', '31.923042'], ['120.285522', '31.923943'], ['120.285072', '31.92454'], ['120.284248', '31.92572'], ['120.283981', '31.926102'], ['120.283875', '31.926266'], ['120.283684', '31.926561'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.273727', '31.963034'], ['120.273537', '31.963264'], ['120.273438', '31.963421'], ['120.272926', '31.96435'], ['120.271324', '31.967205'], ['120.271309', '31.967249'], ['120.270752', '31.96822'], ['120.270081', '31.96944'], ['120.269646', '31.970213'], ['120.269173', '31.971071'], ['120.268944', '31.971485'], ['120.268913', '31.971544'], ['120.268417', '31.972486'], ['120.267937', '31.973373'], ['120.267494', '31.974144'], ['120.267433', '31.974253'], ['120.267166', '31.974722'], ['120.266907', '31.975237'], ['120.266739', '31.975643'], ['120.266632', '31.97596'], ['120.266533', '31.97628'], ['120.266388', '31.977009'], ['120.266357', '31.977505'], ['120.266357', '31.977846'], ['120.266373', '31.97839'], ['120.26638', '31.978451'], ['120.266418', '31.978743'], ['120.266487', '31.979124'], ['120.266647', '31.979687'], ['120.266754', '31.980009'], ['120.26693', '31.980438'], ['120.267036', '31.980642'], ['120.267303', '31.981197'], ['120.267517', '31.981623'], ['120.267792', '31.982195'], ['120.267921', '31.982449'], ['120.267982', '31.982578'], ['120.26963', '31.985992'], ['120.269936', '31.986654'], ['120.269989', '31.986757'], ['120.270302', '31.987396'], ['120.270943', '31.988716'], ['120.271278', '31.989363'], ['120.271538', '31.989832'], ['120.271988', '31.990587'], ['120.272598', '31.991463'], ['120.272621', '31.991507'], ['120.273117', '31.992188'], ['120.275162', '31.995056'], ['120.27697', '31.997635'], ['120.277245', '31.998024'], ['120.277397', '31.998247'], ['120.277641', '31.998569'], ['120.277695', '31.998646'], ['120.277924', '31.998945'], ['120.27832', '31.99951'], ['120.279144', '32.000668'], ['120.279411', '32.000999'], ['120.279678', '32.001297'], ['120.280151', '32.00177'], ['120.280869', '32.002426'], ['120.281143', '32.002708'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>