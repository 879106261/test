<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.126053', '31.831736'], ['120.12513', '31.831711'], ['120.124931', '31.831701'], ['120.124504', '31.831694'], ['120.123245', '31.831654'], ['120.122421', '31.831623'], ['120.12175', '31.831598'], ['120.121506', '31.831585'], ['120.121078', '31.831575'], ['120.120491', '31.831572'], ['120.120071', '31.831575'], ['120.119637', '31.831575'], ['120.119148', '31.83152'], ['120.118706', '31.83147'], ['120.11718', '31.83144'], ['120.116943', '31.831425'], ['120.116196', '31.831324'], ['120.1157', '31.831224'], ['120.115189', '31.831102'], ['120.114433', '31.830875'], ['120.113884', '31.830711'], ['120.113304', '31.830505'], ['120.113083', '31.830395'], ['120.112358', '31.829948'], ['120.111519', '31.829462'], ['120.110931', '31.829149'], ['120.110367', '31.828871'], ['120.109703', '31.828556'], ['120.108818', '31.828152'], ['120.108452', '31.827995'], ['120.108215', '31.827911'], ['120.107925', '31.827831'], ['120.10762', '31.827761'], ['120.107414', '31.827738'], ['120.107048', '31.827738'], ['120.106216', '31.827787'], ['120.105148', '31.827864'], ['120.104446', '31.8279'], ['120.104141', '31.8279'], ['120.103851', '31.82789'], ['120.103508', '31.827831'], ['120.103508', '31.827831'], ['120.102737', '31.827391'], ['120.102539', '31.827278'], ['120.101753', '31.826822'], ['120.100792', '31.826275'], ['120.10054', '31.826141'], ['120.100151', '31.82592'], ['120.098846', '31.825186'], ['120.098694', '31.825123'], ['120.098503', '31.825069'], ['120.098221', '31.825031'], ['120.09787', '31.825031'], ['120.09787', '31.825031'], ['120.097946', '31.826616'], ['120.097984', '31.827391'], ['120.09803', '31.828394'], ['120.098099', '31.829691'], ['120.098145', '31.830791'], ['120.098167', '31.831133'], ['120.09819', '31.83149'], ['120.098206', '31.831623'], ['120.098228', '31.832331'], ['120.098305', '31.833534'], ['120.098358', '31.834654'], ['120.098412', '31.835869'], ['120.098526', '31.838074'], ['120.098534', '31.838377'], ['120.098587', '31.839476'], ['120.098663', '31.842432'], ['120.09874', '31.84429'], ['120.098747', '31.844467'], ['120.09877', '31.845022'], ['120.0989', '31.84708'], ['120.098999', '31.848772'], ['120.09903', '31.849361'], ['120.099136', '31.851311'], ['120.099182', '31.852085'], ['120.099213', '31.852856'], ['120.09919', '31.853924'], ['120.099159', '31.854557'], ['120.099121', '31.855013'], ['120.099052', '31.855547'], ['120.0989', '31.85652'], ['120.098801', '31.857004'], ['120.098534', '31.858124'], ['120.098427', '31.858498'], ['120.098106', '31.859562'], ['120.098045', '31.859739'], ['120.097839', '31.860352'], ['120.097816', '31.860399'], ['120.097633', '31.860538'], ['120.096771', '31.860352'], ['120.091003', '31.859079'], ['120.089561', '31.858763'], ['120.089561', '31.858763'], ['120.089485', '31.860352'], ['120.089478', '31.860434'], ['120.089256', '31.865816'], ['120.089134', '31.868082'], ['120.089073', '31.869549'], ['120.088997', '31.871338'], ['120.088974', '31.871689'], ['120.088936', '31.872734'], ['120.08886', '31.874489'], ['120.088852', '31.875151'], ['120.088844', '31.876047'], ['120.088799', '31.876112'], ['120.088791', '31.876814'], ['120.088699', '31.878828'], ['120.088593', '31.881098'], ['120.088562', '31.881794'], ['120.088562', '31.881931'], ['120.088539', '31.882322'], ['120.088516', '31.882883'], ['120.088425', '31.884863'], ['120.088371', '31.885889'], ['120.088303', '31.887774'], ['120.088142', '31.891535'], ['120.088074', '31.893143'], ['120.088058', '31.893307'], ['120.08802', '31.894232'], ['120.087967', '31.895552'], ['120.087875', '31.897686'], ['120.087868', '31.897831'], ['120.087769', '31.899965'], ['120.087723', '31.901165'], ['120.087654', '31.902514'], ['120.087654', '31.902651'], ['120.087593', '31.903957'], ['120.08757', '31.904297'], ['120.087555', '31.904644'], ['120.087502', '31.905821'], ['120.087494', '31.905979'], ['120.087456', '31.906715'], ['120.08741', '31.907869'], ['120.087379', '31.90856'], ['120.087341', '31.909452'], ['120.087273', '31.911133'], ['120.087158', '31.913925'], ['120.087112', '31.914791'], ['120.087112', '31.915281'], ['120.087112', '31.915325'], ['120.087112', '31.915382'], ['120.087051', '31.916431'], ['120.087021', '31.917166'], ['120.086998', '31.917973'], ['120.086967', '31.918625'], ['120.086906', '31.919691'], ['120.086838', '31.921099'], ['120.0868', '31.921766'], ['120.086731', '31.922987'], ['120.086739', '31.923092'], ['120.086647', '31.924244'], ['120.086571', '31.925108'], ['120.086464', '31.926266'], ['120.086365', '31.927267'], ['120.086357', '31.927782'], ['120.086372', '31.928112'], ['120.086411', '31.928398'], ['120.086456', '31.928652'], ['120.086578', '31.929115'], ['120.086693', '31.929449'], ['120.086838', '31.929754'], ['120.086967', '31.930017'], ['120.087128', '31.930296'], ['120.087402', '31.930687'], ['120.08773', '31.93116'], ['120.088478', '31.932199'], ['120.089386', '31.93346'], ['120.0895', '31.933628'], ['120.089912', '31.934175'], ['120.090096', '31.934467'], ['120.090439', '31.934927'], ['120.090927', '31.935604'], ['120.09166', '31.93664'], ['120.091965', '31.937035'], ['120.092026', '31.937084'], ['120.092094', '31.937187'], ['120.092094', '31.937187'], ['120.092148', '31.937254'], ['120.092163', '31.937271'], ['120.092178', '31.937309'], ['120.092308', '31.937483'], ['120.092918', '31.938387'], ['120.092987', '31.938551'], ['120.093048', '31.938824'], ['120.09304', '31.939219'], ['120.093002', '31.939457'], ['120.092972', '31.939568'], ['120.092842', '31.93977'], ['120.092674', '31.940054'], ['120.092644', '31.940142'], ['120.092628', '31.940228'], ['120.092674', '31.940405'], ['120.092674', '31.940405'], ['120.094704', '31.948242'], ['120.094788', '31.948589'], ['120.097527', '31.959227'], ['120.097977', '31.960979'], ['120.097977', '31.960979'], ['120.098862', '31.963165'], ['120.098892', '31.963186'], ['120.09893', '31.963306'], ['120.09893', '31.963369'], ['120.099075', '31.963625'], ['120.099174', '31.963772'], ['120.099327', '31.963963'], ['120.099503', '31.964149'], ['120.09977', '31.964384'], ['120.099991', '31.964535'], ['120.100464', '31.964823'], ['120.100708', '31.96497'], ['120.100952', '31.965118'], ['120.101318', '31.965351'], ['120.101562', '31.965534'], ['120.101944', '31.965916'], ['120.102135', '31.966137'], ['120.102348', '31.966457'], ['120.102539', '31.966797'], ['120.102592', '31.966909'], ['120.102692', '31.967167'], ['120.102753', '31.967445'], ['120.102821', '31.968388'], ['120.102905', '31.970213'], ['120.102905', '31.970251'], ['120.102989', '31.97188'], ['120.103004', '31.972195'], ['120.10302', '31.972418'], ['120.103065', '31.973356'], ['120.103096', '31.974031'], ['120.103134', '31.974813'], ['120.103134', '31.974813'], ['120.103157', '31.975605'], ['120.10321', '31.977209'], ['120.103233', '31.977814'], ['120.103279', '31.978781'], ['120.103317', '31.979582'], ['120.103394', '31.981197'], ['120.103424', '31.981804'], ['120.103477', '31.9828'], ['120.103493', '31.983088'], ['120.103523', '31.983564'], ['120.103546', '31.984266'], ['120.103638', '31.985937'], ['120.103661', '31.986403'], ['120.103683', '31.986862'], ['120.103722', '31.987787'], ['120.10376', '31.988401'], ['120.103844', '31.989901'], ['120.103966', '31.992188'], ['120.103973', '31.992313'], ['120.104088', '31.994444'], ['120.104179', '31.99588'], ['120.104294', '31.998129'], ['120.10434', '31.998934'], ['120.10434', '31.998989'], ['120.104408', '32.000488'], ['120.104408', '32.000874'], ['120.104454', '32.002541'], ['120.104492', '32.003174'], ['120.104576', '32.004681'], ['120.104668', '32.006039'], ['120.104729', '32.00732'], ['120.104797', '32.008629'], ['120.104797', '32.008995'], ['120.104843', '32.010502'], ['120.104904', '32.011597'], ['120.105003', '32.013264'], ['120.105019', '32.013824'], ['120.105042', '32.014156'], ['120.105049', '32.014275'], ['120.105118', '32.015545'], ['120.105194', '32.016502'], ['120.105232', '32.017418'], ['120.105301', '32.019089'], ['120.105309', '32.019325'], ['120.105324', '32.019634'], ['120.105339', '32.020428'], ['120.10537', '32.021545'], ['120.105385', '32.022743'], ['120.105431', '32.023563'], ['120.105484', '32.023911'], ['120.105545', '32.024075'], ['120.105621', '32.024139'], ['120.105659', '32.024166'], ['120.105797', '32.024185'], ['120.106308', '32.024143'], ['120.106461', '32.024143'], ['120.10659', '32.024189'], ['120.106644', '32.024223'], ['120.10672', '32.024342'], ['120.106758', '32.024437'], ['120.106773', '32.024609'], ['120.106789', '32.024693'], ['120.106903', '32.025074'], ['120.106926', '32.025143'], ['120.107086', '32.025837'], ['120.107544', '32.027336'], ['120.107689', '32.027813'], ['120.10775', '32.027939'], ['120.107956', '32.028347'], ['120.108124', '32.028633'], ['120.108612', '32.02935'], ['120.109779', '32.03109'], ['120.110657', '32.032566'], ['120.110886', '32.032936'], ['120.111099', '32.033272'], ['120.111366', '32.033688'], ['120.11161', '32.034023'], ['120.112251', '32.034866'], ['120.112541', '32.035271'], ['120.112785', '32.035568'], ['120.113213', '32.036133'], ['120.113297', '32.036247'], ['120.113632', '32.036694'], ['120.113983', '32.037117'], ['120.114349', '32.03754'], ['120.114845', '32.038082'], ['120.115135', '32.038387'], ['120.115387', '32.03862'], ['120.115601', '32.038803'], ['120.116318', '32.03931'], ['120.116753', '32.039623'], ['120.11721', '32.040001'], ['120.117386', '32.040169'], ['120.117577', '32.040375'], ['120.118904', '32.042034'], ['120.119209', '32.042419'], ['120.119583', '32.0429'], ['120.12001', '32.043526'], ['120.12014', '32.043686'], ['120.121544', '32.045231'], ['120.122284', '32.046028'], ['120.123306', '32.047119'], ['120.123878', '32.047741'], ['120.12429', '32.048172'], ['120.124504', '32.048332'], ['120.124641', '32.048401'], ['120.124855', '32.048492'], ['120.1287', '32.049835'], ['120.129768', '32.050217'], ['120.12986', '32.050251'], ['120.129921', '32.05027'], ['120.130875', '32.050606'], ['120.131737', '32.050915'], ['120.13221', '32.051098'], ['120.132866', '32.051319'], ['120.133354', '32.051495'], ['120.133354', '32.051495'], ['120.134308', '32.051003'], ['120.13485', '32.050747'], ['120.139763', '32.048653'], ['120.140221', '32.048466'], ['120.140579', '32.048309'], ['120.141975', '32.047722'], ['120.142357', '32.047546'], ['120.142883', '32.04731'], ['120.143318', '32.047119'], ['120.143394', '32.047081'], ['120.145058', '32.046249'], ['120.146492', '32.045517'], ['120.147903', '32.044788'], ['120.150368', '32.043533'], ['120.15094', '32.043232'], ['120.152771', '32.042297'], ['120.153946', '32.041733'], ['120.154701', '32.041393'], ['120.155342', '32.041107'], ['120.156479', '32.040646'], ['120.15757', '32.04023'], ['120.158073', '32.040054'], ['120.159714', '32.039509'], ['120.160606', '32.039234'], ['120.161392', '32.039021'], ['120.161804', '32.03891'], ['120.162941', '32.038624'], ['120.164665', '32.038254'], ['120.164749', '32.038239'], ['120.165138', '32.038166'], ['120.167152', '32.037766'], ['120.167595', '32.037674'], ['120.16787', '32.037621'], ['120.168457', '32.03751'], ['120.171127', '32.036983'], ['120.171722', '32.036865'], ['120.172325', '32.036755'], ['120.172943', '32.036625'], ['120.175522', '32.036133'], ['120.175957', '32.036037'], ['120.17746', '32.035751'], ['120.178947', '32.035454'], ['120.182549', '32.03476'], ['120.182976', '32.034672'], ['120.183525', '32.034576'], ['120.184456', '32.034454'], ['120.18576', '32.034317'], ['120.187012', '32.034237'], ['120.187958', '32.034214'], ['120.188545', '32.03421'], ['120.188904', '32.034218'], ['120.189423', '32.034237'], ['120.190125', '32.034271'], ['120.19043', '32.034294'], ['120.191521', '32.034386'], ['120.191788', '32.034409'], ['120.196228', '32.034954'], ['120.19664', '32.035007'], ['120.200844', '32.035526'], ['120.201607', '32.035614'], ['120.205383', '32.036076'], ['120.205986', '32.036133'], ['120.206261', '32.036152'], ['120.206726', '32.036171'], ['120.207581', '32.036179'], ['120.20797', '32.036167'], ['120.20842', '32.036133'], ['120.209183', '32.036057'], ['120.211716', '32.035702'], ['120.212402', '32.035595'], ['120.212509', '32.03558'], ['120.212814', '32.03553'], ['120.21685', '32.034924'], ['120.219673', '32.0345'], ['120.219719', '32.034496'], ['120.220367', '32.034405'], ['120.220749', '32.034344'], ['120.221375', '32.034252'], ['120.223152', '32.033985'], ['120.224266', '32.033821'], ['120.224792', '32.033733'], ['120.225304', '32.033657'], ['120.225464', '32.033638'], ['120.226372', '32.033501'], ['120.22702', '32.033398'], ['120.227722', '32.033302'], ['120.228676', '32.033161'], ['120.229874', '32.032978'], ['120.230942', '32.032818'], ['120.232994', '32.032505'], ['120.233803', '32.032368'], ['120.234375', '32.032261'], ['120.234497', '32.032234'], ['120.23613', '32.031876'], ['120.236763', '32.031734'], ['120.237457', '32.03157'], ['120.238258', '32.031387'], ['120.23848', '32.031342'], ['120.240913', '32.030773'], ['120.241508', '32.030632'], ['120.242119', '32.030483'], ['120.242523', '32.030365'], ['120.242584', '32.030342'], ['120.243065', '32.030186'], ['120.24334', '32.030102'], ['120.24501', '32.029572'], ['120.245705', '32.02935'], ['120.246155', '32.029186'], ['120.246452', '32.028999'], ['120.24691', '32.028641'], ['120.247635', '32.028069'], ['120.249352', '32.026711'], ['120.249886', '32.026306'], ['120.250168', '32.026134'], ['120.250397', '32.026031'], ['120.250793', '32.025917'], ['120.250977', '32.025879'], ['120.251152', '32.025841'], ['120.251938', '32.025661'], ['120.253212', '32.02536'], ['120.253944', '32.025169'], ['120.253944', '32.025169'], ['120.253952', '32.025143'], ['120.254074', '32.024704'], ['120.254074', '32.024609'], ['120.254051', '32.024277'], ['120.254051', '32.023941'], ['120.254082', '32.02383'], ['120.254143', '32.023701'], ['120.254143', '32.023701'], ['120.254135', '32.023682'], ['120.254128', '32.023647'], ['120.254112', '32.023605'], ['120.254135', '32.023521'], ['120.254166', '32.023453'], ['120.254211', '32.023411'], ['120.254257', '32.023388'], ['120.254349', '32.023369'], ['120.25441', '32.023369'], ['120.254433', '32.023373'], ['120.254509', '32.023407'], ['120.254509', '32.023407'], ['120.254623', '32.023247'], ['120.254814', '32.022911'], ['120.254906', '32.022797'], ['120.25518', '32.022335'], ['120.255424', '32.021935'], ['120.255867', '32.021252'], ['120.255989', '32.021069'], ['120.25618', '32.02079'], ['120.256348', '32.020538'], ['120.256622', '32.020115'], ['120.256851', '32.019764'], ['120.256958', '32.019596'], ['120.257431', '32.018871'], ['120.257538', '32.018719'], ['120.258011', '32.018002'], ['120.258125', '32.017834'], ['120.258301', '32.017551'], ['120.258354', '32.01746'], ['120.258675', '32.017021'], ['120.258743', '32.016937'], ['120.259079', '32.016586'], ['120.259552', '32.016212'], ['120.259972', '32.015945'], ['120.260048', '32.015907'], ['120.260506', '32.015663'], ['120.260704', '32.015583'], ['120.261436', '32.015274'], ['120.262077', '32.015022'], ['120.262619', '32.014809'], ['120.26313', '32.014591'], ['120.263466', '32.014473'], ['120.264038', '32.01424'], ['120.264076', '32.014221'], ['120.264275', '32.014156'], ['120.264328', '32.014141'], ['120.264862', '32.014008'], ['120.26503', '32.013969'], ['120.265686', '32.013832'], ['120.266121', '32.013741'], ['120.266632', '32.013653'], ['120.266876', '32.013584'], ['120.267548', '32.013393'], ['120.267708', '32.013359'], ['120.268204', '32.013279'], ['120.270096', '32.013081'], ['120.271126', '32.013027'], ['120.27182', '32.013012'], ['120.27243', '32.013042'], ['120.272781', '32.013088'], ['120.273148', '32.013157'], ['120.273697', '32.01329'], ['120.274078', '32.013393'], ['120.2743', '32.013458'], ['120.274879', '32.013653'], ['120.275261', '32.013771'], ['120.275635', '32.013859'], ['120.2761', '32.013943'], ['120.276367', '32.013981'], ['120.276695', '32.014004'], ['120.277237', '32.014008'], ['120.27803', '32.013954'], ['120.27816', '32.013943'], ['120.27832', '32.013924'], ['120.27858', '32.013889'], ['120.279076', '32.013832'], ['120.279648', '32.013763'], ['120.28006', '32.013706'], ['120.280563', '32.013638'], ['120.281761', '32.013477'], ['120.282341', '32.013393'], ['120.283127', '32.013317'], ['120.28392', '32.013283'], ['120.284447', '32.013275'], ['120.285278', '32.013298'], ['120.28624', '32.013336'], ['120.286484', '32.013344'], ['120.286484', '32.013344'], ['120.286575', '32.013298'], ['120.286674', '32.013199'], ['120.286705', '32.013157'], ['120.286842', '32.012932'], ['120.286545', '32.011841'], ['120.286453', '32.011444'], ['120.286392', '32.011219'], ['120.286278', '32.010769'], ['120.28614', '32.010269'], ['120.286133', '32.010231'], ['120.286087', '32.010048'], ['120.286041', '32.009899'], ['120.285858', '32.009319'], ['120.285652', '32.008858'], ['120.285316', '32.008297'], ['120.284882', '32.007683'], ['120.284782', '32.007542'], ['120.284508', '32.007172'], ['120.284157', '32.006706'], ['120.284012', '32.006504'], ['120.283684', '32.006046'], ['120.283493', '32.005791'], ['120.283218', '32.005428'], ['120.282921', '32.005024'], ['120.282814', '32.00489'], ['120.282463', '32.004406'], ['120.282356', '32.004265'], ['120.281761', '32.003479'], ['120.281502', '32.003181'], ['120.281494', '32.003174'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>