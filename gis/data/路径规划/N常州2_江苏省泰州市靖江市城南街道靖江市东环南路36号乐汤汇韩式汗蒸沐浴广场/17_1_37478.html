<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.127144', '31.831766'], ['120.127396', '31.831758'], ['120.127556', '31.831736'], ['120.127762', '31.831694'], ['120.127762', '31.831694'], ['120.127892', '31.831644'], ['120.128128', '31.831533'], ['120.128426', '31.831337'], ['120.12896', '31.830984'], ['120.129807', '31.830414'], ['120.129906', '31.830341'], ['120.130913', '31.829691'], ['120.131149', '31.829514'], ['120.131149', '31.829514'], ['120.131897', '31.829666'], ['120.132454', '31.829782'], ['120.132561', '31.829805'], ['120.133461', '31.829996'], ['120.135635', '31.830439'], ['120.136925', '31.830711'], ['120.138779', '31.831085'], ['120.139038', '31.831133'], ['120.139275', '31.831146'], ['120.139626', '31.831146'], ['120.14106', '31.831038'], ['120.143608', '31.830847'], ['120.145012', '31.830748'], ['120.145111', '31.830742'], ['120.145088', '31.831516'], ['120.145065', '31.831884'], ['120.145058', '31.83217'], ['120.145004', '31.833672'], ['120.144997', '31.833961'], ['120.144966', '31.834631'], ['120.144951', '31.834972'], ['120.144936', '31.83577'], ['120.144905', '31.836302'], ['120.14489', '31.837126'], ['120.144859', '31.837669'], ['120.144852', '31.838152'], ['120.144844', '31.838377'], ['120.144836', '31.838642'], ['120.144806', '31.839449'], ['120.144768', '31.840401'], ['120.144745', '31.841089'], ['120.144714', '31.841976'], ['120.144684', '31.842896'], ['120.144699', '31.843746'], ['120.14473', '31.844263'], ['120.144882', '31.845652'], ['120.145088', '31.847355'], ['120.145256', '31.848848'], ['120.145287', '31.849176'], ['120.145317', '31.849361'], ['120.14534', '31.849562'], ['120.145538', '31.851257'], ['120.145599', '31.851992'], ['120.14563', '31.852543'], ['120.145638', '31.853319'], ['120.14563', '31.854582'], ['120.145615', '31.854931'], ['120.14563', '31.855469'], ['120.145668', '31.855955'], ['120.145699', '31.85622'], ['120.145851', '31.856958'], ['120.14595', '31.857344'], ['120.14608', '31.857721'], ['120.14621', '31.858082'], ['120.146416', '31.858538'], ['120.146492', '31.858662'], ['120.146622', '31.858938'], ['120.146866', '31.859362'], ['120.147095', '31.859705'], ['120.147331', '31.860044'], ['120.147591', '31.860352'], ['120.148277', '31.861111'], ['120.149261', '31.862158'], ['120.149567', '31.86245'], ['120.151024', '31.863985'], ['120.151093', '31.864067'], ['120.151375', '31.864357'], ['120.152367', '31.8654'], ['120.152802', '31.865902'], ['120.153336', '31.866476'], ['120.154015', '31.867182'], ['120.155739', '31.869026'], ['120.156059', '31.869453'], ['120.15625', '31.869764'], ['120.156342', '31.86994'], ['120.156517', '31.870359'], ['120.156601', '31.870661'], ['120.156685', '31.870974'], ['120.156723', '31.871258'], ['120.156731', '31.871338'], ['120.156738', '31.87154'], ['120.156731', '31.872026'], ['120.156708', '31.872253'], ['120.15657', '31.872856'], ['120.156479', '31.873211'], ['120.156433', '31.873388'], ['120.156311', '31.873812'], ['120.15625', '31.874022'], ['120.155663', '31.876007'], ['120.155647', '31.876076'], ['120.155609', '31.876207'], ['120.155327', '31.877192'], ['120.155182', '31.8778'], ['120.155083', '31.87845'], ['120.155022', '31.878933'], ['120.154968', '31.879595'], ['120.154953', '31.879774'], ['120.15493', '31.879936'], ['120.154839', '31.880898'], ['120.154762', '31.881645'], ['120.154739', '31.881945'], ['120.154701', '31.882322'], ['120.154694', '31.882536'], ['120.154625', '31.883293'], ['120.154518', '31.884666'], ['120.154434', '31.885473'], ['120.154434', '31.885542'], ['120.154381', '31.885998'], ['120.154312', '31.88648'], ['120.153938', '31.888693'], ['120.153679', '31.890318'], ['120.153496', '31.891401'], ['120.153175', '31.893307'], ['120.153175', '31.893324'], ['120.153084', '31.893833'], ['120.153061', '31.894003'], ['120.153015', '31.894299'], ['120.152809', '31.895569'], ['120.152809', '31.895569'], ['120.152908', '31.895687'], ['120.153084', '31.895847'], ['120.153397', '31.895994'], ['120.157997', '31.895868'], ['120.158455', '31.895851'], ['120.158516', '31.895851'], ['120.159225', '31.895828'], ['120.160469', '31.895798'], ['120.165085', '31.895681'], ['120.168457', '31.895592'], ['120.168816', '31.895578'], ['120.169357', '31.895546'], ['120.16993', '31.895487'], ['120.170685', '31.895409'], ['120.173988', '31.895031'], ['120.174507', '31.894964'], ['120.17482', '31.894936'], ['120.175385', '31.894854'], ['120.177063', '31.89467'], ['120.177383', '31.89464'], ['120.178062', '31.894571'], ['120.178139', '31.894562'], ['120.178871', '31.894514'], ['120.180008', '31.894489'], ['120.181305', '31.894531'], ['120.181923', '31.894575'], ['120.183235', '31.89464'], ['120.183685', '31.894667'], ['120.184799', '31.894732'], ['120.184883', '31.894735'], ['120.186096', '31.894764'], ['120.186897', '31.894787'], ['120.18821', '31.89481'], ['120.188667', '31.894823'], ['120.189964', '31.89485'], ['120.19043', '31.894857'], ['120.19072', '31.894867'], ['120.191536', '31.894878'], ['120.192116', '31.894892'], ['120.193878', '31.894939'], ['120.193962', '31.894939'], ['120.194794', '31.89496'], ['120.195366', '31.894987'], ['120.195618', '31.895014'], ['120.197952', '31.895321'], ['120.198509', '31.895391'], ['120.198799', '31.895424'], ['120.199188', '31.895477'], ['120.200104', '31.895569'], ['120.200371', '31.895592'], ['120.201645', '31.895689'], ['120.202171', '31.895733'], ['120.20282', '31.895756'], ['120.204124', '31.895779'], ['120.20491', '31.89576'], ['120.205757', '31.895729'], ['120.20665', '31.895668'], ['120.207695', '31.895569'], ['120.209557', '31.895372'], ['120.21022', '31.895304'], ['120.210487', '31.895277'], ['120.210602', '31.895264'], ['120.210869', '31.895231'], ['120.211533', '31.895142'], ['120.211929', '31.8951'], ['120.212402', '31.895048'], ['120.212646', '31.895021'], ['120.212738', '31.895014'], ['120.213989', '31.894878'], ['120.216438', '31.894627'], ['120.216812', '31.894613'], ['120.217033', '31.894627'], ['120.217697', '31.894695'], ['120.219185', '31.894909'], ['120.219368', '31.894936'], ['120.220276', '31.895073'], ['120.220924', '31.895168'], ['120.221268', '31.895214'], ['120.221672', '31.895264'], ['120.221741', '31.895277'], ['120.222198', '31.895342'], ['120.223999', '31.895605'], ['120.224426', '31.895668'], ['120.225021', '31.895782'], ['120.225479', '31.895876'], ['120.225899', '31.895994'], ['120.226196', '31.896084'], ['120.226974', '31.896328'], ['120.227623', '31.896534'], ['120.22802', '31.896671'], ['120.228157', '31.896715'], ['120.22834', '31.896757'], ['120.229012', '31.896967'], ['120.22963', '31.897154'], ['120.230278', '31.897354'], ['120.230385', '31.897377'], ['120.230743', '31.897482'], ['120.231842', '31.89776'], ['120.233849', '31.898191'], ['120.234375', '31.898283'], ['120.234863', '31.898365'], ['120.235085', '31.898397'], ['120.235992', '31.898529'], ['120.237282', '31.898689'], ['120.238007', '31.898775'], ['120.23822', '31.898802'], ['120.238724', '31.898853'], ['120.238846', '31.898958'], ['120.238754', '31.899345'], ['120.238594', '31.900078'], ['120.238388', '31.90103'], ['120.238197', '31.901939'], ['120.23806', '31.902586'], ['120.23793', '31.903156'], ['120.237854', '31.903524'], ['120.237839', '31.903624'], ['120.237785', '31.904007'], ['120.237755', '31.904297'], ['120.237633', '31.905155'], ['120.237473', '31.906429'], ['120.237289', '31.907988'], ['120.237282', '31.908073'], ['120.237282', '31.908073'], ['120.237404', '31.908306'], ['120.23761', '31.908484'], ['120.238846', '31.908724'], ['120.24054', '31.909054'], ['120.242477', '31.909412'], ['120.243927', '31.909672'], ['120.244041', '31.909691'], ['120.245148', '31.909904'], ['120.24559', '31.909996'], ['120.245903', '31.910055'], ['120.247124', '31.910286'], ['120.248505', '31.910538'], ['120.249573', '31.910721'], ['120.250214', '31.91086'], ['120.25032', '31.910892'], ['120.251129', '31.911266'], ['120.252777', '31.91213'], ['120.252777', '31.91213'], ['120.254616', '31.913052'], ['120.254837', '31.913151'], ['120.255775', '31.913521'], ['120.256294', '31.913679'], ['120.256348', '31.913698'], ['120.257217', '31.913919'], ['120.258682', '31.914145'], ['120.2593', '31.914267'], ['120.259483', '31.91431'], ['120.259911', '31.914444'], ['120.260567', '31.914692'], ['120.260986', '31.914883'], ['120.261757', '31.915281'], ['120.262184', '31.915491'], ['120.26239', '31.915586'], ['120.263298', '31.915993'], ['120.263641', '31.916124'], ['120.263931', '31.916203'], ['120.264854', '31.916334'], ['120.265022', '31.916353'], ['120.265335', '31.916393'], ['120.265411', '31.916403'], ['120.26696', '31.916597'], ['120.267967', '31.916721'], ['120.268471', '31.916771'], ['120.26857', '31.91678'], ['120.270256', '31.916904'], ['120.270348', '31.916908'], ['120.271477', '31.917009'], ['120.272003', '31.917063'], ['120.272224', '31.91708'], ['120.273117', '31.917152'], ['120.273369', '31.917173'], ['120.274139', '31.917236'], ['120.274414', '31.917257'], ['120.275352', '31.917332'], ['120.276283', '31.917404'], ['120.277092', '31.917473'], ['120.277267', '31.917486'], ['120.27832', '31.917574'], ['120.278625', '31.917591'], ['120.280418', '31.917742'], ['120.280571', '31.917761'], ['120.281113', '31.917795'], ['120.281464', '31.917818'], ['120.282341', '31.917877'], ['120.28286', '31.917919'], ['120.283127', '31.917955'], ['120.283455', '31.91802'], ['120.283669', '31.918081'], ['120.283936', '31.918192'], ['120.284622', '31.918451'], ['120.287582', '31.919582'], ['120.287697', '31.919626'], ['120.288559', '31.91996'], ['120.289726', '31.920404'], ['120.290489', '31.920689'], ['120.291351', '31.921024'], ['120.291389', '31.92115'], ['120.290718', '31.922651'], ['120.290535', '31.923098'], ['120.290443', '31.923302'], ['120.290352', '31.923525'], ['120.290253', '31.923767'], ['120.289917', '31.924549'], ['120.28981', '31.924835'], ['120.28981', '31.924995'], ['120.289833', '31.925213'], ['120.289833', '31.925213'], ['120.289886', '31.925304'], ['120.289902', '31.925409'], ['120.289886', '31.925501'], ['120.289864', '31.925556'], ['120.289841', '31.925604'], ['120.289803', '31.925652'], ['120.289696', '31.925697'], ['120.289627', '31.92572'], ['120.289558', '31.925724'], ['120.289558', '31.925724'], ['120.289253', '31.926115'], ['120.289101', '31.926249'], ['120.289085', '31.926266'], ['120.288925', '31.926367'], ['120.28875', '31.926472'], ['120.288651', '31.926516'], ['120.288452', '31.926588'], ['120.288246', '31.926649'], ['120.288033', '31.926693'], ['120.287712', '31.926722'], ['120.287491', '31.92672'], ['120.287277', '31.926702'], ['120.287079', '31.926672'], ['120.286873', '31.926626'], ['120.286674', '31.926567'], ['120.286583', '31.926533'], ['120.286407', '31.926445'], ['120.28614', '31.926289'], ['120.28614', '31.926289'], ['120.28611', '31.926266'], ['120.285858', '31.926134'], ['120.285408', '31.925842'], ['120.285149', '31.92569'], ['120.284416', '31.925287'], ['120.284241', '31.925196'], ['120.284142', '31.925156'], ['120.284042', '31.925127'], ['120.283852', '31.925077'], ['120.283745', '31.92506'], ['120.283531', '31.925045'], ['120.283424', '31.925045'], ['120.283218', '31.92506'], ['120.28302', '31.9251'], ['120.282829', '31.925152'], ['120.282631', '31.925238'], ['120.282448', '31.92535'], ['120.282288', '31.925478'], ['120.282211', '31.925547'], ['120.282097', '31.925678'], ['120.282097', '31.925678'], ['120.282028', '31.925783'], ['120.281975', '31.925859'], ['120.281937', '31.925941'], ['120.281868', '31.926115'], ['120.281837', '31.926266'], ['120.28183', '31.926298'], ['120.28183', '31.926397'], ['120.28183', '31.92658'], ['120.281845', '31.926672'], ['120.281891', '31.926853'], ['120.281975', '31.927023'], ['120.282074', '31.927191'], ['120.282135', '31.927271'], ['120.282196', '31.927345'], ['120.282341', '31.927469'], ['120.282516', '31.927601'], ['120.282608', '31.927647'], ['120.282799', '31.927738'], ['120.282898', '31.927769'], ['120.283104', '31.927822'], ['120.283211', '31.927837'], ['120.283424', '31.92786'], ['120.283531', '31.92786'], ['120.283745', '31.927843'], ['120.283943', '31.927799'], ['120.284149', '31.927742'], ['120.28434', '31.927656'], ['120.284416', '31.927608'], ['120.2845', '31.927547'], ['120.284561', '31.927477'], ['120.284622', '31.927401'], ['120.284645', '31.927319'], ['120.284676', '31.927227'], ['120.284668', '31.927139'], ['120.284637', '31.92705'], ['120.284607', '31.926966'], ['120.284531', '31.926897'], ['120.284462', '31.92683'], ['120.284386', '31.926775'], ['120.284332', '31.926762'], ['120.284286', '31.926741'], ['120.28418', '31.92672'], ['120.284073', '31.926716'], ['120.283997', '31.926722'], ['120.283867', '31.926754'], ['120.283768', '31.926798'], ['120.283691', '31.926857'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.273727', '31.963034'], ['120.273537', '31.963264'], ['120.273438', '31.963421'], ['120.272926', '31.96435'], ['120.271324', '31.967205'], ['120.271309', '31.967249'], ['120.270752', '31.96822'], ['120.270081', '31.96944'], ['120.269646', '31.970213'], ['120.269173', '31.971071'], ['120.268944', '31.971485'], ['120.268913', '31.971544'], ['120.268417', '31.972486'], ['120.267937', '31.973373'], ['120.267494', '31.974144'], ['120.267433', '31.974253'], ['120.267166', '31.974722'], ['120.266907', '31.975237'], ['120.266739', '31.975643'], ['120.266632', '31.97596'], ['120.266533', '31.97628'], ['120.266388', '31.977009'], ['120.266357', '31.977505'], ['120.266357', '31.977846'], ['120.266373', '31.97839'], ['120.26638', '31.978451'], ['120.266418', '31.978743'], ['120.266487', '31.979124'], ['120.266647', '31.979687'], ['120.266754', '31.980009'], ['120.26693', '31.980438'], ['120.267036', '31.980642'], ['120.267303', '31.981197'], ['120.267517', '31.981623'], ['120.267792', '31.982195'], ['120.267921', '31.982449'], ['120.267982', '31.982578'], ['120.26963', '31.985992'], ['120.269936', '31.986654'], ['120.269989', '31.986757'], ['120.270302', '31.987396'], ['120.270943', '31.988716'], ['120.271278', '31.989363'], ['120.271538', '31.989832'], ['120.271988', '31.990587'], ['120.272598', '31.991463'], ['120.272621', '31.991507'], ['120.273117', '31.992188'], ['120.275162', '31.995056'], ['120.27697', '31.997635'], ['120.277245', '31.998024'], ['120.277397', '31.998247'], ['120.277641', '31.998569'], ['120.277695', '31.998646'], ['120.277924', '31.998945'], ['120.27832', '31.99951'], ['120.279144', '32.000668'], ['120.279411', '32.000999'], ['120.279678', '32.001297'], ['120.280151', '32.00177'], ['120.280869', '32.002426'], ['120.281143', '32.002708'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>