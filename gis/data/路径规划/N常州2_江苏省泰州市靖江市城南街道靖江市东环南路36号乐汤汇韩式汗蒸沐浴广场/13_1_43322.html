<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.126053', '31.831736'], ['120.12513', '31.831711'], ['120.124931', '31.831701'], ['120.124504', '31.831694'], ['120.123245', '31.831654'], ['120.122421', '31.831623'], ['120.12175', '31.831598'], ['120.121506', '31.831585'], ['120.121078', '31.831575'], ['120.120491', '31.831572'], ['120.120071', '31.831575'], ['120.119637', '31.831575'], ['120.119148', '31.83152'], ['120.118706', '31.83147'], ['120.11718', '31.83144'], ['120.116943', '31.831425'], ['120.116196', '31.831324'], ['120.1157', '31.831224'], ['120.115189', '31.831102'], ['120.114433', '31.830875'], ['120.113884', '31.830711'], ['120.113304', '31.830505'], ['120.113083', '31.830395'], ['120.112358', '31.829948'], ['120.111519', '31.829462'], ['120.110931', '31.829149'], ['120.110367', '31.828871'], ['120.109703', '31.828556'], ['120.108818', '31.828152'], ['120.108452', '31.827995'], ['120.108215', '31.827911'], ['120.107925', '31.827831'], ['120.10762', '31.827761'], ['120.107414', '31.827738'], ['120.107048', '31.827738'], ['120.106216', '31.827787'], ['120.105148', '31.827864'], ['120.104446', '31.8279'], ['120.104141', '31.8279'], ['120.103851', '31.82789'], ['120.103508', '31.827831'], ['120.103508', '31.827831'], ['120.102737', '31.827391'], ['120.102539', '31.827278'], ['120.101753', '31.826822'], ['120.100792', '31.826275'], ['120.10054', '31.826141'], ['120.100151', '31.82592'], ['120.098846', '31.825186'], ['120.098694', '31.825123'], ['120.098503', '31.825069'], ['120.098221', '31.825031'], ['120.09787', '31.825031'], ['120.09787', '31.825031'], ['120.097946', '31.826616'], ['120.097984', '31.827391'], ['120.09803', '31.828394'], ['120.098099', '31.829691'], ['120.098145', '31.830791'], ['120.098167', '31.831133'], ['120.09819', '31.83149'], ['120.098206', '31.831623'], ['120.098228', '31.832331'], ['120.098305', '31.833534'], ['120.098358', '31.834654'], ['120.098412', '31.835869'], ['120.098526', '31.838074'], ['120.098534', '31.838377'], ['120.098587', '31.839476'], ['120.098663', '31.842432'], ['120.09874', '31.84429'], ['120.098747', '31.844467'], ['120.09877', '31.845022'], ['120.0989', '31.84708'], ['120.098999', '31.848772'], ['120.09903', '31.849361'], ['120.099136', '31.851311'], ['120.099182', '31.852085'], ['120.099213', '31.852856'], ['120.09919', '31.853924'], ['120.099159', '31.854557'], ['120.099121', '31.855013'], ['120.099052', '31.855547'], ['120.0989', '31.85652'], ['120.098801', '31.857004'], ['120.098534', '31.858124'], ['120.098427', '31.858498'], ['120.098106', '31.859562'], ['120.098045', '31.859739'], ['120.097839', '31.860352'], ['120.097816', '31.860399'], ['120.097633', '31.860538'], ['120.096771', '31.860352'], ['120.091003', '31.859079'], ['120.089561', '31.858763'], ['120.089561', '31.858763'], ['120.089485', '31.860352'], ['120.089478', '31.860434'], ['120.089256', '31.865816'], ['120.089134', '31.868082'], ['120.089073', '31.869549'], ['120.088997', '31.871338'], ['120.088974', '31.871689'], ['120.088936', '31.872734'], ['120.08886', '31.874489'], ['120.088852', '31.875151'], ['120.088844', '31.876047'], ['120.088799', '31.876112'], ['120.088791', '31.876814'], ['120.088699', '31.878828'], ['120.088593', '31.881098'], ['120.088562', '31.881794'], ['120.088562', '31.881931'], ['120.088539', '31.882322'], ['120.088516', '31.882883'], ['120.088425', '31.884863'], ['120.088371', '31.885889'], ['120.088303', '31.887774'], ['120.088142', '31.891535'], ['120.088074', '31.893143'], ['120.088058', '31.893307'], ['120.08802', '31.894232'], ['120.087967', '31.895552'], ['120.087875', '31.897686'], ['120.087868', '31.897831'], ['120.087769', '31.899965'], ['120.087723', '31.901165'], ['120.087654', '31.902514'], ['120.087654', '31.902651'], ['120.087593', '31.903957'], ['120.08757', '31.904297'], ['120.087555', '31.904644'], ['120.087502', '31.905821'], ['120.087494', '31.905979'], ['120.087456', '31.906715'], ['120.08741', '31.907869'], ['120.087379', '31.90856'], ['120.087341', '31.909452'], ['120.087273', '31.911133'], ['120.087158', '31.913925'], ['120.087112', '31.914791'], ['120.087112', '31.915281'], ['120.087112', '31.915325'], ['120.087112', '31.915382'], ['120.087051', '31.916431'], ['120.087021', '31.917166'], ['120.086998', '31.917973'], ['120.086967', '31.918625'], ['120.086906', '31.919691'], ['120.086838', '31.921099'], ['120.0868', '31.921766'], ['120.086731', '31.922987'], ['120.086739', '31.923092'], ['120.086647', '31.924244'], ['120.086571', '31.925108'], ['120.086464', '31.926266'], ['120.086365', '31.927267'], ['120.086357', '31.927782'], ['120.086372', '31.928112'], ['120.086411', '31.928398'], ['120.086456', '31.928652'], ['120.086578', '31.929115'], ['120.086693', '31.929449'], ['120.086838', '31.929754'], ['120.086967', '31.930017'], ['120.087128', '31.930296'], ['120.087402', '31.930687'], ['120.08773', '31.93116'], ['120.088478', '31.932199'], ['120.089386', '31.93346'], ['120.0895', '31.933628'], ['120.089912', '31.934175'], ['120.090096', '31.934467'], ['120.090439', '31.934927'], ['120.090927', '31.935604'], ['120.09166', '31.93664'], ['120.091965', '31.937035'], ['120.092026', '31.937084'], ['120.092094', '31.937187'], ['120.092094', '31.937187'], ['120.092148', '31.937254'], ['120.092163', '31.937271'], ['120.092178', '31.937309'], ['120.092308', '31.937483'], ['120.092918', '31.938387'], ['120.092987', '31.938551'], ['120.093048', '31.938824'], ['120.09304', '31.939219'], ['120.093002', '31.939457'], ['120.092972', '31.939568'], ['120.092842', '31.93977'], ['120.092674', '31.940054'], ['120.092644', '31.940142'], ['120.092628', '31.940228'], ['120.092674', '31.940405'], ['120.092674', '31.940405'], ['120.094704', '31.948242'], ['120.094788', '31.948589'], ['120.097527', '31.959227'], ['120.097977', '31.960979'], ['120.097977', '31.960979'], ['120.098862', '31.963165'], ['120.098892', '31.963186'], ['120.09893', '31.963306'], ['120.09893', '31.963369'], ['120.099075', '31.963625'], ['120.099174', '31.963772'], ['120.099327', '31.963963'], ['120.099503', '31.964149'], ['120.09977', '31.964384'], ['120.099991', '31.964535'], ['120.100464', '31.964823'], ['120.100708', '31.96497'], ['120.100952', '31.965118'], ['120.101318', '31.965351'], ['120.101562', '31.965534'], ['120.101944', '31.965916'], ['120.102135', '31.966137'], ['120.102348', '31.966457'], ['120.102539', '31.966797'], ['120.102592', '31.966909'], ['120.102692', '31.967167'], ['120.102753', '31.967445'], ['120.102821', '31.968388'], ['120.102905', '31.970213'], ['120.102905', '31.970251'], ['120.102989', '31.97188'], ['120.103004', '31.972195'], ['120.10302', '31.972418'], ['120.103065', '31.973356'], ['120.103096', '31.974031'], ['120.103134', '31.974813'], ['120.103134', '31.974813'], ['120.103065', '31.975004'], ['120.10302', '31.97506'], ['120.102875', '31.975174'], ['120.102791', '31.975195'], ['120.102539', '31.975235'], ['120.100899', '31.975437'], ['120.10051', '31.975456'], ['120.100044', '31.975414'], ['120.09977', '31.975405'], ['120.099564', '31.975443'], ['120.099442', '31.975504'], ['120.099251', '31.975643'], ['120.099121', '31.975786'], ['120.099121', '31.975786'], ['120.102539', '31.975374'], ['120.102783', '31.975342'], ['120.103287', '31.975286'], ['120.103996', '31.975201'], ['120.109108', '31.974623'], ['120.112007', '31.974289'], ['120.113716', '31.974092'], ['120.117043', '31.973755'], ['120.119949', '31.973537'], ['120.12262', '31.973373'], ['120.123032', '31.973343'], ['120.124504', '31.973242'], ['120.125259', '31.973196'], ['120.126305', '31.973097'], ['120.127357', '31.972982'], ['120.128418', '31.972843'], ['120.129921', '31.972595'], ['120.130119', '31.972561'], ['120.132736', '31.972113'], ['120.135536', '31.971626'], ['120.136185', '31.971516'], ['120.140465', '31.970774'], ['120.142418', '31.970434'], ['120.143661', '31.970213'], ['120.143784', '31.970192'], ['120.146408', '31.96973'], ['120.146492', '31.969717'], ['120.146774', '31.969671'], ['120.148483', '31.969379'], ['120.150978', '31.968937'], ['120.154015', '31.968416'], ['120.154785', '31.968285'], ['120.155884', '31.968098'], ['120.157211', '31.967873'], ['120.158783', '31.967604'], ['120.162086', '31.967005'], ['120.164383', '31.966602'], ['120.16523', '31.966454'], ['120.165825', '31.966343'], ['120.168457', '31.965876'], ['120.168594', '31.965851'], ['120.169815', '31.965637'], ['120.171211', '31.965391'], ['120.173828', '31.964951'], ['120.174393', '31.964853'], ['120.17691', '31.964436'], ['120.177505', '31.96435'], ['120.178879', '31.96418'], ['120.179161', '31.964144'], ['120.180199', '31.964035'], ['120.181076', '31.963963'], ['120.18351', '31.963793'], ['120.185448', '31.963663'], ['120.188194', '31.963484'], ['120.188316', '31.963476'], ['120.19043', '31.963329'], ['120.192558', '31.963186'], ['120.193031', '31.963152'], ['120.193497', '31.96312'], ['120.201431', '31.962568'], ['120.201485', '31.962568'], ['120.202026', '31.962536'], ['120.206322', '31.96225'], ['120.210808', '31.961945'], ['120.211464', '31.961897'], ['120.211586', '31.961893'], ['120.212158', '31.961853'], ['120.212402', '31.96184'], ['120.212906', '31.9618'], ['120.214684', '31.961597'], ['120.215286', '31.961502'], ['120.215988', '31.961363'], ['120.21611', '31.961342'], ['120.216949', '31.96117'], ['120.217743', '31.960985'], ['120.218307', '31.960829'], ['120.219887', '31.960352'], ['120.220901', '31.960035'], ['120.223518', '31.959227'], ['120.223923', '31.959116'], ['120.224617', '31.958893'], ['120.224678', '31.958872'], ['120.226906', '31.958181'], ['120.227425', '31.958019'], ['120.228897', '31.957556'], ['120.230423', '31.957096'], ['120.231537', '31.956758'], ['120.23159', '31.956739'], ['120.234276', '31.955997'], ['120.234375', '31.955978'], ['120.236595', '31.955482'], ['120.237083', '31.95536'], ['120.237144', '31.955347'], ['120.237358', '31.955299'], ['120.23793', '31.955204'], ['120.239037', '31.955017'], ['120.240211', '31.954844'], ['120.240372', '31.954823'], ['120.241013', '31.954721'], ['120.241051', '31.954714'], ['120.241669', '31.954618'], ['120.242683', '31.954462'], ['120.243919', '31.954271'], ['120.244743', '31.95413'], ['120.244835', '31.954115'], ['120.245888', '31.953959'], ['120.245911', '31.953953'], ['120.247398', '31.953733'], ['120.247505', '31.953716'], ['120.248932', '31.953493'], ['120.250305', '31.953289'], ['120.251122', '31.953186'], ['120.25222', '31.953077'], ['120.253342', '31.95302'], ['120.254532', '31.953033'], ['120.254623', '31.953043'], ['120.255508', '31.953098'], ['120.255608', '31.953112'], ['120.25631', '31.953199'], ['120.256348', '31.953201'], ['120.257256', '31.953352'], ['120.257614', '31.953428'], ['120.258003', '31.953506'], ['120.25914', '31.953819'], ['120.26046', '31.954254'], ['120.261131', '31.9545'], ['120.263145', '31.955278'], ['120.264145', '31.955677'], ['120.265198', '31.956089'], ['120.265305', '31.956133'], ['120.266624', '31.956623'], ['120.26725', '31.956884'], ['120.267616', '31.95709'], ['120.267899', '31.957262'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.273727', '31.963034'], ['120.273537', '31.963264'], ['120.273438', '31.963421'], ['120.272926', '31.96435'], ['120.271324', '31.967205'], ['120.271309', '31.967249'], ['120.270752', '31.96822'], ['120.270081', '31.96944'], ['120.269646', '31.970213'], ['120.269173', '31.971071'], ['120.268944', '31.971485'], ['120.268913', '31.971544'], ['120.268417', '31.972486'], ['120.267937', '31.973373'], ['120.267494', '31.974144'], ['120.267433', '31.974253'], ['120.267166', '31.974722'], ['120.266907', '31.975237'], ['120.266739', '31.975643'], ['120.266632', '31.97596'], ['120.266533', '31.97628'], ['120.266388', '31.977009'], ['120.266357', '31.977505'], ['120.266357', '31.977846'], ['120.266373', '31.97839'], ['120.26638', '31.978451'], ['120.266418', '31.978743'], ['120.266487', '31.979124'], ['120.266647', '31.979687'], ['120.266754', '31.980009'], ['120.26693', '31.980438'], ['120.267036', '31.980642'], ['120.267303', '31.981197'], ['120.267517', '31.981623'], ['120.267792', '31.982195'], ['120.267921', '31.982449'], ['120.267982', '31.982578'], ['120.26963', '31.985992'], ['120.269936', '31.986654'], ['120.269989', '31.986757'], ['120.270302', '31.987396'], ['120.270943', '31.988716'], ['120.271278', '31.989363'], ['120.271538', '31.989832'], ['120.271988', '31.990587'], ['120.272598', '31.991463'], ['120.272621', '31.991507'], ['120.273117', '31.992188'], ['120.275162', '31.995056'], ['120.27697', '31.997635'], ['120.277245', '31.998024'], ['120.277397', '31.998247'], ['120.277641', '31.998569'], ['120.277695', '31.998646'], ['120.277924', '31.998945'], ['120.27832', '31.99951'], ['120.279144', '32.000668'], ['120.279411', '32.000999'], ['120.279678', '32.001297'], ['120.280151', '32.00177'], ['120.280869', '32.002426'], ['120.281143', '32.002708'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>