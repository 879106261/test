<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.127144', '31.831766'], ['120.127396', '31.831758'], ['120.127556', '31.831736'], ['120.127762', '31.831694'], ['120.127762', '31.831694'], ['120.127892', '31.831644'], ['120.128128', '31.831533'], ['120.128426', '31.831337'], ['120.12896', '31.830984'], ['120.129807', '31.830414'], ['120.129906', '31.830341'], ['120.130913', '31.829691'], ['120.131149', '31.829514'], ['120.131149', '31.829514'], ['120.131897', '31.829666'], ['120.132454', '31.829782'], ['120.132561', '31.829805'], ['120.133461', '31.829996'], ['120.135635', '31.830439'], ['120.136925', '31.830711'], ['120.138779', '31.831085'], ['120.139038', '31.831133'], ['120.139275', '31.831146'], ['120.139626', '31.831146'], ['120.14106', '31.831038'], ['120.143608', '31.830847'], ['120.145012', '31.830748'], ['120.145111', '31.830742'], ['120.145088', '31.831516'], ['120.145065', '31.831884'], ['120.145058', '31.83217'], ['120.145004', '31.833672'], ['120.144997', '31.833961'], ['120.144966', '31.834631'], ['120.144951', '31.834972'], ['120.144936', '31.83577'], ['120.144905', '31.836302'], ['120.14489', '31.837126'], ['120.144859', '31.837669'], ['120.144852', '31.838152'], ['120.144844', '31.838377'], ['120.144836', '31.838642'], ['120.144806', '31.839449'], ['120.144768', '31.840401'], ['120.144745', '31.841089'], ['120.144714', '31.841976'], ['120.144684', '31.842896'], ['120.144699', '31.843746'], ['120.14473', '31.844263'], ['120.144882', '31.845652'], ['120.145088', '31.847355'], ['120.145256', '31.848848'], ['120.145287', '31.849176'], ['120.145317', '31.849361'], ['120.14534', '31.849562'], ['120.145538', '31.851257'], ['120.145599', '31.851992'], ['120.14563', '31.852543'], ['120.145638', '31.853319'], ['120.14563', '31.854582'], ['120.145615', '31.854931'], ['120.14563', '31.855469'], ['120.145668', '31.855955'], ['120.145699', '31.85622'], ['120.145851', '31.856958'], ['120.14595', '31.857344'], ['120.14608', '31.857721'], ['120.14621', '31.858082'], ['120.146416', '31.858538'], ['120.146492', '31.858662'], ['120.146622', '31.858938'], ['120.146866', '31.859362'], ['120.147095', '31.859705'], ['120.147331', '31.860044'], ['120.147591', '31.860352'], ['120.148277', '31.861111'], ['120.149261', '31.862158'], ['120.149567', '31.86245'], ['120.151024', '31.863985'], ['120.151093', '31.864067'], ['120.151375', '31.864357'], ['120.152367', '31.8654'], ['120.152802', '31.865902'], ['120.153336', '31.866476'], ['120.154015', '31.867182'], ['120.155739', '31.869026'], ['120.156059', '31.869453'], ['120.15625', '31.869764'], ['120.156342', '31.86994'], ['120.156517', '31.870359'], ['120.156601', '31.870661'], ['120.156685', '31.870974'], ['120.156723', '31.871258'], ['120.156731', '31.871338'], ['120.156738', '31.87154'], ['120.156731', '31.872026'], ['120.156708', '31.872253'], ['120.15657', '31.872856'], ['120.156479', '31.873211'], ['120.156433', '31.873388'], ['120.156311', '31.873812'], ['120.15625', '31.874022'], ['120.155663', '31.876007'], ['120.155647', '31.876076'], ['120.155609', '31.876207'], ['120.155327', '31.877192'], ['120.155182', '31.8778'], ['120.155083', '31.87845'], ['120.155022', '31.878933'], ['120.154968', '31.879595'], ['120.154953', '31.879774'], ['120.15493', '31.879936'], ['120.154839', '31.880898'], ['120.154762', '31.881645'], ['120.154739', '31.881945'], ['120.154701', '31.882322'], ['120.154694', '31.882536'], ['120.154625', '31.883293'], ['120.154518', '31.884666'], ['120.154434', '31.885473'], ['120.154434', '31.885542'], ['120.154381', '31.885998'], ['120.154312', '31.88648'], ['120.153938', '31.888693'], ['120.153679', '31.890318'], ['120.153496', '31.891401'], ['120.153175', '31.893307'], ['120.153175', '31.893324'], ['120.153084', '31.893833'], ['120.153061', '31.894003'], ['120.153015', '31.894299'], ['120.152809', '31.895569'], ['120.152725', '31.896011'], ['120.152702', '31.896172'], ['120.152603', '31.896698'], ['120.152328', '31.898397'], ['120.152199', '31.899235'], ['120.1521', '31.899757'], ['120.152', '31.9004'], ['120.151779', '31.901745'], ['120.151657', '31.902678'], ['120.151573', '31.90383'], ['120.151558', '31.904297'], ['120.15155', '31.904827'], ['120.151581', '31.905825'], ['120.15168', '31.907309'], ['120.151573', '31.907459'], ['120.151039', '31.907652'], ['120.150543', '31.907833'], ['120.149788', '31.908133'], ['120.148773', '31.908575'], ['120.148117', '31.908894'], ['120.146492', '31.909708'], ['120.146263', '31.909822'], ['120.143982', '31.91099'], ['120.142868', '31.911535'], ['120.142792', '31.911579'], ['120.142311', '31.9118'], ['120.141441', '31.912149'], ['120.140648', '31.912405'], ['120.140045', '31.912565'], ['120.139626', '31.912664'], ['120.138168', '31.91297'], ['120.137932', '31.913015'], ['120.137421', '31.91312'], ['120.137215', '31.913164'], ['120.136162', '31.913382'], ['120.136162', '31.913382'], ['120.135918', '31.913542'], ['120.135803', '31.913698'], ['120.135696', '31.913925'], ['120.13633', '31.914841'], ['120.136475', '31.915045'], ['120.136673', '31.915281'], ['120.137108', '31.915791'], ['120.138199', '31.91699'], ['120.138924', '31.917683'], ['120.139336', '31.918112'], ['120.14016', '31.918871'], ['120.140923', '31.919773'], ['120.141167', '31.920221'], ['120.141472', '31.920893'], ['120.141685', '31.921494'], ['120.141891', '31.922052'], ['120.142479', '31.923475'], ['120.142838', '31.924395'], ['120.14283', '31.924532'], ['120.142899', '31.924704'], ['120.142899', '31.924704'], ['120.143517', '31.926266'], ['120.143532', '31.926275'], ['120.143929', '31.927727'], ['120.144356', '31.930405'], ['120.144531', '31.932449'], ['120.144608', '31.936089'], ['120.144592', '31.937254'], ['120.144585', '31.938038'], ['120.144531', '31.945633'], ['120.144447', '31.948242'], ['120.144402', '31.949917'], ['120.144424', '31.951094'], ['120.14447', '31.951593'], ['120.14447', '31.951593'], ['120.144516', '31.952009'], ['120.144676', '31.953016'], ['120.144768', '31.953142'], ['120.145088', '31.955231'], ['120.145172', '31.955708'], ['120.145203', '31.955915'], ['120.145309', '31.956726'], ['120.145432', '31.957991'], ['120.145584', '31.959227'], ['120.145668', '31.9599'], ['120.145874', '31.961615'], ['120.145927', '31.962374'], ['120.145958', '31.962627'], ['120.146202', '31.965414'], ['120.146355', '31.967596'], ['120.146446', '31.969076'], ['120.146461', '31.969322'], ['120.146461', '31.969322'], ['120.146492', '31.969353'], ['120.14666', '31.969591'], ['120.146721', '31.969654'], ['120.146774', '31.969671'], ['120.148483', '31.969379'], ['120.150978', '31.968937'], ['120.154015', '31.968416'], ['120.154785', '31.968285'], ['120.155884', '31.968098'], ['120.157211', '31.967873'], ['120.158783', '31.967604'], ['120.162086', '31.967005'], ['120.164383', '31.966602'], ['120.16523', '31.966454'], ['120.165825', '31.966343'], ['120.168457', '31.965876'], ['120.168594', '31.965851'], ['120.169815', '31.965637'], ['120.171211', '31.965391'], ['120.173828', '31.964951'], ['120.174393', '31.964853'], ['120.17691', '31.964436'], ['120.177505', '31.96435'], ['120.178879', '31.96418'], ['120.179161', '31.964144'], ['120.180199', '31.964035'], ['120.181076', '31.963963'], ['120.18351', '31.963793'], ['120.185448', '31.963663'], ['120.188194', '31.963484'], ['120.188316', '31.963476'], ['120.19043', '31.963329'], ['120.192558', '31.963186'], ['120.193031', '31.963152'], ['120.193497', '31.96312'], ['120.201431', '31.962568'], ['120.201485', '31.962568'], ['120.202026', '31.962536'], ['120.206322', '31.96225'], ['120.210808', '31.961945'], ['120.211464', '31.961897'], ['120.211586', '31.961893'], ['120.212158', '31.961853'], ['120.212402', '31.96184'], ['120.212906', '31.9618'], ['120.214684', '31.961597'], ['120.215286', '31.961502'], ['120.215988', '31.961363'], ['120.21611', '31.961342'], ['120.216949', '31.96117'], ['120.217743', '31.960985'], ['120.218307', '31.960829'], ['120.219887', '31.960352'], ['120.220901', '31.960035'], ['120.223518', '31.959227'], ['120.223923', '31.959116'], ['120.224617', '31.958893'], ['120.224678', '31.958872'], ['120.226906', '31.958181'], ['120.227425', '31.958019'], ['120.228897', '31.957556'], ['120.230423', '31.957096'], ['120.231537', '31.956758'], ['120.23159', '31.956739'], ['120.234276', '31.955997'], ['120.234375', '31.955978'], ['120.236595', '31.955482'], ['120.237083', '31.95536'], ['120.237144', '31.955347'], ['120.237358', '31.955299'], ['120.23793', '31.955204'], ['120.239037', '31.955017'], ['120.240211', '31.954844'], ['120.240372', '31.954823'], ['120.241013', '31.954721'], ['120.241051', '31.954714'], ['120.241669', '31.954618'], ['120.242683', '31.954462'], ['120.243919', '31.954271'], ['120.244743', '31.95413'], ['120.244835', '31.954115'], ['120.245888', '31.953959'], ['120.245911', '31.953953'], ['120.247398', '31.953733'], ['120.247505', '31.953716'], ['120.248932', '31.953493'], ['120.250305', '31.953289'], ['120.251122', '31.953186'], ['120.25222', '31.953077'], ['120.253342', '31.95302'], ['120.254532', '31.953033'], ['120.254623', '31.953043'], ['120.255508', '31.953098'], ['120.255608', '31.953112'], ['120.25631', '31.953199'], ['120.256348', '31.953201'], ['120.257256', '31.953352'], ['120.257614', '31.953428'], ['120.258003', '31.953506'], ['120.25914', '31.953819'], ['120.26046', '31.954254'], ['120.261131', '31.9545'], ['120.263145', '31.955278'], ['120.264145', '31.955677'], ['120.265198', '31.956089'], ['120.265305', '31.956133'], ['120.266624', '31.956623'], ['120.26725', '31.956884'], ['120.267616', '31.95709'], ['120.267899', '31.957262'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.273727', '31.963034'], ['120.273537', '31.963264'], ['120.273438', '31.963421'], ['120.272926', '31.96435'], ['120.271324', '31.967205'], ['120.271309', '31.967249'], ['120.270752', '31.96822'], ['120.270081', '31.96944'], ['120.269646', '31.970213'], ['120.269173', '31.971071'], ['120.268944', '31.971485'], ['120.268913', '31.971544'], ['120.268417', '31.972486'], ['120.267937', '31.973373'], ['120.267494', '31.974144'], ['120.267433', '31.974253'], ['120.267166', '31.974722'], ['120.266907', '31.975237'], ['120.266739', '31.975643'], ['120.266632', '31.97596'], ['120.266533', '31.97628'], ['120.266388', '31.977009'], ['120.266357', '31.977505'], ['120.266357', '31.977846'], ['120.266373', '31.97839'], ['120.26638', '31.978451'], ['120.266418', '31.978743'], ['120.266487', '31.979124'], ['120.266647', '31.979687'], ['120.266754', '31.980009'], ['120.26693', '31.980438'], ['120.267036', '31.980642'], ['120.267303', '31.981197'], ['120.267517', '31.981623'], ['120.267792', '31.982195'], ['120.267921', '31.982449'], ['120.267982', '31.982578'], ['120.26963', '31.985992'], ['120.269936', '31.986654'], ['120.269989', '31.986757'], ['120.270302', '31.987396'], ['120.270943', '31.988716'], ['120.271278', '31.989363'], ['120.271538', '31.989832'], ['120.271988', '31.990587'], ['120.272598', '31.991463'], ['120.272621', '31.991507'], ['120.273117', '31.992188'], ['120.275162', '31.995056'], ['120.27697', '31.997635'], ['120.277245', '31.998024'], ['120.277397', '31.998247'], ['120.277641', '31.998569'], ['120.277695', '31.998646'], ['120.277924', '31.998945'], ['120.27832', '31.99951'], ['120.279144', '32.000668'], ['120.279411', '32.000999'], ['120.279678', '32.001297'], ['120.280151', '32.00177'], ['120.280869', '32.002426'], ['120.281143', '32.002708'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>