<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.126053', '31.831736'], ['120.12513', '31.831711'], ['120.124931', '31.831701'], ['120.124504', '31.831694'], ['120.123245', '31.831654'], ['120.122421', '31.831623'], ['120.12175', '31.831598'], ['120.121506', '31.831585'], ['120.121078', '31.831575'], ['120.120491', '31.831572'], ['120.120071', '31.831575'], ['120.119637', '31.831575'], ['120.119148', '31.83152'], ['120.118706', '31.83147'], ['120.11718', '31.83144'], ['120.116943', '31.831425'], ['120.116196', '31.831324'], ['120.1157', '31.831224'], ['120.115189', '31.831102'], ['120.114433', '31.830875'], ['120.113884', '31.830711'], ['120.113304', '31.830505'], ['120.113083', '31.830395'], ['120.112358', '31.829948'], ['120.111519', '31.829462'], ['120.110931', '31.829149'], ['120.110367', '31.828871'], ['120.109703', '31.828556'], ['120.108818', '31.828152'], ['120.108452', '31.827995'], ['120.108215', '31.827911'], ['120.107925', '31.827831'], ['120.10762', '31.827761'], ['120.107414', '31.827738'], ['120.107048', '31.827738'], ['120.106216', '31.827787'], ['120.105148', '31.827864'], ['120.104446', '31.8279'], ['120.104141', '31.8279'], ['120.103851', '31.82789'], ['120.103508', '31.827831'], ['120.103508', '31.827831'], ['120.102737', '31.827391'], ['120.102539', '31.827278'], ['120.101753', '31.826822'], ['120.100792', '31.826275'], ['120.10054', '31.826141'], ['120.100151', '31.82592'], ['120.098846', '31.825186'], ['120.098694', '31.825123'], ['120.098503', '31.825069'], ['120.098221', '31.825031'], ['120.09787', '31.825031'], ['120.097725', '31.825041'], ['120.09771', '31.824867'], ['120.097687', '31.824471'], ['120.097656', '31.823668'], ['120.097603', '31.822639'], ['120.097572', '31.822117'], ['120.097572', '31.822027'], ['120.097527', '31.821362'], ['120.097496', '31.820595'], ['120.09742', '31.818771'], ['120.097404', '31.816622'], ['120.097404', '31.816431'], ['120.097404', '31.816406'], ['120.097397', '31.815369'], ['120.097389', '31.815004'], ['120.097389', '31.814045'], ['120.097389', '31.813187'], ['120.097389', '31.812738'], ['120.097389', '31.812626'], ['120.097389', '31.812231'], ['120.097382', '31.811735'], ['120.097366', '31.811354'], ['120.097366', '31.810139'], ['120.097366', '31.809002'], ['120.097382', '31.807564'], ['120.097404', '31.80652'], ['120.097412', '31.805933'], ['120.097427', '31.805418'], ['120.097427', '31.805296'], ['120.097443', '31.804918'], ['120.097458', '31.802837'], ['120.097458', '31.801197'], ['120.097412', '31.798298'], ['120.097412', '31.797379'], ['120.097404', '31.796862'], ['120.097382', '31.794592'], ['120.097382', '31.794432'], ['120.097427', '31.792244'], ['120.097572', '31.789778'], ['120.097603', '31.788086'], ['120.097572', '31.786972'], ['120.097572', '31.78668'], ['120.097565', '31.786558'], ['120.097565', '31.786266'], ['120.097549', '31.785278'], ['120.097549', '31.785118'], ['120.097527', '31.784288'], ['120.097527', '31.783844'], ['120.097519', '31.783447'], ['120.097481', '31.7822'], ['120.097427', '31.779835'], ['120.097412', '31.778616'], ['120.097404', '31.778259'], ['120.097366', '31.777048'], ['120.097351', '31.775682'], ['120.097336', '31.774878'], ['120.097328', '31.774258'], ['120.097313', '31.773546'], ['120.09729', '31.7726'], ['120.097282', '31.772461'], ['120.09726', '31.771597'], ['120.097244', '31.770824'], ['120.097244', '31.770651'], ['120.097244', '31.770191'], ['120.097191', '31.768387'], ['120.097168', '31.767847'], ['120.097122', '31.767542'], ['120.097122', '31.767542'], ['120.097069', '31.767448'], ['120.096939', '31.767054'], ['120.096771', '31.766598'], ['120.096596', '31.766111'], ['120.096596', '31.766006'], ['120.096413', '31.765551'], ['120.096306', '31.765255'], ['120.096275', '31.7652'], ['120.096077', '31.764713'], ['120.095917', '31.764236'], ['120.095825', '31.763893'], ['120.095757', '31.763597'], ['120.095718', '31.763269'], ['120.095665', '31.762644'], ['120.09568', '31.76211'], ['120.095734', '31.761562'], ['120.095741', '31.761471'], ['120.095848', '31.760447'], ['120.095985', '31.759367'], ['120.096024', '31.75902'], ['120.096176', '31.758871'], ['120.096542', '31.758993'], ['120.097168', '31.759235'], ['120.097412', '31.759314'], ['120.098396', '31.759583'], ['120.098396', '31.759583'], ['120.09935', '31.759939'], ['120.09935', '31.759939'], ['120.099953', '31.76004'], ['120.100204', '31.760059'], ['120.100616', '31.760054'], ['120.100845', '31.76001'], ['120.101234', '31.759878'], ['120.101448', '31.759777'], ['120.102112', '31.759384'], ['120.102539', '31.758921'], ['120.102699', '31.758738'], ['120.103455', '31.757883'], ['120.10466', '31.756611'], ['120.105659', '31.755577'], ['120.106606', '31.754641'], ['120.107399', '31.753872'], ['120.108658', '31.752668'], ['120.108917', '31.752439'], ['120.109947', '31.751534'], ['120.11113', '31.750486'], ['120.111778', '31.749914'], ['120.112534', '31.749302'], ['120.113884', '31.748192'], ['120.114998', '31.747332'], ['120.116188', '31.74642'], ['120.117935', '31.745127'], ['120.118332', '31.744858'], ['120.120079', '31.74365'], ['120.120598', '31.74332'], ['120.120598', '31.74332'], ['120.120781', '31.743073'], ['120.122177', '31.742048'], ['120.122871', '31.741436'], ['120.122871', '31.741436'], ['120.123299', '31.741007'], ['120.123505', '31.740755'], ['120.124374', '31.739536'], ['120.124413', '31.7395'], ['120.124504', '31.739389'], ['120.124603', '31.739275'], ['120.124825', '31.739058'], ['120.125168', '31.738829'], ['120.125481', '31.738647'], ['120.125832', '31.738506'], ['120.126152', '31.738411'], ['120.126442', '31.738346'], ['120.126816', '31.738306'], ['120.127235', '31.738298'], ['120.127731', '31.738356'], ['120.128098', '31.738451'], ['120.128624', '31.738657'], ['120.128853', '31.738775'], ['120.129158', '31.738962'], ['120.129303', '31.739111'], ['120.129463', '31.739271'], ['120.129654', '31.7395'], ['120.12989', '31.739796'], ['120.130508', '31.740591'], ['120.130898', '31.74103'], ['120.131241', '31.741367'], ['120.131577', '31.741636'], ['120.131966', '31.741936'], ['120.133057', '31.742645'], ['120.133934', '31.743187'], ['120.134224', '31.743387'], ['120.135704', '31.744345'], ['120.136978', '31.745205'], ['120.137604', '31.745661'], ['120.140015', '31.747499'], ['120.140945', '31.748199'], ['120.143448', '31.749977'], ['120.144203', '31.750486'], ['120.145447', '31.75131'], ['120.146492', '31.751966'], ['120.14817', '31.753025'], ['120.152039', '31.755251'], ['120.153221', '31.75588'], ['120.157509', '31.758009'], ['120.158615', '31.758484'], ['120.159637', '31.758966'], ['120.160866', '31.759499'], ['120.16227', '31.760078'], ['120.165947', '31.761471'], ['120.166641', '31.761736'], ['120.168457', '31.762335'], ['120.179855', '31.766121'], ['120.180153', '31.766216'], ['120.180435', '31.766312'], ['120.181732', '31.766771'], ['120.185677', '31.76829'], ['120.185867', '31.768373'], ['120.18605', '31.768446'], ['120.186798', '31.768766'], ['120.188164', '31.769358'], ['120.188774', '31.769623'], ['120.189316', '31.769869'], ['120.189568', '31.769974'], ['120.19043', '31.770399'], ['120.19046', '31.770418'], ['120.191055', '31.770712'], ['120.19239', '31.771338'], ['120.193283', '31.771805'], ['120.194626', '31.772461'], ['120.195984', '31.773125'], ['120.198303', '31.774153'], ['120.198547', '31.774248'], ['120.199211', '31.77454'], ['120.20121', '31.775295'], ['120.20166', '31.775455'], ['120.204292', '31.776371'], ['120.207794', '31.777445'], ['120.211235', '31.778658'], ['120.212402', '31.779135'], ['120.213715', '31.779676'], ['120.217033', '31.781219'], ['120.21891', '31.782131'], ['120.220955', '31.783056'], ['120.221916', '31.783447'], ['120.222931', '31.783857'], ['120.224716', '31.784527'], ['120.226997', '31.785286'], ['120.228905', '31.78586'], ['120.232231', '31.786808'], ['120.234375', '31.787422'], ['120.239609', '31.788925'], ['120.240036', '31.789045'], ['120.243607', '31.790064'], ['120.245026', '31.790461'], ['120.246658', '31.790934'], ['120.248161', '31.791376'], ['120.249954', '31.791945'], ['120.250534', '31.792128'], ['120.251892', '31.792608'], ['120.252594', '31.792887'], ['120.253944', '31.793407'], ['120.254608', '31.793657'], ['120.255562', '31.794071'], ['120.256348', '31.794426'], ['120.256355', '31.794432'], ['120.256477', '31.794493'], ['120.257736', '31.795082'], ['120.258438', '31.795418'], ['120.25885', '31.79565'], ['120.259796', '31.79612'], ['120.260887', '31.796721'], ['120.262558', '31.797688'], ['120.2631', '31.798025'], ['120.264046', '31.798611'], ['120.265259', '31.799414'], ['120.266731', '31.800438'], ['120.268158', '31.801519'], ['120.268913', '31.802113'], ['120.270126', '31.803112'], ['120.272758', '31.805418'], ['120.272797', '31.80546'], ['120.274643', '31.806957'], ['120.275826', '31.807831'], ['120.277237', '31.808828'], ['120.27832', '31.809544'], ['120.279251', '31.810163'], ['120.280891', '31.811152'], ['120.281532', '31.811525'], ['120.28315', '31.812401'], ['120.285049', '31.813377'], ['120.286415', '31.814026'], ['120.287849', '31.814657'], ['120.289581', '31.815369'], ['120.290558', '31.815742'], ['120.292061', '31.816294'], ['120.292397', '31.816406'], ['120.292854', '31.816557'], ['120.296036', '31.817556'], ['120.296738', '31.817755'], ['120.298721', '31.818216'], ['120.300293', '31.818569'], ['120.300926', '31.818693'], ['120.302208', '31.818937'], ['120.304527', '31.819311'], ['120.306206', '31.819536'], ['120.308907', '31.819796'], ['120.311378', '31.819935'], ['120.31266', '31.819983'], ['120.313797', '31.820023'], ['120.315353', '31.819983'], ['120.315857', '31.819969'], ['120.316658', '31.819948'], ['120.318932', '31.819839'], ['120.318932', '31.819839'], ['120.31955', '31.819714'], ['120.319763', '31.819622'], ['120.319977', '31.819454'], ['120.320061', '31.819317'], ['120.320137', '31.819189'], ['120.32016', '31.81908'], ['120.320168', '31.818893'], ['120.320114', '31.81867'], ['120.32003', '31.818512'], ['120.319931', '31.818415'], ['120.319839', '31.818333'], ['120.319733', '31.81826'], ['120.319588', '31.818195'], ['120.319366', '31.818142'], ['120.319183', '31.818138'], ['120.319008', '31.818159'], ['120.318756', '31.818233'], ['120.318611', '31.818319'], ['120.318527', '31.818394'], ['120.318436', '31.818485'], ['120.318054', '31.818966'], ['120.317841', '31.819422'], ['120.317085', '31.821188'], ['120.316544', '31.822378'], ['120.314713', '31.826534'], ['120.314346', '31.827391'], ['120.314018', '31.828169'], ['120.313309', '31.829744'], ['120.313011', '31.830355'], ['120.312569', '31.831444'], ['120.311363', '31.83424'], ['120.31102', '31.834986'], ['120.310585', '31.836012'], ['120.309669', '31.838268'], ['120.309639', '31.838377'], ['120.308693', '31.841055'], ['120.308266', '31.842308'], ['120.30777', '31.843988'], ['120.307411', '31.845264'], ['120.306877', '31.847374'], ['120.306793', '31.847713'], ['120.306732', '31.847986'], ['120.306541', '31.848728'], ['120.306389', '31.849361'], ['120.306152', '31.850317'], ['120.305672', '31.8522'], ['120.304527', '31.856913'], ['120.304016', '31.859413'], ['120.303856', '31.860352'], ['120.303505', '31.862301'], ['120.303421', '31.86286'], ['120.3032', '31.864758'], ['120.303047', '31.866333'], ['120.302887', '31.868233'], ['120.302773', '31.869385'], ['120.302605', '31.871338'], ['120.302208', '31.875864'], ['120.301895', '31.879505'], ['120.301659', '31.88203'], ['120.301636', '31.882322'], ['120.301331', '31.885933'], ['120.301224', '31.887091'], ['120.300957', '31.889931'], ['120.30088', '31.890787'], ['120.300774', '31.891636'], ['120.300629', '31.892569'], ['120.300575', '31.892965'], ['120.300514', '31.893307'], ['120.300323', '31.894409'], ['120.300293', '31.894596'], ['120.30011', '31.895641'], ['120.299683', '31.897591'], ['120.299408', '31.898676'], ['120.299179', '31.899326'], ['120.29895', '31.900187'], ['120.298531', '31.901548'], ['120.298042', '31.90299'], ['120.297562', '31.904297'], ['120.29747', '31.904575'], ['120.29689', '31.905993'], ['120.29631', '31.907331'], ['120.296059', '31.90789'], ['120.294975', '31.910151'], ['120.294197', '31.911579'], ['120.293205', '31.913301'], ['120.293007', '31.913702'], ['120.292793', '31.914036'], ['120.292336', '31.914736'], ['120.291992', '31.915281'], ['120.291557', '31.915947'], ['120.290588', '31.917374'], ['120.289261', '31.919203'], ['120.288193', '31.920555'], ['120.287033', '31.921991'], ['120.286194', '31.923042'], ['120.285522', '31.923943'], ['120.285072', '31.92454'], ['120.284248', '31.92572'], ['120.283981', '31.926102'], ['120.283875', '31.926266'], ['120.283684', '31.926561'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.273727', '31.963034'], ['120.273537', '31.963264'], ['120.273438', '31.963421'], ['120.272926', '31.96435'], ['120.271324', '31.967205'], ['120.271309', '31.967249'], ['120.270752', '31.96822'], ['120.270081', '31.96944'], ['120.269646', '31.970213'], ['120.269173', '31.971071'], ['120.268944', '31.971485'], ['120.268913', '31.971544'], ['120.268417', '31.972486'], ['120.267937', '31.973373'], ['120.267494', '31.974144'], ['120.267433', '31.974253'], ['120.267166', '31.974722'], ['120.266907', '31.975237'], ['120.266739', '31.975643'], ['120.266632', '31.97596'], ['120.266533', '31.97628'], ['120.266388', '31.977009'], ['120.266357', '31.977505'], ['120.266357', '31.977846'], ['120.266373', '31.97839'], ['120.26638', '31.978451'], ['120.266418', '31.978743'], ['120.266487', '31.979124'], ['120.266647', '31.979687'], ['120.266754', '31.980009'], ['120.26693', '31.980438'], ['120.267036', '31.980642'], ['120.267303', '31.981197'], ['120.267517', '31.981623'], ['120.267792', '31.982195'], ['120.267921', '31.982449'], ['120.267982', '31.982578'], ['120.26963', '31.985992'], ['120.269936', '31.986654'], ['120.269989', '31.986757'], ['120.270302', '31.987396'], ['120.270943', '31.988716'], ['120.271278', '31.989363'], ['120.271538', '31.989832'], ['120.271988', '31.990587'], ['120.272598', '31.991463'], ['120.272621', '31.991507'], ['120.273117', '31.992188'], ['120.275162', '31.995056'], ['120.27697', '31.997635'], ['120.277245', '31.998024'], ['120.277397', '31.998247'], ['120.277641', '31.998569'], ['120.277695', '31.998646'], ['120.277924', '31.998945'], ['120.27832', '31.99951'], ['120.279144', '32.000668'], ['120.279411', '32.000999'], ['120.279678', '32.001297'], ['120.280151', '32.00177'], ['120.280869', '32.002426'], ['120.281143', '32.002708'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>