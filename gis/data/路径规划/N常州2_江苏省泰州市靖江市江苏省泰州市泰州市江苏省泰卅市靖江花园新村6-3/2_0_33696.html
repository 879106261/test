<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.127144', '31.831766'], ['120.127396', '31.831758'], ['120.127556', '31.831736'], ['120.127762', '31.831694'], ['120.127762', '31.831694'], ['120.128059', '31.831694'], ['120.12912', '31.8318'], ['120.129906', '31.831884'], ['120.130013', '31.831902'], ['120.130539', '31.831984'], ['120.130539', '31.831984'], ['120.130272', '31.833784'], ['120.130165', '31.834539'], ['120.130089', '31.834969'], ['120.130013', '31.835424'], ['120.129906', '31.835999'], ['120.129852', '31.836294'], ['120.129799', '31.836607'], ['120.129761', '31.836914'], ['120.12957', '31.838009'], ['120.129517', '31.838377'], ['120.129448', '31.838848'], ['120.129318', '31.839949'], ['120.129242', '31.840578'], ['120.12925', '31.840725'], ['120.129272', '31.840864'], ['120.129402', '31.841225'], ['120.129555', '31.841618'], ['120.129639', '31.841766'], ['120.129906', '31.842186'], ['120.130562', '31.843203'], ['120.130775', '31.843559'], ['120.130844', '31.843712'], ['120.131241', '31.844944'], ['120.131378', '31.845346'], ['120.131554', '31.845881'], ['120.131737', '31.84643'], ['120.131912', '31.846975'], ['120.132301', '31.848061'], ['120.132347', '31.84816'], ['120.132812', '31.849089'], ['120.132927', '31.849361'], ['120.132988', '31.849562'], ['120.133087', '31.849932'], ['120.133202', '31.850616'], ['120.133469', '31.852377'], ['120.133469', '31.852377'], ['120.135918', '31.852564'], ['120.136787', '31.852631'], ['120.137932', '31.852726'], ['120.140839', '31.852955'], ['120.14119', '31.852987'], ['120.144135', '31.853216'], ['120.145554', '31.853315'], ['120.145638', '31.853319'], ['120.14563', '31.854582'], ['120.145615', '31.854931'], ['120.14563', '31.855469'], ['120.145668', '31.855955'], ['120.145699', '31.85622'], ['120.145851', '31.856958'], ['120.14595', '31.857344'], ['120.14608', '31.857721'], ['120.14621', '31.858082'], ['120.146416', '31.858538'], ['120.146492', '31.858662'], ['120.146622', '31.858938'], ['120.146866', '31.859362'], ['120.147095', '31.859705'], ['120.147331', '31.860044'], ['120.147591', '31.860352'], ['120.148277', '31.861111'], ['120.149261', '31.862158'], ['120.149567', '31.86245'], ['120.151024', '31.863985'], ['120.151093', '31.864067'], ['120.151375', '31.864357'], ['120.152367', '31.8654'], ['120.152802', '31.865902'], ['120.153336', '31.866476'], ['120.154015', '31.867182'], ['120.155739', '31.869026'], ['120.156059', '31.869453'], ['120.15625', '31.869764'], ['120.156342', '31.86994'], ['120.156517', '31.870359'], ['120.156601', '31.870661'], ['120.156685', '31.870974'], ['120.156723', '31.871258'], ['120.156731', '31.871338'], ['120.156738', '31.87154'], ['120.156731', '31.872026'], ['120.156708', '31.872253'], ['120.15657', '31.872856'], ['120.15657', '31.872856'], ['120.156723', '31.873116'], ['120.156792', '31.873186'], ['120.156952', '31.873299'], ['120.16153', '31.874306'], ['120.162064', '31.874418'], ['120.163734', '31.874826'], ['120.167877', '31.875729'], ['120.168457', '31.875851'], ['120.171478', '31.87652'], ['120.171478', '31.87652'], ['120.171494', '31.876394'], ['120.171616', '31.875334'], ['120.171722', '31.874418'], ['120.171722', '31.874418'], ['120.174133', '31.87464'], ['120.175148', '31.874735'], ['120.176132', '31.874804'], ['120.176453', '31.874866'], ['120.176682', '31.874874'], ['120.176186', '31.876976'], ['120.176071', '31.877487'], ['120.176041', '31.877647'], ['120.175972', '31.877909'], ['120.175926', '31.878141'], ['120.17585', '31.878647'], ['120.175751', '31.879467'], ['120.175636', '31.880455'], ['120.175484', '31.882067'], ['120.175461', '31.882322'], ['120.175407', '31.882851'], ['120.175224', '31.884239'], ['120.175064', '31.885433'], ['120.174934', '31.886034'], ['120.174728', '31.887022'], ['120.174507', '31.888142'], ['120.174393', '31.888716'], ['120.174301', '31.889277'], ['120.174286', '31.889683'], ['120.174263', '31.890091'], ['120.174263', '31.890091'], ['120.174423', '31.890409'], ['120.174683', '31.890816'], ['120.174866', '31.890911'], ['120.17543', '31.891258'], ['120.175636', '31.891388'], ['120.176483', '31.891909'], ['120.177406', '31.892464'], ['120.177689', '31.892645'], ['120.177826', '31.892727'], ['120.178123', '31.89292'], ['120.178177', '31.892956'], ['120.17865', '31.893242'], ['120.178757', '31.893307'], ['120.179253', '31.893616'], ['120.179321', '31.893688'], ['120.180069', '31.894085'], ['120.180489', '31.894262'], ['120.181137', '31.894466'], ['120.181305', '31.894531'], ['120.181923', '31.894575'], ['120.183235', '31.89464'], ['120.183685', '31.894667'], ['120.184799', '31.894732'], ['120.184883', '31.894735'], ['120.186096', '31.894764'], ['120.186897', '31.894787'], ['120.186897', '31.894857'], ['120.187225', '31.896622'], ['120.187424', '31.897705'], ['120.187561', '31.898365'], ['120.187561', '31.898365'], ['120.189362', '31.898355'], ['120.189362', '31.898512'], ['120.189384', '31.89904'], ['120.189392', '31.899153'], ['120.189423', '31.899805'], ['120.18943', '31.900223'], ['120.189438', '31.900278'], ['120.189461', '31.901176'], ['120.189461', '31.901176'], ['120.189713', '31.901228'], ['120.190331', '31.901415'], ['120.19043', '31.901457'], ['120.190704', '31.901585'], ['120.191093', '31.901827'], ['120.19146', '31.90204'], ['120.191742', '31.902283'], ['120.191856', '31.902374'], ['120.192245', '31.902834'], ['120.192528', '31.903238'], ['120.192604', '31.903416'], ['120.192772', '31.903757'], ['120.192879', '31.904102'], ['120.192886', '31.904232'], ['120.192894', '31.904297'], ['120.192894', '31.904348'], ['120.192963', '31.904913'], ['120.192963', '31.905035'], ['120.192963', '31.905464'], ['120.19297', '31.905529'], ['120.192986', '31.90556'], ['120.193054', '31.905596'], ['120.193443', '31.9056'], ['120.19355', '31.905596'], ['120.193504', '31.906689'], ['120.193474', '31.907177'], ['120.193474', '31.907177'], ['120.194801', '31.90727'], ['120.198898', '31.907551'], ['120.201042', '31.907644'], ['120.203545', '31.907734'], ['120.204605', '31.907778'], ['120.205116', '31.907791'], ['120.207047', '31.90786'], ['120.208443', '31.907921'], ['120.208984', '31.907942'], ['120.210121', '31.907991'], ['120.21019', '31.907991'], ['120.212402', '31.908064'], ['120.213676', '31.908106'], ['120.214081', '31.908129'], ['120.21479', '31.908152'], ['120.215584', '31.908216'], ['120.21627', '31.908312'], ['120.216675', '31.908388'], ['120.21711', '31.908489'], ['120.217384', '31.90856'], ['120.217819', '31.908697'], ['120.218086', '31.908789'], ['120.218765', '31.909054'], ['120.221199', '31.910074'], ['120.221687', '31.910269'], ['120.222412', '31.910528'], ['120.223312', '31.910816'], ['120.224205', '31.911043'], ['120.224838', '31.911167'], ['120.224907', '31.91118'], ['120.225357', '31.911283'], ['120.227341', '31.911694'], ['120.229362', '31.912085'], ['120.229446', '31.9121'], ['120.234047', '31.913052'], ['120.234375', '31.913107'], ['120.236053', '31.913406'], ['120.236496', '31.913488'], ['120.23661', '31.913511'], ['120.237129', '31.913607'], ['120.241455', '31.914352'], ['120.242561', '31.914532'], ['120.24263', '31.914545'], ['120.243469', '31.914696'], ['120.246864', '31.915281'], ['120.247749', '31.915428'], ['120.248512', '31.915556'], ['120.24913', '31.915668'], ['120.249214', '31.915689'], ['120.249397', '31.915773'], ['120.251633', '31.916611'], ['120.251999', '31.916744'], ['120.253494', '31.917295'], ['120.254616', '31.917717'], ['120.25605', '31.918264'], ['120.256348', '31.918394'], ['120.256554', '31.918484'], ['120.257004', '31.91873'], ['120.25766', '31.919149'], ['120.258057', '31.919432'], ['120.258522', '31.919813'], ['120.259186', '31.920496'], ['120.259331', '31.920637'], ['120.259438', '31.920712'], ['120.259552', '31.920752'], ['120.259758', '31.920811'], ['120.260262', '31.920906'], ['120.26207', '31.921202'], ['120.262619', '31.921297'], ['120.263199', '31.921431'], ['120.264122', '31.921694'], ['120.264824', '31.921917'], ['120.266853', '31.922564'], ['120.266853', '31.922564'], ['120.267212', '31.922674'], ['120.267944', '31.922865'], ['120.268562', '31.92293'], ['120.26899', '31.922947'], ['120.269348', '31.92293'], ['120.270531', '31.922813'], ['120.273781', '31.92244'], ['120.275322', '31.922258'], ['120.275421', '31.922249'], ['120.276649', '31.922104'], ['120.277176', '31.922052'], ['120.277412', '31.922041'], ['120.277695', '31.922035'], ['120.27813', '31.922058'], ['120.27832', '31.922079'], ['120.278473', '31.922091'], ['120.2789', '31.922171'], ['120.279449', '31.922291'], ['120.279549', '31.922314'], ['120.280174', '31.922453'], ['120.281731', '31.922852'], ['120.282776', '31.923107'], ['120.28334', '31.92326'], ['120.283882', '31.923443'], ['120.285278', '31.923933'], ['120.286598', '31.924404'], ['120.287605', '31.924744'], ['120.2892', '31.925226'], ['120.2892', '31.925226'], ['120.289261', '31.925159'], ['120.289345', '31.925114'], ['120.289398', '31.9251'], ['120.289513', '31.925077'], ['120.289566', '31.925077'], ['120.289665', '31.9251'], ['120.289757', '31.925138'], ['120.289833', '31.925213'], ['120.289886', '31.925304'], ['120.289902', '31.925409'], ['120.289886', '31.925501'], ['120.289864', '31.925556'], ['120.289841', '31.925604'], ['120.289803', '31.925652'], ['120.289696', '31.925697'], ['120.289627', '31.92572'], ['120.289558', '31.925724'], ['120.289558', '31.925724'], ['120.289253', '31.926115'], ['120.289101', '31.926249'], ['120.289085', '31.926266'], ['120.288925', '31.926367'], ['120.28875', '31.926472'], ['120.288651', '31.926516'], ['120.288452', '31.926588'], ['120.288246', '31.926649'], ['120.288033', '31.926693'], ['120.287712', '31.926722'], ['120.287491', '31.92672'], ['120.287277', '31.926702'], ['120.287079', '31.926672'], ['120.286873', '31.926626'], ['120.286674', '31.926567'], ['120.286583', '31.926533'], ['120.286407', '31.926445'], ['120.28614', '31.926289'], ['120.28614', '31.926289'], ['120.28611', '31.926266'], ['120.285858', '31.926134'], ['120.285408', '31.925842'], ['120.285149', '31.92569'], ['120.284416', '31.925287'], ['120.284241', '31.925196'], ['120.284142', '31.925156'], ['120.284042', '31.925127'], ['120.283852', '31.925077'], ['120.283745', '31.92506'], ['120.283531', '31.925045'], ['120.283424', '31.925045'], ['120.283218', '31.92506'], ['120.28302', '31.9251'], ['120.282829', '31.925152'], ['120.282631', '31.925238'], ['120.282448', '31.92535'], ['120.282288', '31.925478'], ['120.282211', '31.925547'], ['120.282097', '31.925678'], ['120.282097', '31.925678'], ['120.282028', '31.925783'], ['120.281975', '31.925859'], ['120.281937', '31.925941'], ['120.281868', '31.926115'], ['120.281837', '31.926266'], ['120.28183', '31.926298'], ['120.28183', '31.926397'], ['120.28183', '31.92658'], ['120.281845', '31.926672'], ['120.281891', '31.926853'], ['120.281975', '31.927023'], ['120.282074', '31.927191'], ['120.282135', '31.927271'], ['120.282196', '31.927345'], ['120.282341', '31.927469'], ['120.282516', '31.927601'], ['120.282608', '31.927647'], ['120.282799', '31.927738'], ['120.282898', '31.927769'], ['120.283104', '31.927822'], ['120.283211', '31.927837'], ['120.283424', '31.92786'], ['120.283531', '31.92786'], ['120.283745', '31.927843'], ['120.283943', '31.927799'], ['120.284149', '31.927742'], ['120.28434', '31.927656'], ['120.284416', '31.927608'], ['120.2845', '31.927547'], ['120.284561', '31.927477'], ['120.284622', '31.927401'], ['120.284645', '31.927319'], ['120.284676', '31.927227'], ['120.284668', '31.927139'], ['120.284637', '31.92705'], ['120.284607', '31.926966'], ['120.284531', '31.926897'], ['120.284462', '31.92683'], ['120.284386', '31.926775'], ['120.284332', '31.926762'], ['120.284286', '31.926741'], ['120.28418', '31.92672'], ['120.284073', '31.926716'], ['120.283997', '31.926722'], ['120.283867', '31.926754'], ['120.283768', '31.926798'], ['120.283691', '31.926857'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.273727', '31.963034'], ['120.273537', '31.963264'], ['120.273438', '31.963421'], ['120.272926', '31.96435'], ['120.272926', '31.96435'], ['120.276474', '31.965916'], ['120.277618', '31.966352'], ['120.27832', '31.966606'], ['120.279892', '31.967167'], ['120.279953', '31.967186'], ['120.279083', '31.969526'], ['120.279076', '31.969578'], ['120.278839', '31.970213'], ['120.27832', '31.97164'], ['120.277878', '31.972843'], ['120.277855', '31.972895'], ['120.276993', '31.97525'], ['120.276657', '31.976137'], ['120.276619', '31.976254'], ['120.27639', '31.976879'], ['120.276237', '31.977304'], ['120.275902', '31.978256'], ['120.27578', '31.978642'], ['120.275757', '31.978693'], ['120.27562', '31.979221'], ['120.275459', '31.979849'], ['120.27536', '31.980373'], ['120.275291', '31.980824'], ['120.275238', '31.981197'], ['120.275185', '31.981548'], ['120.275162', '31.981913'], ['120.275162', '31.981913'], ['120.276321', '31.981903'], ['120.276833', '31.981913'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>