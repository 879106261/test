<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.127144', '31.831766'], ['120.127396', '31.831758'], ['120.127556', '31.831736'], ['120.127762', '31.831694'], ['120.127762', '31.831694'], ['120.128059', '31.831694'], ['120.12912', '31.8318'], ['120.129906', '31.831884'], ['120.130013', '31.831902'], ['120.130539', '31.831984'], ['120.130539', '31.831984'], ['120.130272', '31.833784'], ['120.130165', '31.834539'], ['120.130089', '31.834969'], ['120.130013', '31.835424'], ['120.129906', '31.835999'], ['120.129852', '31.836294'], ['120.129799', '31.836607'], ['120.129761', '31.836914'], ['120.12957', '31.838009'], ['120.129517', '31.838377'], ['120.129448', '31.838848'], ['120.129318', '31.839949'], ['120.129242', '31.840578'], ['120.12925', '31.840725'], ['120.129272', '31.840864'], ['120.129402', '31.841225'], ['120.129555', '31.841618'], ['120.129639', '31.841766'], ['120.129906', '31.842186'], ['120.130562', '31.843203'], ['120.130775', '31.843559'], ['120.130844', '31.843712'], ['120.131241', '31.844944'], ['120.131378', '31.845346'], ['120.131554', '31.845881'], ['120.131737', '31.84643'], ['120.131912', '31.846975'], ['120.132301', '31.848061'], ['120.132347', '31.84816'], ['120.132812', '31.849089'], ['120.132927', '31.849361'], ['120.132988', '31.849562'], ['120.133087', '31.849932'], ['120.133202', '31.850616'], ['120.133469', '31.852377'], ['120.133469', '31.852377'], ['120.135918', '31.852564'], ['120.136787', '31.852631'], ['120.137932', '31.852726'], ['120.140839', '31.852955'], ['120.14119', '31.852987'], ['120.144135', '31.853216'], ['120.145554', '31.853315'], ['120.145638', '31.853319'], ['120.14563', '31.854582'], ['120.145615', '31.854931'], ['120.14563', '31.855469'], ['120.145668', '31.855955'], ['120.145699', '31.85622'], ['120.145851', '31.856958'], ['120.14595', '31.857344'], ['120.14608', '31.857721'], ['120.14621', '31.858082'], ['120.146416', '31.858538'], ['120.146492', '31.858662'], ['120.146622', '31.858938'], ['120.146866', '31.859362'], ['120.147095', '31.859705'], ['120.147331', '31.860044'], ['120.147591', '31.860352'], ['120.148277', '31.861111'], ['120.149261', '31.862158'], ['120.149567', '31.86245'], ['120.151024', '31.863985'], ['120.151093', '31.864067'], ['120.151375', '31.864357'], ['120.152367', '31.8654'], ['120.152802', '31.865902'], ['120.153336', '31.866476'], ['120.154015', '31.867182'], ['120.155739', '31.869026'], ['120.156059', '31.869453'], ['120.15625', '31.869764'], ['120.156342', '31.86994'], ['120.156517', '31.870359'], ['120.156601', '31.870661'], ['120.156685', '31.870974'], ['120.156723', '31.871258'], ['120.156731', '31.871338'], ['120.156738', '31.87154'], ['120.156731', '31.872026'], ['120.156708', '31.872253'], ['120.15657', '31.872856'], ['120.15657', '31.872856'], ['120.156723', '31.873116'], ['120.156792', '31.873186'], ['120.156952', '31.873299'], ['120.16153', '31.874306'], ['120.162064', '31.874418'], ['120.163734', '31.874826'], ['120.167877', '31.875729'], ['120.168457', '31.875851'], ['120.171478', '31.87652'], ['120.171478', '31.87652'], ['120.171494', '31.876394'], ['120.171616', '31.875334'], ['120.171722', '31.874418'], ['120.171722', '31.874418'], ['120.174133', '31.87464'], ['120.175148', '31.874735'], ['120.176132', '31.874804'], ['120.176453', '31.874866'], ['120.176453', '31.874866'], ['120.176498', '31.874613'], ['120.176491', '31.874323'], ['120.176498', '31.874136'], ['120.176544', '31.873985'], ['120.176605', '31.873819'], ['120.176865', '31.873228'], ['120.177078', '31.872828'], ['120.17749', '31.872173'], ['120.177826', '31.871719'], ['120.178009', '31.871481'], ['120.178139', '31.871338'], ['120.178459', '31.870998'], ['120.179321', '31.870155'], ['120.179749', '31.869795'], ['120.180382', '31.869349'], ['120.180908', '31.869001'], ['120.181503', '31.868658'], ['120.182297', '31.868143'], ['120.182755', '31.867826'], ['120.183357', '31.867369'], ['120.184036', '31.8668'], ['120.184433', '31.866428'], ['120.184792', '31.866051'], ['120.185165', '31.865616'], ['120.185692', '31.865082'], ['120.186119', '31.86454'], ['120.186401', '31.864136'], ['120.186783', '31.86348'], ['120.187004', '31.86306'], ['120.187332', '31.862387'], ['120.187599', '31.861753'], ['120.188019', '31.860538'], ['120.188065', '31.860352'], ['120.188248', '31.859385'], ['120.188248', '31.859385'], ['120.188301', '31.858944'], ['120.188362', '31.858229'], ['120.1884', '31.857943'], ['120.188454', '31.857647'], ['120.18853', '31.857428'], ['120.188515', '31.85623'], ['120.188461', '31.855036'], ['120.18837', '31.853693'], ['120.188248', '31.851809'], ['120.188087', '31.849432'], ['120.188087', '31.849432'], ['120.18808', '31.849361'], ['120.187973', '31.847683'], ['120.187965', '31.847326'], ['120.187965', '31.846439'], ['120.187988', '31.845537'], ['120.188118', '31.844263'], ['120.188232', '31.843407'], ['120.188347', '31.842722'], ['120.188492', '31.842035'], ['120.188675', '31.841225'], ['120.188843', '31.84062'], ['120.189049', '31.839964'], ['120.189377', '31.83901'], ['120.189629', '31.838377'], ['120.189743', '31.838087'], ['120.189995', '31.83754'], ['120.19014', '31.837217'], ['120.19043', '31.836639'], ['120.19059', '31.836338'], ['120.191109', '31.835392'], ['120.191315', '31.835052'], ['120.191666', '31.834518'], ['120.191833', '31.834263'], ['120.192123', '31.833811'], ['120.193237', '31.832283'], ['120.193802', '31.831444'], ['120.194069', '31.831028'], ['120.194878', '31.829691'], ['120.195496', '31.828625'], ['120.196198', '31.827391'], ['120.196632', '31.826626'], ['120.196632', '31.826626'], ['120.199692', '31.821388'], ['120.201103', '31.818924'], ['120.20163', '31.817934'], ['120.201752', '31.817686'], ['120.201874', '31.817444'], ['120.201874', '31.817444'], ['120.201981', '31.816944'], ['120.202133', '31.816553'], ['120.202194', '31.816406'], ['120.202248', '31.816261'], ['120.202385', '31.815897'], ['120.202446', '31.815712'], ['120.202492', '31.815506'], ['120.20253', '31.815304'], ['120.20256', '31.81496'], ['120.20256', '31.814709'], ['120.20253', '31.814453'], ['120.202492', '31.814188'], ['120.202415', '31.813854'], ['120.202309', '31.813337'], ['120.202278', '31.813074'], ['120.202278', '31.812832'], ['120.202309', '31.812639'], ['120.20237', '31.812454'], ['120.202446', '31.812235'], ['120.202614', '31.811979'], ['120.202759', '31.811817'], ['120.202881', '31.811703'], ['120.203056', '31.811558'], ['120.203339', '31.811394'], ['120.203522', '31.811316'], ['120.203873', '31.811207'], ['120.204109', '31.811165'], ['120.204323', '31.811146'], ['120.20459', '31.811159'], ['120.204758', '31.811171'], ['120.205002', '31.811224'], ['120.205215', '31.811293'], ['120.205406', '31.811367'], ['120.205589', '31.811466'], ['120.205757', '31.811581'], ['120.205948', '31.811728'], ['120.206139', '31.811922'], ['120.206429', '31.812172'], ['120.206581', '31.812395'], ['120.206696', '31.812546'], ['120.206848', '31.812714'], ['120.207031', '31.812895'], ['120.207237', '31.813055'], ['120.207466', '31.813215'], ['120.207672', '31.813343'], ['120.207901', '31.813465'], ['120.208282', '31.813616'], ['120.208771', '31.813797'], ['120.210258', '31.814306'], ['120.210381', '31.814367'], ['120.210518', '31.814466'], ['120.211487', '31.814777'], ['120.212402', '31.815069'], ['120.214317', '31.815674'], ['120.216179', '31.816257'], ['120.216614', '31.816406'], ['120.216835', '31.816481'], ['120.218643', '31.817036'], ['120.220985', '31.817774'], ['120.222038', '31.818083'], ['120.223152', '31.818394'], ['120.225067', '31.818829'], ['120.225891', '31.818989'], ['120.227821', '31.819317'], ['120.229019', '31.819485'], ['120.229843', '31.819578'], ['120.230759', '31.819675'], ['120.232208', '31.819786'], ['120.234375', '31.81996'], ['120.237663', '31.820227'], ['120.239059', '31.82032'], ['120.240143', '31.820374'], ['120.241692', '31.820396'], ['120.243843', '31.820374'], ['120.244659', '31.820356'], ['120.245735', '31.82037'], ['120.246826', '31.8204'], ['120.248131', '31.820469'], ['120.248726', '31.820511'], ['120.249046', '31.820538'], ['120.25061', '31.820702'], ['120.252319', '31.820938'], ['120.254608', '31.821329'], ['120.256248', '31.82164'], ['120.256348', '31.821663'], ['120.256607', '31.821711'], ['120.257172', '31.82181'], ['120.259079', '31.822166'], ['120.261032', '31.822546'], ['120.261841', '31.822704'], ['120.262901', '31.822916'], ['120.264732', '31.823341'], ['120.266418', '31.823807'], ['120.26722', '31.824049'], ['120.268311', '31.824409'], ['120.269775', '31.824926'], ['120.270844', '31.825342'], ['120.271515', '31.825621'], ['120.272781', '31.826185'], ['120.274071', '31.826797'], ['120.27449', '31.827013'], ['120.275215', '31.827391'], ['120.275909', '31.827742'], ['120.27832', '31.828989'], ['120.280838', '31.830286'], ['120.282158', '31.830973'], ['120.283012', '31.831402'], ['120.284172', '31.831957'], ['120.285492', '31.832535'], ['120.286079', '31.832777'], ['120.287224', '31.83322'], ['120.287994', '31.833494'], ['120.289299', '31.833942'], ['120.289902', '31.834127'], ['120.291214', '31.834497'], ['120.292496', '31.834845'], ['120.293739', '31.835123'], ['120.295448', '31.835464'], ['120.297501', '31.835783'], ['120.299408', '31.836006'], ['120.300293', '31.836107'], ['120.300743', '31.836164'], ['120.302086', '31.836311'], ['120.302086', '31.836311'], ['120.302612', '31.836302'], ['120.303749', '31.836416'], ['120.304314', '31.836449'], ['120.304512', '31.836445'], ['120.30471', '31.836424'], ['120.304878', '31.836384'], ['120.305046', '31.836329'], ['120.305145', '31.836285'], ['120.305229', '31.836243'], ['120.305405', '31.836134'], ['120.30555', '31.836016'], ['120.305977', '31.835655'], ['120.306114', '31.83556'], ['120.306236', '31.835491'], ['120.306381', '31.835438'], ['120.306488', '31.835413'], ['120.30661', '31.8354'], ['120.306763', '31.835413'], ['120.30687', '31.835438'], ['120.306976', '31.835474'], ['120.307083', '31.835495'], ['120.307205', '31.835577'], ['120.307297', '31.835678'], ['120.307365', '31.835787'], ['120.307411', '31.835894'], ['120.307434', '31.835993'], ['120.307442', '31.836124'], ['120.307419', '31.836288'], ['120.307396', '31.836475'], ['120.30722', '31.837118'], ['120.307114', '31.837418'], ['120.306877', '31.83802'], ['120.306747', '31.838377'], ['120.306717', '31.838451'], ['120.306519', '31.839016'], ['120.30645', '31.839285'], ['120.306396', '31.839558'], ['120.306366', '31.839727'], ['120.30632', '31.83996'], ['120.306267', '31.840141'], ['120.306267', '31.840141'], ['120.306152', '31.840408'], ['120.306053', '31.840702'], ['120.306015', '31.84086'], ['120.305984', '31.840969'], ['120.305977', '31.841129'], ['120.305992', '31.841337'], ['120.305992', '31.841337'], ['120.306038', '31.841511'], ['120.306061', '31.841579'], ['120.306107', '31.841648'], ['120.306206', '31.841808'], ['120.306335', '31.841984'], ['120.306488', '31.842131'], ['120.306595', '31.842218'], ['120.306641', '31.842249'], ['120.306801', '31.842354'], ['120.306999', '31.842453'], ['120.307289', '31.842573'], ['120.307617', '31.842674'], ['120.308006', '31.842773'], ['120.308472', '31.842859'], ['120.308868', '31.842916'], ['120.309212', '31.842941'], ['120.30941', '31.842937'], ['120.30957', '31.842909'], ['120.309723', '31.842869'], ['120.30983', '31.842817'], ['120.309929', '31.84276'], ['120.30999', '31.842691'], ['120.310051', '31.842613'], ['120.310089', '31.842535'], ['120.310112', '31.842453'], ['120.310112', '31.842369'], ['120.310112', '31.842266'], ['120.310081', '31.842171'], ['120.310036', '31.842085'], ['120.309975', '31.842012'], ['120.309883', '31.841944'], ['120.309799', '31.841894'], ['120.309692', '31.841848'], ['120.309593', '31.841827'], ['120.309456', '31.841814'], ['120.309341', '31.841831'], ['120.30925', '31.841854'], ['120.309128', '31.841904'], ['120.309036', '31.841976'], ['120.308907', '31.842085'], ['120.308617', '31.842464'], ['120.308365', '31.842995'], ['120.308174', '31.843506'], ['120.307831', '31.844421'], ['120.307594', '31.845169'], ['120.307114', '31.84684'], ['120.306877', '31.847374'], ['120.306793', '31.847713'], ['120.306732', '31.847986'], ['120.306541', '31.848728'], ['120.306389', '31.849361'], ['120.306152', '31.850317'], ['120.305672', '31.8522'], ['120.304527', '31.856913'], ['120.304016', '31.859413'], ['120.303856', '31.860352'], ['120.303505', '31.862301'], ['120.303421', '31.86286'], ['120.3032', '31.864758'], ['120.303047', '31.866333'], ['120.302887', '31.868233'], ['120.302773', '31.869385'], ['120.302605', '31.871338'], ['120.302208', '31.875864'], ['120.301895', '31.879505'], ['120.301659', '31.88203'], ['120.301636', '31.882322'], ['120.301331', '31.885933'], ['120.301224', '31.887091'], ['120.300957', '31.889931'], ['120.30088', '31.890787'], ['120.300774', '31.891636'], ['120.300629', '31.892569'], ['120.300575', '31.892965'], ['120.300514', '31.893307'], ['120.300323', '31.894409'], ['120.300293', '31.894596'], ['120.30011', '31.895641'], ['120.299683', '31.897591'], ['120.299408', '31.898676'], ['120.299179', '31.899326'], ['120.29895', '31.900187'], ['120.298531', '31.901548'], ['120.298042', '31.90299'], ['120.297562', '31.904297'], ['120.29747', '31.904575'], ['120.29689', '31.905993'], ['120.29631', '31.907331'], ['120.296059', '31.90789'], ['120.294975', '31.910151'], ['120.294197', '31.911579'], ['120.293205', '31.913301'], ['120.293007', '31.913702'], ['120.292793', '31.914036'], ['120.292336', '31.914736'], ['120.291992', '31.915281'], ['120.291557', '31.915947'], ['120.290588', '31.917374'], ['120.289261', '31.919203'], ['120.288193', '31.920555'], ['120.287033', '31.921991'], ['120.286194', '31.923042'], ['120.285522', '31.923943'], ['120.285072', '31.92454'], ['120.284248', '31.92572'], ['120.283981', '31.926102'], ['120.283875', '31.926266'], ['120.283684', '31.926561'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279541', '31.982084'], ['120.279236', '31.98208'], ['120.278557', '31.982084'], ['120.27832', '31.98208'], ['120.277481', '31.982067'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>