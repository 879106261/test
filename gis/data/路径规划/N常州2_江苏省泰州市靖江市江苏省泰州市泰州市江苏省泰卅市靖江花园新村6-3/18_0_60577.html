<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.126053', '31.831736'], ['120.12513', '31.831711'], ['120.124931', '31.831701'], ['120.124504', '31.831694'], ['120.123245', '31.831654'], ['120.122421', '31.831623'], ['120.12175', '31.831598'], ['120.121506', '31.831585'], ['120.121078', '31.831575'], ['120.120491', '31.831572'], ['120.120071', '31.831575'], ['120.119637', '31.831575'], ['120.119148', '31.83152'], ['120.118706', '31.83147'], ['120.11718', '31.83144'], ['120.116943', '31.831425'], ['120.116196', '31.831324'], ['120.1157', '31.831224'], ['120.115189', '31.831102'], ['120.114433', '31.830875'], ['120.113884', '31.830711'], ['120.113304', '31.830505'], ['120.113083', '31.830395'], ['120.112358', '31.829948'], ['120.111519', '31.829462'], ['120.110931', '31.829149'], ['120.110367', '31.828871'], ['120.109703', '31.828556'], ['120.108818', '31.828152'], ['120.108452', '31.827995'], ['120.108215', '31.827911'], ['120.107925', '31.827831'], ['120.10762', '31.827761'], ['120.107414', '31.827738'], ['120.107048', '31.827738'], ['120.106216', '31.827787'], ['120.105148', '31.827864'], ['120.104446', '31.8279'], ['120.104141', '31.8279'], ['120.103851', '31.82789'], ['120.103508', '31.827831'], ['120.103508', '31.827831'], ['120.102737', '31.827391'], ['120.102539', '31.827278'], ['120.101753', '31.826822'], ['120.100792', '31.826275'], ['120.10054', '31.826141'], ['120.100151', '31.82592'], ['120.098846', '31.825186'], ['120.098694', '31.825123'], ['120.098503', '31.825069'], ['120.098221', '31.825031'], ['120.09787', '31.825031'], ['120.09787', '31.825031'], ['120.097946', '31.826616'], ['120.097984', '31.827391'], ['120.09803', '31.828394'], ['120.098099', '31.829691'], ['120.098145', '31.830791'], ['120.098167', '31.831133'], ['120.09819', '31.83149'], ['120.098206', '31.831623'], ['120.098228', '31.832331'], ['120.098305', '31.833534'], ['120.098358', '31.834654'], ['120.098412', '31.835869'], ['120.098526', '31.838074'], ['120.098534', '31.838377'], ['120.098587', '31.839476'], ['120.098663', '31.842432'], ['120.09874', '31.84429'], ['120.098747', '31.844467'], ['120.09877', '31.845022'], ['120.0989', '31.84708'], ['120.098999', '31.848772'], ['120.09903', '31.849361'], ['120.099136', '31.851311'], ['120.099182', '31.852085'], ['120.099213', '31.852856'], ['120.09919', '31.853924'], ['120.099159', '31.854557'], ['120.099121', '31.855013'], ['120.099052', '31.855547'], ['120.0989', '31.85652'], ['120.098801', '31.857004'], ['120.098534', '31.858124'], ['120.098427', '31.858498'], ['120.098106', '31.859562'], ['120.098045', '31.859739'], ['120.097839', '31.860352'], ['120.097816', '31.860399'], ['120.097633', '31.860538'], ['120.096771', '31.860352'], ['120.091003', '31.859079'], ['120.089561', '31.858763'], ['120.089447', '31.858734'], ['120.087128', '31.858225'], ['120.083359', '31.857391'], ['120.081451', '31.856976'], ['120.080559', '31.856785'], ['120.075966', '31.855764'], ['120.075966', '31.855764'], ['120.075829', '31.856329'], ['120.07563', '31.857044'], ['120.075378', '31.857933'], ['120.075081', '31.859003'], ['120.074951', '31.859453'], ['120.074699', '31.860352'], ['120.073875', '31.863379'], ['120.073723', '31.86388'], ['120.071884', '31.870506'], ['120.071815', '31.870756'], ['120.071671', '31.871212'], ['120.071648', '31.871338'], ['120.071548', '31.871712'], ['120.071526', '31.871799'], ['120.071465', '31.872231'], ['120.070763', '31.876368'], ['120.069992', '31.881071'], ['120.069908', '31.881712'], ['120.069855', '31.882322'], ['120.069847', '31.882374'], ['120.069618', '31.8855'], ['120.069237', '31.890556'], ['120.069229', '31.890583'], ['120.069122', '31.892023'], ['120.069023', '31.893307'], ['120.068817', '31.896076'], ['120.068695', '31.897665'], ['120.068657', '31.898142'], ['120.068634', '31.898289'], ['120.068619', '31.898733'], ['120.068504', '31.900282'], ['120.068436', '31.901217'], ['120.068222', '31.904058'], ['120.068214', '31.904297'], ['120.068207', '31.904575'], ['120.068199', '31.904808'], ['120.068199', '31.904945'], ['120.068176', '31.905964'], ['120.068199', '31.907013'], ['120.068237', '31.907679'], ['120.068336', '31.908838'], ['120.068489', '31.910873'], ['120.068558', '31.911966'], ['120.068611', '31.912556'], ['120.068619', '31.912645'], ['120.068672', '31.913265'], ['120.068794', '31.914764'], ['120.068825', '31.915281'], ['120.068825', '31.915291'], ['120.068993', '31.917418'], ['120.069138', '31.919214'], ['120.06926', '31.920874'], ['120.069466', '31.923288'], ['120.069511', '31.923912'], ['120.069633', '31.92551'], ['120.069679', '31.926266'], ['120.069733', '31.92701'], ['120.06974', '31.927172'], ['120.069778', '31.927614'], ['120.069717', '31.927738'], ['120.069038', '31.927908'], ['120.06768', '31.928297'], ['120.066422', '31.928671'], ['120.065918', '31.928844'], ['120.065414', '31.929062'], ['120.065002', '31.929245'], ['120.064774', '31.929375'], ['120.064125', '31.929731'], ['120.063042', '31.930401'], ['120.061386', '31.931425'], ['120.060837', '31.931763'], ['120.059944', '31.932262'], ['120.059494', '31.932495'], ['120.058594', '31.932909'], ['120.058548', '31.932928'], ['120.057983', '31.933155'], ['120.057076', '31.933472'], ['120.056686', '31.933594'], ['120.055557', '31.933903'], ['120.05471', '31.93408'], ['120.052925', '31.934404'], ['120.05117', '31.934717'], ['120.049301', '31.935049'], ['120.047646', '31.935343'], ['120.046768', '31.935499'], ['120.041779', '31.936384'], ['120.037598', '31.937132'], ['120.036919', '31.937254'], ['120.036621', '31.937309'], ['120.034401', '31.9377'], ['120.033119', '31.937929'], ['120.029449', '31.938572'], ['120.029282', '31.938606'], ['120.027344', '31.938944'], ['120.02459', '31.93943'], ['120.023369', '31.939682'], ['120.02227', '31.939955'], ['120.021828', '31.940083'], ['120.021355', '31.940222'], ['120.020142', '31.940628'], ['120.019989', '31.940681'], ['120.017036', '31.941793'], ['120.016457', '31.942026'], ['120.015915', '31.942217'], ['120.015137', '31.942522'], ['120.015022', '31.942564'], ['120.014648', '31.942705'], ['120.01432', '31.942822'], ['120.013611', '31.943069'], ['120.011986', '31.943584'], ['120.01059', '31.944002'], ['120.009132', '31.944458'], ['120.007797', '31.944845'], ['120.007584', '31.944914'], ['120.007202', '31.945044'], ['120.006676', '31.94519'], ['120.00573', '31.94552'], ['120.005119', '31.945702'], ['120.004814', '31.945793'], ['120.003288', '31.946253'], ['120.002426', '31.946524'], ['120.000237', '31.947208'], ['119.99958', '31.947439'], ['119.99765', '31.948191'], ['119.997536', '31.948242'], ['119.997314', '31.948334'], ['119.997208', '31.948374'], ['119.996651', '31.948593'], ['119.995628', '31.948994'], ['119.994789', '31.949318'], ['119.992676', '31.950155'], ['119.991768', '31.950516'], ['119.991714', '31.950533'], ['119.988983', '31.951616'], ['119.988922', '31.951635'], ['119.985695', '31.952883'], ['119.984856', '31.953201'], ['119.982895', '31.953941'], ['119.980476', '31.954849'], ['119.976761', '31.956244'], ['119.976761', '31.956244'], ['119.976852', '31.95645'], ['119.976959', '31.956617'], ['119.978073', '31.957916'], ['119.979042', '31.959044'], ['119.979202', '31.959227'], ['119.97979', '31.959869'], ['119.980171', '31.960268'], ['119.980896', '31.960941'], ['119.981339', '31.961315'], ['119.982719', '31.962368'], ['119.983482', '31.962978'], ['119.984039', '31.963411'], ['119.984375', '31.963707'], ['119.985367', '31.964619'], ['119.985825', '31.96505'], ['119.986427', '31.965616'], ['119.987015', '31.966137'], ['119.987671', '31.966684'], ['119.988701', '31.967508'], ['119.989265', '31.967878'], ['119.989975', '31.968298'], ['119.991051', '31.968954'], ['119.991158', '31.969076'], ['119.991158', '31.969076'], ['119.992073', '31.969648'], ['119.992676', '31.9701'], ['119.992828', '31.970213'], ['120.004829', '31.979244'], ['120.005203', '31.979527'], ['120.007507', '31.981197'], ['120.014648', '31.986399'], ['120.016312', '31.987614'], ['120.016312', '31.987614'], ['120.01725', '31.988338'], ['120.018211', '31.98918'], ['120.01873', '31.989714'], ['120.01902', '31.990082'], ['120.01944', '31.990515'], ['120.019592', '31.99066'], ['120.019661', '31.990791'], ['120.019661', '31.990791'], ['120.020103', '31.991489'], ['120.020546', '31.992188'], ['120.020714', '31.99246'], ['120.02314', '31.99659'], ['120.023308', '31.996908'], ['120.023842', '31.997782'], ['120.023956', '31.99802'], ['120.024017', '31.998116'], ['120.024017', '31.998116'], ['120.024178', '31.99802'], ['120.026047', '31.996971'], ['120.026878', '31.996519'], ['120.028206', '31.995811'], ['120.028824', '31.995455'], ['120.031799', '31.993876'], ['120.032867', '31.993301'], ['120.033005', '31.993225'], ['120.033432', '31.99299'], ['120.033813', '31.992809'], ['120.035072', '31.992245'], ['120.03521', '31.992188'], ['120.03595', '31.991898'], ['120.036621', '31.991653'], ['120.036659', '31.991644'], ['120.037918', '31.991262'], ['120.03894', '31.990997'], ['120.043091', '31.99003'], ['120.043381', '31.989964'], ['120.045059', '31.989567'], ['120.046303', '31.989262'], ['120.049644', '31.988365'], ['120.050934', '31.987974'], ['120.051384', '31.987837'], ['120.051735', '31.987719'], ['120.052299', '31.987543'], ['120.052353', '31.987532'], ['120.053963', '31.987062'], ['120.056396', '31.986347'], ['120.057014', '31.986156'], ['120.058594', '31.98572'], ['120.05925', '31.985542'], ['120.060692', '31.985188'], ['120.065033', '31.984085'], ['120.066078', '31.983829'], ['120.068878', '31.983124'], ['120.06958', '31.98295'], ['120.071518', '31.982464'], ['120.072701', '31.982174'], ['120.076553', '31.981197'], ['120.077568', '31.980942'], ['120.077652', '31.980921'], ['120.07872', '31.980665'], ['120.080559', '31.98019'], ['120.084419', '31.979221'], ['120.087936', '31.978333'], ['120.089226', '31.978008'], ['120.090172', '31.977768'], ['120.092117', '31.977282'], ['120.092194', '31.977262'], ['120.09446', '31.976694'], ['120.095642', '31.976402'], ['120.096161', '31.976297'], ['120.097527', '31.976055'], ['120.097816', '31.976007'], ['120.099121', '31.975786'], ['120.102539', '31.975374'], ['120.102783', '31.975342'], ['120.103287', '31.975286'], ['120.103996', '31.975201'], ['120.109108', '31.974623'], ['120.112007', '31.974289'], ['120.113716', '31.974092'], ['120.117043', '31.973755'], ['120.119949', '31.973537'], ['120.12262', '31.973373'], ['120.123032', '31.973343'], ['120.124504', '31.973242'], ['120.125259', '31.973196'], ['120.126305', '31.973097'], ['120.127357', '31.972982'], ['120.128418', '31.972843'], ['120.129921', '31.972595'], ['120.130119', '31.972561'], ['120.132736', '31.972113'], ['120.135536', '31.971626'], ['120.136185', '31.971516'], ['120.140465', '31.970774'], ['120.142418', '31.970434'], ['120.143661', '31.970213'], ['120.143784', '31.970192'], ['120.146408', '31.96973'], ['120.146492', '31.969717'], ['120.146774', '31.969671'], ['120.148483', '31.969379'], ['120.150978', '31.968937'], ['120.154015', '31.968416'], ['120.154785', '31.968285'], ['120.155884', '31.968098'], ['120.157211', '31.967873'], ['120.158783', '31.967604'], ['120.162086', '31.967005'], ['120.164383', '31.966602'], ['120.16523', '31.966454'], ['120.165825', '31.966343'], ['120.168457', '31.965876'], ['120.168594', '31.965851'], ['120.169815', '31.965637'], ['120.171211', '31.965391'], ['120.173828', '31.964951'], ['120.174393', '31.964853'], ['120.17691', '31.964436'], ['120.177505', '31.96435'], ['120.178879', '31.96418'], ['120.179161', '31.964144'], ['120.180199', '31.964035'], ['120.181076', '31.963963'], ['120.18351', '31.963793'], ['120.185448', '31.963663'], ['120.188194', '31.963484'], ['120.188316', '31.963476'], ['120.19043', '31.963329'], ['120.192558', '31.963186'], ['120.193031', '31.963152'], ['120.193497', '31.96312'], ['120.201431', '31.962568'], ['120.201485', '31.962568'], ['120.202026', '31.962536'], ['120.206322', '31.96225'], ['120.210808', '31.961945'], ['120.211464', '31.961897'], ['120.211586', '31.961893'], ['120.212158', '31.961853'], ['120.212402', '31.96184'], ['120.212906', '31.9618'], ['120.214684', '31.961597'], ['120.215286', '31.961502'], ['120.215988', '31.961363'], ['120.21611', '31.961342'], ['120.216949', '31.96117'], ['120.217743', '31.960985'], ['120.218307', '31.960829'], ['120.219887', '31.960352'], ['120.220901', '31.960035'], ['120.223518', '31.959227'], ['120.223923', '31.959116'], ['120.224617', '31.958893'], ['120.224678', '31.958872'], ['120.226906', '31.958181'], ['120.227425', '31.958019'], ['120.228897', '31.957556'], ['120.230423', '31.957096'], ['120.231537', '31.956758'], ['120.23159', '31.956739'], ['120.234276', '31.955997'], ['120.234375', '31.955978'], ['120.236595', '31.955482'], ['120.237083', '31.95536'], ['120.237144', '31.955347'], ['120.237358', '31.955299'], ['120.23793', '31.955204'], ['120.239037', '31.955017'], ['120.240211', '31.954844'], ['120.240372', '31.954823'], ['120.241013', '31.954721'], ['120.241051', '31.954714'], ['120.241669', '31.954618'], ['120.242683', '31.954462'], ['120.243919', '31.954271'], ['120.244743', '31.95413'], ['120.244835', '31.954115'], ['120.245888', '31.953959'], ['120.245911', '31.953953'], ['120.247398', '31.953733'], ['120.247505', '31.953716'], ['120.248932', '31.953493'], ['120.250305', '31.953289'], ['120.251122', '31.953186'], ['120.25222', '31.953077'], ['120.253342', '31.95302'], ['120.254532', '31.953033'], ['120.254623', '31.953043'], ['120.255508', '31.953098'], ['120.255608', '31.953112'], ['120.25631', '31.953199'], ['120.256348', '31.953201'], ['120.257256', '31.953352'], ['120.257614', '31.953428'], ['120.258003', '31.953506'], ['120.25914', '31.953819'], ['120.26046', '31.954254'], ['120.261131', '31.9545'], ['120.263145', '31.955278'], ['120.264145', '31.955677'], ['120.265198', '31.956089'], ['120.265305', '31.956133'], ['120.266624', '31.956623'], ['120.26725', '31.956884'], ['120.267616', '31.95709'], ['120.267899', '31.957262'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279541', '31.982084'], ['120.279236', '31.98208'], ['120.278557', '31.982084'], ['120.27832', '31.98208'], ['120.277481', '31.982067'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>