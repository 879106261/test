<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.127144', '31.831766'], ['120.127396', '31.831758'], ['120.127556', '31.831736'], ['120.127762', '31.831694'], ['120.127762', '31.831694'], ['120.127892', '31.831644'], ['120.128128', '31.831533'], ['120.128426', '31.831337'], ['120.12896', '31.830984'], ['120.129807', '31.830414'], ['120.129906', '31.830341'], ['120.130913', '31.829691'], ['120.131149', '31.829514'], ['120.132118', '31.828888'], ['120.133377', '31.828152'], ['120.133698', '31.827965'], ['120.134109', '31.827728'], ['120.134682', '31.827404'], ['120.134712', '31.827391'], ['120.135262', '31.827063'], ['120.135696', '31.826822'], ['120.136345', '31.826468'], ['120.13665', '31.826353'], ['120.137207', '31.826229'], ['120.137917', '31.826124'], ['120.13813', '31.826094'], ['120.139183', '31.825956'], ['120.139893', '31.825851'], ['120.140312', '31.82579'], ['120.141037', '31.825687'], ['120.141891', '31.825569'], ['120.14238', '31.825495'], ['120.143112', '31.825405'], ['120.14389', '31.825342'], ['120.144424', '31.825325'], ['120.144905', '31.825319'], ['120.145203', '31.825325'], ['120.145309', '31.825325'], ['120.145638', '31.825342'], ['120.146385', '31.825373'], ['120.146492', '31.825373'], ['120.146713', '31.825373'], ['120.147423', '31.825333'], ['120.148224', '31.825237'], ['120.148598', '31.825172'], ['120.149429', '31.824978'], ['120.150108', '31.824787'], ['120.150543', '31.824671'], ['120.151306', '31.824463'], ['120.152046', '31.824284'], ['120.152428', '31.824213'], ['120.153717', '31.824045'], ['120.153854', '31.824026'], ['120.155197', '31.823845'], ['120.155624', '31.823776'], ['120.155899', '31.823698'], ['120.156372', '31.823507'], ['120.156677', '31.823351'], ['120.157784', '31.822687'], ['120.158203', '31.822435'], ['120.158348', '31.82233'], ['120.158638', '31.822117'], ['120.158928', '31.821867'], ['120.159088', '31.821711'], ['120.159203', '31.821602'], ['120.15995', '31.820875'], ['120.160225', '31.820595'], ['120.160316', '31.820456'], ['120.160469', '31.820236'], ['120.160545', '31.820078'], ['120.160629', '31.819761'], ['120.160667', '31.819408'], ['120.16069', '31.818758'], ['120.160728', '31.818098'], ['120.160744', '31.817755'], ['120.160744', '31.817623'], ['120.160789', '31.817022'], ['120.16082', '31.816484'], ['120.160828', '31.816406'], ['120.160896', '31.814987'], ['120.160896', '31.814758'], ['120.160843', '31.814302'], ['120.160713', '31.813925'], ['120.160599', '31.813681'], ['120.160248', '31.813'], ['120.159973', '31.8125'], ['120.158966', '31.810596'], ['120.158646', '31.810032'], ['120.15847', '31.809671'], ['120.158249', '31.809149'], ['120.158066', '31.808601'], ['120.1576', '31.807178'], ['120.157501', '31.806835'], ['120.157425', '31.806511'], ['120.157379', '31.806244'], ['120.157341', '31.805885'], ['120.157333', '31.805477'], ['120.157333', '31.805418'], ['120.157356', '31.804409'], ['120.157341', '31.80401'], ['120.157303', '31.803684'], ['120.157227', '31.803225'], ['120.157204', '31.803087'], ['120.157112', '31.802664'], ['120.157043', '31.8022'], ['120.157005', '31.801798'], ['120.156944', '31.800955'], ['120.156853', '31.799618'], ['120.156845', '31.799448'], ['120.156807', '31.798962'], ['120.156754', '31.798004'], ['120.156708', '31.797409'], ['120.156631', '31.796055'], ['120.156601', '31.795538'], ['120.15657', '31.795319'], ['120.156479', '31.795023'], ['120.156372', '31.794827'], ['120.156113', '31.794582'], ['120.155937', '31.794432'], ['120.155426', '31.793985'], ['120.154297', '31.793005'], ['120.153786', '31.792587'], ['120.153587', '31.7924'], ['120.153259', '31.791935'], ['120.153183', '31.7918'], ['120.152931', '31.791294'], ['120.152748', '31.790802'], ['120.152748', '31.790802'], ['120.154297', '31.790064'], ['120.154442', '31.789991'], ['120.155838', '31.789331'], ['120.156921', '31.788803'], ['120.157478', '31.788542'], ['120.157974', '31.788288'], ['120.158997', '31.78775'], ['120.160316', '31.787062'], ['120.161545', '31.786411'], ['120.162064', '31.786119'], ['120.163223', '31.785479'], ['120.163925', '31.785091'], ['120.164917', '31.784544'], ['120.16584', '31.784016'], ['120.16584', '31.784016'], ['120.166161', '31.784721'], ['120.166672', '31.78582'], ['120.166672', '31.78582'], ['120.167023', '31.785643'], ['120.167435', '31.785429'], ['120.168213', '31.785069'], ['120.168457', '31.784977'], ['120.168571', '31.784935'], ['120.16935', '31.784695'], ['120.169708', '31.784613'], ['120.170113', '31.78455'], ['120.17067', '31.784479'], ['120.170952', '31.784458'], ['120.171333', '31.784449'], ['120.171883', '31.784466'], ['120.172409', '31.784513'], ['120.173157', '31.784636'], ['120.173615', '31.784744'], ['120.174065', '31.784866'], ['120.174713', '31.785065'], ['120.175148', '31.785217'], ['120.176918', '31.785791'], ['120.17775', '31.786066'], ['120.178741', '31.78643'], ['120.179535', '31.786776'], ['120.179787', '31.786884'], ['120.18042', '31.787157'], ['120.180916', '31.787382'], ['120.183105', '31.788338'], ['120.183609', '31.788548'], ['120.184456', '31.788893'], ['120.185928', '31.789444'], ['120.186783', '31.789732'], ['120.187912', '31.790113'], ['120.189003', '31.790501'], ['120.190094', '31.790884'], ['120.19043', '31.791016'], ['120.190445', '31.791025'], ['120.190613', '31.791084'], ['120.191467', '31.791431'], ['120.193253', '31.792217'], ['120.194054', '31.792551'], ['120.195457', '31.793224'], ['120.195854', '31.793428'], ['120.197754', '31.794432'], ['120.197823', '31.794472'], ['120.198524', '31.79484'], ['120.199348', '31.795279'], ['120.200668', '31.795952'], ['120.20179', '31.796453'], ['120.202599', '31.796776'], ['120.203484', '31.79711'], ['120.206184', '31.798029'], ['120.207657', '31.798529'], ['120.20945', '31.79912'], ['120.209717', '31.799202'], ['120.210083', '31.799318'], ['120.209854', '31.799778'], ['120.20919', '31.801342'], ['120.209122', '31.801506'], ['120.208183', '31.803658'], ['120.208183', '31.803658'], ['120.207993', '31.803881'], ['120.207336', '31.805418'], ['120.206551', '31.807222'], ['120.206528', '31.807281'], ['120.206497', '31.807344'], ['120.206497', '31.807344'], ['120.206444', '31.807678'], ['120.206367', '31.807951'], ['120.206055', '31.808857'], ['120.205948', '31.809214'], ['120.205902', '31.809481'], ['120.205856', '31.809736'], ['120.205849', '31.810022'], ['120.205849', '31.810318'], ['120.205887', '31.810619'], ['120.205948', '31.810984'], ['120.206032', '31.811306'], ['120.206184', '31.811707'], ['120.206314', '31.811958'], ['120.206429', '31.812172'], ['120.206581', '31.812395'], ['120.206696', '31.812546'], ['120.206848', '31.812714'], ['120.207031', '31.812895'], ['120.207237', '31.813055'], ['120.207466', '31.813215'], ['120.207672', '31.813343'], ['120.207901', '31.813465'], ['120.208282', '31.813616'], ['120.208771', '31.813797'], ['120.210258', '31.814306'], ['120.210381', '31.814367'], ['120.210518', '31.814466'], ['120.211487', '31.814777'], ['120.212402', '31.815069'], ['120.214317', '31.815674'], ['120.216179', '31.816257'], ['120.216614', '31.816406'], ['120.216835', '31.816481'], ['120.218643', '31.817036'], ['120.220985', '31.817774'], ['120.222038', '31.818083'], ['120.223152', '31.818394'], ['120.225067', '31.818829'], ['120.225891', '31.818989'], ['120.227821', '31.819317'], ['120.229019', '31.819485'], ['120.229843', '31.819578'], ['120.230759', '31.819675'], ['120.232208', '31.819786'], ['120.234375', '31.81996'], ['120.237663', '31.820227'], ['120.239059', '31.82032'], ['120.240143', '31.820374'], ['120.241692', '31.820396'], ['120.243843', '31.820374'], ['120.244659', '31.820356'], ['120.245735', '31.82037'], ['120.246826', '31.8204'], ['120.248131', '31.820469'], ['120.248726', '31.820511'], ['120.249046', '31.820538'], ['120.25061', '31.820702'], ['120.252319', '31.820938'], ['120.254608', '31.821329'], ['120.256248', '31.82164'], ['120.256348', '31.821663'], ['120.256607', '31.821711'], ['120.257172', '31.82181'], ['120.259079', '31.822166'], ['120.261032', '31.822546'], ['120.261841', '31.822704'], ['120.262901', '31.822916'], ['120.264732', '31.823341'], ['120.266418', '31.823807'], ['120.26722', '31.824049'], ['120.268311', '31.824409'], ['120.269775', '31.824926'], ['120.270844', '31.825342'], ['120.271515', '31.825621'], ['120.272781', '31.826185'], ['120.274071', '31.826797'], ['120.27449', '31.827013'], ['120.275215', '31.827391'], ['120.275909', '31.827742'], ['120.27832', '31.828989'], ['120.280838', '31.830286'], ['120.282158', '31.830973'], ['120.283012', '31.831402'], ['120.284172', '31.831957'], ['120.285492', '31.832535'], ['120.286079', '31.832777'], ['120.287224', '31.83322'], ['120.287994', '31.833494'], ['120.289299', '31.833942'], ['120.289902', '31.834127'], ['120.291214', '31.834497'], ['120.292496', '31.834845'], ['120.293739', '31.835123'], ['120.295448', '31.835464'], ['120.297501', '31.835783'], ['120.299408', '31.836006'], ['120.300293', '31.836107'], ['120.300743', '31.836164'], ['120.302086', '31.836311'], ['120.302086', '31.836311'], ['120.302612', '31.836302'], ['120.303749', '31.836416'], ['120.304314', '31.836449'], ['120.304512', '31.836445'], ['120.30471', '31.836424'], ['120.304878', '31.836384'], ['120.305046', '31.836329'], ['120.305145', '31.836285'], ['120.305229', '31.836243'], ['120.305405', '31.836134'], ['120.30555', '31.836016'], ['120.305977', '31.835655'], ['120.306114', '31.83556'], ['120.306236', '31.835491'], ['120.306381', '31.835438'], ['120.306488', '31.835413'], ['120.30661', '31.8354'], ['120.306763', '31.835413'], ['120.30687', '31.835438'], ['120.306976', '31.835474'], ['120.307083', '31.835495'], ['120.307205', '31.835577'], ['120.307297', '31.835678'], ['120.307365', '31.835787'], ['120.307411', '31.835894'], ['120.307434', '31.835993'], ['120.307442', '31.836124'], ['120.307419', '31.836288'], ['120.307396', '31.836475'], ['120.30722', '31.837118'], ['120.307114', '31.837418'], ['120.306877', '31.83802'], ['120.306747', '31.838377'], ['120.306717', '31.838451'], ['120.306519', '31.839016'], ['120.30645', '31.839285'], ['120.306396', '31.839558'], ['120.306366', '31.839727'], ['120.30632', '31.83996'], ['120.306267', '31.840141'], ['120.306267', '31.840141'], ['120.306152', '31.840408'], ['120.306053', '31.840702'], ['120.306015', '31.84086'], ['120.305984', '31.840969'], ['120.305977', '31.841129'], ['120.305992', '31.841337'], ['120.305992', '31.841337'], ['120.306038', '31.841511'], ['120.306061', '31.841579'], ['120.306107', '31.841648'], ['120.306206', '31.841808'], ['120.306335', '31.841984'], ['120.306488', '31.842131'], ['120.306595', '31.842218'], ['120.306641', '31.842249'], ['120.306801', '31.842354'], ['120.306999', '31.842453'], ['120.307289', '31.842573'], ['120.307617', '31.842674'], ['120.308006', '31.842773'], ['120.308472', '31.842859'], ['120.308868', '31.842916'], ['120.309212', '31.842941'], ['120.30941', '31.842937'], ['120.30957', '31.842909'], ['120.309723', '31.842869'], ['120.30983', '31.842817'], ['120.309929', '31.84276'], ['120.30999', '31.842691'], ['120.310051', '31.842613'], ['120.310089', '31.842535'], ['120.310112', '31.842453'], ['120.310112', '31.842369'], ['120.310112', '31.842266'], ['120.310081', '31.842171'], ['120.310036', '31.842085'], ['120.309975', '31.842012'], ['120.309883', '31.841944'], ['120.309799', '31.841894'], ['120.309692', '31.841848'], ['120.309593', '31.841827'], ['120.309456', '31.841814'], ['120.309341', '31.841831'], ['120.30925', '31.841854'], ['120.309128', '31.841904'], ['120.309036', '31.841976'], ['120.308907', '31.842085'], ['120.308617', '31.842464'], ['120.308365', '31.842995'], ['120.308174', '31.843506'], ['120.307831', '31.844421'], ['120.307594', '31.845169'], ['120.307114', '31.84684'], ['120.306877', '31.847374'], ['120.306793', '31.847713'], ['120.306732', '31.847986'], ['120.306541', '31.848728'], ['120.306389', '31.849361'], ['120.306152', '31.850317'], ['120.305672', '31.8522'], ['120.304527', '31.856913'], ['120.304016', '31.859413'], ['120.303856', '31.860352'], ['120.303505', '31.862301'], ['120.303421', '31.86286'], ['120.3032', '31.864758'], ['120.303047', '31.866333'], ['120.302887', '31.868233'], ['120.302773', '31.869385'], ['120.302605', '31.871338'], ['120.302208', '31.875864'], ['120.301895', '31.879505'], ['120.301659', '31.88203'], ['120.301636', '31.882322'], ['120.301331', '31.885933'], ['120.301224', '31.887091'], ['120.300957', '31.889931'], ['120.30088', '31.890787'], ['120.300774', '31.891636'], ['120.300629', '31.892569'], ['120.300575', '31.892965'], ['120.300514', '31.893307'], ['120.300323', '31.894409'], ['120.300293', '31.894596'], ['120.30011', '31.895641'], ['120.299683', '31.897591'], ['120.299408', '31.898676'], ['120.299179', '31.899326'], ['120.29895', '31.900187'], ['120.298531', '31.901548'], ['120.298042', '31.90299'], ['120.297562', '31.904297'], ['120.29747', '31.904575'], ['120.29689', '31.905993'], ['120.29631', '31.907331'], ['120.296059', '31.90789'], ['120.294975', '31.910151'], ['120.294197', '31.911579'], ['120.293205', '31.913301'], ['120.293007', '31.913702'], ['120.292793', '31.914036'], ['120.292336', '31.914736'], ['120.291992', '31.915281'], ['120.291557', '31.915947'], ['120.290588', '31.917374'], ['120.289261', '31.919203'], ['120.288193', '31.920555'], ['120.287033', '31.921991'], ['120.286194', '31.923042'], ['120.285522', '31.923943'], ['120.285072', '31.92454'], ['120.284248', '31.92572'], ['120.283981', '31.926102'], ['120.283875', '31.926266'], ['120.283684', '31.926561'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279541', '31.982084'], ['120.279236', '31.98208'], ['120.278557', '31.982084'], ['120.27832', '31.98208'], ['120.277481', '31.982067'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>