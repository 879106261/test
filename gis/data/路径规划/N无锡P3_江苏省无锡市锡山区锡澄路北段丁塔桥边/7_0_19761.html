<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.258224', '31.881342'], ['120.258072', '31.881308'], ['120.257858', '31.881193'], ['120.257431', '31.880911'], ['120.257278', '31.880793'], ['120.256851', '31.880396'], ['120.256607', '31.880213'], ['120.256348', '31.88007'], ['120.25618', '31.879978'], ['120.25573', '31.879768'], ['120.255211', '31.879522'], ['120.255005', '31.879375'], ['120.254684', '31.879116'], ['120.254616', '31.879026'], ['120.254372', '31.878752'], ['120.254204', '31.878494'], ['120.253967', '31.878134'], ['120.253616', '31.877596'], ['120.253441', '31.877323'], ['120.253227', '31.876984'], ['120.252983', '31.876616'], ['120.2528', '31.876701'], ['120.252213', '31.875687'], ['120.252045', '31.875429'], ['120.251862', '31.875113'], ['120.251343', '31.874313'], ['120.250847', '31.873533'], ['120.250633', '31.873186'], ['120.250343', '31.8727'], ['120.250099', '31.872244'], ['120.249672', '31.871389'], ['120.249641', '31.871338'], ['120.249443', '31.870869'], ['120.249176', '31.870277'], ['120.248993', '31.869869'], ['120.248512', '31.868797'], ['120.248329', '31.868368'], ['120.247986', '31.867619'], ['120.247826', '31.867245'], ['120.247589', '31.86672'], ['120.247299', '31.866066'], ['120.247093', '31.865616'], ['120.246986', '31.865356'], ['120.246651', '31.864605'], ['120.246544', '31.864323'], ['120.24646', '31.864088'], ['120.246399', '31.863785'], ['120.246384', '31.863628'], ['120.246361', '31.863293'], ['120.246376', '31.863014'], ['120.246399', '31.862778'], ['120.246452', '31.862518'], ['120.246513', '31.862278'], ['120.24675', '31.861731'], ['120.246964', '31.861311'], ['120.247253', '31.860638'], ['120.24736', '31.860352'], ['120.247368', '31.860329'], ['120.247452', '31.860044'], ['120.247505', '31.859705'], ['120.24752', '31.859535'], ['120.247559', '31.858475'], ['120.247559', '31.858095'], ['120.247559', '31.858015'], ['120.247543', '31.857674'], ['120.247559', '31.857578'], ['120.247559', '31.856466'], ['120.247566', '31.856033'], ['120.247581', '31.855156'], ['120.247574', '31.854609'], ['120.247574', '31.853516'], ['120.247559', '31.852791'], ['120.247543', '31.852327'], ['120.247528', '31.851954'], ['120.247459', '31.850542'], ['120.247398', '31.849361'], ['120.247299', '31.847601'], ['120.247177', '31.845274'], ['120.247154', '31.844683'], ['120.247108', '31.844021'], ['120.247078', '31.843224'], ['120.247002', '31.841722'], ['120.246941', '31.84063'], ['120.246918', '31.839764'], ['120.246925', '31.839289'], ['120.246979', '31.838758'], ['120.247032', '31.838377'], ['120.24704', '31.838289'], ['120.247124', '31.837687'], ['120.2472', '31.837149'], ['120.24736', '31.83596'], ['120.247383', '31.835783'], ['120.247475', '31.835117'], ['120.247681', '31.833515'], ['120.247772', '31.832882'], ['120.247894', '31.831987'], ['120.247971', '31.831375'], ['120.248055', '31.830786'], ['120.248177', '31.829805'], ['120.248322', '31.828829'], ['120.248383', '31.828285'], ['120.248444', '31.827869'], ['120.248482', '31.827581'], ['120.248505', '31.827391'], ['120.248581', '31.826784'], ['120.248657', '31.826071'], ['120.248825', '31.82464'], ['120.24894', '31.823694'], ['120.248978', '31.823439'], ['120.249031', '31.822996'], ['120.249123', '31.822275'], ['120.249191', '31.821732'], ['120.24926', '31.821211'], ['120.249313', '31.820782'], ['120.249359', '31.820482'], ['120.249413', '31.820101'], ['120.24955', '31.819136'], ['120.249603', '31.818689'], ['120.249611', '31.818512'], ['120.249634', '31.817921'], ['120.249657', '31.81764'], ['120.249664', '31.816975'], ['120.24968', '31.816406'], ['120.24968', '31.816271'], ['120.249687', '31.815611'], ['120.249695', '31.815283'], ['120.249695', '31.815231'], ['120.249695', '31.815004'], ['120.24971', '31.814484'], ['120.249718', '31.814167'], ['120.249725', '31.813419'], ['120.249725', '31.812756'], ['120.249733', '31.81189'], ['120.249741', '31.811253'], ['120.249748', '31.810478'], ['120.249748', '31.809504'], ['120.249741', '31.80904'], ['120.249725', '31.808096'], ['120.249725', '31.8078'], ['120.24971', '31.8076'], ['120.249695', '31.807262'], ['120.24968', '31.806702'], ['120.249664', '31.806179'], ['120.249657', '31.805422'], ['120.249657', '31.805418'], ['120.249634', '31.805056'], ['120.249619', '31.804358'], ['120.249611', '31.803772'], ['120.249603', '31.802851'], ['120.249619', '31.802496'], ['120.249634', '31.802254'], ['120.249664', '31.802071'], ['120.249771', '31.801258'], ['120.249855', '31.800669'], ['120.250092', '31.799236'], ['120.250099', '31.799053'], ['120.250183', '31.798607'], ['120.250237', '31.798269'], ['120.250343', '31.797609'], ['120.250481', '31.796793'], ['120.250557', '31.796297'], ['120.250702', '31.795725'], ['120.250839', '31.795231'], ['120.251114', '31.794432'], ['120.251167', '31.794289'], ['120.251389', '31.793657'], ['120.25161', '31.792995'], ['120.251686', '31.792727'], ['120.251877', '31.791908'], ['120.251961', '31.791458'], ['120.252045', '31.791006'], ['120.252045', '31.791006'], ['120.252281', '31.789648'], ['120.252464', '31.788746'], ['120.252655', '31.787868'], ['120.252686', '31.787764'], ['120.252708', '31.787655'], ['120.252754', '31.787449'], ['120.252808', '31.787239'], ['120.253006', '31.786457'], ['120.253296', '31.78532'], ['120.253357', '31.785082'], ['120.253479', '31.784626'], ['120.253708', '31.78373'], ['120.253792', '31.783447'], ['120.253891', '31.783091'], ['120.25399', '31.782761'], ['120.254135', '31.782282'], ['120.254303', '31.781662'], ['120.254395', '31.781384'], ['120.254456', '31.780989'], ['120.254608', '31.780655'], ['120.254669', '31.78043'], ['120.254883', '31.779699'], ['120.254974', '31.779367'], ['120.255135', '31.77883'], ['120.255211', '31.77857'], ['120.255348', '31.778088'], ['120.255508', '31.777536'], ['120.255692', '31.776966'], ['120.255768', '31.776684'], ['120.255913', '31.776224'], ['120.255959', '31.776079'], ['120.256119', '31.775652'], ['120.256279', '31.775343'], ['120.256348', '31.775227'], ['120.256416', '31.775108'], ['120.256828', '31.774481'], ['120.256958', '31.774288'], ['120.257355', '31.773697'], ['120.257759', '31.773083'], ['120.258026', '31.772682'], ['120.258171', '31.772461'], ['120.258202', '31.772404'], ['120.259033', '31.771166'], ['120.259239', '31.770855'], ['120.259926', '31.769814'], ['120.260078', '31.769558'], ['120.260284', '31.769136'], ['120.260384', '31.768858'], ['120.260452', '31.768625'], ['120.260506', '31.768242'], ['120.260605', '31.767088'], ['120.26062', '31.766953'], ['120.260712', '31.766611'], ['120.261024', '31.765741'], ['120.261208', '31.765278'], ['120.26162', '31.764257'], ['120.262009', '31.763294'], ['120.262192', '31.762827'], ['120.262421', '31.762266'], ['120.26255', '31.761885'], ['120.262688', '31.761471'], ['120.262833', '31.760965'], ['120.263123', '31.760099'], ['120.263344', '31.75935'], ['120.263412', '31.759171'], ['120.263641', '31.758598'], ['120.263802', '31.758234'], ['120.263908', '31.758165'], ['120.264069', '31.757833'], ['120.264175', '31.757547'], ['120.264572', '31.756767'], ['120.264854', '31.756142'], ['120.264931', '31.755941'], ['120.265099', '31.755442'], ['120.265305', '31.75474'], ['120.265388', '31.754427'], ['120.265457', '31.754128'], ['120.265671', '31.752983'], ['120.265808', '31.752323'], ['120.265869', '31.752058'], ['120.265869', '31.752058'], ['120.265953', '31.751549'], ['120.266121', '31.750486'], ['120.266205', '31.75'], ['120.266281', '31.749599'], ['120.26635', '31.749393'], ['120.266441', '31.749149'], ['120.266571', '31.748915'], ['120.266708', '31.748693'], ['120.267021', '31.748306'], ['120.267227', '31.74806'], ['120.267372', '31.74791'], ['120.267601', '31.747622'], ['120.269005', '31.746002'], ['120.269882', '31.744965'], ['120.270027', '31.744808'], ['120.270515', '31.74423'], ['120.270897', '31.743807'], ['120.271164', '31.743475'], ['120.272095', '31.742353'], ['120.272736', '31.741623'], ['120.272957', '31.741325'], ['120.27317', '31.74098'], ['120.273315', '31.740686'], ['120.273376', '31.740499'], ['120.273537', '31.739845'], ['120.273621', '31.7395'], ['120.273926', '31.737869'], ['120.274086', '31.737036'], ['120.274216', '31.736462'], ['120.2743', '31.736012'], ['120.274345', '31.735678'], ['120.27433', '31.735519'], ['120.274399', '31.735113'], ['120.274559', '31.734394'], ['120.274841', '31.732933'], ['120.274986', '31.73214'], ['120.275177', '31.731075'], ['120.275284', '31.730499'], ['120.275398', '31.729904'], ['120.275528', '31.729254'], ['120.275612', '31.728724'], ['120.275627', '31.728516'], ['120.27565', '31.728201'], ['120.275681', '31.727652'], ['120.275642', '31.727161'], ['120.275475', '31.725578'], ['120.275436', '31.725273'], ['120.275414', '31.724617'], ['120.275414', '31.724007'], ['120.275421', '31.723862'], ['120.275467', '31.723373'], ['120.275558', '31.722746'], ['120.275688', '31.722132'], ['120.275848', '31.721584'], ['120.276176', '31.72053'], ['120.276802', '31.718569'], ['120.27713', '31.717527'], ['120.277405', '31.716606'], ['120.278206', '31.713928'], ['120.27832', '31.71353'], ['120.278427', '31.713133'], ['120.278664', '31.712263'], ['120.27874', '31.711971'], ['120.278893', '31.711967'], ['120.278801', '31.712278'], ['120.278625', '31.712912'], ['120.278625', '31.712912'], ['120.278786', '31.713013'], ['120.279091', '31.713186']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>