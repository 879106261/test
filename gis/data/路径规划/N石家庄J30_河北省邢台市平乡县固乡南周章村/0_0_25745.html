<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['115.021988', '37.216248'], ['115.02198', '37.216148'], ['115.02198', '37.216148'], ['115.021927', '37.216171'], ['115.020348', '37.216164'], ['115.020142', '37.216103'], ['115.020142', '37.215004'], ['115.020142', '37.213795'], ['115.020142', '37.212097'], ['115.020142', '37.211254'], ['115.020142', '37.21069'], ['115.020142', '37.210148'], ['115.020157', '37.208767'], ['115.020142', '37.20705'], ['115.02018', '37.206734'], ['115.020264', '37.206341'], ['115.020531', '37.205406'], ['115.020668', '37.204891'], ['115.020897', '37.204124'], ['115.020943', '37.202236'], ['115.020988', '37.200405'], ['115.021004', '37.199703'], ['115.021095', '37.196449'], ['115.021126', '37.194019'], ['115.021164', '37.19207'], ['115.021202', '37.19025'], ['115.021286', '37.190201'], ['115.026855', '37.190243'], ['115.029388', '37.190266'], ['115.030548', '37.190266'], ['115.031975', '37.190269'], ['115.033829', '37.190273'], ['115.034409', '37.190273'], ['115.035164', '37.190273'], ['115.035164', '37.190273'], ['115.035141', '37.189957'], ['115.03511', '37.189571'], ['115.035103', '37.188721'], ['115.035103', '37.188614'], ['115.03511', '37.186909'], ['115.035118', '37.184036'], ['115.03511', '37.181225'], ['115.035172', '37.180408'], ['115.035233', '37.179493'], ['115.035194', '37.179104'], ['115.035179', '37.178833'], ['115.035194', '37.177734'], ['115.035194', '37.177113'], ['115.035194', '37.176991'], ['115.035202', '37.176716'], ['115.03521', '37.176361'], ['115.035202', '37.175621'], ['115.035225', '37.175011'], ['115.035286', '37.174355'], ['115.035355', '37.174011'], ['115.035583', '37.172523'], ['115.035629', '37.172157'], ['115.035667', '37.171425'], ['115.035698', '37.170876'], ['115.03569', '37.169945'], ['115.035599', '37.167995'], ['115.035568', '37.167271'], ['115.035545', '37.166744'], ['115.035492', '37.165405'], ['115.035439', '37.164181'], ['115.035408', '37.163406'], ['115.035378', '37.162727'], ['115.035316', '37.161419'], ['115.035164', '37.157997'], ['115.035065', '37.156036'], ['115.035057', '37.155762'], ['115.035042', '37.155373'], ['115.034996', '37.154358'], ['115.034958', '37.153164'], ['115.034988', '37.152519'], ['115.035011', '37.152168'], ['115.03511', '37.151306'], ['115.035263', '37.149788'], ['115.035378', '37.148777'], ['115.035492', '37.148205'], ['115.035881', '37.147079'], ['115.036095', '37.146477'], ['115.036285', '37.145954'], ['115.036438', '37.145424'], ['115.036499', '37.145061'], ['115.03653', '37.144878'], ['115.03653', '37.144772'], ['115.03653', '37.144726'], ['115.036545', '37.144226'], ['115.036736', '37.140305'], ['115.036873', '37.137573'], ['115.037056', '37.133789'], ['115.037117', '37.132454'], ['115.037163', '37.13155'], ['115.037201', '37.130825'], ['115.037209', '37.130707'], ['115.037254', '37.129868'], ['115.037331', '37.128826'], ['115.03743', '37.127712'], ['115.037689', '37.125275'], ['115.037804', '37.124062'], ['115.037926', '37.122799'], ['115.038177', '37.120365'], ['115.038277', '37.11961'], ['115.038414', '37.118061'], ['115.038559', '37.116566'], ['115.038574', '37.116337'], ['115.038597', '37.113125'], ['115.038605', '37.112667'], ['115.038612', '37.112274'], ['115.038651', '37.111813'], ['115.038658', '37.111679'], ['115.038658', '37.111679'], ['115.038261', '37.111061'], ['115.037949', '37.110645'], ['115.037651', '37.110321'], ['115.037415', '37.110115'], ['115.034531', '37.107677'], ['115.031586', '37.105175'], ['115.030617', '37.104359'], ['115.02758', '37.101784'], ['115.027122', '37.101406'], ['115.026855', '37.101181'], ['115.026443', '37.10083'], ['115.025581', '37.100082'], ['115.022812', '37.097748'], ['115.02195', '37.097012'], ['115.016907', '37.092728'], ['115.016617', '37.092461'], ['115.016411', '37.092247'], ['115.016212', '37.092026'], ['115.016083', '37.091831'], ['115.015846', '37.091446'], ['115.015732', '37.091171'], ['115.015625', '37.090897'], ['115.015572', '37.090668'], ['115.015541', '37.090424'], ['115.015518', '37.090134'], ['115.015526', '37.089878'], ['115.015526', '37.089844'], ['115.015556', '37.089577'], ['115.015724', '37.088585'], ['115.015808', '37.088142'], ['115.016106', '37.086418'], ['115.01609', '37.08633'], ['115.016266', '37.085266'], ['115.016388', '37.084026'], ['115.016403', '37.083855'], ['115.016418', '37.083557'], ['115.016464', '37.082943'], ['115.016464', '37.082943'], ['115.008583', '37.082916'], ['115.008339', '37.082882'], ['115.006279', '37.082878'], ['115.00592', '37.082878'], ['115.004974', '37.08287'], ['115.004883', '37.08287'], ['115.003075', '37.082848'], ['115.002213', '37.082863'], ['115.001938', '37.082882'], ['115.001343', '37.082993'], ['115.001228', '37.083015'], ['115.001076', '37.08305'], ['115.000549', '37.083214'], ['115.00013', '37.083393'], ['114.999557', '37.083691'], ['114.999344', '37.083832'], ['114.999298', '37.083897'], ['114.999298', '37.083897'], ['114.998886', '37.084194'], ['114.998489', '37.084599'], ['114.998192', '37.084934'], ['114.997681', '37.085438'], ['114.996994', '37.086147'], ['114.995903', '37.087254'], ['114.993362', '37.089844'], ['114.993317', '37.08989'], ['114.992882', '37.09029'], ['114.992783', '37.090359'], ['114.992035', '37.090855'], ['114.991676', '37.091019'], ['114.991135', '37.091225'], ['114.990936', '37.09129'], ['114.990738', '37.091351'], ['114.990288', '37.091446'], ['114.98999', '37.091488'], ['114.98896', '37.091549'], ['114.987198', '37.091648'], ['114.985664', '37.091717'], ['114.982979', '37.091827'], ['114.98291', '37.091831'], ['114.981918', '37.091869'], ['114.981201', '37.091919'], ['114.979385', '37.09203'], ['114.977043', '37.092178'], ['114.976692', '37.092201'], ['114.975731', '37.092262'], ['114.97525', '37.092285'], ['114.974228', '37.092361'], ['114.973297', '37.092422'], ['114.968811', '37.092697'], ['114.966446', '37.092838'], ['114.963043', '37.093052'], ['114.961754', '37.093124'], ['114.96093', '37.093166'], ['114.960747', '37.09317'], ['114.959999', '37.09322'], ['114.957687', '37.093357'], ['114.956604', '37.093441'], ['114.95536', '37.093494'], ['114.954987', '37.093544'], ['114.954712', '37.093628'], ['114.954414', '37.093765'], ['114.954163', '37.093945'], ['114.954079', '37.094032'], ['114.953972', '37.094158'], ['114.953918', '37.09428'], ['114.953865', '37.094517'], ['114.953873', '37.095921'], ['114.953896', '37.097019'], ['114.953896', '37.097588'], ['114.953918', '37.098877'], ['114.953911', '37.099655'], ['114.953941', '37.100712'], ['114.953941', '37.10083'], ['114.953964', '37.101818'], ['114.953964', '37.102951'], ['114.953979', '37.103676'], ['114.953972', '37.104885'], ['114.953957', '37.105289'], ['114.953751', '37.10751'], ['114.95369', '37.108196'], ['114.953636', '37.108719'], ['114.953476', '37.111061'], ['114.953476', '37.111061'], ['114.950333', '37.111061'], ['114.949478', '37.111107'], ['114.948753', '37.111195'], ['114.948105', '37.111298'], ['114.947578', '37.111385'], ['114.947372', '37.111401'], ['114.946846', '37.111385'], ['114.946625', '37.111389'], ['114.94561', '37.111366'], ['114.944603', '37.111328'], ['114.944389', '37.111298'], ['114.944237', '37.111248'], ['114.943993', '37.11113'], ['114.943825', '37.111061'], ['114.943153', '37.110966']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>