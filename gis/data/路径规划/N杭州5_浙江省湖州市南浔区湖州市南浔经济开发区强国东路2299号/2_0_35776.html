<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.098495', '30.840965'], ['120.098709', '30.840868'], ['120.098824', '30.840824'], ['120.098824', '30.840824'], ['120.09877', '30.840508'], ['120.098785', '30.840361'], ['120.09864', '30.840044'], ['120.098412', '30.839687'], ['120.098259', '30.839479'], ['120.098053', '30.839226'], ['120.097778', '30.83897'], ['120.097572', '30.838793'], ['120.097328', '30.838619'], ['120.096451', '30.838055'], ['120.096512', '30.837929'], ['120.097412', '30.838507'], ['120.097572', '30.838619'], ['120.097664', '30.83869'], ['120.097984', '30.838957'], ['120.098259', '30.839249'], ['120.098434', '30.839458'], ['120.098755', '30.839964'], ['120.09893', '30.840313'], ['120.09893', '30.840313'], ['120.098961', '30.84046'], ['120.099174', '30.841047'], ['120.099297', '30.84145'], ['120.09938', '30.841784'], ['120.099487', '30.842508'], ['120.099487', '30.843546'], ['120.099556', '30.845369'], ['120.099594', '30.846462'], ['120.099617', '30.847036'], ['120.099625', '30.848438'], ['120.099609', '30.848816'], ['120.099487', '30.849548'], ['120.099464', '30.849609'], ['120.099258', '30.850342'], ['120.099083', '30.850946'], ['120.09893', '30.851444'], ['120.098801', '30.851999'], ['120.098801', '30.851999'], ['120.09893', '30.852026'], ['120.099113', '30.852066'], ['120.10041', '30.852453'], ['120.10051', '30.852482'], ['120.101509', '30.85276'], ['120.10202', '30.8529'], ['120.102196', '30.852951'], ['120.102539', '30.853043'], ['120.102936', '30.853148'], ['120.103806', '30.853397'], ['120.10453', '30.853611'], ['120.105011', '30.85375'], ['120.105797', '30.853998'], ['120.105965', '30.85405'], ['120.106453', '30.854214'], ['120.106606', '30.854275'], ['120.106979', '30.854485'], ['120.1073', '30.854757'], ['120.107788', '30.855227'], ['120.10807', '30.855492'], ['120.109238', '30.856585'], ['120.109879', '30.857044'], ['120.110466', '30.857286'], ['120.111122', '30.857449'], ['120.111122', '30.857449'], ['120.11171', '30.857483'], ['120.112549', '30.857323'], ['120.112892', '30.857254'], ['120.113091', '30.857214'], ['120.113594', '30.857105'], ['120.114212', '30.856958'], ['120.114998', '30.856779'], ['120.115463', '30.856657'], ['120.115799', '30.856554'], ['120.116905', '30.856197'], ['120.117859', '30.855898'], ['120.119698', '30.855337'], ['120.122025', '30.854628'], ['120.122696', '30.854422'], ['120.123032', '30.854322'], ['120.123398', '30.854248'], ['120.124268', '30.854124'], ['120.124504', '30.854071'], ['120.124985', '30.853958'], ['120.125824', '30.853706'], ['120.126297', '30.853559'], ['120.12677', '30.853416'], ['120.127335', '30.853251'], ['120.127548', '30.853174'], ['120.128258', '30.852934'], ['120.12838', '30.852892'], ['120.128891', '30.852734'], ['120.129822', '30.852396'], ['120.130363', '30.852196'], ['120.130997', '30.851963'], ['120.13192', '30.85158'], ['120.132607', '30.851303'], ['120.133698', '30.850876'], ['120.134148', '30.850647'], ['120.134361', '30.8505'], ['120.134735', '30.850182'], ['120.134972', '30.849964'], ['120.13533', '30.849609'], ['120.135475', '30.849466'], ['120.135735', '30.849213'], ['120.136055', '30.848934'], ['120.136269', '30.848759'], ['120.136711', '30.848438'], ['120.137344', '30.848064'], ['120.137779', '30.847809'], ['120.138466', '30.847414'], ['120.139626', '30.846735'], ['120.141167', '30.845852'], ['120.141739', '30.845533'], ['120.142296', '30.845238'], ['120.142723', '30.845055'], ['120.143272', '30.844862'], ['120.144753', '30.844393'], ['120.145744', '30.84409'], ['120.145744', '30.84409'], ['120.146492', '30.84387'], ['120.146996', '30.843729'], ['120.148041', '30.843493'], ['120.148926', '30.843325'], ['120.149506', '30.843187'], ['120.150223', '30.842934'], ['120.150978', '30.842636'], ['120.15168', '30.842321'], ['120.152008', '30.842182'], ['120.152573', '30.841949'], ['120.153633', '30.841593'], ['120.1548', '30.841257'], ['120.156425', '30.840746'], ['120.156937', '30.840578'], ['120.15834', '30.84016'], ['120.158936', '30.840023'], ['120.159691', '30.839867'], ['120.160362', '30.839735'], ['120.16259', '30.839302'], ['120.16301', '30.839226'], ['120.163307', '30.839176'], ['120.164612', '30.838921'], ['120.164879', '30.838867'], ['120.166176', '30.838619'], ['120.166229', '30.838612'], ['120.166527', '30.838556'], ['120.167122', '30.838451'], ['120.167435', '30.838408'], ['120.168083', '30.83835'], ['120.168457', '30.838343'], ['120.168953', '30.838346'], ['120.170433', '30.838394'], ['120.170746', '30.838408'], ['120.173203', '30.838493'], ['120.175247', '30.838551'], ['120.17614', '30.83853'], ['120.176888', '30.838465'], ['120.179298', '30.838169'], ['120.179665', '30.838129'], ['120.18087', '30.837982'], ['120.184074', '30.837595'], ['120.186348', '30.837326'], ['120.188232', '30.837099'], ['120.1884', '30.837084'], ['120.18985', '30.836903'], ['120.19043', '30.836823'], ['120.190842', '30.836775'], ['120.191849', '30.836639'], ['120.1931', '30.836479'], ['120.193184', '30.836472'], ['120.197441', '30.835951'], ['120.197571', '30.835934'], ['120.1987', '30.835791'], ['120.199448', '30.835642'], ['120.203918', '30.83427'], ['120.204247', '30.834175'], ['120.205238', '30.833916'], ['120.205948', '30.833767'], ['120.206863', '30.833611'], ['120.207405', '30.833529'], ['120.208267', '30.833447'], ['120.209244', '30.833382'], ['120.209824', '30.833364'], ['120.210571', '30.833368'], ['120.211838', '30.833429'], ['120.212128', '30.833437'], ['120.212402', '30.83345'], ['120.214066', '30.833538'], ['120.214645', '30.833569'], ['120.215141', '30.83359'], ['120.216034', '30.833633'], ['120.222649', '30.833975'], ['120.223999', '30.834044'], ['120.224586', '30.834063'], ['120.225243', '30.834084'], ['120.226418', '30.834089'], ['120.229019', '30.83404'], ['120.231888', '30.833948'], ['120.234375', '30.833916'], ['120.234795', '30.833916'], ['120.234993', '30.833925'], ['120.23645', '30.833925'], ['120.241562', '30.833981'], ['120.243576', '30.834015'], ['120.244308', '30.834002'], ['120.244957', '30.834023'], ['120.245041', '30.834026'], ['120.248268', '30.834084'], ['120.248596', '30.834093'], ['120.251282', '30.834116'], ['120.252403', '30.834167'], ['120.253105', '30.834249'], ['120.253723', '30.834335'], ['120.254128', '30.834393'], ['120.254417', '30.834436'], ['120.254524', '30.834454'], ['120.254959', '30.834518'], ['120.255363', '30.834581'], ['120.255608', '30.834618'], ['120.256332', '30.834732'], ['120.256348', '30.834732'], ['120.259865', '30.835274'], ['120.261147', '30.835468'], ['120.261269', '30.835487'], ['120.262245', '30.835651'], ['120.263138', '30.835838'], ['120.26445', '30.83618'], ['120.266174', '30.836716'], ['120.268837', '30.837568'], ['120.26889', '30.837587'], ['120.271065', '30.838282'], ['120.272202', '30.838619'], ['120.272469', '30.838703'], ['120.272842', '30.838789'], ['120.273422', '30.838839'], ['120.273735', '30.838829'], ['120.274261', '30.838793'], ['120.274353', '30.838779'], ['120.2752', '30.838667'], ['120.275536', '30.838619'], ['120.275688', '30.838598'], ['120.275879', '30.838575'], ['120.276299', '30.83852'], ['120.276543', '30.838493'], ['120.277626', '30.838425'], ['120.277626', '30.838425'], ['120.27832', '30.838383'], ['120.278969', '30.838343'], ['120.280678', '30.838274'], ['120.281334', '30.838255'], ['120.28183', '30.838234'], ['120.284149', '30.83812'], ['120.285126', '30.838074'], ['120.28624', '30.838041'], ['120.287102', '30.838051'], ['120.287689', '30.838087'], ['120.288544', '30.83816'], ['120.289085', '30.838228'], ['120.28965', '30.838337'], ['120.290794', '30.838606'], ['120.290855', '30.838619'], ['120.291557', '30.838829'], ['120.292198', '30.839054'], ['120.292953', '30.839357'], ['120.293922', '30.839764'], ['120.296028', '30.840664'], ['120.297714', '30.841379'], ['120.299904', '30.842321'], ['120.300293', '30.842508'], ['120.301132', '30.842955'], ['120.30146', '30.843134'], ['120.302048', '30.843502'], ['120.303246', '30.844294'], ['120.30352', '30.84444'], ['120.303741', '30.844545'], ['120.303955', '30.844622'], ['120.304222', '30.844709'], ['120.305115', '30.844936'], ['120.305695', '30.845118'], ['120.306', '30.845232'], ['120.306572', '30.845495'], ['120.308022', '30.846245'], ['120.308701', '30.846672'], ['120.309341', '30.847113'], ['120.31234', '30.849258'], ['120.312836', '30.849609'], ['120.313599', '30.850134'], ['120.313904', '30.850296'], ['120.314301', '30.85046'], ['120.316628', '30.85132'], ['120.318924', '30.852167'], ['120.320496', '30.852705'], ['120.321495', '30.853004'], ['120.322243', '30.853216'], ['120.322266', '30.853224'], ['120.322914', '30.853397'], ['120.326126', '30.854248'], ['120.327248', '30.854536'], ['120.328407', '30.854874'], ['120.328979', '30.855068'], ['120.329849', '30.855423'], ['120.329872', '30.855433'], ['120.330818', '30.855856'], ['120.330925', '30.855907'], ['120.334007', '30.857304'], ['120.334389', '30.85746'], ['120.3349', '30.857645'], ['120.335205', '30.857733'], ['120.335709', '30.857851'], ['120.335999', '30.857908'], ['120.336693', '30.85799'], ['120.337502', '30.858038'], ['120.341011', '30.85815'], ['120.341751', '30.858187'], ['120.34243', '30.858242'], ['120.342728', '30.858282'], ['120.343208', '30.858364'], ['120.343704', '30.858467'], ['120.344063', '30.858555'], ['120.344238', '30.858603'], ['120.34494', '30.858807'], ['120.345619', '30.859016'], ['120.345963', '30.859125'], ['120.346527', '30.859303'], ['120.346825', '30.859394'], ['120.348892', '30.860031'], ['120.349846', '30.860287'], ['120.351097', '30.860596'], ['120.351334', '30.860647'], ['120.35215', '30.860842'], ['120.353485', '30.861137'], ['120.35791', '30.862122'], ['120.358559', '30.862278'], ['120.35936', '30.86244'], ['120.359512', '30.862459'], ['120.35981', '30.862486'], ['120.360207', '30.862499'], ['120.360764', '30.862444'], ['120.361198', '30.862356'], ['120.361465', '30.862295'], ['120.362984', '30.861858'], ['120.363449', '30.861731'], ['120.364975', '30.86128'], ['120.365784', '30.861067'], ['120.366211', '30.860979'], ['120.366562', '30.86092'], ['120.367493', '30.86079'], ['120.36853', '30.860733'], ['120.368996', '30.860729'], ['120.369446', '30.860743'], ['120.37043', '30.860834'], ['120.371109', '30.860937'], ['120.371384', '30.860985'], ['120.372406', '30.861238'], ['120.372772', '30.861349'], ['120.375153', '30.862186'], ['120.37561', '30.862345'], ['120.377975', '30.863195'], ['120.379112', '30.863602'], ['120.379639', '30.863785'], ['120.381111', '30.864311'], ['120.381775', '30.864563'], ['120.382561', '30.864832'], ['120.384171', '30.865404'], ['120.38517', '30.865765'], ['120.387367', '30.866533'], ['120.388176', '30.866831'], ['120.388557', '30.866972'], ['120.38913', '30.867188'], ['120.389572', '30.867365'], ['120.389793', '30.86746'], ['120.390472', '30.8678'], ['120.391182', '30.868216'], ['120.391441', '30.868382'], ['120.392441', '30.86904'], ['120.392654', '30.869175'], ['120.393112', '30.86948'], ['120.393387', '30.869654'], ['120.394745', '30.870506'], ['120.394905', '30.870604'], ['120.395752', '30.871084'], ['120.396507', '30.871511'], ['120.396652', '30.87158'], ['120.397362', '30.871958'], ['120.398132', '30.872345'], ['120.399521', '30.872995'], ['120.400894', '30.873589'], ['120.401604', '30.873871'], ['120.402222', '30.874125'], ['120.402382', '30.87417'], ['120.402382', '30.87417'], ['120.403152', '30.874466'], ['120.404144', '30.874804'], ['120.406136', '30.875425'], ['120.407112', '30.875687'], ['120.407707', '30.87586'], ['120.408356', '30.876055'], ['120.409149', '30.87628'], ['120.410156', '30.876558'], ['120.411438', '30.876917'], ['120.412491', '30.877209'], ['120.413216', '30.877432'], ['120.41394', '30.877714'], ['120.414436', '30.877924'], ['120.414986', '30.878202'], ['120.415771', '30.878689'], ['120.418037', '30.880274'], ['120.418388', '30.880533'], ['120.419304', '30.881197'], ['120.42054', '30.882076'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421326', '30.882759'], ['120.420952', '30.883772'], ['120.420746', '30.884371'], ['120.420746', '30.884371'], ['120.421982', '30.884705'], ['120.423416', '30.885214'], ['120.423897', '30.885342'], ['120.423897', '30.885342'], ['120.423737', '30.88628'], ['120.423737', '30.88628'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>