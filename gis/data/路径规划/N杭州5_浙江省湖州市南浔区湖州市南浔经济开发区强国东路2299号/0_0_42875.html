<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.098495', '30.840965'], ['120.098709', '30.840868'], ['120.098824', '30.840824'], ['120.098824', '30.840824'], ['120.09877', '30.840508'], ['120.098785', '30.840361'], ['120.09864', '30.840044'], ['120.098412', '30.839687'], ['120.098259', '30.839479'], ['120.098053', '30.839226'], ['120.097778', '30.83897'], ['120.097572', '30.838793'], ['120.097328', '30.838619'], ['120.096451', '30.838055'], ['120.096512', '30.837929'], ['120.097412', '30.838507'], ['120.097572', '30.838619'], ['120.097664', '30.83869'], ['120.097984', '30.838957'], ['120.098259', '30.839249'], ['120.098434', '30.839458'], ['120.098755', '30.839964'], ['120.09893', '30.840313'], ['120.09893', '30.840313'], ['120.099037', '30.8405'], ['120.099236', '30.840952'], ['120.099358', '30.84128'], ['120.099457', '30.841707'], ['120.099556', '30.84214'], ['120.099571', '30.842373'], ['120.099594', '30.842453'], ['120.099602', '30.843004'], ['120.099602', '30.843716'], ['120.099602', '30.843716'], ['120.101585', '30.84487'], ['120.102455', '30.845192'], ['120.102539', '30.845219'], ['120.102798', '30.845301'], ['120.103386', '30.845451'], ['120.104553', '30.84569'], ['120.106247', '30.846006'], ['120.108513', '30.84642'], ['120.110268', '30.846741'], ['120.111259', '30.846931'], ['120.112663', '30.847118'], ['120.113327', '30.847178'], ['120.113503', '30.847181'], ['120.113846', '30.847166'], ['120.114273', '30.847126'], ['120.115074', '30.847031'], ['120.115837', '30.846905'], ['120.116348', '30.846785'], ['120.116714', '30.84668'], ['120.116783', '30.846659'], ['120.117828', '30.846338'], ['120.120026', '30.845642'], ['120.121735', '30.845127'], ['120.122711', '30.844826'], ['120.122765', '30.844812'], ['120.124466', '30.844303'], ['120.124504', '30.844294'], ['120.124832', '30.844189'], ['120.12751', '30.843388'], ['120.129814', '30.842691'], ['120.130592', '30.842445'], ['120.131004', '30.842327'], ['120.131348', '30.842199'], ['120.131859', '30.841984'], ['120.132866', '30.841572'], ['120.133163', '30.841431'], ['120.134109', '30.841002'], ['120.137497', '30.83939'], ['120.138519', '30.838894'], ['120.139084', '30.838619'], ['120.143394', '30.836567'], ['120.14399', '30.836281'], ['120.145988', '30.83532'], ['120.146492', '30.835087'], ['120.146584', '30.835032'], ['120.148064', '30.834326'], ['120.148354', '30.834549'], ['120.148903', '30.838619'], ['120.148956', '30.839006'], ['120.149025', '30.839575'], ['120.149055', '30.839888'], ['120.149086', '30.8402'], ['120.149223', '30.841457'], ['120.149353', '30.843042'], ['120.149406', '30.84387'], ['120.149437', '30.844839'], ['120.14949', '30.846338'], ['120.149521', '30.847149'], ['120.149567', '30.848598'], ['120.149582', '30.849609'], ['120.149612', '30.850395'], ['120.149628', '30.851185'], ['120.149666', '30.852928'], ['120.149673', '30.853397'], ['120.149681', '30.853685'], ['120.149689', '30.854094'], ['120.149734', '30.8556'], ['120.149734', '30.8556'], ['120.149719', '30.856466'], ['120.14975', '30.858889'], ['120.14975', '30.858889'], ['120.149773', '30.859795'], ['120.149796', '30.860596'], ['120.149887', '30.863119'], ['120.149902', '30.863306'], ['120.149918', '30.863853'], ['120.150009', '30.867743'], ['120.150047', '30.868811'], ['120.15007', '30.869413'], ['120.150085', '30.869987'], ['120.150116', '30.870647'], ['120.150116', '30.870838'], ['120.150108', '30.87158'], ['120.150108', '30.871914'], ['120.150108', '30.873013'], ['120.150108', '30.873196'], ['120.150162', '30.876398'], ['120.150185', '30.877396'], ['120.150223', '30.878872'], ['120.150269', '30.880999'], ['120.150269', '30.880999'], ['120.150269', '30.881601'], ['120.150299', '30.882565'], ['120.150337', '30.883924'], ['120.150368', '30.885174'], ['120.150368', '30.885174'], ['120.150375', '30.885496'], ['120.150406', '30.8874'], ['120.150436', '30.888178'], ['120.150444', '30.888828'], ['120.150558', '30.893398'], ['120.150558', '30.893555'], ['120.150589', '30.893953'], ['120.15065', '30.894817'], ['120.150658', '30.894873'], ['120.150703', '30.895208'], ['120.15081', '30.895847'], ['120.150948', '30.896475'], ['120.151031', '30.896744'], ['120.151207', '30.897287'], ['120.151398', '30.8978'], ['120.151619', '30.898312'], ['120.151787', '30.898651'], ['120.15213', '30.899311'], ['120.152634', '30.900105'], ['120.153473', '30.901285'], ['120.1548', '30.903065'], ['120.155357', '30.903837'], ['120.155876', '30.904539'], ['120.156433', '30.905313'], ['120.156845', '30.905848'], ['120.157913', '30.907318'], ['120.157913', '30.907318'], ['120.15818', '30.907621'], ['120.158844', '30.908451'], ['120.158997', '30.908615'], ['120.15918', '30.908775'], ['120.159363', '30.908903'], ['120.159615', '30.909048'], ['120.159843', '30.909153'], ['120.160011', '30.909218'], ['120.160248', '30.909294'], ['120.161156', '30.90951'], ['120.161331', '30.909582'], ['120.161537', '30.909681'], ['120.161728', '30.909822'], ['120.161842', '30.909941'], ['120.161896', '30.910017'], ['120.161987', '30.91016'], ['120.162132', '30.910433'], ['120.16217', '30.910496'], ['120.162331', '30.910761'], ['120.162491', '30.91103'], ['120.162666', '30.911346'], ['120.162666', '30.911346'], ['120.162773', '30.911575'], ['120.162971', '30.912062'], ['120.162971', '30.912062'], ['120.163483', '30.912704'], ['120.163628', '30.912834'], ['120.16375', '30.912937'], ['120.163948', '30.913052'], ['120.164207', '30.913168'], ['120.164322', '30.913212'], ['120.164612', '30.913298'], ['120.164932', '30.913368'], ['120.165215', '30.913406'], ['120.165504', '30.913437'], ['120.165779', '30.91345'], ['120.166206', '30.913433'], ['120.167274', '30.913324'], ['120.167465', '30.913338'], ['120.16774', '30.913368'], ['120.168045', '30.913324'], ['120.168411', '30.913269'], ['120.168457', '30.913256'], ['120.171761', '30.912701'], ['120.17289', '30.912458'], ['120.174622', '30.91209'], ['120.176857', '30.911549'], ['120.17955', '30.91082'], ['120.182709', '30.90984'], ['120.183624', '30.909531'], ['120.185226', '30.908953'], ['120.186798', '30.90836'], ['120.188423', '30.907705'], ['120.190323', '30.906902'], ['120.19043', '30.906849'], ['120.193405', '30.905455'], ['120.194862', '30.904745'], ['120.195282', '30.904539'], ['120.197701', '30.903337'], ['120.198219', '30.903082'], ['120.201965', '30.901228'], ['120.205193', '30.899639'], ['120.20871', '30.897905'], ['120.209579', '30.897472'], ['120.212402', '30.89607'], ['120.212936', '30.895815'], ['120.214935', '30.894836'], ['120.215454', '30.894577'], ['120.217468', '30.893646'], ['120.21769', '30.893555'], ['120.219109', '30.892969'], ['120.220505', '30.892445'], ['120.22171', '30.892027'], ['120.223846', '30.89138'], ['120.224792', '30.891129'], ['120.225723', '30.890898'], ['120.227203', '30.890564'], ['120.228043', '30.890396'], ['120.230362', '30.890018'], ['120.231888', '30.889832'], ['120.233376', '30.889696'], ['120.234375', '30.889622'], ['120.234825', '30.889582'], ['120.236702', '30.889513'], ['120.247215', '30.889202'], ['120.248116', '30.889175'], ['120.249367', '30.889145'], ['120.251465', '30.88909'], ['120.252335', '30.889063'], ['120.253593', '30.889023'], ['120.253914', '30.889021'], ['120.254524', '30.889011'], ['120.256348', '30.888962'], ['120.258438', '30.888906'], ['120.25985', '30.888903'], ['120.261475', '30.88891'], ['120.26413', '30.888962'], ['120.267868', '30.889135'], ['120.269539', '30.889263'], ['120.271812', '30.889454'], ['120.273979', '30.889671'], ['120.275696', '30.889835'], ['120.277588', '30.890039'], ['120.27832', '30.890118'], ['120.28038', '30.890337'], ['120.281433', '30.890429'], ['120.284569', '30.890787'], ['120.286583', '30.890997'], ['120.297203', '30.892113'], ['120.300148', '30.892405'], ['120.300293', '30.892414'], ['120.30278', '30.892555'], ['120.304688', '30.892591'], ['120.306656', '30.892595'], ['120.309013', '30.89249'], ['120.310356', '30.892431'], ['120.311096', '30.892378'], ['120.312881', '30.892181'], ['120.314491', '30.89201'], ['120.316933', '30.891623'], ['120.319206', '30.891207'], ['120.319931', '30.891056'], ['120.322266', '30.890505'], ['120.322403', '30.890472'], ['120.323074', '30.890287'], ['120.324661', '30.889839'], ['120.327049', '30.889093'], ['120.329002', '30.888386'], ['120.330872', '30.887659'], ['120.335869', '30.885469'], ['120.337715', '30.884613'], ['120.341957', '30.882723'], ['120.3423', '30.882565'], ['120.342377', '30.882536'], ['120.344238', '30.881693'], ['120.345245', '30.881245'], ['120.346863', '30.880529'], ['120.348145', '30.880032'], ['120.349701', '30.879488'], ['120.351028', '30.87911'], ['120.352341', '30.878784'], ['120.35302', '30.878647'], ['120.353737', '30.878511'], ['120.355125', '30.878283'], ['120.356285', '30.878141'], ['120.357483', '30.878038'], ['120.358841', '30.877964'], ['120.360619', '30.877964'], ['120.361763', '30.87801'], ['120.36319', '30.878128'], ['120.364838', '30.878325'], ['120.366211', '30.878559'], ['120.366211', '30.878559'], ['120.367401', '30.878801'], ['120.368362', '30.87904'], ['120.369652', '30.879417'], ['120.37075', '30.879768'], ['120.37191', '30.880196'], ['120.376312', '30.88204'], ['120.377563', '30.882565'], ['120.379639', '30.883446'], ['120.380623', '30.883875'], ['120.38176', '30.884363'], ['120.38176', '30.884363'], ['120.382568', '30.884604'], ['120.383163', '30.88479'], ['120.383377', '30.884853'], ['120.383568', '30.884895'], ['120.383789', '30.884926'], ['120.383987', '30.884939'], ['120.384109', '30.884926'], ['120.384201', '30.884909'], ['120.384293', '30.884882'], ['120.384392', '30.88484'], ['120.384468', '30.88479'], ['120.384552', '30.884735'], ['120.384621', '30.884666'], ['120.384682', '30.884579'], ['120.384727', '30.884501'], ['120.384766', '30.884422'], ['120.384804', '30.884331'], ['120.384888', '30.883953'], ['120.384888', '30.88352'], ['120.38488', '30.883293'], ['120.384865', '30.883009'], ['120.384842', '30.882738'], ['120.384842', '30.882738'], ['120.384834', '30.882565'], ['120.384758', '30.881931'], ['120.384735', '30.881762'], ['120.38472', '30.881636'], ['120.384682', '30.881485'], ['120.384544', '30.880968'], ['120.38443', '30.880468'], ['120.384651', '30.880533'], ['120.384949', '30.88077'], ['120.385201', '30.880901'], ['120.385567', '30.881016'], ['120.386459', '30.881325'], ['120.387161', '30.881561'], ['120.388176', '30.881931'], ['120.388359', '30.881996'], ['120.389633', '30.882565'], ['120.3899', '30.882683'], ['120.390747', '30.883091'], ['120.391571', '30.883575'], ['120.392097', '30.883871'], ['120.394157', '30.88504'], ['120.395004', '30.885443'], ['120.396797', '30.886225'], ['120.397354', '30.886419'], ['120.398277', '30.886776'], ['120.399246', '30.887136'], ['120.400169', '30.887444'], ['120.40152', '30.887896'], ['120.403587', '30.888607'], ['120.404045', '30.888767'], ['120.404686', '30.888994'], ['120.405617', '30.889313'], ['120.406296', '30.889549'], ['120.407127', '30.889845'], ['120.407509', '30.889973'], ['120.407784', '30.890078'], ['120.408798', '30.890373'], ['120.409393', '30.890537'], ['120.410156', '30.89072'], ['120.410736', '30.890865'], ['120.411644', '30.891081'], ['120.415359', '30.891987'], ['120.416214', '30.892178'], ['120.418037', '30.892639'], ['120.418068', '30.892651'], ['120.421867', '30.893351'], ['120.421867', '30.893351'], ['120.421982', '30.892965'], ['120.422501', '30.891016'], ['120.422577', '30.890715'], ['120.422691', '30.890287'], ['120.422829', '30.889809'], ['120.423058', '30.888929'], ['120.423225', '30.888161'], ['120.423576', '30.886814'], ['120.423737', '30.88628'], ['120.423737', '30.88628'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>