<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.098495', '30.840965'], ['120.098709', '30.840868'], ['120.098824', '30.840824'], ['120.098824', '30.840824'], ['120.09877', '30.840508'], ['120.098785', '30.840361'], ['120.09864', '30.840044'], ['120.098412', '30.839687'], ['120.098259', '30.839479'], ['120.098053', '30.839226'], ['120.097778', '30.83897'], ['120.097572', '30.838793'], ['120.097328', '30.838619'], ['120.096451', '30.838055'], ['120.095619', '30.837547'], ['120.093941', '30.836506'], ['120.093346', '30.836128'], ['120.0924', '30.835529'], ['120.091278', '30.834822'], ['120.09037', '30.834253'], ['120.090302', '30.834208'], ['120.088356', '30.832977'], ['120.087753', '30.832573'], ['120.086967', '30.832005'], ['120.086487', '30.831627'], ['120.086105', '30.831297'], ['120.085976', '30.831181'], ['120.085289', '30.830608'], ['120.083473', '30.829035'], ['120.081841', '30.827635'], ['120.081589', '30.827423'], ['120.081284', '30.827148'], ['120.080559', '30.82654'], ['120.080482', '30.826471'], ['120.080063', '30.826088'], ['120.079636', '30.825624'], ['120.079636', '30.825624'], ['120.079277', '30.825539'], ['120.078217', '30.825386'], ['120.077736', '30.825333'], ['120.077286', '30.8253'], ['120.077003', '30.82531'], ['120.076759', '30.825319'], ['120.076469', '30.825365'], ['120.076096', '30.825447'], ['120.075813', '30.825516'], ['120.075584', '30.825747'], ['120.075066', '30.826284'], ['120.074753', '30.826675'], ['120.074059', '30.827635'], ['120.073982', '30.827742'], ['120.073059', '30.828928'], ['120.07267', '30.829393'], ['120.072472', '30.829626'], ['120.071678', '30.830378'], ['120.071014', '30.830969'], ['120.07077', '30.83116'], ['120.070335', '30.831503'], ['120.069344', '30.832209'], ['120.068268', '30.832916'], ['120.067619', '30.833368'], ['120.067093', '30.833757'], ['120.066208', '30.834457'], ['120.06562', '30.834936'], ['120.065109', '30.835386'], ['120.064621', '30.835846'], ['120.064018', '30.836449'], ['120.063522', '30.836981'], ['120.062912', '30.837641'], ['120.062584', '30.838024'], ['120.062126', '30.838619'], ['120.062035', '30.838728'], ['120.061424', '30.839571'], ['120.061081', '30.84005'], ['120.060669', '30.840698'], ['120.059814', '30.842062'], ['120.059273', '30.842882'], ['120.058594', '30.843948'], ['120.058487', '30.84411'], ['120.058441', '30.844193'], ['120.057434', '30.845781'], ['120.054993', '30.849609'], ['120.054024', '30.851116'], ['120.053482', '30.851999'], ['120.052628', '30.853355'], ['120.05191', '30.854614'], ['120.050995', '30.856306'], ['120.050308', '30.857645'], ['120.049911', '30.85848'], ['120.049309', '30.859795'], ['120.048988', '30.860529'], ['120.048958', '30.860596'], ['120.048714', '30.861189'], ['120.048607', '30.861481'], ['120.048065', '30.86289'], ['120.047485', '30.864563'], ['120.047188', '30.865511'], ['120.046738', '30.867149'], ['120.046638', '30.86754'], ['120.046364', '30.868668'], ['120.046112', '30.869822'], ['120.045784', '30.87158'], ['120.045746', '30.871849'], ['120.04557', '30.87289'], ['120.045433', '30.873945'], ['120.045296', '30.875164'], ['120.045219', '30.875919'], ['120.04496', '30.879648'], ['120.044891', '30.880238'], ['120.044792', '30.880947'], ['120.04464', '30.881788'], ['120.04451', '30.882368'], ['120.044456', '30.882565'], ['120.044281', '30.883202'], ['120.043556', '30.88566'], ['120.043419', '30.886215'], ['120.04335', '30.886593'], ['120.043304', '30.886944'], ['120.043251', '30.887726'], ['120.043251', '30.888128'], ['120.043282', '30.888607'], ['120.043312', '30.889021'], ['120.043365', '30.889418'], ['120.043449', '30.889805'], ['120.043556', '30.890223'], ['120.043785', '30.89102'], ['120.043785', '30.89102'], ['120.044144', '30.891693'], ['120.044228', '30.891876'], ['120.044334', '30.89208'], ['120.04451', '30.892319'], ['120.044685', '30.892559'], ['120.044891', '30.892792'], ['120.045052', '30.892952'], ['120.045296', '30.893156'], ['120.045807', '30.893555'], ['120.046471', '30.894049'], ['120.046669', '30.894197'], ['120.04715', '30.894497'], ['120.047966', '30.894905'], ['120.049179', '30.895483'], ['120.050743', '30.896219'], ['120.052658', '30.897095'], ['120.05349', '30.897491'], ['120.053696', '30.89761'], ['120.05439', '30.897978'], ['120.054657', '30.898155'], ['120.055191', '30.898584'], ['120.05542', '30.898794'], ['120.055641', '30.899019'], ['120.056107', '30.899595'], ['120.056465', '30.900196'], ['120.056709', '30.900656'], ['120.056854', '30.900938'], ['120.057449', '30.902267'], ['120.057892', '30.903143'], ['120.05822', '30.903776'], ['120.058594', '30.904539'], ['120.058922', '30.905231'], ['120.05912', '30.9056'], ['120.059219', '30.905769'], ['120.059486', '30.906347'], ['120.059654', '30.906635'], ['120.059853', '30.906954'], ['120.059998', '30.907154'], ['120.060143', '30.907318'], ['120.060326', '30.907495'], ['120.060532', '30.90766'], ['120.060768', '30.907822'], ['120.060989', '30.907951'], ['120.061256', '30.908087'], ['120.061653', '30.908234'], ['120.061981', '30.908339'], ['120.063438', '30.908697'], ['120.065422', '30.909166'], ['120.06617', '30.90938'], ['120.066788', '30.909595'], ['120.067177', '30.909754'], ['120.067596', '30.909956'], ['120.068604', '30.910486'], ['120.068832', '30.910616'], ['120.071175', '30.911913'], ['120.072815', '30.912804'], ['120.0737', '30.913288'], ['120.073669', '30.913551'], ['120.07338', '30.914545'], ['120.073158', '30.915524'], ['120.073105', '30.915747'], ['120.072861', '30.917109'], ['120.072838', '30.917336'], ['120.072853', '30.917635'], ['120.07283', '30.917959'], ['120.072937', '30.91851'], ['120.073013', '30.918779'], ['120.073074', '30.918928'], ['120.073174', '30.919157'], ['120.073532', '30.919741'], ['120.07383', '30.920078'], ['120.074974', '30.92108'], ['120.076309', '30.922262'], ['120.076859', '30.922838'], ['120.076935', '30.922937'], ['120.077095', '30.923237'], ['120.077225', '30.923616'], ['120.077263', '30.92384'], ['120.077286', '30.924124'], ['120.077255', '30.924522'], ['120.077209', '30.924726'], ['120.077141', '30.9249'], ['120.076981', '30.925226'], ['120.076584', '30.925756'], ['120.075996', '30.926512'], ['120.075974', '30.926544'], ['120.075447', '30.927391'], ['120.07531', '30.927687'], ['120.075203', '30.928183'], ['120.07515', '30.929003'], ['120.07518', '30.929476'], ['120.075241', '30.930525'], ['120.07531', '30.931171'], ['120.075333', '30.931458'], ['120.075333', '30.931458'], ['120.076935', '30.930984'], ['120.077629', '30.930752'], ['120.077927', '30.930637'], ['120.078148', '30.930529'], ['120.078514', '30.930317'], ['120.078514', '30.930317'], ['120.078789', '30.930119'], ['120.079002', '30.929935'], ['120.07914', '30.929804'], ['120.079239', '30.929676'], ['120.079346', '30.929514'], ['120.079536', '30.929127'], ['120.079597', '30.928967'], ['120.079636', '30.928707'], ['120.079636', '30.928707'], ['120.079651', '30.928446'], ['120.07959', '30.928102'], ['120.079269', '30.927271'], ['120.079094', '30.926512'], ['120.079025', '30.926189'], ['120.078941', '30.925682'], ['120.078934', '30.925396'], ['120.078995', '30.925182'], ['120.079086', '30.925064'], ['120.079201', '30.924955'], ['120.079414', '30.924891'], ['120.07959', '30.924862'], ['120.080124', '30.92491'], ['120.080315', '30.924982'], ['120.080559', '30.925146'], ['120.080948', '30.925396'], ['120.081291', '30.925547'], ['120.081444', '30.925583'], ['120.081696', '30.925611'], ['120.082062', '30.925611'], ['120.082481', '30.925577'], ['120.082726', '30.925596'], ['120.084068', '30.925346'], ['120.085236', '30.925156'], ['120.086334', '30.925026'], ['120.087776', '30.9249'], ['120.090904', '30.924828'], ['120.098824', '30.924681'], ['120.101135', '30.924601'], ['120.101807', '30.924578'], ['120.102539', '30.924532'], ['120.103165', '30.924488'], ['120.104248', '30.924404'], ['120.104912', '30.924339'], ['120.105766', '30.924253'], ['120.107208', '30.92408'], ['120.107704', '30.924021'], ['120.108711', '30.923885'], ['120.109299', '30.923815'], ['120.110779', '30.923555'], ['120.113197', '30.923046'], ['120.114944', '30.92264'], ['120.116066', '30.922359'], ['120.119431', '30.921476'], ['120.1203', '30.921215'], ['120.121323', '30.920952'], ['120.121979', '30.920782'], ['120.124504', '30.920118'], ['120.124847', '30.920027'], ['120.126221', '30.919691'], ['120.129326', '30.919006'], ['120.129822', '30.918884'], ['120.130768', '30.918694'], ['120.132561', '30.918364'], ['120.132965', '30.918289'], ['120.134834', '30.917978'], ['120.138916', '30.917387'], ['120.142944', '30.916862'], ['120.14402', '30.916702'], ['120.14505', '30.916553'], ['120.146492', '30.916348'], ['120.147903', '30.916138'], ['120.150658', '30.915756'], ['120.152283', '30.915524'], ['120.152397', '30.915506'], ['120.157501', '30.914791'], ['120.158997', '30.914577'], ['120.159607', '30.914505'], ['120.160225', '30.914427'], ['120.164528', '30.91382'], ['120.16774', '30.913368'], ['120.168045', '30.913324'], ['120.168411', '30.913269'], ['120.168457', '30.913256'], ['120.171761', '30.912701'], ['120.17289', '30.912458'], ['120.174622', '30.91209'], ['120.176857', '30.911549'], ['120.17955', '30.91082'], ['120.182709', '30.90984'], ['120.183624', '30.909531'], ['120.185226', '30.908953'], ['120.186798', '30.90836'], ['120.188423', '30.907705'], ['120.190323', '30.906902'], ['120.19043', '30.906849'], ['120.193405', '30.905455'], ['120.194862', '30.904745'], ['120.195282', '30.904539'], ['120.197701', '30.903337'], ['120.198219', '30.903082'], ['120.201965', '30.901228'], ['120.205193', '30.899639'], ['120.20871', '30.897905'], ['120.209579', '30.897472'], ['120.212402', '30.89607'], ['120.212936', '30.895815'], ['120.214935', '30.894836'], ['120.215454', '30.894577'], ['120.217468', '30.893646'], ['120.21769', '30.893555'], ['120.219109', '30.892969'], ['120.220505', '30.892445'], ['120.22171', '30.892027'], ['120.223846', '30.89138'], ['120.224792', '30.891129'], ['120.225723', '30.890898'], ['120.227203', '30.890564'], ['120.228043', '30.890396'], ['120.230362', '30.890018'], ['120.231888', '30.889832'], ['120.233376', '30.889696'], ['120.234375', '30.889622'], ['120.234825', '30.889582'], ['120.236702', '30.889513'], ['120.247215', '30.889202'], ['120.248116', '30.889175'], ['120.249367', '30.889145'], ['120.251465', '30.88909'], ['120.252335', '30.889063'], ['120.253593', '30.889023'], ['120.253914', '30.889021'], ['120.254524', '30.889011'], ['120.256348', '30.888962'], ['120.258438', '30.888906'], ['120.25985', '30.888903'], ['120.261475', '30.88891'], ['120.26413', '30.888962'], ['120.267868', '30.889135'], ['120.269539', '30.889263'], ['120.271812', '30.889454'], ['120.273979', '30.889671'], ['120.275696', '30.889835'], ['120.277588', '30.890039'], ['120.27832', '30.890118'], ['120.28038', '30.890337'], ['120.281433', '30.890429'], ['120.284569', '30.890787'], ['120.286583', '30.890997'], ['120.297203', '30.892113'], ['120.300148', '30.892405'], ['120.300293', '30.892414'], ['120.30278', '30.892555'], ['120.304688', '30.892591'], ['120.306656', '30.892595'], ['120.309013', '30.89249'], ['120.310356', '30.892431'], ['120.311096', '30.892378'], ['120.312881', '30.892181'], ['120.314491', '30.89201'], ['120.316933', '30.891623'], ['120.319206', '30.891207'], ['120.319931', '30.891056'], ['120.322266', '30.890505'], ['120.322403', '30.890472'], ['120.323074', '30.890287'], ['120.324661', '30.889839'], ['120.327049', '30.889093'], ['120.329002', '30.888386'], ['120.330872', '30.887659'], ['120.335869', '30.885469'], ['120.337715', '30.884613'], ['120.341957', '30.882723'], ['120.3423', '30.882565'], ['120.342377', '30.882536'], ['120.344238', '30.881693'], ['120.345245', '30.881245'], ['120.346863', '30.880529'], ['120.348145', '30.880032'], ['120.349701', '30.879488'], ['120.351028', '30.87911'], ['120.352341', '30.878784'], ['120.35302', '30.878647'], ['120.353737', '30.878511'], ['120.355125', '30.878283'], ['120.356285', '30.878141'], ['120.357483', '30.878038'], ['120.358841', '30.877964'], ['120.360619', '30.877964'], ['120.361763', '30.87801'], ['120.36319', '30.878128'], ['120.364838', '30.878325'], ['120.366211', '30.878559'], ['120.366211', '30.878559'], ['120.367401', '30.878801'], ['120.368362', '30.87904'], ['120.369652', '30.879417'], ['120.37075', '30.879768'], ['120.37191', '30.880196'], ['120.376312', '30.88204'], ['120.377563', '30.882565'], ['120.379639', '30.883446'], ['120.380623', '30.883875'], ['120.38176', '30.884363'], ['120.38176', '30.884363'], ['120.382568', '30.884604'], ['120.383163', '30.88479'], ['120.383377', '30.884853'], ['120.383568', '30.884895'], ['120.383789', '30.884926'], ['120.383987', '30.884939'], ['120.384109', '30.884926'], ['120.384201', '30.884909'], ['120.384293', '30.884882'], ['120.384392', '30.88484'], ['120.384468', '30.88479'], ['120.384552', '30.884735'], ['120.384621', '30.884666'], ['120.384682', '30.884579'], ['120.384727', '30.884501'], ['120.384766', '30.884422'], ['120.384804', '30.884331'], ['120.384888', '30.883953'], ['120.384888', '30.88352'], ['120.38488', '30.883293'], ['120.384865', '30.883009'], ['120.384842', '30.882738'], ['120.384842', '30.882738'], ['120.384834', '30.882565'], ['120.384758', '30.881931'], ['120.384735', '30.881762'], ['120.38472', '30.881636'], ['120.384682', '30.881485'], ['120.384544', '30.880968'], ['120.38443', '30.880468'], ['120.384651', '30.880533'], ['120.384949', '30.88077'], ['120.385201', '30.880901'], ['120.385567', '30.881016'], ['120.386459', '30.881325'], ['120.387161', '30.881561'], ['120.388176', '30.881931'], ['120.388359', '30.881996'], ['120.389633', '30.882565'], ['120.3899', '30.882683'], ['120.390747', '30.883091'], ['120.391571', '30.883575'], ['120.392097', '30.883871'], ['120.394157', '30.88504'], ['120.395004', '30.885443'], ['120.396797', '30.886225'], ['120.397354', '30.886419'], ['120.398277', '30.886776'], ['120.399246', '30.887136'], ['120.400169', '30.887444'], ['120.40152', '30.887896'], ['120.403587', '30.888607'], ['120.404045', '30.888767'], ['120.404686', '30.888994'], ['120.405617', '30.889313'], ['120.406296', '30.889549'], ['120.407127', '30.889845'], ['120.407509', '30.889973'], ['120.407784', '30.890078'], ['120.408798', '30.890373'], ['120.409393', '30.890537'], ['120.410156', '30.89072'], ['120.410736', '30.890865'], ['120.411644', '30.891081'], ['120.415359', '30.891987'], ['120.416214', '30.892178'], ['120.418037', '30.892639'], ['120.418068', '30.892651'], ['120.421867', '30.893351'], ['120.421867', '30.893351'], ['120.421982', '30.892965'], ['120.422501', '30.891016'], ['120.422577', '30.890715'], ['120.422691', '30.890287'], ['120.422829', '30.889809'], ['120.423058', '30.888929'], ['120.423225', '30.888161'], ['120.423576', '30.886814'], ['120.423737', '30.88628'], ['120.423737', '30.88628'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>