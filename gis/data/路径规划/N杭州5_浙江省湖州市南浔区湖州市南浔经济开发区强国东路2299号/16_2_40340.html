<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.098495', '30.840965'], ['120.098709', '30.840868'], ['120.098824', '30.840824'], ['120.098824', '30.840824'], ['120.09877', '30.840508'], ['120.098785', '30.840361'], ['120.09864', '30.840044'], ['120.098412', '30.839687'], ['120.098259', '30.839479'], ['120.098053', '30.839226'], ['120.097778', '30.83897'], ['120.097572', '30.838793'], ['120.097328', '30.838619'], ['120.096451', '30.838055'], ['120.096512', '30.837929'], ['120.097412', '30.838507'], ['120.097572', '30.838619'], ['120.097664', '30.83869'], ['120.097984', '30.838957'], ['120.098259', '30.839249'], ['120.098434', '30.839458'], ['120.098755', '30.839964'], ['120.09893', '30.840313'], ['120.09893', '30.840313'], ['120.099037', '30.8405'], ['120.099236', '30.840952'], ['120.099358', '30.84128'], ['120.099457', '30.841707'], ['120.099556', '30.84214'], ['120.099571', '30.842373'], ['120.099594', '30.842453'], ['120.099602', '30.843004'], ['120.099602', '30.843716'], ['120.099602', '30.843716'], ['120.101585', '30.84487'], ['120.102455', '30.845192'], ['120.102539', '30.845219'], ['120.102798', '30.845301'], ['120.103386', '30.845451'], ['120.104553', '30.84569'], ['120.106247', '30.846006'], ['120.108513', '30.84642'], ['120.110268', '30.846741'], ['120.111259', '30.846931'], ['120.112663', '30.847118'], ['120.113327', '30.847178'], ['120.113503', '30.847181'], ['120.113846', '30.847166'], ['120.114273', '30.847126'], ['120.115074', '30.847031'], ['120.115837', '30.846905'], ['120.116348', '30.846785'], ['120.116714', '30.84668'], ['120.116783', '30.846659'], ['120.117828', '30.846338'], ['120.120026', '30.845642'], ['120.121735', '30.845127'], ['120.122711', '30.844826'], ['120.122765', '30.844812'], ['120.124466', '30.844303'], ['120.124504', '30.844294'], ['120.124832', '30.844189'], ['120.12751', '30.843388'], ['120.129814', '30.842691'], ['120.130592', '30.842445'], ['120.131004', '30.842327'], ['120.131348', '30.842199'], ['120.131859', '30.841984'], ['120.132866', '30.841572'], ['120.133163', '30.841431'], ['120.134109', '30.841002'], ['120.137497', '30.83939'], ['120.138519', '30.838894'], ['120.139084', '30.838619'], ['120.143394', '30.836567'], ['120.14399', '30.836281'], ['120.145988', '30.83532'], ['120.146492', '30.835087'], ['120.146584', '30.835032'], ['120.148064', '30.834326'], ['120.1483', '30.834208'], ['120.148811', '30.833862'], ['120.151337', '30.832001'], ['120.15181', '30.831654'], ['120.15242', '30.831207'], ['120.152855', '30.830893'], ['120.154198', '30.829914'], ['120.154861', '30.829432'], ['120.155235', '30.82918'], ['120.155678', '30.828907'], ['120.156601', '30.828451'], ['120.157295', '30.828165'], ['120.157883', '30.827978'], ['120.158592', '30.827774'], ['120.159317', '30.827641'], ['120.159363', '30.827635'], ['120.159775', '30.827574'], ['120.160202', '30.827536'], ['120.160728', '30.827513'], ['120.161385', '30.827513'], ['120.164803', '30.827581'], ['120.164993', '30.827587'], ['120.168457', '30.827627'], ['120.16864', '30.827627'], ['120.177238', '30.827591'], ['120.179459', '30.827492'], ['120.181229', '30.827364'], ['120.182922', '30.827187'], ['120.185005', '30.826902'], ['120.186401', '30.826706'], ['120.19043', '30.826067'], ['120.193443', '30.825583'], ['120.196579', '30.825069'], ['120.199501', '30.824631'], ['120.201805', '30.82431'], ['120.202927', '30.824345'], ['120.20475', '30.824358'], ['120.205246', '30.824362'], ['120.205597', '30.824362'], ['120.208427', '30.824671'], ['120.208717', '30.824686'], ['120.209061', '30.824705'], ['120.210541', '30.824722'], ['120.211189', '30.824739'], ['120.212265', '30.824726'], ['120.212402', '30.824726'], ['120.21656', '30.82464'], ['120.218704', '30.824566'], ['120.219986', '30.82448'], ['120.220482', '30.824436'], ['120.221886', '30.824276'], ['120.225655', '30.823511'], ['120.227135', '30.823294'], ['120.228088', '30.823196'], ['120.229095', '30.823124'], ['120.229248', '30.823111'], ['120.230888', '30.823116'], ['120.232033', '30.823124'], ['120.234001', '30.823086'], ['120.234375', '30.823082'], ['120.234642', '30.823072'], ['120.235321', '30.823042'], ['120.23558', '30.823'], ['120.235924', '30.822943'], ['120.237137', '30.822779'], ['120.240196', '30.822149'], ['120.240471', '30.822058'], ['120.241669', '30.82168'], ['120.243378', '30.82106'], ['120.246307', '30.819649'], ['120.247093', '30.819221'], ['120.248215', '30.818615'], ['120.249008', '30.818195'], ['120.25074', '30.817453'], ['120.251526', '30.817226'], ['120.252571', '30.816996'], ['120.254326', '30.816648'], ['120.254517', '30.81661'], ['120.256302', '30.816298'], ['120.256348', '30.816294'], ['120.257774', '30.81616'], ['120.258949', '30.816063'], ['120.259865', '30.816067'], ['120.262024', '30.81608'], ['120.263641', '30.816206'], ['120.265335', '30.816328'], ['120.267593', '30.816475'], ['120.268394', '30.816557'], ['120.268677', '30.816584'], ['120.269447', '30.81658'], ['120.270309', '30.816563'], ['120.271446', '30.816488'], ['120.273766', '30.816219'], ['120.276985', '30.81576'], ['120.277451', '30.815729'], ['120.277946', '30.815702'], ['120.278267', '30.815689'], ['120.27832', '30.815689'], ['120.281334', '30.815519'], ['120.281563', '30.815525'], ['120.282867', '30.815533'], ['120.28421', '30.815638'], ['120.285522', '30.815769'], ['120.286514', '30.815897'], ['120.288651', '30.816353'], ['120.290291', '30.816648'], ['120.293098', '30.817148'], ['120.293884', '30.817249'], ['120.295235', '30.817354'], ['120.298172', '30.817423'], ['120.300293', '30.817427'], ['120.300926', '30.817427'], ['120.302856', '30.81743'], ['120.30526', '30.817604'], ['120.307205', '30.817879'], ['120.310005', '30.818365'], ['120.311928', '30.818729'], ['120.312408', '30.818811'], ['120.316727', '30.819567'], ['120.320274', '30.820173'], ['120.322266', '30.820639'], ['120.323006', '30.82081'], ['120.325424', '30.821444'], ['120.32737', '30.821901'], ['120.331398', '30.823133'], ['120.332069', '30.823338'], ['120.332527', '30.823475'], ['120.332642', '30.823511'], ['120.333138', '30.823658'], ['120.335793', '30.824453'], ['120.337761', '30.824968'], ['120.339668', '30.825516'], ['120.341377', '30.825903'], ['120.342354', '30.826107'], ['120.343102', '30.826262'], ['120.344238', '30.826454'], ['120.344971', '30.826584'], ['120.346809', '30.826818'], ['120.347603', '30.826893'], ['120.348412', '30.826971'], ['120.357971', '30.827635'], ['120.358818', '30.827696'], ['120.361404', '30.827909'], ['120.362007', '30.827955'], ['120.36422', '30.828047'], ['120.365463', '30.82806'], ['120.366211', '30.82807'], ['120.366325', '30.82807'], ['120.368408', '30.827934'], ['120.369019', '30.827843'], ['120.370499', '30.827635'], ['120.371521', '30.827492'], ['120.373177', '30.827227'], ['120.375771', '30.827'], ['120.376808', '30.826931'], ['120.378265', '30.826862'], ['120.379639', '30.826853'], ['120.381584', '30.826885'], ['120.384277', '30.826996'], ['120.384758', '30.827044'], ['120.386497', '30.827217'], ['120.388176', '30.827383'], ['120.389885', '30.827564'], ['120.390541', '30.827635'], ['120.391434', '30.827728'], ['120.391792', '30.827795'], ['120.393974', '30.828178'], ['120.394363', '30.828268'], ['120.396133', '30.828676'], ['120.396904', '30.828854'], ['120.397789', '30.829084'], ['120.39785', '30.829098'], ['120.398903', '30.829367'], ['120.401527', '30.83005'], ['120.404312', '30.830751'], ['120.406158', '30.831207'], ['120.408844', '30.831957'], ['120.410126', '30.832275'], ['120.410156', '30.832277'], ['120.41555', '30.83362'], ['120.41674', '30.833929'], ['120.418518', '30.834393'], ['120.41938', '30.834614'], ['120.419456', '30.834686'], ['120.419395', '30.83489'], ['120.419121', '30.835884'], ['120.418793', '30.837095'], ['120.418579', '30.83787'], ['120.418488', '30.838211'], ['120.418472', '30.838261'], ['120.418373', '30.838619'], ['120.418327', '30.83882'], ['120.418152', '30.839476'], ['120.418068', '30.839754'], ['120.417526', '30.841658'], ['120.417313', '30.842369'], ['120.417297', '30.842426'], ['120.416801', '30.844223'], ['120.416649', '30.844801'], ['120.416435', '30.845655'], ['120.416412', '30.845707'], ['120.415794', '30.847847'], ['120.415558', '30.848694'], ['120.415504', '30.848845'], ['120.415283', '30.849609'], ['120.415131', '30.850147'], ['120.414948', '30.850752'], ['120.414726', '30.851534'], ['120.414482', '30.852331'], ['120.414391', '30.852547'], ['120.414169', '30.852982'], ['120.414154', '30.85302'], ['120.414116', '30.853077'], ['120.413841', '30.853559'], ['120.413185', '30.854527'], ['120.413162', '30.854553'], ['120.413116', '30.854622'], ['120.412971', '30.854839'], ['120.411545', '30.856922'], ['120.411522', '30.856966'], ['120.411446', '30.857096'], ['120.411354', '30.857304'], ['120.411217', '30.85766'], ['120.411064', '30.858047'], ['120.410774', '30.858829'], ['120.410606', '30.859289'], ['120.410156', '30.860512'], ['120.410126', '30.860596'], ['120.410042', '30.860802'], ['120.409752', '30.861607'], ['120.409477', '30.862328'], ['120.409203', '30.863083'], ['120.409126', '30.86327'], ['120.408928', '30.863857'], ['120.408905', '30.86392'], ['120.408287', '30.865551'], ['120.407997', '30.866302'], ['120.407646', '30.86729'], ['120.407219', '30.868484'], ['120.406776', '30.869644'], ['120.406387', '30.870724'], ['120.406372', '30.870777'], ['120.406075', '30.87158'], ['120.405602', '30.872808'], ['120.405334', '30.873533'], ['120.405182', '30.873941'], ['120.405159', '30.874035'], ['120.405144', '30.87417'], ['120.40519', '30.87438'], ['120.405251', '30.874504'], ['120.405327', '30.874605'], ['120.405502', '30.874777'], ['120.406105', '30.875242'], ['120.406242', '30.875328'], ['120.406586', '30.875465'], ['120.406906', '30.875578'], ['120.407112', '30.875687'], ['120.407707', '30.87586'], ['120.408356', '30.876055'], ['120.409149', '30.87628'], ['120.410156', '30.876558'], ['120.411438', '30.876917'], ['120.412491', '30.877209'], ['120.413216', '30.877432'], ['120.41394', '30.877714'], ['120.414436', '30.877924'], ['120.414986', '30.878202'], ['120.415771', '30.878689'], ['120.418037', '30.880274'], ['120.418388', '30.880533'], ['120.419304', '30.881197'], ['120.42054', '30.882076'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421371', '30.88266'], ['120.422127', '30.8832'], ['120.422592', '30.883493'], ['120.423012', '30.88372'], ['120.423225', '30.883806'], ['120.423691', '30.883942'], ['120.424393', '30.884081'], ['120.425896', '30.884331'], ['120.426216', '30.884384'], ['120.426575', '30.884445'], ['120.426552', '30.884541'], ['120.426224', '30.885637'], ['120.426224', '30.885637'], ['120.425858', '30.885834'], ['120.425674', '30.885952'], ['120.425598', '30.886011'], ['120.425484', '30.886202'], ['120.425392', '30.886467'], ['120.425392', '30.886467'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>