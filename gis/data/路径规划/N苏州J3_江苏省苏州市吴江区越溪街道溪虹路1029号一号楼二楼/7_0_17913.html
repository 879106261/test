<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.540108', '31.282555'], ['120.540482', '31.282574'], ['120.540482', '31.282574'], ['120.540443', '31.282869'], ['120.540428', '31.283077'], ['120.540428', '31.283077'], ['120.539528', '31.283077'], ['120.539528', '31.283077'], ['120.539513', '31.28355'], ['120.539505', '31.283934'], ['120.539505', '31.283934'], ['120.541992', '31.284067'], ['120.543602', '31.284153'], ['120.54467', '31.284235'], ['120.544762', '31.284254'], ['120.545113', '31.284363'], ['120.546616', '31.284977'], ['120.547714', '31.285429'], ['120.548454', '31.285738'], ['120.549477', '31.286165'], ['120.549622', '31.286228'], ['120.550186', '31.286457'], ['120.55043', '31.286552'], ['120.550949', '31.286753'], ['120.551514', '31.286976'], ['120.552086', '31.287191'], ['120.552658', '31.287405'], ['120.553192', '31.287569'], ['120.553505', '31.287645'], ['120.553619', '31.287678'], ['120.554008', '31.28775'], ['120.554871', '31.287865'], ['120.557251', '31.288'], ['120.557556', '31.288013'], ['120.557953', '31.288033'], ['120.558418', '31.288055'], ['120.558891', '31.288069'], ['120.559029', '31.288073'], ['120.560204', '31.288155'], ['120.562233', '31.288307'], ['120.563423', '31.288393'], ['120.563934', '31.288437'], ['120.563965', '31.288437'], ['120.565094', '31.288525'], ['120.566643', '31.288643'], ['120.567093', '31.288692'], ['120.567665', '31.288797'], ['120.567841', '31.288837'], ['120.568672', '31.289062'], ['120.568886', '31.28912'], ['120.56897', '31.289135'], ['120.569733', '31.289326'], ['120.569733', '31.289326'], ['120.569847', '31.289062'], ['120.569923', '31.288919'], ['120.570091', '31.288521'], ['120.57016', '31.288351'], ['120.570213', '31.288206'], ['120.570847', '31.2868'], ['120.570999', '31.286457'], ['120.571114', '31.286215'], ['120.571159', '31.286102'], ['120.571358', '31.285637'], ['120.571579', '31.285122'], ['120.571877', '31.284472'], ['120.572006', '31.284159'], ['120.572403', '31.28326'], ['120.572563', '31.283155'], ['120.573395', '31.283224'], ['120.574486', '31.283352'], ['120.574989', '31.283365'], ['120.575394', '31.28336'], ['120.575645', '31.283319'], ['120.576103', '31.283186'], ['120.57679', '31.282988'], ['120.577087', '31.282928'], ['120.577309', '31.282909'], ['120.577599', '31.282904'], ['120.577858', '31.282915'], ['120.578133', '31.282961'], ['120.578506', '31.283064'], ['120.579208', '31.283339'], ['120.579758', '31.283564'], ['120.580124', '31.283703'], ['120.580551', '31.283863'], ['120.58078', '31.283962'], ['120.581017', '31.284061'], ['120.581017', '31.284061'], ['120.581398', '31.284124'], ['120.582199', '31.284435'], ['120.582932', '31.284754'], ['120.583244', '31.284918'], ['120.583244', '31.284918'], ['120.583328', '31.284836'], ['120.583603', '31.284523'], ['120.583603', '31.284523'], ['120.583626', '31.284472'], ['120.583817', '31.284275'], ['120.584244', '31.283838'], ['120.58493', '31.283112'], ['120.585205', '31.282822'], ['120.585938', '31.282045'], ['120.585945', '31.282032'], ['120.586128', '31.281984'], ['120.586807', '31.281029'], ['120.587006', '31.280783'], ['120.587219', '31.280539'], ['120.589714', '31.278074'], ['120.59111', '31.276703'], ['120.591393', '31.276424'], ['120.593369', '31.274458'], ['120.593742', '31.27409'], ['120.594025', '31.273815'], ['120.595108', '31.272747'], ['120.595482', '31.272377'], ['120.59613', '31.27173'], ['120.596558', '31.271315'], ['120.596985', '31.270897'], ['120.597382', '31.270542'], ['120.597778', '31.270195'], ['120.600479', '31.267881'], ['120.601379', '31.267088'], ['120.601479', '31.266987'], ['120.601944', '31.266466'], ['120.602318', '31.265968'], ['120.602539', '31.265633'], ['120.602821', '31.265118'], ['120.60302', '31.264641'], ['120.603203', '31.264149'], ['120.603317', '31.263739'], ['120.603386', '31.263359'], ['120.603455', '31.26273'], ['120.603485', '31.261845'], ['120.603493', '31.260147'], ['120.603493', '31.259579'], ['120.603493', '31.25918'], ['120.6035', '31.257555'], ['120.603508', '31.256575'], ['120.603523', '31.256111'], ['120.603523', '31.256102'], ['120.603531', '31.252804'], ['120.603546', '31.25231'], ['120.603592', '31.251875'], ['120.603691', '31.251293'], ['120.603828', '31.250698'], ['120.604073', '31.249983'], ['120.604309', '31.249413'], ['120.604355', '31.249327'], ['120.604393', '31.249241'], ['120.604759', '31.248575'], ['120.605202', '31.247833'], ['120.606537', '31.245543'], ['120.606766', '31.245117'], ['120.607048', '31.244553'], ['120.607315', '31.244011'], ['120.607452', '31.243698'], ['120.607903', '31.242609'], ['120.60791', '31.242596'], ['120.608299', '31.241489'], ['120.608559', '31.240677'], ['120.608803', '31.239944'], ['120.608894', '31.239662'], ['120.609955', '31.236416'], ['120.610146', '31.235847'], ['120.610474', '31.234869'], ['120.610703', '31.234127'], ['120.611076', '31.232851'], ['120.61129', '31.232075'], ['120.61158', '31.23081'], ['120.611771', '31.229874'], ['120.612', '31.228539'], ['120.612083', '31.227846'], ['120.612206', '31.226662'], ['120.612282', '31.225264'], ['120.612297', '31.22506'], ['120.612305', '31.224726'], ['120.61235', '31.223186'], ['120.61235', '31.223143'], ['120.612335', '31.222952'], ['120.61232', '31.221558'], ['120.612228', '31.219887'], ['120.612167', '31.218679'], ['120.612061', '31.216726'], ['120.6119', '31.21397'], ['120.611855', '31.21316'], ['120.611824', '31.212414'], ['120.611824', '31.212158'], ['120.611778', '31.210711'], ['120.611687', '31.209499'], ['120.611565', '31.207691'], ['120.611534', '31.207222'], ['120.611404', '31.204878'], ['120.611282', '31.202787'], ['120.611183', '31.201172'], ['120.611145', '31.200634'], ['120.61097', '31.197552'], ['120.610886', '31.196066'], ['120.610886', '31.196066'], ['120.610672', '31.195515'], ['120.610558', '31.193628'], ['120.610489', '31.193237'], ['120.610451', '31.192764'], ['120.610367', '31.191904'], ['120.61042', '31.191776'], ['120.61042', '31.191694'], ['120.610413', '31.191402'], ['120.610367', '31.190456'], ['120.610359', '31.190182'], ['120.610344', '31.189613'], ['120.610283', '31.188425'], ['120.610199', '31.187782'], ['120.610176', '31.187565'], ['120.610184', '31.18708'], ['120.610153', '31.186571'], ['120.610146', '31.186293'], ['120.610161', '31.186043'], ['120.610344', '31.185156'], ['120.610344', '31.185156'], ['120.610222', '31.185091'], ['120.610222', '31.185091'], ['120.608765', '31.184973'], ['120.60878', '31.1847'], ['120.608932', '31.18326'], ['120.609039', '31.181971'], ['120.609039', '31.181971'], ['120.60791', '31.181875'], ['120.605583', '31.181671'], ['120.603325', '31.181429']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>