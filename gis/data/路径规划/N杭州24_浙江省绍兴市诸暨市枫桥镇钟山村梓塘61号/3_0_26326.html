<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.3181', '29.916632'], ['120.318489', '29.91577'], ['120.318665', '29.915379'], ['120.318665', '29.915379'], ['120.319618', '29.91577'], ['120.319771', '29.915833'], ['120.319923', '29.915894'], ['120.320763', '29.916233'], ['120.322144', '29.916794'], ['120.322266', '29.91684'], ['120.323051', '29.917166'], ['120.323181', '29.917204'], ['120.326553', '29.918585'], ['120.326622', '29.918612'], ['120.327431', '29.918941'], ['120.32782', '29.919098'], ['120.328331', '29.919302'], ['120.329414', '29.919735'], ['120.329597', '29.919809'], ['120.330299', '29.920069'], ['120.330963', '29.920282'], ['120.331825', '29.920555'], ['120.333038', '29.920876'], ['120.333458', '29.920973'], ['120.334846', '29.921249'], ['120.334915', '29.921263'], ['120.336319', '29.921494'], ['120.337143', '29.921616'], ['120.338081', '29.921762'], ['120.339027', '29.921904'], ['120.339264', '29.921944'], ['120.339691', '29.922001'], ['120.34082', '29.922178'], ['120.341599', '29.922304'], ['120.343346', '29.92256'], ['120.344124', '29.922661'], ['120.344208', '29.922674'], ['120.344238', '29.922678'], ['120.344818', '29.922728'], ['120.346153', '29.922882'], ['120.347839', '29.923008'], ['120.348694', '29.923056'], ['120.34903', '29.923069'], ['120.350128', '29.923155'], ['120.350655', '29.923195'], ['120.351189', '29.923229'], ['120.351852', '29.923273'], ['120.352776', '29.923338'], ['120.353149', '29.923365'], ['120.35363', '29.923403'], ['120.354256', '29.92342'], ['120.354942', '29.92345'], ['120.355499', '29.923424'], ['120.35614', '29.923288'], ['120.356598', '29.923107'], ['120.356972', '29.92293'], ['120.357597', '29.922522'], ['120.358055', '29.922195'], ['120.35817', '29.922085'], ['120.358551', '29.921736'], ['120.358948', '29.921337'], ['120.359497', '29.920719'], ['120.359779', '29.920395'], ['120.36013', '29.919874'], ['120.360672', '29.919044'], ['120.361099', '29.918173'], ['120.361557', '29.917257'], ['120.361694', '29.917053'], ['120.362015', '29.916611'], ['120.362221', '29.916357'], ['120.362396', '29.916189'], ['120.362999', '29.91577'], ['120.363487', '29.915428'], ['120.364204', '29.915014'], ['120.364441', '29.914877'], ['120.365196', '29.914745'], ['120.365677', '29.914608'], ['120.365868', '29.914581'], ['120.366211', '29.914536'], ['120.367424', '29.914358'], ['120.36763', '29.914289'], ['120.368385', '29.914202'], ['120.369202', '29.914066'], ['120.370697', '29.913872'], ['120.371216', '29.913803'], ['120.372284', '29.913589'], ['120.372879', '29.913538'], ['120.373253', '29.913498'], ['120.374748', '29.913284'], ['120.375656', '29.913155'], ['120.377182', '29.912943'], ['120.378685', '29.912727'], ['120.379448', '29.912622'], ['120.379555', '29.912609'], ['120.380325', '29.912432'], ['120.380928', '29.912258'], ['120.381882', '29.91194'], ['120.383263', '29.91151'], ['120.38427', '29.911194'], ['120.384804', '29.91103'], ['120.385063', '29.910942'], ['120.386024', '29.910646'], ['120.388176', '29.90995'], ['120.388542', '29.909836'], ['120.388908', '29.909695'], ['120.389366', '29.909492'], ['120.390007', '29.909101'], ['120.390213', '29.908949'], ['120.390381', '29.908789'], ['120.390541', '29.908653'], ['120.391121', '29.907991'], ['120.391487', '29.90756'], ['120.391998', '29.907101'], ['120.392853', '29.906435'], ['120.392914', '29.906389'], ['120.39328', '29.906103'], ['120.393463', '29.905903'], ['120.3936', '29.905655'], ['120.393707', '29.905495'], ['120.393829', '29.905342'], ['120.394196', '29.904781'], ['120.394592', '29.904167'], ['120.395164', '29.903368'], ['120.395531', '29.902864'], ['120.396019', '29.902126'], ['120.396263', '29.901758'], ['120.396553', '29.901329'], ['120.397224', '29.90032'], ['120.397636', '29.899696'], ['120.398376', '29.898602'], ['120.39859', '29.898302'], ['120.39888', '29.897814'], ['120.39888', '29.897814'], ['120.399048', '29.897327'], ['120.399078', '29.897219'], ['120.399109', '29.896971'], ['120.399109', '29.896698'], ['120.399109', '29.896698'], ['120.399048', '29.896372'], ['120.398987', '29.896151'], ['120.398918', '29.895985'], ['120.398613', '29.89525'], ['120.398392', '29.895142'], ['120.398216', '29.895041'], ['120.397804', '29.89481'], ['120.39711', '29.894367'], ['120.396568', '29.894049'], ['120.396133', '29.893797'], ['120.395477', '29.893387'], ['120.394958', '29.893051'], ['120.394699', '29.892851'], ['120.394409', '29.892591'], ['120.393852', '29.891985'], ['120.39312', '29.891098'], ['120.392365', '29.890236'], ['120.391655', '29.889454'], ['120.391304', '29.889067'], ['120.390923', '29.888689'], ['120.389725', '29.887756'], ['120.389587', '29.887644'], ['120.388237', '29.886602'], ['120.388176', '29.886553'], ['120.388115', '29.886501'], ['120.387733', '29.886202'], ['120.387352', '29.885841'], ['120.387184', '29.885647'], ['120.387024', '29.885395'], ['120.386864', '29.885073'], ['120.386726', '29.884714'], ['120.386688', '29.884384'], ['120.386726', '29.884031'], ['120.386757', '29.883928'], ['120.386864', '29.883646'], ['120.387291', '29.883009'], ['120.387444', '29.882812'], ['120.387611', '29.882587'], ['120.388176', '29.881884'], ['120.389153', '29.880682'], ['120.389549', '29.880209'], ['120.389854', '29.879778'], ['120.390137', '29.879358'], ['120.390213', '29.87921'], ['120.390411', '29.878828'], ['120.391029', '29.877474'], ['120.391228', '29.877062'], ['120.391579', '29.876289'], ['120.391663', '29.876066'], ['120.391708', '29.875885'], ['120.391731', '29.875496'], ['120.391739', '29.875387'], ['120.391792', '29.875223'], ['120.391876', '29.875072'], ['120.391937', '29.874983'], ['120.392097', '29.874804'], ['120.392288', '29.874662'], ['120.392746', '29.874294'], ['120.392776', '29.874231'], ['120.39296', '29.874084'], ['120.394104', '29.873207'], ['120.395111', '29.872532'], ['120.395576', '29.872173'], ['120.395638', '29.872183'], ['120.396553', '29.872595'], ['120.397255', '29.872896'], ['120.398346', '29.873363'], ['120.399162', '29.87372'], ['120.400658', '29.874268'], ['120.400864', '29.874323'], ['120.400986', '29.874357'], ['120.401321', '29.874432'], ['120.401932', '29.874554'], ['120.402702', '29.874636'], ['120.403526', '29.874636'], ['120.404388', '29.874527'], ['120.404877', '29.874453'], ['120.405762', '29.874228'], ['120.408928', '29.87322'], ['120.410156', '29.872822'], ['120.410301', '29.872774'], ['120.412628', '29.872023'], ['120.413254', '29.871822'], ['120.414009', '29.871571'], ['120.415482', '29.871071'], ['120.416466', '29.870651'], ['120.416924', '29.870424'], ['120.417366', '29.870165'], ['120.417747', '29.869909'], ['120.418121', '29.869614'], ['120.418549', '29.869249'], ['120.418983', '29.868793'], ['120.419388', '29.868273'], ['120.419617', '29.867916'], ['120.419891', '29.867392'], ['120.419914', '29.867365'], ['120.420166', '29.866684'], ['120.420311', '29.866142'], ['120.420425', '29.865547'], ['120.420517', '29.864704'], ['120.420563', '29.863729'], ['120.420593', '29.862652'], ['120.420639', '29.860838'], ['120.420654', '29.860064'], ['120.420746', '29.857044'], ['120.420746', '29.85681'], ['120.420761', '29.856237'], ['120.420799', '29.855196'], ['120.42083', '29.854179'], ['120.420898', '29.852158'], ['120.420937', '29.851089'], ['120.420944', '29.850021'], ['120.420952', '29.849854'], ['120.420959', '29.849691'], ['120.421051', '29.848547'], ['120.421181', '29.847677'], ['120.421333', '29.84709'], ['120.421547', '29.846462'], ['120.4216', '29.846333'], ['120.421745', '29.846016'], ['120.42205', '29.845404'], ['120.422531', '29.844608'], ['120.42289', '29.844107'], ['120.423279', '29.843607'], ['120.423698', '29.843102'], ['120.424026', '29.842718'], ['120.424309', '29.84234'], ['120.424515', '29.842005'], ['120.424736', '29.841534'], ['120.424881', '29.841106'], ['120.424934', '29.840759'], ['120.424973', '29.840334'], ['120.424957', '29.839912'], ['120.424873', '29.839363'], ['120.424843', '29.839272'], ['120.424767', '29.838984'], ['120.424728', '29.838867'], ['120.424301', '29.837309'], ['120.424149', '29.836897'], ['120.423828', '29.836033'], ['120.423576', '29.835464'], ['120.423363', '29.835009'], ['120.422424', '29.833368'], ['120.422028', '29.832651'], ['120.421234', '29.831188'], ['120.421127', '29.83098'], ['120.420761', '29.830214'], ['120.420586', '29.829687'], ['120.420486', '29.829412'], ['120.420303', '29.828716'], ['120.420044', '29.827877'], ['120.419998', '29.827717'], ['120.419716', '29.826767'], ['120.419495', '29.825583'], ['120.419342', '29.824879'], ['120.419144', '29.82412'], ['120.4188', '29.823374'], ['120.417984', '29.821875'], ['120.417412', '29.82082'], ['120.416779', '29.819618'], ['120.416016', '29.818165'], ['120.415634', '29.81743'], ['120.415451', '29.816893'], ['120.415291', '29.81642'], ['120.415054', '29.815456'], ['120.414993', '29.815027'], ['120.414948', '29.814558'], ['120.414932', '29.814285'], ['120.414932', '29.813942'], ['120.4151', '29.812542'], ['120.415359', '29.811529'], ['120.415451', '29.811094'], ['120.415504', '29.810816'], ['120.415558', '29.810701'], ['120.415962', '29.808775'], ['120.416321', '29.807167'], ['120.416443', '29.806562'], ['120.416534', '29.806143'], ['120.416588', '29.805906'], ['120.416595', '29.805868'], ['120.416725', '29.804777'], ['120.416855', '29.804193'], ['120.416862', '29.804167'], ['120.417023', '29.803484'], ['120.417068', '29.803247'], ['120.417229', '29.802683'], ['120.417458', '29.801889'], ['120.417717', '29.801237'], ['120.417709', '29.801184'], ['120.418144', '29.800108'], ['120.418381', '29.79948'], ['120.418549', '29.79912'], ['120.418869', '29.798479'], ['120.4189', '29.798429'], ['120.419525', '29.797089'], ['120.419998', '29.796116'], ['120.420319', '29.795456'], ['120.42057', '29.794922'], ['120.420647', '29.794764'], ['120.42086', '29.794317'], ['120.42128', '29.793447'], ['120.421333', '29.793394'], ['120.421692', '29.792618'], ['120.422012', '29.791903'], ['120.422234', '29.791393'], ['120.422478', '29.790855'], ['120.422623', '29.790524'], ['120.422623', '29.790524'], ['120.422508', '29.790342'], ['120.422401', '29.790165'], ['120.422325', '29.789982'], ['120.422295', '29.789858'], ['120.422279', '29.789686'], ['120.422279', '29.789686'], ['120.422256', '29.789566'], ['120.422295', '29.789358'], ['120.422371', '29.789127'], ['120.422531', '29.788866'], ['120.422585', '29.788794'], ['120.422783', '29.788607'], ['120.423401', '29.788206'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>