<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.3181', '29.916632'], ['120.318489', '29.91577'], ['120.318665', '29.915379'], ['120.318665', '29.915379'], ['120.316788', '29.914627'], ['120.315971', '29.914284'], ['120.315727', '29.914188'], ['120.314941', '29.913837'], ['120.314522', '29.91361'], ['120.314163', '29.913393'], ['120.313881', '29.913216'], ['120.313637', '29.913033'], ['120.313309', '29.912777'], ['120.312912', '29.912405'], ['120.312729', '29.912201'], ['120.31221', '29.911497'], ['120.312119', '29.911346'], ['120.312119', '29.911346'], ['120.311798', '29.911215'], ['120.311508', '29.911129'], ['120.311447', '29.911133'], ['120.311348', '29.910088'], ['120.311172', '29.909765'], ['120.31105', '29.909605'], ['120.310837', '29.909197'], ['120.310379', '29.908255'], ['120.310089', '29.907696'], ['120.309067', '29.905647'], ['120.308762', '29.904995'], ['120.308685', '29.904781'], ['120.308533', '29.904427'], ['120.308311', '29.903803'], ['120.308121', '29.903255'], ['120.308006', '29.902882'], ['120.307915', '29.902477'], ['120.307777', '29.901922'], ['120.307602', '29.900955'], ['120.307602', '29.900955'], ['120.30751', '29.900507'], ['120.307419', '29.900217'], ['120.307236', '29.899683'], ['120.307037', '29.899231'], ['120.30677', '29.898808'], ['120.306686', '29.898666'], ['120.306396', '29.898285'], ['120.305267', '29.89698'], ['120.30423', '29.895828'], ['120.303917', '29.895443'], ['120.302513', '29.893867'], ['120.302444', '29.893797'], ['120.301849', '29.893103'], ['120.30146', '29.892622'], ['120.300812', '29.89167'], ['120.300323', '29.890806'], ['120.300293', '29.890738'], ['120.29998', '29.890055'], ['120.299751', '29.889435'], ['120.299553', '29.888775'], ['120.299393', '29.888065'], ['120.299286', '29.887291'], ['120.299248', '29.88673'], ['120.299225', '29.886047'], ['120.299255', '29.885433'], ['120.299286', '29.885181'], ['120.29937', '29.884558'], ['120.299477', '29.884027'], ['120.299644', '29.883383'], ['120.299828', '29.882812'], ['120.299843', '29.882759'], ['120.299881', '29.882664'], ['120.30011', '29.882118'], ['120.300293', '29.881727'], ['120.300308', '29.881693'], ['120.300583', '29.881165'], ['120.301041', '29.880369'], ['120.301369', '29.879835'], ['120.301918', '29.878933'], ['120.302246', '29.878347'], ['120.302391', '29.878092'], ['120.302658', '29.8776'], ['120.302811', '29.877283'], ['120.302971', '29.876898'], ['120.303093', '29.876476'], ['120.303185', '29.876055'], ['120.303253', '29.875568'], ['120.303268', '29.87536'], ['120.303253', '29.874769'], ['120.30323', '29.874327'], ['120.303131', '29.873802'], ['120.302925', '29.873133'], ['120.302429', '29.871822'], ['120.301529', '29.869518'], ['120.300293', '29.866358'], ['120.299858', '29.865252'], ['120.299248', '29.86367'], ['120.298119', '29.860838'], ['120.297905', '29.86027'], ['120.296921', '29.857759'], ['120.296608', '29.85672'], ['120.296417', '29.855955'], ['120.29631', '29.855455'], ['120.296249', '29.855061'], ['120.296089', '29.853798'], ['120.295944', '29.852222'], ['120.295876', '29.851654'], ['120.295746', '29.850973'], ['120.295624', '29.850533'], ['120.295448', '29.849922'], ['120.295425', '29.849854'], ['120.295273', '29.849405'], ['120.294998', '29.848707'], ['120.294884', '29.848467'], ['120.294266', '29.847258'], ['120.293762', '29.846329'], ['120.293335', '29.845478'], ['120.293098', '29.84491'], ['120.292824', '29.844189'], ['120.292664', '29.843607'], ['120.292542', '29.843151'], ['120.292389', '29.842426'], ['120.292114', '29.840965'], ['120.292038', '29.840605'], ['120.291885', '29.840044'], ['120.291656', '29.839336'], ['120.291527', '29.839048'], ['120.291451', '29.838867'], ['120.291397', '29.838758'], ['120.29113', '29.838242'], ['120.290916', '29.837851'], ['120.29097', '29.837738'], ['120.291527', '29.837509'], ['120.29274', '29.837004'], ['120.294868', '29.836124'], ['120.295967', '29.835674'], ['120.30027', '29.833893'], ['120.300293', '29.833879'], ['120.304474', '29.832144'], ['120.304955', '29.831898'], ['120.305244', '29.831715'], ['120.30555', '29.831507'], ['120.305908', '29.831215'], ['120.306221', '29.830938'], ['120.306396', '29.830742'], ['120.306953', '29.830109'], ['120.307495', '29.829493'], ['120.308067', '29.828989'], ['120.308197', '29.828911'], ['120.308723', '29.828602'], ['120.308968', '29.828489'], ['120.309326', '29.828342'], ['120.309517', '29.828278'], ['120.310181', '29.828119'], ['120.310715', '29.828051'], ['120.311211', '29.828037'], ['120.311737', '29.828077'], ['120.312149', '29.828142'], ['120.314003', '29.828621'], ['120.314651', '29.828733'], ['120.314896', '29.828747'], ['120.315346', '29.828756'], ['120.315842', '29.82873'], ['120.316261', '29.828684'], ['120.316551', '29.828625'], ['120.316826', '29.82856'], ['120.318161', '29.828178'], ['120.318703', '29.828074'], ['120.319176', '29.828012'], ['120.319717', '29.827986'], ['120.320152', '29.828012'], ['120.320755', '29.828102'], ['120.321136', '29.828199'], ['120.321609', '29.828346'], ['120.322266', '29.828556'], ['120.322571', '29.828653'], ['120.32299', '29.828789'], ['120.324768', '29.829376'], ['120.325111', '29.829466'], ['120.325562', '29.829557'], ['120.325806', '29.829592'], ['120.326042', '29.829605'], ['120.326302', '29.829605'], ['120.326683', '29.829582'], ['120.327034', '29.829531'], ['120.327225', '29.829489'], ['120.327446', '29.829435'], ['120.327766', '29.829313'], ['120.328117', '29.829166'], ['120.328323', '29.829048'], ['120.328705', '29.828785'], ['120.32885', '29.828667'], ['120.329185', '29.82836'], ['120.329636', '29.827877'], ['120.330772', '29.826698'], ['120.331001', '29.826485'], ['120.331268', '29.826267'], ['120.331573', '29.826063'], ['120.331779', '29.82596'], ['120.33223', '29.825756'], ['120.332703', '29.825615'], ['120.333092', '29.825546'], ['120.333618', '29.825504'], ['120.335159', '29.825491'], ['120.335564', '29.825464'], ['120.336075', '29.825413'], ['120.336494', '29.825325'], ['120.337051', '29.825186'], ['120.338326', '29.824858'], ['120.338928', '29.824718'], ['120.339447', '29.824631'], ['120.339851', '29.824591'], ['120.340408', '29.824558'], ['120.341209', '29.824562'], ['120.342178', '29.82465'], ['120.342545', '29.824709'], ['120.343475', '29.8249'], ['120.344238', '29.8251'], ['120.345757', '29.825516'], ['120.348961', '29.826357'], ['120.348961', '29.826357'], ['120.349022', '29.826288'], ['120.349609', '29.825373'], ['120.349899', '29.825048'], ['120.351265', '29.823606'], ['120.351799', '29.823046'], ['120.351929', '29.822868'], ['120.35215', '29.822552'], ['120.352882', '29.821384'], ['120.352951', '29.821276'], ['120.353699', '29.820272'], ['120.35379', '29.82015'], ['120.353828', '29.820095'], ['120.354034', '29.819901'], ['120.355209', '29.819006'], ['120.355644', '29.818729'], ['120.356003', '29.818598'], ['120.357101', '29.818365'], ['120.357277', '29.818325'], ['120.358238', '29.818132'], ['120.359398', '29.8179'], ['120.360863', '29.817604'], ['120.361084', '29.81756'], ['120.362862', '29.817213'], ['120.364426', '29.816893'], ['120.365028', '29.816776'], ['120.366211', '29.816536'], ['120.36689', '29.816412'], ['120.367332', '29.816328'], ['120.367592', '29.816307'], ['120.367859', '29.816349'], ['120.368088', '29.81642'], ['120.369308', '29.816893'], ['120.369682', '29.817036'], ['120.370079', '29.817186'], ['120.370598', '29.817348'], ['120.371407', '29.817591'], ['120.371834', '29.817719'], ['120.372269', '29.817865'], ['120.372787', '29.81809'], ['120.37397', '29.818775'], ['120.374092', '29.818829'], ['120.37413', '29.818844'], ['120.374283', '29.818871'], ['120.374397', '29.818871'], ['120.374649', '29.818775'], ['120.375687', '29.818302'], ['120.376038', '29.818159'], ['120.376213', '29.818102'], ['120.376572', '29.818037'], ['120.376572', '29.818037'], ['120.37674', '29.81805'], ['120.377029', '29.818098'], ['120.378853', '29.818293'], ['120.379547', '29.818373'], ['120.37986', '29.818415'], ['120.38015', '29.81846'], ['120.38105', '29.818546'], ['120.382034', '29.818657'], ['120.383049', '29.818758'], ['120.38343', '29.818821'], ['120.383949', '29.818985'], ['120.384087', '29.819067'], ['120.38443', '29.819254'], ['120.384842', '29.819567'], ['120.38562', '29.820049'], ['120.386108', '29.820364'], ['120.386429', '29.820639'], ['120.386719', '29.820797'], ['120.387131', '29.820894'], ['120.387497', '29.820894'], ['120.387863', '29.820829'], ['120.388176', '29.820797'], ['120.390472', '29.820538'], ['120.390579', '29.820534'], ['120.390701', '29.820574'], ['120.390869', '29.820707'], ['120.391197', '29.821003'], ['120.391754', '29.821453'], ['120.394379', '29.823668'], ['120.394958', '29.824184'], ['120.395546', '29.824654'], ['120.395737', '29.824778'], ['120.395897', '29.824835'], ['120.396088', '29.824869'], ['120.39621', '29.824858'], ['120.396332', '29.824831'], ['120.396454', '29.824774'], ['120.396568', '29.824671'], ['120.396629', '29.824526'], ['120.396675', '29.824375'], ['120.397041', '29.823078'], ['120.398033', '29.81955'], ['120.398224', '29.818945'], ['120.398415', '29.818211'], ['120.398514', '29.818069'], ['120.398804', '29.8179'], ['120.398956', '29.817818'], ['120.399078', '29.817705'], ['120.399353', '29.817171'], ['120.399376', '29.817104'], ['120.399437', '29.816893'], ['120.399559', '29.816507'], ['120.399612', '29.816412'], ['120.399681', '29.81632'], ['120.399818', '29.816212'], ['120.400017', '29.816059'], ['120.401001', '29.815342'], ['120.401756', '29.814827'], ['120.402229', '29.814505'], ['120.402664', '29.814161'], ['120.403343', '29.813715'], ['120.403938', '29.813272'], ['120.404068', '29.813156'], ['120.404228', '29.812929'], ['120.404282', '29.812786'], ['120.404381', '29.812445'], ['120.404442', '29.812248'], ['120.404495', '29.811844'], ['120.404541', '29.811506'], ['120.404579', '29.811224'], ['120.404579', '29.811056'], ['120.404572', '29.810728'], ['120.40464', '29.810278'], ['120.404648', '29.809822'], ['120.404648', '29.809736'], ['120.404732', '29.809103'], ['120.404739', '29.80858'], ['120.404808', '29.807974'], ['120.404861', '29.807737'], ['120.405106', '29.807322'], ['120.405403', '29.806936'], ['120.405602', '29.806631'], ['120.405716', '29.806475'], ['120.406044', '29.806063'], ['120.406151', '29.805906'], ['120.406189', '29.805851'], ['120.406364', '29.805609'], ['120.407639', '29.803776'], ['120.408852', '29.801813'], ['120.408989', '29.801594'], ['120.409264', '29.80105'], ['120.409485', '29.800455'], ['120.409637', '29.800117'], ['120.409851', '29.799805'], ['120.410156', '29.799475'], ['120.410286', '29.799318'], ['120.410675', '29.798862'], ['120.410919', '29.798634'], ['120.41127', '29.798382'], ['120.412109', '29.797823'], ['120.412216', '29.79775'], ['120.413094', '29.797157'], ['120.413307', '29.797028'], ['120.413483', '29.796871'], ['120.413597', '29.796701'], ['120.413628', '29.796589'], ['120.413704', '29.796051'], ['120.413773', '29.795687'], ['120.413826', '29.795504'], ['120.41391', '29.795364'], ['120.414024', '29.795221'], ['120.414429', '29.794922'], ['120.414764', '29.794676'], ['120.415779', '29.793962'], ['120.416641', '29.793356'], ['120.416824', '29.793186'], ['120.416916', '29.793095'], ['120.41703', '29.792952'], ['120.41758', '29.792271'], ['120.417725', '29.792105'], ['120.417938', '29.79184'], ['120.417984', '29.791788'], ['120.418732', '29.792223'], ['120.419327', '29.792532'], ['120.42041', '29.793024'], ['120.421333', '29.793394'], ['120.421333', '29.793394'], ['120.421692', '29.792618'], ['120.422012', '29.791903'], ['120.422234', '29.791393'], ['120.422478', '29.790855'], ['120.422623', '29.790524'], ['120.422623', '29.790524'], ['120.422508', '29.790342'], ['120.422401', '29.790165'], ['120.422325', '29.789982'], ['120.422295', '29.789858'], ['120.422279', '29.789686'], ['120.422279', '29.789686'], ['120.422256', '29.789566'], ['120.422295', '29.789358'], ['120.422371', '29.789127'], ['120.422531', '29.788866'], ['120.422585', '29.788794'], ['120.422783', '29.788607'], ['120.423401', '29.788206'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>