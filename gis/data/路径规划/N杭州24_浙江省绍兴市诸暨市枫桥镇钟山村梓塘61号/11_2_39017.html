<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.3181', '29.916632'], ['120.318489', '29.91577'], ['120.318665', '29.915379'], ['120.318665', '29.915379'], ['120.316788', '29.914627'], ['120.315971', '29.914284'], ['120.315727', '29.914188'], ['120.314941', '29.913837'], ['120.314522', '29.91361'], ['120.314163', '29.913393'], ['120.313881', '29.913216'], ['120.313637', '29.913033'], ['120.313309', '29.912777'], ['120.312912', '29.912405'], ['120.312729', '29.912201'], ['120.31221', '29.911497'], ['120.312119', '29.911346'], ['120.312119', '29.911346'], ['120.311798', '29.911215'], ['120.311508', '29.911129'], ['120.311447', '29.911133'], ['120.311348', '29.910088'], ['120.311172', '29.909765'], ['120.31105', '29.909605'], ['120.310837', '29.909197'], ['120.310379', '29.908255'], ['120.310089', '29.907696'], ['120.309067', '29.905647'], ['120.308762', '29.904995'], ['120.308685', '29.904781'], ['120.308533', '29.904427'], ['120.308311', '29.903803'], ['120.308121', '29.903255'], ['120.308006', '29.902882'], ['120.307915', '29.902477'], ['120.307777', '29.901922'], ['120.307602', '29.900955'], ['120.307602', '29.900955'], ['120.30751', '29.900507'], ['120.307419', '29.900217'], ['120.307236', '29.899683'], ['120.307037', '29.899231'], ['120.30677', '29.898808'], ['120.306686', '29.898666'], ['120.306396', '29.898285'], ['120.305267', '29.89698'], ['120.30423', '29.895828'], ['120.303917', '29.895443'], ['120.302513', '29.893867'], ['120.302444', '29.893797'], ['120.301849', '29.893103'], ['120.30146', '29.892622'], ['120.300812', '29.89167'], ['120.300323', '29.890806'], ['120.300293', '29.890738'], ['120.29998', '29.890055'], ['120.299751', '29.889435'], ['120.299553', '29.888775'], ['120.299393', '29.888065'], ['120.299286', '29.887291'], ['120.299248', '29.88673'], ['120.299225', '29.886047'], ['120.299255', '29.885433'], ['120.299286', '29.885181'], ['120.29937', '29.884558'], ['120.299477', '29.884027'], ['120.299644', '29.883383'], ['120.299828', '29.882812'], ['120.299843', '29.882759'], ['120.299881', '29.882664'], ['120.30011', '29.882118'], ['120.300293', '29.881727'], ['120.300308', '29.881693'], ['120.300583', '29.881165'], ['120.301041', '29.880369'], ['120.301369', '29.879835'], ['120.301918', '29.878933'], ['120.302246', '29.878347'], ['120.302391', '29.878092'], ['120.302658', '29.8776'], ['120.302811', '29.877283'], ['120.302971', '29.876898'], ['120.303093', '29.876476'], ['120.303185', '29.876055'], ['120.303253', '29.875568'], ['120.303268', '29.87536'], ['120.303253', '29.874769'], ['120.30323', '29.874327'], ['120.303131', '29.873802'], ['120.302925', '29.873133'], ['120.302429', '29.871822'], ['120.301529', '29.869518'], ['120.300293', '29.866358'], ['120.299858', '29.865252'], ['120.299248', '29.86367'], ['120.298119', '29.860838'], ['120.297905', '29.86027'], ['120.296921', '29.857759'], ['120.296608', '29.85672'], ['120.296417', '29.855955'], ['120.29631', '29.855455'], ['120.296249', '29.855061'], ['120.296089', '29.853798'], ['120.295944', '29.852222'], ['120.295876', '29.851654'], ['120.295746', '29.850973'], ['120.295624', '29.850533'], ['120.295448', '29.849922'], ['120.295425', '29.849854'], ['120.295273', '29.849405'], ['120.294998', '29.848707'], ['120.294884', '29.848467'], ['120.294266', '29.847258'], ['120.293762', '29.846329'], ['120.293335', '29.845478'], ['120.293098', '29.84491'], ['120.292824', '29.844189'], ['120.292664', '29.843607'], ['120.292542', '29.843151'], ['120.292389', '29.842426'], ['120.292114', '29.840965'], ['120.292038', '29.840605'], ['120.291885', '29.840044'], ['120.291656', '29.839336'], ['120.291527', '29.839048'], ['120.291451', '29.838867'], ['120.291397', '29.838758'], ['120.29113', '29.838242'], ['120.290916', '29.837851'], ['120.29097', '29.837738'], ['120.291527', '29.837509'], ['120.29274', '29.837004'], ['120.294868', '29.836124'], ['120.295967', '29.835674'], ['120.30027', '29.833893'], ['120.300293', '29.833879'], ['120.304474', '29.832144'], ['120.304955', '29.831898'], ['120.305244', '29.831715'], ['120.30555', '29.831507'], ['120.305908', '29.831215'], ['120.306221', '29.830938'], ['120.306396', '29.830742'], ['120.306953', '29.830109'], ['120.307495', '29.829493'], ['120.308067', '29.828989'], ['120.308067', '29.828989'], ['120.306732', '29.827877'], ['120.305824', '29.827131'], ['120.305458', '29.826832'], ['120.304619', '29.826147'], ['120.304382', '29.825956'], ['120.303467', '29.825195'], ['120.302979', '29.8248'], ['120.301857', '29.823866'], ['120.301704', '29.823751'], ['120.300888', '29.823069'], ['120.300293', '29.822523'], ['120.300201', '29.822439'], ['120.299446', '29.821657'], ['120.29895', '29.821093'], ['120.298531', '29.820578'], ['120.298294', '29.820265'], ['120.297432', '29.819126'], ['120.297134', '29.818707'], ['120.297058', '29.818556'], ['120.296989', '29.81842'], ['120.296898', '29.818207'], ['120.296829', '29.817947'], ['120.296745', '29.817577'], ['120.296623', '29.816893'], ['120.296608', '29.816784'], ['120.296471', '29.816025'], ['120.296234', '29.814758'], ['120.29599', '29.81337'], ['120.295929', '29.813047'], ['120.295784', '29.812464'], ['120.2957', '29.812119'], ['120.295563', '29.811731'], ['120.295227', '29.81086'], ['120.295082', '29.810551'], ['120.294746', '29.809887'], ['120.294266', '29.809103'], ['120.292557', '29.806511'], ['120.292152', '29.805906'], ['120.292107', '29.805838'], ['120.291725', '29.805246'], ['120.291573', '29.804977'], ['120.291405', '29.804522'], ['120.291344', '29.80434'], ['120.29129', '29.804092'], ['120.29126', '29.803789'], ['120.29126', '29.803247'], ['120.291229', '29.802122'], ['120.291138', '29.801298'], ['120.291061', '29.800793'], ['120.290634', '29.798811'], ['120.290482', '29.798187'], ['120.290443', '29.797974'], ['120.290421', '29.79777'], ['120.290382', '29.797386'], ['120.290337', '29.796116'], ['120.290268', '29.795507'], ['120.290123', '29.795013'], ['120.290092', '29.794922'], ['120.289993', '29.794609'], ['120.289787', '29.79413'], ['120.289299', '29.793285'], ['120.288872', '29.792561'], ['120.288696', '29.792267'], ['120.288399', '29.791853'], ['120.287788', '29.791107'], ['120.286743', '29.790138'], ['120.28656', '29.790005'], ['120.286194', '29.789778'], ['120.284302', '29.788706'], ['120.284012', '29.788515'], ['120.283783', '29.788315'], ['120.283653', '29.788143'], ['120.283577', '29.788004'], ['120.283485', '29.787796'], ['120.28344', '29.787632'], ['120.283417', '29.787477'], ['120.283417', '29.787226'], ['120.283417', '29.787226'], ['120.283279', '29.787071'], ['120.283112', '29.786909'], ['120.281921', '29.786707'], ['120.281128', '29.786589'], ['120.281128', '29.786589'], ['120.280708', '29.786489'], ['120.280373', '29.786398'], ['120.279877', '29.786263'], ['120.279633', '29.786175'], ['120.279449', '29.786085'], ['120.279251', '29.785973'], ['120.279129', '29.785879'], ['120.278999', '29.785778'], ['120.278893', '29.785673'], ['120.27874', '29.785505'], ['120.278664', '29.7854'], ['120.278587', '29.785246'], ['120.278534', '29.785133'], ['120.278488', '29.785004'], ['120.278465', '29.784901'], ['120.278435', '29.784731'], ['120.278427', '29.784592'], ['120.278435', '29.784422'], ['120.27845', '29.78433'], ['120.278519', '29.784107'], ['120.27858', '29.783934'], ['120.278587', '29.78392'], ['120.278641', '29.783815'], ['120.27877', '29.783625'], ['120.278877', '29.783497'], ['120.278877', '29.783497'], ['120.278969', '29.783379'], ['120.279076', '29.783278'], ['120.279243', '29.783138'], ['120.279488', '29.783012'], ['120.279755', '29.782904'], ['120.28009', '29.782818'], ['120.280441', '29.782742'], ['120.280701', '29.78266'], ['120.280945', '29.782555'], ['120.281219', '29.78241'], ['120.281425', '29.782253'], ['120.281609', '29.782091'], ['120.281769', '29.781902'], ['120.282166', '29.781288'], ['120.282585', '29.780342'], ['120.282967', '29.779297'], ['120.283112', '29.778748'], ['120.28363', '29.776703'], ['120.283806', '29.775925'], ['120.284332', '29.773653'], ['120.284447', '29.773155'], ['120.284492', '29.772947'], ['120.284515', '29.77286'], ['120.287041', '29.761963'], ['120.287064', '29.761868'], ['120.287346', '29.76086'], ['120.287605', '29.760004'], ['120.287895', '29.759279'], ['120.288353', '29.758261'], ['120.288834', '29.757336'], ['120.289314', '29.756557'], ['120.289879', '29.75572'], ['120.290634', '29.754765'], ['120.291565', '29.753693'], ['120.294098', '29.750978'], ['120.295715', '29.749241'], ['120.295715', '29.749241'], ['120.295753', '29.749125'], ['120.295807', '29.749022'], ['120.296944', '29.747578'], ['120.297173', '29.747276'], ['120.297386', '29.74699'], ['120.297562', '29.746788'], ['120.297684', '29.746618'], ['120.297981', '29.746107'], ['120.298149', '29.745743'], ['120.298309', '29.7453'], ['120.298409', '29.744896'], ['120.298477', '29.744476'], ['120.298576', '29.743637'], ['120.29866', '29.743341'], ['120.298782', '29.743059'], ['120.298927', '29.742826'], ['120.299049', '29.742668'], ['120.299316', '29.742399'], ['120.299606', '29.742182'], ['120.299812', '29.742075'], ['120.300064', '29.741976'], ['120.300293', '29.741922'], ['120.300407', '29.741909'], ['120.300667', '29.741901'], ['120.300865', '29.741932'], ['120.301079', '29.741976'], ['120.30127', '29.742035'], ['120.301453', '29.742126'], ['120.30175', '29.742323'], ['120.302032', '29.742546'], ['120.302238', '29.742687'], ['120.302444', '29.7428'], ['120.302605', '29.742933'], ['120.302773', '29.743046'], ['120.303047', '29.743202'], ['120.303421', '29.743368'], ['120.303955', '29.743561'], ['120.304451', '29.743689'], ['120.304939', '29.743752'], ['120.305168', '29.743776'], ['120.305367', '29.743834'], ['120.306595', '29.743954'], ['120.30722', '29.744011'], ['120.30912', '29.744171'], ['120.310204', '29.74423'], ['120.311295', '29.744263'], ['120.312248', '29.74428'], ['120.313416', '29.744263'], ['120.31543', '29.744167'], ['120.31649', '29.744089'], ['120.31971', '29.743771'], ['120.322266', '29.743507'], ['120.337074', '29.742014'], ['120.338142', '29.741922'], ['120.339005', '29.741898'], ['120.340172', '29.741913'], ['120.340721', '29.741945'], ['120.341736', '29.742048'], ['120.342255', '29.742123'], ['120.342812', '29.742228'], ['120.344238', '29.74251'], ['120.345337', '29.742733'], ['120.345993', '29.742842'], ['120.346443', '29.742901'], ['120.347397', '29.743004'], ['120.348305', '29.743069'], ['120.356461', '29.743446'], ['120.357536', '29.743511'], ['120.358131', '29.743568'], ['120.358627', '29.74358'], ['120.359673', '29.743719'], ['120.3601', '29.743793'], ['120.361328', '29.744049'], ['120.361977', '29.744226'], ['120.361977', '29.744226'], ['120.36274', '29.744476'], ['120.363243', '29.744661'], ['120.364281', '29.745113'], ['120.364868', '29.745399'], ['120.365463', '29.745729'], ['120.366211', '29.746172'], ['120.366455', '29.746321'], ['120.36763', '29.747057'], ['120.368263', '29.747478'], ['120.368576', '29.747673'], ['120.369202', '29.748047'], ['120.369759', '29.748363'], ['120.370445', '29.748716'], ['120.371109', '29.749002'], ['120.372177', '29.749357'], ['120.374588', '29.749987'], ['120.375359', '29.750214'], ['120.37706', '29.750742'], ['120.377701', '29.750978'], ['120.379547', '29.75164'], ['120.382629', '29.75276'], ['120.385796', '29.753933'], ['120.386948', '29.754393'], ['120.387955', '29.754835'], ['120.388176', '29.75495'], ['120.389091', '29.755396'], ['120.390045', '29.755911'], ['120.390915', '29.756416'], ['120.391701', '29.756903'], ['120.392647', '29.757551'], ['120.393677', '29.758303'], ['120.394379', '29.758858'], ['120.395187', '29.759541'], ['120.396759', '29.760969'], ['120.396759', '29.760969'], ['120.397217', '29.761293'], ['120.397789', '29.761784'], ['120.398018', '29.761963'], ['120.398056', '29.761992'], ['120.398323', '29.762154'], ['120.398491', '29.762232'], ['120.398643', '29.762287'], ['120.399002', '29.762379'], ['120.399223', '29.7624'], ['120.399681', '29.762417'], ['120.399902', '29.762449'], ['120.400055', '29.762491'], ['120.400154', '29.762543'], ['120.400261', '29.762651'], ['120.400322', '29.762737'], ['120.400368', '29.762941'], ['120.400352', '29.763065'], ['120.400345', '29.763111'], ['120.400276', '29.763277'], ['120.399315', '29.765045'], ['120.399239', '29.7652'], ['120.399101', '29.765511'], ['120.398987', '29.765875'], ['120.398949', '29.766016'], ['120.39888', '29.766472'], ['120.398865', '29.76671'], ['120.398865', '29.766897'], ['120.398865', '29.767326'], ['120.398865', '29.767326'], ['120.398872', '29.767979'], ['120.398903', '29.768333'], ['120.398903', '29.768333'], ['120.399048', '29.768515'], ['120.399109', '29.768555'], ['120.399162', '29.768589'], ['120.399452', '29.768671'], ['120.39975', '29.768675'], ['120.400177', '29.768721'], ['120.400391', '29.768747'], ['120.400948', '29.768885'], ['120.401237', '29.768984'], ['120.401604', '29.769131'], ['120.401825', '29.769239'], ['120.402115', '29.769405'], ['120.402382', '29.769587'], ['120.402596', '29.769762'], ['120.402817', '29.76996'], ['120.403015', '29.770155'], ['120.403572', '29.770815'], ['120.40387', '29.771151'], ['120.40403', '29.771315'], ['120.404228', '29.771511'], ['120.404465', '29.771723'], ['120.404732', '29.771931'], ['120.40519', '29.772266'], ['120.405968', '29.772791'], ['120.406204', '29.772947'], ['120.406487', '29.773148'], ['120.407028', '29.773516'], ['120.407295', '29.77371'], ['120.407585', '29.773945'], ['120.407883', '29.774235'], ['120.408592', '29.774965'], ['120.408852', '29.775251'], ['120.409317', '29.775742'], ['120.409714', '29.776171'], ['120.409904', '29.776375'], ['120.410156', '29.776636'], ['120.410316', '29.77681'], ['120.410942', '29.777473'], ['120.411842', '29.778402'], ['120.41246', '29.779062'], ['120.412827', '29.779493'], ['120.413033', '29.779764'], ['120.413216', '29.7801'], ['120.413216', '29.7801'], ['120.413506', '29.780355'], ['120.413864', '29.780724'], ['120.414429', '29.781366'], ['120.414612', '29.781584'], ['120.414886', '29.781904'], ['120.415146', '29.782131'], ['120.415337', '29.78227'], ['120.415451', '29.782339'], ['120.415451', '29.782339'], ['120.415672', '29.782396'], ['120.416069', '29.782465'], ['120.417503', '29.782722'], ['120.417709', '29.782761'], ['120.418518', '29.782883'], ['120.419601', '29.783033'], ['120.420128', '29.78302'], ['120.420494', '29.782995'], ['120.420891', '29.783024'], ['120.42115', '29.783083'], ['120.421394', '29.783195'], ['120.421562', '29.783289'], ['120.421806', '29.783537'], ['120.421989', '29.783772'], ['120.422096', '29.783934'], ['120.422142', '29.784002'], ['120.422432', '29.784449'], ['120.422798', '29.784904'], ['120.423088', '29.78532'], ['120.42318', '29.785511'], ['120.42334', '29.785778'], ['120.423744', '29.786703'], ['120.423798', '29.786972'], ['120.423904', '29.787495'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>