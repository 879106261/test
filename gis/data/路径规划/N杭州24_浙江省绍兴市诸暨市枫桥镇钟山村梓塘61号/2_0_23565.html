<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.3181', '29.916632'], ['120.318489', '29.91577'], ['120.318665', '29.915379'], ['120.318665', '29.915379'], ['120.316788', '29.914627'], ['120.315971', '29.914284'], ['120.315727', '29.914188'], ['120.314941', '29.913837'], ['120.314522', '29.91361'], ['120.314163', '29.913393'], ['120.313881', '29.913216'], ['120.313637', '29.913033'], ['120.313309', '29.912777'], ['120.312912', '29.912405'], ['120.312729', '29.912201'], ['120.31221', '29.911497'], ['120.312119', '29.911346'], ['120.312119', '29.911346'], ['120.311798', '29.911215'], ['120.311508', '29.911129'], ['120.311447', '29.911133'], ['120.311348', '29.910088'], ['120.311172', '29.909765'], ['120.31105', '29.909605'], ['120.310837', '29.909197'], ['120.310379', '29.908255'], ['120.310089', '29.907696'], ['120.309067', '29.905647'], ['120.308762', '29.904995'], ['120.308685', '29.904781'], ['120.308533', '29.904427'], ['120.308311', '29.903803'], ['120.308121', '29.903255'], ['120.308006', '29.902882'], ['120.307915', '29.902477'], ['120.307915', '29.902477'], ['120.307724', '29.902267'], ['120.307724', '29.902267'], ['120.307648', '29.901991'], ['120.307465', '29.901207'], ['120.307381', '29.900915'], ['120.307236', '29.900423'], ['120.307129', '29.90016'], ['120.306923', '29.899683'], ['120.306335', '29.898628'], ['120.305931', '29.898073'], ['120.305901', '29.897991'], ['120.305893', '29.897934'], ['120.305901', '29.897865'], ['120.305954', '29.897751'], ['120.306015', '29.897692'], ['120.306084', '29.89764'], ['120.306221', '29.897573'], ['120.306541', '29.897505'], ['120.306702', '29.897486'], ['120.307541', '29.897482'], ['120.307541', '29.897482'], ['120.307541', '29.897205'], ['120.307541', '29.896597'], ['120.307549', '29.895409'], ['120.307541', '29.893797'], ['120.307518', '29.892136'], ['120.307518', '29.891644'], ['120.307449', '29.890469'], ['120.307472', '29.890055'], ['120.30751', '29.88969'], ['120.307564', '29.889414'], ['120.307648', '29.889145'], ['120.307976', '29.888443'], ['120.308136', '29.888182'], ['120.308311', '29.88792'], ['120.308655', '29.887569'], ['120.309105', '29.887259'], ['120.309616', '29.887005'], ['120.309929', '29.886875'], ['120.310425', '29.88673'], ['120.311493', '29.886534'], ['120.311668', '29.886484'], ['120.312035', '29.886372'], ['120.312332', '29.886225'], ['120.312553', '29.886066'], ['120.31279', '29.88586'], ['120.313332', '29.88526'], ['120.313972', '29.884548'], ['120.314323', '29.884235'], ['120.314651', '29.883989'], ['120.315086', '29.883707'], ['120.315529', '29.883387'], ['120.315895', '29.883047'], ['120.315979', '29.882915'], ['120.316055', '29.882812'], ['120.316231', '29.882536'], ['120.317894', '29.879608'], ['120.318596', '29.878403'], ['120.318665', '29.878288'], ['120.318771', '29.878107'], ['120.319023', '29.87776'], ['120.319359', '29.877396'], ['120.32003', '29.876888'], ['120.321243', '29.876116'], ['120.321617', '29.875879'], ['120.322159', '29.875525'], ['120.322266', '29.87546'], ['120.322708', '29.875164'], ['120.323143', '29.874887'], ['120.323402', '29.874687'], ['120.323616', '29.8745'], ['120.323746', '29.87434'], ['120.323837', '29.874203'], ['120.323929', '29.87398'], ['120.323967', '29.873789'], ['120.323975', '29.873629'], ['120.323975', '29.872887'], ['120.323975', '29.872631'], ['120.324028', '29.872108'], ['120.324074', '29.871822'], ['120.324089', '29.871735'], ['120.324577', '29.869877'], ['120.32486', '29.868839'], ['120.324959', '29.868521'], ['120.325226', '29.867453'], ['120.325371', '29.866697'], ['120.325386', '29.86643'], ['120.325401', '29.865707'], ['120.325439', '29.865133'], ['120.325485', '29.864922'], ['120.325562', '29.864639'], ['120.32563', '29.864466'], ['120.325867', '29.863976'], ['120.32605', '29.863684'], ['120.326508', '29.86302'], ['120.326904', '29.862459'], ['120.327148', '29.862162'], ['120.327148', '29.862162'], ['120.32737', '29.861902'], ['120.327629', '29.861635'], ['120.328491', '29.860838'], ['120.328522', '29.860798'], ['120.328995', '29.860332'], ['120.331467', '29.857677'], ['120.332596', '29.856503'], ['120.333473', '29.855673'], ['120.333763', '29.855442'], ['120.334084', '29.855204'], ['120.334641', '29.854839'], ['120.335289', '29.854454'], ['120.335556', '29.854313'], ['120.335808', '29.854218'], ['120.336082', '29.854132'], ['120.336372', '29.854057'], ['120.337013', '29.853945'], ['120.338524', '29.853703'], ['120.339615', '29.853525'], ['120.339996', '29.853464'], ['120.341309', '29.853247'], ['120.341682', '29.853203'], ['120.341927', '29.853191'], ['120.342148', '29.853201'], ['120.342377', '29.85323'], ['120.342575', '29.853283'], ['120.342796', '29.853359'], ['120.343002', '29.853451'], ['120.34417', '29.854084'], ['120.344238', '29.854124'], ['120.344788', '29.854408'], ['120.345001', '29.854498'], ['120.345207', '29.854563'], ['120.345596', '29.854622'], ['120.345802', '29.854631'], ['120.346207', '29.854601'], ['120.347328', '29.854475'], ['120.348839', '29.854307'], ['120.349129', '29.854248'], ['120.349442', '29.854149'], ['120.349731', '29.853998'], ['120.349892', '29.85388'], ['120.350105', '29.853653'], ['120.350227', '29.853472'], ['120.350334', '29.85326'], ['120.350403', '29.853001'], ['120.350433', '29.85276'], ['120.350441', '29.852518'], ['120.350433', '29.851814'], ['120.350418', '29.85113'], ['120.350418', '29.85113'], ['120.355644', '29.849854'], ['120.356453', '29.849653'], ['120.356453', '29.849653'], ['120.356758', '29.849426'], ['120.35685', '29.849331'], ['120.35685', '29.849331'], ['120.357056', '29.849213'], ['120.357155', '29.849171'], ['120.357292', '29.849136'], ['120.357674', '29.849085'], ['120.358032', '29.849085'], ['120.358223', '29.849125'], ['120.358566', '29.849298'], ['120.358696', '29.84934'], ['120.358871', '29.849384'], ['120.3601', '29.849609'], ['120.360435', '29.849691'], ['120.360855', '29.849854'], ['120.360939', '29.849886'], ['120.361481', '29.850155'], ['120.361633', '29.850218'], ['120.362053', '29.850309'], ['120.36219', '29.850365'], ['120.362419', '29.850533'], ['120.362518', '29.850634'], ['120.362549', '29.850693'], ['120.362587', '29.850801'], ['120.362587', '29.850988'], ['120.362579', '29.851189'], ['120.362587', '29.851334'], ['120.362625', '29.851515'], ['120.362694', '29.851631'], ['120.362854', '29.851789'], ['120.363403', '29.852222'], ['120.363892', '29.852587'], ['120.364243', '29.852882'], ['120.364243', '29.852882'], ['120.3647', '29.852808'], ['120.364838', '29.852774'], ['120.364998', '29.852713'], ['120.366051', '29.85194'], ['120.366211', '29.851826'], ['120.367615', '29.850876'], ['120.369095', '29.849882'], ['120.369141', '29.849854'], ['120.369789', '29.849388'], ['120.370605', '29.84881'], ['120.370705', '29.848759'], ['120.370918', '29.848598'], ['120.371132', '29.848471'], ['120.371346', '29.848351'], ['120.372269', '29.847887'], ['120.372658', '29.847742'], ['120.373245', '29.847555'], ['120.373787', '29.847408'], ['120.375114', '29.847195'], ['120.375389', '29.847126'], ['120.376175', '29.846889'], ['120.37735', '29.846516'], ['120.37735', '29.846516'], ['120.377754', '29.846357'], ['120.37809', '29.846197'], ['120.379547', '29.845404'], ['120.379799', '29.845247'], ['120.380035', '29.84506'], ['120.381752', '29.843512'], ['120.382339', '29.843039'], ['120.382652', '29.842827'], ['120.383728', '29.842089'], ['120.385765', '29.840738'], ['120.386673', '29.840105'], ['120.386887', '29.839926'], ['120.387207', '29.839609'], ['120.387733', '29.838957'], ['120.387802', '29.838867'], ['120.388176', '29.838377'], ['120.388977', '29.837355'], ['120.3899', '29.836164'], ['120.392349', '29.833014'], ['120.392525', '29.832729'], ['120.392639', '29.832464'], ['120.393013', '29.831244'], ['120.393074', '29.831015'], ['120.393188', '29.830647'], ['120.39344', '29.830069'], ['120.393806', '29.829254'], ['120.394188', '29.828442'], ['120.394318', '29.828115'], ['120.394409', '29.827877'], ['120.394524', '29.827551'], ['120.394806', '29.826893'], ['120.395416', '29.825512'], ['120.395576', '29.825169'], ['120.395576', '29.825169'], ['120.395683', '29.825018'], ['120.395897', '29.824835'], ['120.395897', '29.824835'], ['120.396088', '29.824869'], ['120.39621', '29.824858'], ['120.396332', '29.824831'], ['120.396454', '29.824774'], ['120.396568', '29.824671'], ['120.396629', '29.824526'], ['120.396675', '29.824375'], ['120.397041', '29.823078'], ['120.398033', '29.81955'], ['120.398224', '29.818945'], ['120.398415', '29.818211'], ['120.398514', '29.818069'], ['120.398804', '29.8179'], ['120.398956', '29.817818'], ['120.399078', '29.817705'], ['120.399353', '29.817171'], ['120.399376', '29.817104'], ['120.399437', '29.816893'], ['120.399559', '29.816507'], ['120.399612', '29.816412'], ['120.399681', '29.81632'], ['120.399818', '29.816212'], ['120.400017', '29.816059'], ['120.401001', '29.815342'], ['120.401756', '29.814827'], ['120.402229', '29.814505'], ['120.402664', '29.814161'], ['120.403343', '29.813715'], ['120.403938', '29.813272'], ['120.404068', '29.813156'], ['120.404228', '29.812929'], ['120.404282', '29.812786'], ['120.404381', '29.812445'], ['120.404442', '29.812248'], ['120.404495', '29.811844'], ['120.404541', '29.811506'], ['120.404579', '29.811224'], ['120.404579', '29.811056'], ['120.404572', '29.810728'], ['120.40464', '29.810278'], ['120.404648', '29.809822'], ['120.404648', '29.809736'], ['120.404732', '29.809103'], ['120.404739', '29.80858'], ['120.404808', '29.807974'], ['120.404861', '29.807737'], ['120.405106', '29.807322'], ['120.405403', '29.806936'], ['120.405602', '29.806631'], ['120.405716', '29.806475'], ['120.406044', '29.806063'], ['120.406151', '29.805906'], ['120.406189', '29.805851'], ['120.406364', '29.805609'], ['120.407639', '29.803776'], ['120.408852', '29.801813'], ['120.408989', '29.801594'], ['120.409264', '29.80105'], ['120.409485', '29.800455'], ['120.409637', '29.800117'], ['120.409851', '29.799805'], ['120.410156', '29.799475'], ['120.410286', '29.799318'], ['120.410675', '29.798862'], ['120.410919', '29.798634'], ['120.41127', '29.798382'], ['120.412109', '29.797823'], ['120.412216', '29.79775'], ['120.413094', '29.797157'], ['120.413307', '29.797028'], ['120.413483', '29.796871'], ['120.413597', '29.796701'], ['120.413628', '29.796589'], ['120.413704', '29.796051'], ['120.413773', '29.795687'], ['120.413826', '29.795504'], ['120.41391', '29.795364'], ['120.414024', '29.795221'], ['120.414429', '29.794922'], ['120.414764', '29.794676'], ['120.415779', '29.793962'], ['120.416641', '29.793356'], ['120.416824', '29.793186'], ['120.416916', '29.793095'], ['120.41703', '29.792952'], ['120.41758', '29.792271'], ['120.417725', '29.792105'], ['120.417938', '29.79184'], ['120.417984', '29.791788'], ['120.418732', '29.792223'], ['120.419327', '29.792532'], ['120.42041', '29.793024'], ['120.421333', '29.793394'], ['120.421333', '29.793394'], ['120.421692', '29.792618'], ['120.422012', '29.791903'], ['120.422234', '29.791393'], ['120.422478', '29.790855'], ['120.422623', '29.790524'], ['120.422623', '29.790524'], ['120.422508', '29.790342'], ['120.422401', '29.790165'], ['120.422325', '29.789982'], ['120.422295', '29.789858'], ['120.422279', '29.789686'], ['120.422279', '29.789686'], ['120.422256', '29.789566'], ['120.422295', '29.789358'], ['120.422371', '29.789127'], ['120.422531', '29.788866'], ['120.422585', '29.788794'], ['120.422783', '29.788607'], ['120.423401', '29.788206'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>