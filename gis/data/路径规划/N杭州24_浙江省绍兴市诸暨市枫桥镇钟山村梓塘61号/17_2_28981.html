<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.3181', '29.916632'], ['120.318489', '29.91577'], ['120.318665', '29.915379'], ['120.319122', '29.9144'], ['120.319176', '29.914289'], ['120.319611', '29.913347'], ['120.319794', '29.912924'], ['120.319794', '29.912924'], ['120.319687', '29.912838'], ['120.319603', '29.91279'], ['120.318901', '29.912535'], ['120.317856', '29.912174'], ['120.317307', '29.912088'], ['120.317154', '29.912054'], ['120.315224', '29.911324'], ['120.313393', '29.91062'], ['120.312477', '29.910265'], ['120.311584', '29.909918'], ['120.311172', '29.909765'], ['120.311172', '29.909765'], ['120.31105', '29.909605'], ['120.310837', '29.909197'], ['120.310379', '29.908255'], ['120.310089', '29.907696'], ['120.309067', '29.905647'], ['120.308762', '29.904995'], ['120.308685', '29.904781'], ['120.308533', '29.904427'], ['120.308311', '29.903803'], ['120.308121', '29.903255'], ['120.308006', '29.902882'], ['120.307915', '29.902477'], ['120.307777', '29.901922'], ['120.307602', '29.900955'], ['120.307602', '29.900955'], ['120.307411', '29.900728'], ['120.307236', '29.900423'], ['120.307129', '29.90016'], ['120.306923', '29.899683'], ['120.306335', '29.898628'], ['120.305931', '29.898073'], ['120.305901', '29.897991'], ['120.305893', '29.897934'], ['120.305901', '29.897865'], ['120.305954', '29.897751'], ['120.306015', '29.897692'], ['120.306084', '29.89764'], ['120.306221', '29.897573'], ['120.306541', '29.897505'], ['120.306702', '29.897486'], ['120.307541', '29.897482'], ['120.307541', '29.897482'], ['120.307541', '29.897205'], ['120.307541', '29.896597'], ['120.307549', '29.895409'], ['120.307541', '29.893797'], ['120.307518', '29.892136'], ['120.307518', '29.891644'], ['120.307449', '29.890469'], ['120.307472', '29.890055'], ['120.30751', '29.88969'], ['120.307564', '29.889414'], ['120.307648', '29.889145'], ['120.307976', '29.888443'], ['120.308136', '29.888182'], ['120.308311', '29.88792'], ['120.308655', '29.887569'], ['120.309105', '29.887259'], ['120.309616', '29.887005'], ['120.309929', '29.886875'], ['120.310425', '29.88673'], ['120.311493', '29.886534'], ['120.311668', '29.886484'], ['120.312035', '29.886372'], ['120.312332', '29.886225'], ['120.312553', '29.886066'], ['120.31279', '29.88586'], ['120.313332', '29.88526'], ['120.313972', '29.884548'], ['120.314323', '29.884235'], ['120.314651', '29.883989'], ['120.315086', '29.883707'], ['120.315529', '29.883387'], ['120.315895', '29.883047'], ['120.315979', '29.882915'], ['120.316055', '29.882812'], ['120.316231', '29.882536'], ['120.317894', '29.879608'], ['120.318596', '29.878403'], ['120.318665', '29.878288'], ['120.318771', '29.878107'], ['120.319023', '29.87776'], ['120.319359', '29.877396'], ['120.32003', '29.876888'], ['120.321243', '29.876116'], ['120.321617', '29.875879'], ['120.322159', '29.875525'], ['120.322266', '29.87546'], ['120.322708', '29.875164'], ['120.323143', '29.874887'], ['120.323402', '29.874687'], ['120.323616', '29.8745'], ['120.323746', '29.87434'], ['120.323837', '29.874203'], ['120.323929', '29.87398'], ['120.323967', '29.873789'], ['120.323975', '29.873629'], ['120.323975', '29.872887'], ['120.323975', '29.872631'], ['120.324028', '29.872108'], ['120.324074', '29.871822'], ['120.324089', '29.871735'], ['120.324577', '29.869877'], ['120.32486', '29.868839'], ['120.324959', '29.868521'], ['120.325226', '29.867453'], ['120.325371', '29.866697'], ['120.325386', '29.86643'], ['120.325401', '29.865707'], ['120.325439', '29.865133'], ['120.325485', '29.864922'], ['120.325562', '29.864639'], ['120.32563', '29.864466'], ['120.325867', '29.863976'], ['120.32605', '29.863684'], ['120.326508', '29.86302'], ['120.326904', '29.862459'], ['120.327148', '29.862162'], ['120.327148', '29.862162'], ['120.32737', '29.861902'], ['120.327629', '29.861635'], ['120.328491', '29.860838'], ['120.328522', '29.860798'], ['120.328995', '29.860332'], ['120.331467', '29.857677'], ['120.332596', '29.856503'], ['120.333473', '29.855673'], ['120.333763', '29.855442'], ['120.334084', '29.855204'], ['120.334641', '29.854839'], ['120.335289', '29.854454'], ['120.335556', '29.854313'], ['120.335808', '29.854218'], ['120.336082', '29.854132'], ['120.336372', '29.854057'], ['120.337013', '29.853945'], ['120.338524', '29.853703'], ['120.339615', '29.853525'], ['120.339996', '29.853464'], ['120.341309', '29.853247'], ['120.341682', '29.853203'], ['120.341927', '29.853191'], ['120.342148', '29.853201'], ['120.342377', '29.85323'], ['120.342575', '29.853283'], ['120.342796', '29.853359'], ['120.343002', '29.853451'], ['120.34417', '29.854084'], ['120.344238', '29.854124'], ['120.344788', '29.854408'], ['120.345001', '29.854498'], ['120.345207', '29.854563'], ['120.345596', '29.854622'], ['120.345802', '29.854631'], ['120.346207', '29.854601'], ['120.347328', '29.854475'], ['120.348839', '29.854307'], ['120.349129', '29.854248'], ['120.349442', '29.854149'], ['120.349731', '29.853998'], ['120.349892', '29.85388'], ['120.349892', '29.85388'], ['120.350166', '29.853971'], ['120.350273', '29.854015'], ['120.350357', '29.854063'], ['120.350418', '29.854149'], ['120.351074', '29.855196'], ['120.35128', '29.855429'], ['120.351425', '29.85552'], ['120.35154', '29.855591'], ['120.351646', '29.855629'], ['120.351776', '29.855652'], ['120.352013', '29.855646'], ['120.35273', '29.855577'], ['120.35289', '29.855591'], ['120.353073', '29.855694'], ['120.353119', '29.855742'], ['120.353241', '29.855934'], ['120.353287', '29.856043'], ['120.353371', '29.856203'], ['120.353371', '29.856203'], ['120.353317', '29.856375'], ['120.353264', '29.856623'], ['120.353264', '29.856623'], ['120.353264', '29.856817'], ['120.353317', '29.856979'], ['120.353424', '29.857227'], ['120.353859', '29.857851'], ['120.353966', '29.857983'], ['120.354126', '29.85813'], ['120.354637', '29.858498'], ['120.355003', '29.858725'], ['120.355377', '29.858866'], ['120.355606', '29.858929'], ['120.356255', '29.859045'], ['120.357422', '29.859266'], ['120.357803', '29.859335'], ['120.358589', '29.85948'], ['120.3592', '29.859627'], ['120.359352', '29.85968'], ['120.359665', '29.85984'], ['120.360489', '29.860291'], ['120.360825', '29.860516'], ['120.361221', '29.860838'], ['120.362206', '29.861692'], ['120.362579', '29.861954'], ['120.362785', '29.862131'], ['120.363609', '29.862764'], ['120.363846', '29.862974'], ['120.364189', '29.863264'], ['120.364761', '29.863863'], ['120.364906', '29.864027'], ['120.365479', '29.864635'], ['120.365753', '29.864908'], ['120.366066', '29.86516'], ['120.366211', '29.865255'], ['120.366539', '29.865469'], ['120.366959', '29.865694'], ['120.367317', '29.865833'], ['120.367699', '29.865952'], ['120.36805', '29.866072'], ['120.368744', '29.866388'], ['120.36985', '29.866905'], ['120.370468', '29.867241'], ['120.371407', '29.8678'], ['120.371521', '29.867855'], ['120.371742', '29.867916'], ['120.371918', '29.867937'], ['120.372162', '29.867937'], ['120.373085', '29.867882'], ['120.373932', '29.867769'], ['120.37413', '29.86775'], ['120.374588', '29.867746'], ['120.375435', '29.867769'], ['120.375931', '29.867756'], ['120.376167', '29.867718'], ['120.376945', '29.8675'], ['120.377129', '29.867474'], ['120.377266', '29.867483'], ['120.378151', '29.867701'], ['120.378441', '29.867727'], ['120.379227', '29.867708'], ['120.379395', '29.867718'], ['120.379555', '29.867746'], ['120.379669', '29.867847'], ['120.379669', '29.867847'], ['120.380501', '29.868929'], ['120.380638', '29.869093'], ['120.380821', '29.869202'], ['120.381287', '29.869341'], ['120.382278', '29.869591'], ['120.382568', '29.869667'], ['120.382874', '29.869736'], ['120.38369', '29.869862'], ['120.383858', '29.869883'], ['120.38591', '29.870173'], ['120.38607', '29.870213'], ['120.386513', '29.870481'], ['120.386642', '29.870529'], ['120.386772', '29.870552'], ['120.386833', '29.870546'], ['120.387283', '29.870451'], ['120.387749', '29.870325'], ['120.388176', '29.870186'], ['120.389473', '29.869759'], ['120.389641', '29.869732'], ['120.389816', '29.869753'], ['120.390175', '29.869886'], ['120.390427', '29.870001'], ['120.391182', '29.8703'], ['120.391754', '29.870552'], ['120.392456', '29.870855'], ['120.393005', '29.871075'], ['120.393265', '29.87118'], ['120.393661', '29.87137'], ['120.393661', '29.87137'], ['120.394608', '29.871788'], ['120.394699', '29.871822'], ['120.395576', '29.872173'], ['120.395638', '29.872183'], ['120.396553', '29.872595'], ['120.397255', '29.872896'], ['120.398346', '29.873363'], ['120.399162', '29.87372'], ['120.400658', '29.874268'], ['120.400864', '29.874323'], ['120.400986', '29.874357'], ['120.401321', '29.874432'], ['120.401932', '29.874554'], ['120.402702', '29.874636'], ['120.403526', '29.874636'], ['120.404388', '29.874527'], ['120.404877', '29.874453'], ['120.405762', '29.874228'], ['120.408928', '29.87322'], ['120.410156', '29.872822'], ['120.410301', '29.872774'], ['120.412628', '29.872023'], ['120.413254', '29.871822'], ['120.414009', '29.871571'], ['120.415482', '29.871071'], ['120.416466', '29.870651'], ['120.416924', '29.870424'], ['120.417366', '29.870165'], ['120.417747', '29.869909'], ['120.418121', '29.869614'], ['120.418549', '29.869249'], ['120.418983', '29.868793'], ['120.419388', '29.868273'], ['120.419617', '29.867916'], ['120.419891', '29.867392'], ['120.419914', '29.867365'], ['120.420166', '29.866684'], ['120.420311', '29.866142'], ['120.420425', '29.865547'], ['120.420517', '29.864704'], ['120.420563', '29.863729'], ['120.420593', '29.862652'], ['120.420639', '29.860838'], ['120.420654', '29.860064'], ['120.420746', '29.857044'], ['120.420746', '29.85681'], ['120.420761', '29.856237'], ['120.420799', '29.855196'], ['120.42083', '29.854179'], ['120.420898', '29.852158'], ['120.420937', '29.851089'], ['120.420944', '29.850021'], ['120.420952', '29.849854'], ['120.420959', '29.849691'], ['120.421051', '29.848547'], ['120.421181', '29.847677'], ['120.421333', '29.84709'], ['120.421547', '29.846462'], ['120.4216', '29.846333'], ['120.421745', '29.846016'], ['120.42205', '29.845404'], ['120.422531', '29.844608'], ['120.42289', '29.844107'], ['120.423279', '29.843607'], ['120.423698', '29.843102'], ['120.424026', '29.842718'], ['120.424309', '29.84234'], ['120.424515', '29.842005'], ['120.424736', '29.841534'], ['120.424881', '29.841106'], ['120.424934', '29.840759'], ['120.424973', '29.840334'], ['120.424957', '29.839912'], ['120.424873', '29.839363'], ['120.424843', '29.839272'], ['120.424767', '29.838984'], ['120.424728', '29.838867'], ['120.424301', '29.837309'], ['120.424149', '29.836897'], ['120.423828', '29.836033'], ['120.423576', '29.835464'], ['120.423363', '29.835009'], ['120.422424', '29.833368'], ['120.422028', '29.832651'], ['120.421234', '29.831188'], ['120.421127', '29.83098'], ['120.420761', '29.830214'], ['120.420586', '29.829687'], ['120.420486', '29.829412'], ['120.420303', '29.828716'], ['120.420044', '29.827877'], ['120.419998', '29.827717'], ['120.419716', '29.826767'], ['120.419495', '29.825583'], ['120.419342', '29.824879'], ['120.419144', '29.82412'], ['120.4188', '29.823374'], ['120.417984', '29.821875'], ['120.417412', '29.82082'], ['120.416779', '29.819618'], ['120.416016', '29.818165'], ['120.415634', '29.81743'], ['120.415451', '29.816893'], ['120.415291', '29.81642'], ['120.415054', '29.815456'], ['120.414993', '29.815027'], ['120.414948', '29.814558'], ['120.414932', '29.814285'], ['120.414932', '29.813942'], ['120.4151', '29.812542'], ['120.415359', '29.811529'], ['120.415451', '29.811094'], ['120.415504', '29.810816'], ['120.415558', '29.810701'], ['120.415962', '29.808775'], ['120.416321', '29.807167'], ['120.416443', '29.806562'], ['120.416534', '29.806143'], ['120.416588', '29.805906'], ['120.416595', '29.805868'], ['120.416725', '29.804777'], ['120.416855', '29.804193'], ['120.416862', '29.804167'], ['120.417023', '29.803484'], ['120.417068', '29.803247'], ['120.417229', '29.802683'], ['120.417458', '29.801889'], ['120.417717', '29.801237'], ['120.417709', '29.801184'], ['120.418144', '29.800108'], ['120.418381', '29.79948'], ['120.418549', '29.79912'], ['120.418869', '29.798479'], ['120.4189', '29.798429'], ['120.419525', '29.797089'], ['120.419998', '29.796116'], ['120.420319', '29.795456'], ['120.42057', '29.794922'], ['120.420647', '29.794764'], ['120.42086', '29.794317'], ['120.42128', '29.793447'], ['120.421333', '29.793394'], ['120.421692', '29.792618'], ['120.422012', '29.791903'], ['120.422234', '29.791393'], ['120.422478', '29.790855'], ['120.422623', '29.790524'], ['120.422623', '29.790524'], ['120.422508', '29.790342'], ['120.422401', '29.790165'], ['120.422325', '29.789982'], ['120.422295', '29.789858'], ['120.422279', '29.789686'], ['120.422279', '29.789686'], ['120.422256', '29.789566'], ['120.422295', '29.789358'], ['120.422371', '29.789127'], ['120.422531', '29.788866'], ['120.422585', '29.788794'], ['120.422783', '29.788607'], ['120.423401', '29.788206'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>