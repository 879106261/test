<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.779343', '32.107159'], ['118.779602', '32.10725'], ['118.779602', '32.10725'], ['118.779716', '32.106976'], ['118.779716', '32.106976'], ['118.779778', '32.106995'], ['118.779892', '32.107037'], ['118.779892', '32.107037'], ['118.780029', '32.106792'], ['118.780266', '32.106319'], ['118.780434', '32.105984'], ['118.780548', '32.106033'], ['118.78038', '32.106346'], ['118.780121', '32.106861'], ['118.780006', '32.10709'], ['118.779892', '32.10733'], ['118.779709', '32.107727'], ['118.779556', '32.108021'], ['118.779457', '32.108204'], ['118.779152', '32.108723'], ['118.778976', '32.108978'], ['118.778854', '32.109138'], ['118.778702', '32.109341'], ['118.778488', '32.109612'], ['118.77832', '32.109821'], ['118.777977', '32.11026'], ['118.777763', '32.110527'], ['118.777473', '32.110683'], ['118.777336', '32.110641'], ['118.777199', '32.1106'], ['118.777138', '32.110573'], ['118.777077', '32.11055'], ['118.776749', '32.110424'], ['118.776108', '32.110168'], ['118.775787', '32.110023'], ['118.775307', '32.109764'], ['118.774696', '32.10939'], ['118.774414', '32.109203'], ['118.774414', '32.109203'], ['118.774338', '32.1091'], ['118.774048', '32.108852'], ['118.773994', '32.108742'], ['118.773445', '32.108273'], ['118.773117', '32.107956'], ['118.772835', '32.107658'], ['118.772415', '32.107178'], ['118.771751', '32.106384'], ['118.771584', '32.106159'], ['118.770386', '32.104679'], ['118.77005', '32.104275'], ['118.769829', '32.104004'], ['118.7696', '32.10371'], ['118.769371', '32.103416'], ['118.769371', '32.103416'], ['118.768318', '32.102051'], ['118.768181', '32.101868'], ['118.767952', '32.101612'], ['118.76767', '32.101337'], ['118.767372', '32.101097'], ['118.767181', '32.100964'], ['118.767006', '32.100861'], ['118.766533', '32.100632'], ['118.765938', '32.100426'], ['118.765762', '32.100384'], ['118.765038', '32.10025'], ['118.764771', '32.100227'], ['118.764412', '32.100178'], ['118.764343', '32.100166'], ['118.763908', '32.100117'], ['118.763519', '32.100075'], ['118.76342', '32.100056'], ['118.76342', '32.100056'], ['118.763252', '32.100117'], ['118.762802', '32.100063'], ['118.762207', '32.099995'], ['118.761856', '32.099953'], ['118.761559', '32.099918'], ['118.760979', '32.09985'], ['118.759926', '32.099705'], ['118.759766', '32.099686'], ['118.759605', '32.099667'], ['118.759605', '32.099667'], ['118.759468', '32.099541'], ['118.75927', '32.099503'], ['118.75798', '32.09943'], ['118.756882', '32.099392'], ['118.756554', '32.099392'], ['118.756439', '32.099407'], ['118.756294', '32.099453'], ['118.756187', '32.099503'], ['118.756027', '32.099659'], ['118.755928', '32.099827'], ['118.755798', '32.100349'], ['118.755547', '32.101063'], ['118.755547', '32.101063'], ['118.75547', '32.101166'], ['118.755333', '32.101284'], ['118.755226', '32.101547'], ['118.755051', '32.102051'], ['118.754936', '32.102413'], ['118.754364', '32.104019'], ['118.752701', '32.108387'], ['118.752525', '32.108749'], ['118.752296', '32.109055'], ['118.752113', '32.109257'], ['118.751892', '32.109406'], ['118.750145', '32.110329'], ['118.747078', '32.111866'], ['118.745262', '32.112774'], ['118.744728', '32.113033'], ['118.743385', '32.113667'], ['118.74202', '32.11433'], ['118.740234', '32.115219'], ['118.739014', '32.115833'], ['118.737595', '32.11655'], ['118.73542', '32.117687'], ['118.734558', '32.118206'], ['118.734215', '32.118549'], ['118.733932', '32.119049'], ['118.733406', '32.120308'], ['118.73275', '32.12207'], ['118.732132', '32.123875'], ['118.732079', '32.124023'], ['118.731743', '32.124901'], ['118.731133', '32.126484'], ['118.730721', '32.127605'], ['118.730408', '32.128414'], ['118.729904', '32.130035'], ['118.729691', '32.130714'], ['118.729637', '32.130856'], ['118.729263', '32.131805'], ['118.729057', '32.132198'], ['118.728691', '32.132771'], ['118.72831', '32.133316'], ['118.728043', '32.133648'], ['118.728043', '32.133648'], ['118.727692', '32.134037'], ['118.7276', '32.134129'], ['118.72699', '32.134716'], ['118.726669', '32.13501'], ['118.724876', '32.136627'], ['118.722702', '32.138584'], ['118.721664', '32.139534'], ['118.721306', '32.139877'], ['118.720825', '32.14035'], ['118.720215', '32.140907'], ['118.719826', '32.141293'], ['118.719078', '32.142036'], ['118.718811', '32.142265'], ['118.718552', '32.142494'], ['118.718254', '32.142761'], ['118.717537', '32.143402'], ['118.716522', '32.14431'], ['118.715584', '32.145203'], ['118.715279', '32.145485'], ['118.715233', '32.145607'], ['118.715195', '32.145721'], ['118.715126', '32.145992'], ['118.715126', '32.145992'], ['118.715111', '32.146084'], ['118.714508', '32.147713'], ['118.71405', '32.148911'], ['118.713776', '32.149651'], ['118.71373', '32.14975'], ['118.713562', '32.150429'], ['118.713554', '32.150452'], ['118.713486', '32.150814'], ['118.713417', '32.151299'], ['118.713318', '32.152119'], ['118.713264', '32.152969'], ['118.713257', '32.153828'], ['118.713257', '32.154133'], ['118.713295', '32.154488'], ['118.712852', '32.154678'], ['118.712593', '32.154724'], ['118.712143', '32.154831'], ['118.711754', '32.154934'], ['118.711189', '32.155117'], ['118.708572', '32.156086'], ['118.70797', '32.156311'], ['118.707893', '32.156338'], ['118.70742', '32.156506'], ['118.70694', '32.156658'], ['118.706528', '32.156773'], ['118.70594', '32.156895'], ['118.70517', '32.156979'], ['118.704964', '32.157001'], ['118.699455', '32.157391'], ['118.696686', '32.157436'], ['118.696297', '32.157444'], ['118.696259', '32.157444'], ['118.69619', '32.157444'], ['118.694984', '32.157539'], ['118.69445', '32.157631'], ['118.694115', '32.157722'], ['118.693855', '32.157814'], ['118.693527', '32.157955'], ['118.693069', '32.158218'], ['118.692795', '32.158417'], ['118.692024', '32.159023'], ['118.69136', '32.15955'], ['118.691025', '32.159847'], ['118.69046', '32.160366'], ['118.690231', '32.160603'], ['118.690025', '32.160843'], ['118.689857', '32.161087'], ['118.689545', '32.161591'], ['118.689011', '32.162518'], ['118.688904', '32.162724'], ['118.688828', '32.16296'], ['118.688766', '32.16325'], ['118.688759', '32.163288'], ['118.688667', '32.163895'], ['118.688568', '32.164246'], ['118.688477', '32.164513'], ['118.688278', '32.165257'], ['118.688118', '32.16544'], ['118.687637', '32.165394'], ['118.686745', '32.165321'], ['118.685677', '32.165215'], ['118.685211', '32.165161'], ['118.684776', '32.165112'], ['118.684639', '32.165096'], ['118.684349', '32.165054'], ['118.683807', '32.164989'], ['118.682388', '32.164883'], ['118.680435', '32.164749'], ['118.680359', '32.164745'], ['118.679245', '32.164703'], ['118.678703', '32.16468'], ['118.678452', '32.164665'], ['118.678123', '32.164654'], ['118.677887', '32.164635'], ['118.676964', '32.164497'], ['118.676704', '32.16444'], ['118.676575', '32.164433'], ['118.67601', '32.164448'], ['118.675705', '32.164425'], ['118.674934', '32.164368'], ['118.674309', '32.164322'], ['118.673218', '32.164249'], ['118.672089', '32.164177'], ['118.671982', '32.164162'], ['118.668877', '32.163914'], ['118.668442', '32.163803'], ['118.666878', '32.163719'], ['118.664703', '32.16357'], ['118.664291', '32.163559'], ['118.6633', '32.163506'], ['118.661819', '32.163452'], ['118.660507', '32.163395'], ['118.659363', '32.163357'], ['118.658768', '32.163326'], ['118.6576', '32.163284'], ['118.656967', '32.163265'], ['118.655716', '32.163212'], ['118.655571', '32.163208'], ['118.654785', '32.163181'], ['118.653603', '32.163185'], ['118.653282', '32.1632'], ['118.652344', '32.163254'], ['118.652229', '32.163269'], ['118.651642', '32.163326'], ['118.651207', '32.16338'], ['118.650658', '32.163452'], ['118.650452', '32.163483'], ['118.649971', '32.163563'], ['118.649734', '32.163609'], ['118.649269', '32.163685'], ['118.64917', '32.163704'], ['118.648872', '32.163757'], ['118.648308', '32.163857'], ['118.647644', '32.163998'], ['118.647278', '32.164089'], ['118.647064', '32.164143'], ['118.64679', '32.16423'], ['118.646461', '32.164345'], ['118.646179', '32.164459'], ['118.645607', '32.164703'], ['118.64521', '32.164917'], ['118.644852', '32.165119'], ['118.644341', '32.165474'], ['118.643616', '32.165955'], ['118.643188', '32.166229'], ['118.64167', '32.167271'], ['118.640663', '32.167969'], ['118.637825', '32.16991'], ['118.637321', '32.170246'], ['118.632233', '32.173733'], ['118.63205', '32.173847'], ['118.631706', '32.174088'], ['118.630402', '32.174976'], ['118.630363', '32.174999'], ['118.630035', '32.175236'], ['118.628761', '32.176102'], ['118.62841', '32.176346'], ['118.627724', '32.176815'], ['118.627724', '32.176815'], ['118.627937', '32.176914'], ['118.628143', '32.177006'], ['118.628357', '32.177116'], ['118.628578', '32.177223'], ['118.62867', '32.177277'], ['118.62867', '32.177277'], ['118.628387', '32.177517']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>