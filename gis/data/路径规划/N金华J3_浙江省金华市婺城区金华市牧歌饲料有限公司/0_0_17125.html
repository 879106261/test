<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.712036', '29.133467'], ['119.711845', '29.133064'], ['119.711845', '29.133064'], ['119.711441', '29.133186'], ['119.71138', '29.133192'], ['119.711334', '29.133186'], ['119.711189', '29.133129'], ['119.711189', '29.133129'], ['119.711113', '29.133867'], ['119.711029', '29.134472'], ['119.710823', '29.135742'], ['119.710716', '29.136406'], ['119.710716', '29.136406'], ['119.710632', '29.136511'], ['119.71048', '29.137278'], ['119.71035', '29.137852'], ['119.710197', '29.138416'], ['119.710091', '29.138739'], ['119.709976', '29.13904'], ['119.709877', '29.139227'], ['119.709831', '29.139318'], ['119.709702', '29.139544'], ['119.709549', '29.139757'], ['119.709358', '29.139999'], ['119.709152', '29.140213'], ['119.708931', '29.140423'], ['119.708717', '29.140596'], ['119.708473', '29.140768'], ['119.708214', '29.140915'], ['119.707947', '29.14105'], ['119.707642', '29.141176'], ['119.707314', '29.141279'], ['119.707031', '29.14135'], ['119.706993', '29.141363'], ['119.706673', '29.14142'], ['119.70639', '29.141459'], ['119.706062', '29.141476'], ['119.705704', '29.141472'], ['119.705376', '29.141449'], ['119.705078', '29.141397'], ['119.704773', '29.141329'], ['119.704407', '29.14123'], ['119.703873', '29.141047'], ['119.701843', '29.140268'], ['119.701317', '29.140087'], ['119.701088', '29.140074'], ['119.700089', '29.139641'], ['119.698456', '29.139002'], ['119.698265', '29.13892'], ['119.695816', '29.13796'], ['119.695229', '29.137733'], ['119.695152', '29.137705'], ['119.694679', '29.137527'], ['119.693123', '29.136936'], ['119.692497', '29.136698'], ['119.690399', '29.13588'], ['119.690048', '29.135742'], ['119.689224', '29.135433'], ['119.688293', '29.135151'], ['119.686668', '29.134705'], ['119.685944', '29.134554'], ['119.685234', '29.134439'], ['119.685059', '29.134418'], ['119.683899', '29.134272'], ['119.683731', '29.134249'], ['119.682526', '29.134167'], ['119.68187', '29.134153'], ['119.680801', '29.134163'], ['119.678856', '29.134176'], ['119.678337', '29.13418'], ['119.677856', '29.13418'], ['119.675011', '29.134203'], ['119.674576', '29.134207'], ['119.674416', '29.134209'], ['119.673897', '29.134212'], ['119.672195', '29.134232'], ['119.67115', '29.134235'], ['119.669304', '29.134266'], ['119.666771', '29.134298'], ['119.666069', '29.134306'], ['119.665176', '29.134272'], ['119.664238', '29.134197'], ['119.663589', '29.13414'], ['119.663086', '29.134085'], ['119.65966', '29.133667'], ['119.65815', '29.133497'], ['119.65493', '29.133116'], ['119.654144', '29.133028'], ['119.653419', '29.132952'], ['119.65303', '29.13291'], ['119.652916', '29.132891'], ['119.652184', '29.132799'], ['119.651306', '29.132704'], ['119.651123', '29.132683'], ['119.650017', '29.132509'], ['119.648941', '29.132278'], ['119.648071', '29.13205'], ['119.646866', '29.131659'], ['119.645706', '29.131197'], ['119.645294', '29.131042'], ['119.644478', '29.130724'], ['119.641113', '29.129448'], ['119.638794', '29.128576'], ['119.63826', '29.128361'], ['119.637604', '29.128115'], ['119.637321', '29.128019'], ['119.636856', '29.127869'], ['119.636314', '29.127722'], ['119.635918', '29.127636'], ['119.635643', '29.127596'], ['119.635452', '29.127565'], ['119.635002', '29.127491'], ['119.63472', '29.127459'], ['119.634132', '29.127386'], ['119.633522', '29.127344'], ['119.633171', '29.127331'], ['119.632904', '29.127314'], ['119.632584', '29.127296'], ['119.629692', '29.127136'], ['119.629539', '29.127127'], ['119.62307', '29.126789'], ['119.621246', '29.126698'], ['119.621193', '29.126688'], ['119.619141', '29.126593'], ['119.617813', '29.126535'], ['119.61541', '29.126429'], ['119.614571', '29.126375'], ['119.613808', '29.126297'], ['119.61235', '29.126085'], ['119.611511', '29.125898'], ['119.610466', '29.125595'], ['119.609894', '29.125414'], ['119.608879', '29.125023'], ['119.608421', '29.124813'], ['119.608299', '29.124754'], ['119.608101', '29.124653'], ['119.606888', '29.123976'], ['119.606491', '29.123711'], ['119.605904', '29.123316'], ['119.605194', '29.122768'], ['119.604622', '29.122278'], ['119.604126', '29.121813'], ['119.603645', '29.121311'], ['119.602448', '29.119965'], ['119.602081', '29.119549'], ['119.600403', '29.117647'], ['119.598785', '29.115833'], ['119.598755', '29.115793'], ['119.597168', '29.113976'], ['119.597076', '29.11388'], ['119.596985', '29.113766'], ['119.595787', '29.11241'], ['119.592766', '29.108997'], ['119.591469', '29.107513'], ['119.591034', '29.107021'], ['119.590561', '29.106499'], ['119.587296', '29.102781'], ['119.587051', '29.102491'], ['119.58654', '29.101885'], ['119.586227', '29.101507'], ['119.586044', '29.101294'], ['119.583954', '29.098902'], ['119.582481', '29.097221'], ['119.582069', '29.096703'], ['119.581154', '29.095461'], ['119.580841', '29.09495'], ['119.580666', '29.094654'], ['119.580368', '29.09404'], ['119.580101', '29.093479'], ['119.57991', '29.093008'], ['119.579468', '29.091797'], ['119.578552', '29.089239'], ['119.578552', '29.089239'], ['119.576981', '29.089827'], ['119.576157', '29.090118'], ['119.575188', '29.09046'], ['119.574417', '29.090742'], ['119.574211', '29.090687'], ['119.573982', '29.090096'], ['119.573708', '29.089302'], ['119.573341', '29.088282'], ['119.573082', '29.087551'], ['119.572838', '29.08688'], ['119.57254', '29.086039'], ['119.572433', '29.08576'], ['119.572433', '29.08576'], ['119.571663', '29.085947'], ['119.571663', '29.085947'], ['119.571686', '29.086029'], ['119.571701', '29.086102'], ['119.571716', '29.08621']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>