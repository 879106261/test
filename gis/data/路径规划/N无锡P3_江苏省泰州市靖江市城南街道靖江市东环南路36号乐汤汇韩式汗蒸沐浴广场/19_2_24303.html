<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.258224', '31.881342'], ['120.258072', '31.881308'], ['120.257858', '31.881193'], ['120.257431', '31.880911'], ['120.257278', '31.880793'], ['120.256851', '31.880396'], ['120.256607', '31.880213'], ['120.256348', '31.88007'], ['120.25618', '31.879978'], ['120.25573', '31.879768'], ['120.255211', '31.879522'], ['120.255005', '31.879375'], ['120.254684', '31.879116'], ['120.254616', '31.879026'], ['120.254372', '31.878752'], ['120.254204', '31.878494'], ['120.253967', '31.878134'], ['120.253616', '31.877596'], ['120.253441', '31.877323'], ['120.253326', '31.877373'], ['120.253609', '31.877817'], ['120.253998', '31.878471'], ['120.254311', '31.878998'], ['120.254311', '31.878998'], ['120.254616', '31.879208'], ['120.254951', '31.879467'], ['120.255066', '31.879545'], ['120.255295', '31.879671'], ['120.255486', '31.879774'], ['120.255959', '31.879978'], ['120.256264', '31.880133'], ['120.256348', '31.880182'], ['120.256508', '31.880278'], ['120.256676', '31.880396'], ['120.256836', '31.88052'], ['120.256981', '31.880655'], ['120.257446', '31.881124'], ['120.257599', '31.881254'], ['120.258301', '31.881771'], ['120.258842', '31.881784'], ['120.259384', '31.8818'], ['120.261742', '31.881863'], ['120.262581', '31.881884'], ['120.263191', '31.881897'], ['120.263191', '31.881897'], ['120.263603', '31.881817'], ['120.26403', '31.8818'], ['120.265648', '31.881794'], ['120.265648', '31.881794'], ['120.265678', '31.881744'], ['120.265732', '31.881712'], ['120.265793', '31.88168'], ['120.265869', '31.881662'], ['120.265923', '31.881653'], ['120.266068', '31.881662'], ['120.266144', '31.88168'], ['120.266205', '31.881706'], ['120.266258', '31.881748'], ['120.266304', '31.881804'], ['120.26635', '31.881905'], ['120.266365', '31.881958'], ['120.266365', '31.882057'], ['120.26635', '31.882172'], ['120.266319', '31.882223'], ['120.266296', '31.882278'], ['120.266258', '31.882322'], ['120.266258', '31.882322'], ['120.266205', '31.882353'], ['120.266144', '31.882381'], ['120.266144', '31.882381'], ['120.266037', '31.882677'], ['120.265999', '31.882919'], ['120.265976', '31.885283'], ['120.265991', '31.887136'], ['120.265991', '31.887136'], ['120.266121', '31.887344'], ['120.266258', '31.887465'], ['120.267212', '31.887522'], ['120.267403', '31.887531'], ['120.268669', '31.8876'], ['120.268776', '31.887604'], ['120.269096', '31.887623'], ['120.270439', '31.887695'], ['120.270996', '31.88773'], ['120.27182', '31.887774'], ['120.27224', '31.887796'], ['120.272377', '31.8878'], ['120.272842', '31.887838'], ['120.274155', '31.88792'], ['120.275894', '31.888'], ['120.275963', '31.888'], ['120.276527', '31.888025'], ['120.276611', '31.888029'], ['120.277046', '31.88806'], ['120.277214', '31.888073'], ['120.27832', '31.888134'], ['120.278336', '31.888134'], ['120.28054', '31.888233'], ['120.281723', '31.888365'], ['120.282166', '31.888433'], ['120.282898', '31.888601'], ['120.283882', '31.88891'], ['120.284416', '31.889103'], ['120.285004', '31.889385'], ['120.286095', '31.8899'], ['120.286621', '31.890146'], ['120.286674', '31.890173'], ['120.287758', '31.890686'], ['120.288551', '31.89106'], ['120.289055', '31.891298'], ['120.289162', '31.89135'], ['120.289635', '31.891567'], ['120.289696', '31.891602'], ['120.290108', '31.891804'], ['120.29097', '31.892208'], ['120.292137', '31.892756'], ['120.292252', '31.892822'], ['120.292587', '31.892969'], ['120.293091', '31.893202'], ['120.293327', '31.893307'], ['120.294136', '31.893684'], ['120.29509', '31.89415'], ['120.295555', '31.894381'], ['120.296852', '31.895004'], ['120.296951', '31.895079'], ['120.296974', '31.8953'], ['120.297028', '31.896328'], ['120.297096', '31.897141'], ['120.297096', '31.897141'], ['120.29718', '31.897236'], ['120.297226', '31.897387'], ['120.29734', '31.897532'], ['120.297546', '31.897512'], ['120.298477', '31.897461'], ['120.300293', '31.897331'], ['120.30117', '31.897276'], ['120.301949', '31.897213'], ['120.303123', '31.897154'], ['120.303123', '31.897154'], ['120.303421', '31.896254'], ['120.303619', '31.895681'], ['120.30381', '31.895113'], ['120.30381', '31.895113'], ['120.303795', '31.894381'], ['120.303787', '31.894289'], ['120.303741', '31.894115'], ['120.303719', '31.894022'], ['120.303635', '31.893854'], ['120.303528', '31.893688'], ['120.30336', '31.893459'], ['120.303261', '31.893307'], ['120.303177', '31.893169'], ['120.303017', '31.892841'], ['120.302948', '31.892696'], ['120.302879', '31.892448'], ['120.302818', '31.892323'], ['120.30278', '31.892241'], ['120.302757', '31.892149'], ['120.302719', '31.892027'], ['120.302681', '31.891817'], ['120.302681', '31.891684'], ['120.302681', '31.891567'], ['120.302727', '31.891262'], ['120.302727', '31.891262'], ['120.302773', '31.890984'], ['120.302788', '31.890682'], ['120.302803', '31.890556'], ['120.30278', '31.890364'], ['120.30278', '31.890364'], ['120.302658', '31.890146'], ['120.302605', '31.890068'], ['120.302513', '31.889965'], ['120.30246', '31.889931'], ['120.302383', '31.88987'], ['120.302284', '31.889822'], ['120.302193', '31.889782'], ['120.302086', '31.889757'], ['120.301979', '31.88975'], ['120.301872', '31.88974'], ['120.301765', '31.889753'], ['120.301659', '31.889772'], ['120.301567', '31.889805'], ['120.301468', '31.889845'], ['120.301376', '31.889896'], ['120.301308', '31.889956'], ['120.301239', '31.890026'], ['120.301102', '31.890205'], ['120.301041', '31.890347'], ['120.30088', '31.890787'], ['120.300774', '31.891636'], ['120.300629', '31.892569'], ['120.300575', '31.892965'], ['120.300514', '31.893307'], ['120.300323', '31.894409'], ['120.300293', '31.894596'], ['120.30011', '31.895641'], ['120.299683', '31.897591'], ['120.299408', '31.898676'], ['120.299179', '31.899326'], ['120.29895', '31.900187'], ['120.298531', '31.901548'], ['120.298042', '31.90299'], ['120.297562', '31.904297'], ['120.29747', '31.904575'], ['120.29689', '31.905993'], ['120.29631', '31.907331'], ['120.296059', '31.90789'], ['120.294975', '31.910151'], ['120.294197', '31.911579'], ['120.293205', '31.913301'], ['120.293007', '31.913702'], ['120.292793', '31.914036'], ['120.292336', '31.914736'], ['120.291992', '31.915281'], ['120.291557', '31.915947'], ['120.290588', '31.917374'], ['120.289261', '31.919203'], ['120.288193', '31.920555'], ['120.287033', '31.921991'], ['120.286194', '31.923042'], ['120.285522', '31.923943'], ['120.285072', '31.92454'], ['120.284248', '31.92572'], ['120.283981', '31.926102'], ['120.283875', '31.926266'], ['120.283684', '31.926561'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279716', '31.982096'], ['120.279686', '31.982336'], ['120.279648', '31.982996'], ['120.279671', '31.983866'], ['120.279686', '31.984011'], ['120.279732', '31.984566'], ['120.279793', '31.985008'], ['120.279884', '31.985538'], ['120.279922', '31.985687'], ['120.280121', '31.986488'], ['120.280388', '31.987291'], ['120.280563', '31.987768'], ['120.280777', '31.98826'], ['120.281448', '31.98954'], ['120.281479', '31.989595'], ['120.282059', '31.990751'], ['120.282646', '31.991901'], ['120.282799', '31.992188'], ['120.283173', '31.992937'], ['120.2836', '31.993757'], ['120.28437', '31.995264'], ['120.284882', '31.996294'], ['120.284904', '31.996338'], ['120.285599', '31.998037'], ['120.285629', '31.998112'], ['120.286118', '31.999311'], ['120.286057', '31.999327'], ['120.285042', '31.999605'], ['120.28447', '31.999765'], ['120.283745', '32.000076'], ['120.283379', '32.000248'], ['120.282944', '32.000465'], ['120.282646', '32.000603'], ['120.282288', '32.000774'], ['120.280907', '32.001419'], ['120.280151', '32.00177'], ['120.280151', '32.00177'], ['120.280869', '32.002426'], ['120.281143', '32.002708'], ['120.28109', '32.002747'], ['120.280853', '32.002514'], ['120.280853', '32.002514'], ['120.280624', '32.002636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>