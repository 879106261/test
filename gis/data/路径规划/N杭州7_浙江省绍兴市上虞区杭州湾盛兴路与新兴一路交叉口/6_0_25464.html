<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.859879', '30.002977'], ['120.860199', '30.002934'], ['120.860199', '30.002934'], ['120.860168', '30.003658'], ['120.860153', '30.004021'], ['120.860123', '30.004648'], ['120.860092', '30.005251'], ['120.860077', '30.005434'], ['120.860069', '30.006071'], ['120.860054', '30.006262'], ['120.859985', '30.008087'], ['120.859947', '30.008881'], ['120.859909', '30.009544'], ['120.859886', '30.010132'], ['120.85984', '30.011084'], ['120.859833', '30.011358'], ['120.859795', '30.011818'], ['120.859741', '30.012369'], ['120.859741', '30.012453'], ['120.859718', '30.013142'], ['120.859695', '30.013702'], ['120.859673', '30.014332'], ['120.859673', '30.014458'], ['120.859665', '30.014648'], ['120.859627', '30.015491'], ['120.859573', '30.017'], ['120.859528', '30.0172'], ['120.858086', '30.017174'], ['120.85775', '30.017181'], ['120.857376', '30.017218'], ['120.857086', '30.017267'], ['120.856522', '30.017391'], ['120.856224', '30.01749'], ['120.854568', '30.018091'], ['120.854347', '30.018173'], ['120.853226', '30.018593'], ['120.852989', '30.018698'], ['120.852936', '30.018724'], ['120.851883', '30.01918'], ['120.850319', '30.019735'], ['120.849609', '30.019978'], ['120.848518', '30.020342'], ['120.84832', '30.020405'], ['120.847839', '30.020552'], ['120.847145', '30.020782'], ['120.844734', '30.021631'], ['120.84362', '30.021999'], ['120.843086', '30.022179'], ['120.842377', '30.022457'], ['120.8423', '30.022486'], ['120.841003', '30.022947'], ['120.837479', '30.024199'], ['120.834969', '30.025087'], ['120.83374', '30.025473'], ['120.833664', '30.025507'], ['120.833344', '30.025633'], ['120.832397', '30.025993'], ['120.831406', '30.026381'], ['120.830727', '30.02668'], ['120.830406', '30.026836'], ['120.829514', '30.027323'], ['120.828972', '30.02766'], ['120.828415', '30.028025'], ['120.827965', '30.028351'], ['120.827637', '30.028589'], ['120.825745', '30.02994'], ['120.825378', '30.030212'], ['120.825264', '30.030313'], ['120.825119', '30.030437'], ['120.824799', '30.030605'], ['120.824577', '30.030769'], ['120.822968', '30.031898'], ['120.822029', '30.032568'], ['120.819473', '30.03437'], ['120.817879', '30.035505'], ['120.816292', '30.036617'], ['120.81601', '30.036821'], ['120.812248', '30.039457'], ['120.81073', '30.04051'], ['120.810036', '30.040998'], ['120.810036', '30.040998'], ['120.809952', '30.041147'], ['120.809921', '30.041328'], ['120.809929', '30.041479'], ['120.80999', '30.041649'], ['120.811203', '30.042828'], ['120.812035', '30.043602'], ['120.813919', '30.045286'], ['120.814934', '30.04616'], ['120.816628', '30.047604'], ['120.817421', '30.048285'], ['120.818016', '30.048801'], ['120.818527', '30.049276'], ['120.818832', '30.049601'], ['120.819229', '30.050032'], ['120.819763', '30.050694'], ['120.82309', '30.055109'], ['120.823288', '30.055361'], ['120.823624', '30.055811'], ['120.823814', '30.056061'], ['120.824356', '30.05678'], ['120.824722', '30.057344'], ['120.824875', '30.0576'], ['120.825111', '30.058052'], ['120.825294', '30.058451'], ['120.825348', '30.058594'], ['120.825455', '30.058876'], ['120.825859', '30.060032'], ['120.826294', '30.061348'], ['120.826424', '30.061749'], ['120.827637', '30.065409'], ['120.828247', '30.067263'], ['120.828545', '30.068224'], ['120.828712', '30.068863'], ['120.828842', '30.069578'], ['120.828873', '30.069765'], ['120.828941', '30.070417'], ['120.829185', '30.072874'], ['120.829315', '30.074331'], ['120.829346', '30.07465'], ['120.829697', '30.078466'], ['120.829887', '30.080564'], ['120.829903', '30.080772'], ['120.830162', '30.083515'], ['120.830406', '30.086338'], ['120.830437', '30.086597'], ['120.830498', '30.087276'], ['120.830597', '30.088598'], ['120.830627', '30.089367'], ['120.830627', '30.089882'], ['120.830559', '30.091164'], ['120.830536', '30.091549'], ['120.830536', '30.091589'], ['120.830368', '30.093224'], ['120.830353', '30.093288'], ['120.830269', '30.09407'], ['120.829941', '30.096996'], ['120.829857', '30.097752'], ['120.829796', '30.098347'], ['120.829681', '30.099266'], ['120.829582', '30.100348'], ['120.829536', '30.101063'], ['120.829491', '30.101776'], ['120.829483', '30.102539'], ['120.829475', '30.102646'], ['120.82975', '30.108707'], ['120.829857', '30.111225'], ['120.829887', '30.111794'], ['120.829941', '30.112818'], ['120.829971', '30.113525'], ['120.830063', '30.115231'], ['120.830132', '30.115915'], ['120.830299', '30.116913'], ['120.830399', '30.11735'], ['120.830612', '30.118078'], ['120.831093', '30.119562'], ['120.831314', '30.120333'], ['120.831406', '30.120707'], ['120.831474', '30.121138'], ['120.83152', '30.121576'], ['120.831558', '30.122084'], ['120.831558', '30.122782'], ['120.831528', '30.123329'], ['120.831505', '30.123894'], ['120.831474', '30.12451'], ['120.831177', '30.129972'], ['120.830887', '30.135496'], ['120.830856', '30.136133'], ['120.830559', '30.141666'], ['120.830315', '30.146406'], ['120.830315', '30.146484'], ['120.830284', '30.146898'], ['120.830055', '30.151106'], ['120.829979', '30.151876'], ['120.829872', '30.152704'], ['120.82975', '30.153412'], ['120.829567', '30.154385'], ['120.829536', '30.154499'], ['120.829414', '30.155048'], ['120.829132', '30.156067'], ['120.828705', '30.157469'], ['120.8284', '30.158455'], ['120.827766', '30.160633'], ['120.827637', '30.161093'], ['120.826721', '30.164116'], ['120.825737', '30.167391'], ['120.8255', '30.168242'], ['120.825447', '30.168455'], ['120.825378', '30.168724'], ['120.825317', '30.169125'], ['120.825272', '30.169394'], ['120.825272', '30.169453'], ['120.825211', '30.170181'], ['120.825172', '30.171913'], ['120.825119', '30.176575'], ['120.825081', '30.17944'], ['120.825058', '30.18214'], ['120.825058', '30.18214'], ['120.827637', '30.182859'], ['120.833885', '30.184595'], ['120.835365', '30.185005'], ['120.836433', '30.185295'], ['120.837166', '30.185438'], ['120.83786', '30.185534'], ['120.838509', '30.185591'], ['120.839523', '30.185612'], ['120.839584', '30.185707'], ['120.838791', '30.188225'], ['120.838356', '30.189604'], ['120.83815', '30.19026'], ['120.838104', '30.19043'], ['120.837891', '30.191093']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>