<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.859879', '30.002977'], ['120.860199', '30.002934'], ['120.860802', '30.002855'], ['120.861671', '30.002737'], ['120.862663', '30.002617'], ['120.863251', '30.002546'], ['120.863312', '30.002541'], ['120.863274', '30.003658'], ['120.863251', '30.004089'], ['120.863235', '30.004654'], ['120.86322', '30.005186'], ['120.863182', '30.005974'], ['120.863159', '30.006519'], ['120.863144', '30.006685'], ['120.863136', '30.007174'], ['120.863091', '30.008133'], ['120.863029', '30.009626'], ['120.863007', '30.010239'], ['120.862968', '30.01096'], ['120.862923', '30.011698'], ['120.8629', '30.012491'], ['120.862892', '30.012564'], ['120.862877', '30.013288'], ['120.862823', '30.014421'], ['120.862808', '30.014648'], ['120.862808', '30.014681'], ['120.862793', '30.015799'], ['120.862801', '30.016203'], ['120.862839', '30.016436'], ['120.86293', '30.01685'], ['120.86293', '30.01685'], ['120.863007', '30.017076'], ['120.863091', '30.017271'], ['120.863403', '30.017765'], ['120.863602', '30.018015'], ['120.863922', '30.018356'], ['120.863968', '30.018415'], ['120.86451', '30.018915'], ['120.866562', '30.020815'], ['120.868629', '30.022728'], ['120.868866', '30.022928'], ['120.869171', '30.023161'], ['120.869659', '30.023441'], ['120.870041', '30.023607'], ['120.870285', '30.023689'], ['120.870659', '30.023771'], ['120.871368', '30.023907'], ['120.871437', '30.023884'], ['120.871582', '30.023903'], ['120.872543', '30.024019'], ['120.87278', '30.024044'], ['120.873154', '30.02409'], ['120.87458', '30.024258'], ['120.875603', '30.024393'], ['120.876038', '30.024435'], ['120.876404', '30.024471'], ['120.876717', '30.024498'], ['120.878029', '30.024666'], ['120.878426', '30.024714'], ['120.879066', '30.024792'], ['120.879128', '30.024796'], ['120.880363', '30.024948'], ['120.8815', '30.025095'], ['120.882828', '30.025255'], ['120.883972', '30.025396'], ['120.884941', '30.025505'], ['120.885193', '30.025551'], ['120.885315', '30.025587'], ['120.885361', '30.025616'], ['120.885361', '30.025616'], ['120.885803', '30.02552'], ['120.885887', '30.025438'], ['120.885979', '30.025274'], ['120.885979', '30.025274'], ['120.886108', '30.025442'], ['120.886238', '30.025633'], ['120.886406', '30.025881'], ['120.88665', '30.026258'], ['120.886711', '30.026302'], ['120.886894', '30.026533'], ['120.887497', '30.027382'], ['120.888199', '30.028389'], ['120.889198', '30.029795'], ['120.889671', '30.030455'], ['120.89003', '30.03096'], ['120.890274', '30.031301'], ['120.890579', '30.031727'], ['120.891106', '30.032457'], ['120.891136', '30.032513'], ['120.892387', '30.034275'], ['120.892654', '30.034658'], ['120.893021', '30.035156'], ['120.893059', '30.03521'], ['120.893433', '30.035728'], ['120.893555', '30.035906'], ['120.893784', '30.036238'], ['120.894066', '30.036617'], ['120.894203', '30.036808'], ['120.894318', '30.03698'], ['120.894508', '30.037249'], ['120.894951', '30.037865'], ['120.895218', '30.038242'], ['120.895271', '30.038321'], ['120.89637', '30.039873'], ['120.897278', '30.041166'], ['120.897324', '30.041229'], ['120.897903', '30.042053'], ['120.898346', '30.042683'], ['120.898643', '30.043098'], ['120.898781', '30.043299'], ['120.899048', '30.043667'], ['120.899185', '30.043861'], ['120.899269', '30.044003'], ['120.899971', '30.044977'], ['120.900024', '30.045059'], ['120.90007', '30.045099'], ['120.900215', '30.045137'], ['120.900215', '30.045137'], ['120.900314', '30.045118'], ['120.900452', '30.045118'], ['120.900551', '30.045126'], ['120.900658', '30.04516'], ['120.900749', '30.045208'], ['120.900818', '30.045265'], ['120.900909', '30.045355'], ['120.900932', '30.045437'], ['120.900963', '30.045525'], ['120.90097', '30.045601'], ['120.90097', '30.045673'], ['120.900948', '30.045742'], ['120.900917', '30.045847'], ['120.900833', '30.045946'], ['120.900833', '30.045946'], ['120.900963', '30.046371'], ['120.901123', '30.046635'], ['120.901535', '30.047218'], ['120.901802', '30.047604'], ['120.902336', '30.048365'], ['120.9039', '30.050577'], ['120.90435', '30.051197'], ['120.905441', '30.0527'], ['120.905609', '30.053024'], ['120.905663', '30.053064'], ['120.905914', '30.053289'], ['120.906296', '30.053598'], ['120.906776', '30.053957'], ['120.907814', '30.054695'], ['120.90834', '30.055065'], ['120.909492', '30.05588'], ['120.909477', '30.056007'], ['120.90905', '30.056484'], ['120.908623', '30.056963'], ['120.908089', '30.057556'], ['120.907448', '30.058264'], ['120.907158', '30.058594'], ['120.90715', '30.058601'], ['120.906235', '30.059681'], ['120.905434', '30.060688'], ['120.905197', '30.060984'], ['120.905029', '30.061262'], ['120.904877', '30.061562'], ['120.904793', '30.061785'], ['120.904716', '30.062004'], ['120.904655', '30.062258'], ['120.90461', '30.06267'], ['120.904594', '30.063021'], ['120.904594', '30.063984'], ['120.904594', '30.064739'], ['120.904594', '30.068447'], ['120.904594', '30.069578'], ['120.904594', '30.070946'], ['120.904594', '30.072001'], ['120.904594', '30.074404'], ['120.904594', '30.075109'], ['120.904594', '30.07848'], ['120.904594', '30.078697'], ['120.904594', '30.079792'], ['120.904594', '30.080364'], ['120.904594', '30.080564'], ['120.904594', '30.080677'], ['120.904594', '30.080742'], ['120.904587', '30.081047'], ['120.90435', '30.082354'], ['120.904205', '30.083164'], ['120.904045', '30.084131'], ['120.904007', '30.084352'], ['120.903946', '30.084696'], ['120.903778', '30.085642'], ['120.903549', '30.087057'], ['120.903496', '30.087404'], ['120.903404', '30.088087'], ['120.903358', '30.088434'], ['120.903069', '30.091002'], ['120.902992', '30.091549'], ['120.902832', '30.092905'], ['120.902771', '30.093451'], ['120.902687', '30.094223'], ['120.902618', '30.094713'], ['120.902496', '30.095819'], ['120.902367', '30.096979'], ['120.902344', '30.097204'], ['120.902321', '30.097368'], ['120.902229', '30.097805'], ['120.902016', '30.098442'], ['120.901688', '30.099245'], ['120.901604', '30.09948'], ['120.901131', '30.100637'], ['120.901024', '30.10092'], ['120.900772', '30.101545'], ['120.900383', '30.102495'], ['120.900375', '30.102539'], ['120.900162', '30.103029'], ['120.899971', '30.103479'], ['120.899704', '30.104094'], ['120.899475', '30.104778'], ['120.899414', '30.104952'], ['120.899261', '30.105438'], ['120.898804', '30.107071'], ['120.898705', '30.107418'], ['120.898567', '30.107882'], ['120.898392', '30.108484'], ['120.898277', '30.108875'], ['120.897949', '30.110031'], ['120.897636', '30.111076'], ['120.897484', '30.111628'], ['120.897339', '30.112127'], ['120.897179', '30.112713'], ['120.89695', '30.113525'], ['120.896904', '30.113684'], ['120.896736', '30.114248'], ['120.896469', '30.115164'], ['120.896317', '30.115637'], ['120.895912', '30.116959'], ['120.895607', '30.117868'], ['120.895432', '30.118446'], ['120.895149', '30.119349'], ['120.894615', '30.121038'], ['120.894424', '30.121626'], ['120.894325', '30.121931'], ['120.894028', '30.122915'], ['120.893555', '30.124439'], ['120.893532', '30.12451'], ['120.893494', '30.124626'], ['120.893234', '30.125422'], ['120.892921', '30.126402'], ['120.892776', '30.126881'], ['120.892601', '30.127405'], ['120.892525', '30.127661'], ['120.892204', '30.128742'], ['120.891914', '30.129757'], ['120.891815', '30.13011'], ['120.891541', '30.131098'], ['120.891243', '30.132149'], ['120.891228', '30.1322'], ['120.890823', '30.133667'], ['120.890732', '30.134031'], ['120.890686', '30.13418'], ['120.890404', '30.135201'], ['120.89032', '30.135496'], ['120.889946', '30.136835'], ['120.889694', '30.137699'], ['120.88958', '30.138147'], ['120.889359', '30.138916'], ['120.889153', '30.139454'], ['120.88913', '30.139513'], ['120.888725', '30.140377'], ['120.888412', '30.141125'], ['120.888306', '30.141354'], ['120.887962', '30.142076'], ['120.887344', '30.143419'], ['120.887314', '30.143471'], ['120.886642', '30.144922'], ['120.886208', '30.145815'], ['120.886108', '30.146042'], ['120.885895', '30.146484'], ['120.885742', '30.146809'], ['120.885101', '30.148264'], ['120.885063', '30.148312'], ['120.883789', '30.151217'], ['120.883415', '30.152027'], ['120.882286', '30.15448'], ['120.881905', '30.155342'], ['120.881477', '30.156242'], ['120.880936', '30.157469'], ['120.880859', '30.15764'], ['120.880737', '30.157934'], ['120.880585', '30.158407'], ['120.880409', '30.159067'], ['120.880104', '30.160217'], ['120.879074', '30.163853'], ['120.879028', '30.164045'], ['120.877777', '30.168455'], ['120.876907', '30.171576'], ['120.876785', '30.172091'], ['120.876762', '30.172144'], ['120.876518', '30.173492'], ['120.876427', '30.174213'], ['120.876335', '30.175087'], ['120.875999', '30.17944'], ['120.87587', '30.181137'], ['120.875626', '30.184193'], ['120.875534', '30.185324'], ['120.87542', '30.185417'], ['120.871582', '30.185452'], ['120.870766', '30.185455'], ['120.866539', '30.185486'], ['120.865158', '30.185492'], ['120.862114', '30.18553'], ['120.861008', '30.18553'], ['120.860275', '30.185534'], ['120.856445', '30.18557'], ['120.854759', '30.185577'], ['120.852592', '30.1856'], ['120.85144', '30.185616'], ['120.851326', '30.185616'], ['120.849609', '30.185619'], ['120.848709', '30.185633'], ['120.84819', '30.185633'], ['120.844894', '30.185665'], ['120.841743', '30.185688'], ['120.84127', '30.185688'], ['120.839584', '30.185707'], ['120.839584', '30.185707'], ['120.838791', '30.188225'], ['120.838356', '30.189604'], ['120.83815', '30.19026'], ['120.838104', '30.19043'], ['120.837891', '30.191093']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>