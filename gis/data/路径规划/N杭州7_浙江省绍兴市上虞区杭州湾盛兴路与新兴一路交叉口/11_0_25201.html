<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.859879', '30.002977'], ['120.860199', '30.002934'], ['120.860199', '30.002934'], ['120.860168', '30.003658'], ['120.860153', '30.004021'], ['120.860123', '30.004648'], ['120.860092', '30.005251'], ['120.860077', '30.005434'], ['120.860069', '30.006071'], ['120.860054', '30.006262'], ['120.859985', '30.008087'], ['120.859947', '30.008881'], ['120.859909', '30.009544'], ['120.859886', '30.010132'], ['120.85984', '30.011084'], ['120.859833', '30.011358'], ['120.859795', '30.011818'], ['120.859741', '30.012369'], ['120.859741', '30.012453'], ['120.857796', '30.012392'], ['120.856712', '30.012356'], ['120.856087', '30.012335'], ['120.854904', '30.012308'], ['120.854454', '30.012291'], ['120.85421', '30.0123'], ['120.853592', '30.0124'], ['120.852524', '30.012587'], ['120.851692', '30.01273'], ['120.850945', '30.012865'], ['120.849609', '30.013096'], ['120.849411', '30.013134'], ['120.848701', '30.013264'], ['120.847664', '30.013456'], ['120.847664', '30.013456'], ['120.847519', '30.013525'], ['120.847343', '30.01358'], ['120.847252', '30.013659'], ['120.84713', '30.013834'], ['120.847328', '30.014648'], ['120.847771', '30.016529'], ['120.847908', '30.017126'], ['120.848251', '30.018616'], ['120.84832', '30.01898'], ['120.848419', '30.019562'], ['120.848488', '30.020134'], ['120.848518', '30.020342'], ['120.848587', '30.021212'], ['120.848732', '30.023369'], ['120.84874', '30.023424'], ['120.848808', '30.023993'], ['120.848869', '30.024418'], ['120.848976', '30.024904'], ['120.849167', '30.025438'], ['120.849236', '30.025633'], ['120.849396', '30.026016'], ['120.849602', '30.026421'], ['120.849609', '30.026436'], ['120.852737', '30.032404'], ['120.85302', '30.032909'], ['120.853325', '30.033386'], ['120.853325', '30.033386'], ['120.853645', '30.033615'], ['120.853752', '30.03368'], ['120.853943', '30.033703'], ['120.85405', '30.033689'], ['120.85424', '30.033615'], ['120.854301', '30.033569'], ['120.854355', '30.03351'], ['120.854385', '30.033415'], ['120.854362', '30.033247'], ['120.854294', '30.03303'], ['120.853447', '30.03141'], ['120.853447', '30.03141'], ['120.85141', '30.032391'], ['120.849609', '30.033293'], ['120.849297', '30.033442'], ['120.849121', '30.033529'], ['120.848007', '30.034111'], ['120.847923', '30.034163'], ['120.847443', '30.034412'], ['120.847008', '30.034704'], ['120.846603', '30.035036'], ['120.846077', '30.035511'], ['120.845734', '30.035889'], ['120.845108', '30.036617'], ['120.845078', '30.036657'], ['120.844376', '30.0375'], ['120.84433', '30.037542'], ['120.842842', '30.039303'], ['120.840935', '30.041553'], ['120.840614', '30.041945'], ['120.840073', '30.042761'], ['120.839821', '30.043152'], ['120.838989', '30.044592'], ['120.838272', '30.04582'], ['120.838211', '30.045889'], ['120.838074', '30.046011'], ['120.837166', '30.046789'], ['120.83712', '30.046831'], ['120.836334', '30.047491'], ['120.836197', '30.047604'], ['120.834808', '30.048716'], ['120.833824', '30.0495'], ['120.833771', '30.04954'], ['120.832504', '30.050474'], ['120.831512', '30.051189'], ['120.831261', '30.051371'], ['120.829407', '30.052618'], ['120.829063', '30.052809'], ['120.827637', '30.05356'], ['120.827057', '30.053858'], ['120.826012', '30.054327'], ['120.824234', '30.055147'], ['120.823692', '30.055422'], ['120.823692', '30.055422'], ['120.824127', '30.056147'], ['120.824318', '30.056511'], ['120.824669', '30.057079'], ['120.824722', '30.057344'], ['120.824875', '30.0576'], ['120.825111', '30.058052'], ['120.825294', '30.058451'], ['120.825348', '30.058594'], ['120.825455', '30.058876'], ['120.825859', '30.060032'], ['120.826294', '30.061348'], ['120.826424', '30.061749'], ['120.827637', '30.065409'], ['120.828247', '30.067263'], ['120.828545', '30.068224'], ['120.828712', '30.068863'], ['120.828842', '30.069578'], ['120.828873', '30.069765'], ['120.828941', '30.070417'], ['120.829185', '30.072874'], ['120.829315', '30.074331'], ['120.829346', '30.07465'], ['120.829697', '30.078466'], ['120.829887', '30.080564'], ['120.829903', '30.080772'], ['120.830162', '30.083515'], ['120.830406', '30.086338'], ['120.830437', '30.086597'], ['120.830498', '30.087276'], ['120.830597', '30.088598'], ['120.830627', '30.089367'], ['120.830627', '30.089882'], ['120.830559', '30.091164'], ['120.830536', '30.091549'], ['120.830536', '30.091589'], ['120.830368', '30.093224'], ['120.830353', '30.093288'], ['120.830269', '30.09407'], ['120.829941', '30.096996'], ['120.829857', '30.097752'], ['120.829796', '30.098347'], ['120.829681', '30.099266'], ['120.829582', '30.100348'], ['120.829536', '30.101063'], ['120.829491', '30.101776'], ['120.829483', '30.102539'], ['120.829475', '30.102646'], ['120.82975', '30.108707'], ['120.829857', '30.111225'], ['120.829887', '30.111794'], ['120.829941', '30.112818'], ['120.829971', '30.113525'], ['120.830063', '30.115231'], ['120.830132', '30.115915'], ['120.830299', '30.116913'], ['120.830399', '30.11735'], ['120.830612', '30.118078'], ['120.831093', '30.119562'], ['120.831314', '30.120333'], ['120.831406', '30.120707'], ['120.831474', '30.121138'], ['120.83152', '30.121576'], ['120.831558', '30.122084'], ['120.831558', '30.122782'], ['120.831528', '30.123329'], ['120.831505', '30.123894'], ['120.831474', '30.12451'], ['120.831177', '30.129972'], ['120.830887', '30.135496'], ['120.830856', '30.136133'], ['120.830559', '30.141666'], ['120.830315', '30.146406'], ['120.830315', '30.146484'], ['120.830284', '30.146898'], ['120.830055', '30.151106'], ['120.829979', '30.151876'], ['120.829872', '30.152704'], ['120.82975', '30.153412'], ['120.829567', '30.154385'], ['120.829536', '30.154499'], ['120.829414', '30.155048'], ['120.829132', '30.156067'], ['120.828705', '30.157469'], ['120.8284', '30.158455'], ['120.827766', '30.160633'], ['120.827637', '30.161093'], ['120.826721', '30.164116'], ['120.825737', '30.167391'], ['120.8255', '30.168242'], ['120.825447', '30.168455'], ['120.825378', '30.168724'], ['120.825317', '30.169125'], ['120.825272', '30.169394'], ['120.825272', '30.169453'], ['120.825211', '30.170181'], ['120.825172', '30.171913'], ['120.825119', '30.176575'], ['120.825081', '30.17944'], ['120.825058', '30.18214'], ['120.825058', '30.18214'], ['120.827637', '30.182859'], ['120.833885', '30.184595'], ['120.835365', '30.185005'], ['120.836433', '30.185295'], ['120.837166', '30.185438'], ['120.83786', '30.185534'], ['120.838509', '30.185591'], ['120.839523', '30.185612'], ['120.839584', '30.185707'], ['120.838791', '30.188225'], ['120.838356', '30.189604'], ['120.83815', '30.19026'], ['120.838104', '30.19043'], ['120.837891', '30.191093']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>