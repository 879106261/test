<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.671074', '31.087465'], ['120.670898', '31.086639'], ['120.67054', '31.085009'], ['120.670265', '31.083715'], ['120.670265', '31.083715'], ['120.669807', '31.083797'], ['120.66806', '31.084093'], ['120.667519', '31.084185'], ['120.666763', '31.084332'], ['120.665588', '31.084549'], ['120.66481', '31.084696'], ['120.663742', '31.084867'], ['120.66304', '31.084978'], ['120.661987', '31.085138'], ['120.660042', '31.085434'], ['120.659172', '31.085533'], ['120.658539', '31.085615'], ['120.65744', '31.085733'], ['120.655396', '31.085938'], ['120.652466', '31.08617'], ['120.651863', '31.086216'], ['120.651855', '31.086216'], ['120.651512', '31.086237'], ['120.651421', '31.086243'], ['120.651123', '31.086258'], ['120.649948', '31.086329'], ['120.644913', '31.086554'], ['120.64418', '31.086576'], ['120.64386', '31.08658'], ['120.643692', '31.086584'], ['120.643173', '31.086618'], ['120.642921', '31.086618'], ['120.64267', '31.086618'], ['120.64267', '31.086618'], ['120.642311', '31.086689'], ['120.640205', '31.086744'], ['120.639679', '31.086754'], ['120.63903', '31.086689'], ['120.637802', '31.086721'], ['120.636139', '31.086781'], ['120.63134', '31.086927'], ['120.629883', '31.086981'], ['120.629166', '31.087'], ['120.628624', '31.087017'], ['120.627472', '31.087063'], ['120.621925', '31.087263'], ['120.62146', '31.087276'], ['120.617882', '31.087414'], ['120.61618', '31.087505'], ['120.615105', '31.087555'], ['120.614037', '31.087618'], ['120.612961', '31.087738'], ['120.610481', '31.088074'], ['120.610016', '31.088152'], ['120.608322', '31.088572'], ['120.60791', '31.088676'], ['120.607254', '31.088854'], ['120.60582', '31.089285'], ['120.605568', '31.089357'], ['120.605568', '31.089357'], ['120.605492', '31.089632'], ['120.605484', '31.089905'], ['120.605827', '31.090422'], ['120.606133', '31.090899'], ['120.606377', '31.091307'], ['120.60656', '31.091621'], ['120.606979', '31.09236'], ['120.607292', '31.093014'], ['120.607758', '31.09404'], ['120.60791', '31.094421'], ['120.608109', '31.094927'], ['120.608353', '31.095669'], ['120.608513', '31.096155'], ['120.608719', '31.096844'], ['120.608879', '31.097509'], ['120.609016', '31.098061'], ['120.609161', '31.098885'], ['120.609177', '31.098944'], ['120.609291', '31.099764'], ['120.609367', '31.100515'], ['120.609413', '31.101076'], ['120.609444', '31.101767'], ['120.609451', '31.102291'], ['120.609451', '31.102501'], ['120.609451', '31.102556'], ['120.609444', '31.103134'], ['120.609352', '31.104467'], ['120.609245', '31.105423'], ['120.609146', '31.105965'], ['120.609001', '31.10667'], ['120.608643', '31.108294'], ['120.608231', '31.109818'], ['120.608192', '31.109926'], ['120.60791', '31.110947'], ['120.607536', '31.112249'], ['120.607246', '31.113283'], ['120.606453', '31.116047'], ['120.606171', '31.117035'], ['120.605286', '31.120146'], ['120.604996', '31.121172'], ['120.604958', '31.121275'], ['120.604309', '31.123589'], ['120.604118', '31.124268'], ['120.604012', '31.124659'], ['120.603271', '31.127226'], ['120.603271', '31.127226'], ['120.602592', '31.129587'], ['120.602592', '31.129587'], ['120.602425', '31.130159'], ['120.602364', '31.130383'], ['120.600975', '31.135252'], ['120.600975', '31.135252'], ['120.600975', '31.135252'], ['120.600777', '31.136002'], ['120.600494', '31.137089'], ['120.600311', '31.138029'], ['120.600182', '31.138794'], ['120.600082', '31.139835'], ['120.60006', '31.140251'], ['120.60006', '31.140251'], ['120.600044', '31.140533'], ['120.600037', '31.141111'], ['120.600037', '31.141489'], ['120.60006', '31.142208'], ['120.600151', '31.14319'], ['120.600204', '31.143612'], ['120.600258', '31.143885'], ['120.600266', '31.143898'], ['120.600403', '31.144644'], ['120.600578', '31.145464'], ['120.600677', '31.145828'], ['120.6008', '31.146238'], ['120.600937', '31.146694'], ['120.601219', '31.147499'], ['120.602249', '31.150009'], ['120.603851', '31.153738'], ['120.605362', '31.157227'], ['120.605385', '31.157301'], ['120.605446', '31.15744'], ['120.605568', '31.157705'], ['120.606117', '31.158941'], ['120.606522', '31.159922'], ['120.60791', '31.163124'], ['120.60849', '31.164463'], ['120.609581', '31.166975'], ['120.610168', '31.168211'], ['120.610291', '31.16848'], ['120.611122', '31.170126'], ['120.612541', '31.17276'], ['120.612823', '31.173347'], ['120.613052', '31.173859'], ['120.613174', '31.174202'], ['120.613388', '31.17491'], ['120.613564', '31.175716'], ['120.613632', '31.176161'], ['120.61367', '31.176601'], ['120.613686', '31.177473'], ['120.61367', '31.177916'], ['120.613632', '31.178324'], ['120.613548', '31.178881'], ['120.613487', '31.179197'], ['120.613403', '31.179575'], ['120.613312', '31.179867'], ['120.613091', '31.180515'], ['120.612946', '31.18088'], ['120.612946', '31.18088'], ['120.612953', '31.181025'], ['120.612877', '31.181215'], ['120.612801', '31.181385'], ['120.612465', '31.182022'], ['120.612228', '31.182495'], ['120.611725', '31.183352'], ['120.611694', '31.18342'], ['120.611671', '31.183601'], ['120.611313', '31.184145'], ['120.611198', '31.18438'], ['120.61113', '31.184523'], ['120.610962', '31.184965'], ['120.610344', '31.185156'], ['120.610222', '31.185091'], ['120.610222', '31.185091'], ['120.608765', '31.184973'], ['120.60878', '31.1847'], ['120.608932', '31.18326'], ['120.609039', '31.181971'], ['120.609039', '31.181971'], ['120.60791', '31.181875'], ['120.605583', '31.181671'], ['120.603325', '31.181429']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>