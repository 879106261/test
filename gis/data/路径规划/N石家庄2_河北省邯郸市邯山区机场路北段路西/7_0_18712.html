<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['114.568443', '36.589554'], ['114.568329', '36.589565'], ['114.567917', '36.589622'], ['114.567184', '36.589703'], ['114.566574', '36.589783'], ['114.566193', '36.589832'], ['114.56543', '36.589924'], ['114.565269', '36.589935'], ['114.56469', '36.590008'], ['114.563972', '36.590092'], ['114.56208', '36.590321'], ['114.561111', '36.590446'], ['114.560822', '36.590488'], ['114.559517', '36.590637'], ['114.559189', '36.590679'], ['114.559006', '36.590698'], ['114.558113', '36.590797'], ['114.553436', '36.591362'], ['114.550484', '36.591698'], ['114.549896', '36.591763'], ['114.54808', '36.591957'], ['114.547852', '36.591991'], ['114.547554', '36.592022'], ['114.546341', '36.592163'], ['114.545593', '36.592255'], ['114.544891', '36.592331'], ['114.543457', '36.592472'], ['114.543434', '36.592472'], ['114.541855', '36.592636'], ['114.540955', '36.592724'], ['114.540588', '36.592758'], ['114.539757', '36.592842'], ['114.539246', '36.592823'], ['114.539108', '36.591785'], ['114.539085', '36.591518'], ['114.539085', '36.591518'], ['114.538933', '36.59132'], ['114.538506', '36.590816'], ['114.538353', '36.59066'], ['114.537865', '36.590252'], ['114.53759', '36.590038'], ['114.536789', '36.58942'], ['114.536095', '36.588902'], ['114.535339', '36.588333'], ['114.535019', '36.588127'], ['114.534615', '36.587894'], ['114.53421', '36.587727'], ['114.533997', '36.58765'], ['114.533798', '36.587585'], ['114.532455', '36.587284'], ['114.529579', '36.586681'], ['114.527855', '36.58633'], ['114.525452', '36.585831'], ['114.5252', '36.585781'], ['114.524574', '36.58567'], ['114.523895', '36.585587'], ['114.522865', '36.585487'], ['114.521851', '36.585442'], ['114.521736', '36.585434'], ['114.521484', '36.585426'], ['114.521179', '36.585407'], ['114.52066', '36.585396'], ['114.520065', '36.585365'], ['114.519493', '36.585342'], ['114.51899', '36.58532'], ['114.518631', '36.585297'], ['114.518112', '36.585308'], ['114.517975', '36.585217'], ['114.517494', '36.584644'], ['114.517357', '36.584473'], ['114.516571', '36.583485'], ['114.516418', '36.583286'], ['114.515793', '36.5825'], ['114.515625', '36.582272'], ['114.515335', '36.581787'], ['114.51506', '36.58128'], ['114.514824', '36.580765'], ['114.51458', '36.580074'], ['114.51384', '36.577652'], ['114.513214', '36.575695'], ['114.513062', '36.575214'], ['114.512924', '36.574726'], ['114.512512', '36.573486'], ['114.512001', '36.571873'], ['114.511803', '36.571339'], ['114.511719', '36.571167'], ['114.51149', '36.570747'], ['114.511276', '36.570423'], ['114.51091', '36.569965'], ['114.510704', '36.569752'], ['114.510246', '36.569332'], ['114.510086', '36.569202'], ['114.509743', '36.568962'], ['114.509468', '36.568798'], ['114.50901', '36.56855'], ['114.508476', '36.568321'], ['114.507866', '36.568104'], ['114.507324', '36.56797'], ['114.506844', '36.567883'], ['114.506195', '36.567806'], ['114.505867', '36.56778'], ['114.50354', '36.567551'], ['114.501862', '36.567448'], ['114.499954', '36.567402'], ['114.499512', '36.567406'], ['114.498917', '36.567413'], ['114.496468', '36.567482'], ['114.494736', '36.567577'], ['114.493828', '36.567631'], ['114.493828', '36.567631'], ['114.493378', '36.56765'], ['114.491524', '36.567768'], ['114.489777', '36.567894'], ['114.488747', '36.56797'], ['114.485031', '36.568214'], ['114.484192', '36.568268'], ['114.483986', '36.568283'], ['114.480995', '36.568508'], ['114.480904', '36.568512'], ['114.478737', '36.568649'], ['114.477592', '36.56871'], ['114.477539', '36.56871'], ['114.476753', '36.568733'], ['114.475052', '36.568741'], ['114.474625', '36.568741'], ['114.474365', '36.568737'], ['114.472336', '36.568695'], ['114.472275', '36.568687'], ['114.471207', '36.568645'], ['114.469383', '36.568596'], ['114.468002', '36.568562'], ['114.465401', '36.568493'], ['114.464836', '36.568481'], ['114.462669', '36.568447'], ['114.461754', '36.568428'], ['114.461082', '36.56839'], ['114.460747', '36.568348'], ['114.458176', '36.567959'], ['114.45726', '36.567875'], ['114.456619', '36.567841'], ['114.455864', '36.567825'], ['114.455566', '36.567825'], ['114.45475', '36.567822'], ['114.452614', '36.567806'], ['114.452026', '36.567799'], ['114.451859', '36.567604'], ['114.451553', '36.566307'], ['114.450958', '36.563557'], ['114.450935', '36.563412'], ['114.450912', '36.563354'], ['114.450729', '36.5625'], ['114.450447', '36.561234'], ['114.450264', '36.560417'], ['114.450127', '36.559803'], ['114.450119', '36.559753'], ['114.449959', '36.559074'], ['114.449463', '36.556808'], ['114.449448', '36.556759'], ['114.449097', '36.555138'], ['114.449005', '36.554691'], ['114.448853', '36.553703'], ['114.448723', '36.552559'], ['114.448654', '36.55151'], ['114.448654', '36.551399'], ['114.448639', '36.550606'], ['114.448647', '36.549919'], ['114.448753', '36.547955'], ['114.448952', '36.54451'], ['114.449028', '36.543228'], ['114.449081', '36.542339'], ['114.449181', '36.540524'], ['114.449203', '36.540272'], ['114.449265', '36.53894'], ['114.449257', '36.538521'], ['114.449173', '36.53735'], ['114.449112', '36.536839'], ['114.449043', '36.53635'], ['114.448837', '36.535404'], ['114.448692', '36.534859'], ['114.448502', '36.534206'], ['114.448151', '36.533283'], ['114.447952', '36.532803'], ['114.447723', '36.532318'], ['114.44738', '36.531635'], ['114.447083', '36.53112'], ['114.446869', '36.530754'], ['114.446365', '36.529999'], ['114.446053', '36.529541'], ['114.443726', '36.526096'], ['114.442558', '36.524353'], ['114.442352', '36.524021'], ['114.440804', '36.521744'], ['114.438652', '36.518555'], ['114.43853', '36.518383'], ['114.436852', '36.5159'], ['114.435921', '36.514473'], ['114.435638', '36.513992'], ['114.435402', '36.513542'], ['114.435112', '36.512943'], ['114.434837', '36.512333'], ['114.434647', '36.511837'], ['114.434464', '36.511311'], ['114.434258', '36.510612'], ['114.434052', '36.509945'], ['114.433998', '36.509769']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>