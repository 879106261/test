<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.891251', '32.297337'], ['119.890526', '32.297543'], ['119.890526', '32.297466'], ['119.891113', '32.297295'], ['119.891632', '32.297153'], ['119.891945', '32.29707'], ['119.892647', '32.296898'], ['119.893303', '32.296734'], ['119.894661', '32.29641'], ['119.895393', '32.296223'], ['119.89608', '32.296055'], ['119.897209', '32.295761'], ['119.898491', '32.295429'], ['119.899544', '32.29517'], ['119.900032', '32.295025'], ['119.900169', '32.295048'], ['119.900055', '32.295616'], ['119.899963', '32.29604'], ['119.899727', '32.296955'], ['119.899345', '32.298672'], ['119.899323', '32.298725'], ['119.89917', '32.299324'], ['119.899078', '32.299805'], ['119.898773', '32.301128'], ['119.898468', '32.302483'], ['119.898376', '32.30304'], ['119.898239', '32.303997'], ['119.89817', '32.30481'], ['119.898148', '32.305302'], ['119.898148', '32.305332'], ['119.898163', '32.305916'], ['119.89814', '32.306702'], ['119.898125', '32.308083'], ['119.898109', '32.308788'], ['119.898109', '32.309113'], ['119.898094', '32.309921'], ['119.898079', '32.310791'], ['119.898079', '32.311028'], ['119.898079', '32.311386'], ['119.898079', '32.311584'], ['119.898041', '32.31435'], ['119.898018', '32.315708'], ['119.898003', '32.317139'], ['119.898003', '32.317188'], ['119.897972', '32.319317'], ['119.897949', '32.321777'], ['119.897949', '32.322018'], ['119.897896', '32.323147'], ['119.897896', '32.323505'], ['119.897896', '32.323589'], ['119.899414', '32.328934'], ['119.899414', '32.328934'], ['119.89959', '32.32909'], ['119.89978', '32.329201'], ['119.901016', '32.329067'], ['119.904785', '32.328667'], ['119.90551', '32.328594'], ['119.907379', '32.328388'], ['119.909103', '32.32819'], ['119.910072', '32.328102'], ['119.915779', '32.327591'], ['119.916336', '32.327545'], ['119.916817', '32.327515'], ['119.916916', '32.327522'], ['119.917191', '32.327526'], ['119.918854', '32.327621'], ['119.919228', '32.32766'], ['119.919495', '32.327705'], ['119.919762', '32.327778'], ['119.921371', '32.328365'], ['119.921783', '32.328548'], ['119.921967', '32.328648'], ['119.922157', '32.328793'], ['119.922318', '32.328968'], ['119.922722', '32.329353'], ['119.92347', '32.330158'], ['119.924339', '32.331165'], ['119.924606', '32.331501'], ['119.924736', '32.33168'], ['119.92498', '32.33205'], ['119.925156', '32.332352'], ['119.925377', '32.33276'], ['119.92543', '32.332863'], ['119.926056', '32.334114'], ['119.926758', '32.335491'], ['119.92704', '32.336037'], ['119.927429', '32.336739'], ['119.927757', '32.337326'], ['119.928688', '32.338989'], ['119.929245', '32.340008'], ['119.929451', '32.340443'], ['119.929909', '32.341488'], ['119.930077', '32.341923'], ['119.930374', '32.342793'], ['119.930527', '32.343281'], ['119.930634', '32.343647'], ['119.930656', '32.34375'], ['119.930771', '32.344196'], ['119.930992', '32.345505'], ['119.931038', '32.346054'], ['119.931084', '32.347057'], ['119.931122', '32.349232'], ['119.931183', '32.351265'], ['119.931221', '32.35265'], ['119.931236', '32.353107'], ['119.931282', '32.354736'], ['119.931412', '32.359463'], ['119.931458', '32.360847'], ['119.931488', '32.36134'], ['119.931526', '32.361771'], ['119.931602', '32.362221'], ['119.931686', '32.362621'], ['119.931824', '32.36311'], ['119.932068', '32.363949'], ['119.932312', '32.364666'], ['119.932648', '32.365719'], ['119.935432', '32.374405'], ['119.936104', '32.376678'], ['119.936119', '32.376705'], ['119.936363', '32.377575'], ['119.936829', '32.379433'], ['119.937172', '32.380981'], ['119.937523', '32.382786'], ['119.937874', '32.384869'], ['119.938087', '32.386303'], ['119.938248', '32.387695'], ['119.938354', '32.38855'], ['119.938522', '32.390408'], ['119.938522', '32.390408'], ['119.938606', '32.391594'], ['119.938667', '32.393417'], ['119.938683', '32.394032'], ['119.938705', '32.395348'], ['119.938705', '32.395348'], ['119.938866', '32.395626'], ['119.938881', '32.396111'], ['119.938896', '32.397072'], ['119.938927', '32.39809'], ['119.938927', '32.398388'], ['119.938934', '32.398682'], ['119.938934', '32.398754'], ['119.938934', '32.399101'], ['119.93898', '32.401161'], ['119.93898', '32.401279'], ['119.939026', '32.403534'], ['119.939011', '32.404114'], ['119.93866', '32.404045'], ['119.936844', '32.403637'], ['119.936844', '32.403637'], ['119.936317', '32.405361'], ['119.936081', '32.406166'], ['119.93602', '32.406387'], ['119.93602', '32.406387'], ['119.936203', '32.406437'], ['119.936401', '32.406483']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>