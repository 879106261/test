<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.359589', '39.665165'], ['116.35952', '39.665417'], ['116.35952', '39.665417'], ['116.358421', '39.665302'], ['116.358017', '39.665257'], ['116.357147', '39.665169'], ['116.356819', '39.665138'], ['116.35643', '39.665104'], ['116.355499', '39.665012'], ['116.3535', '39.664803'], ['116.35305', '39.664757'], ['116.351173', '39.664597'], ['116.351173', '39.664597'], ['116.351006', '39.665081'], ['116.350632', '39.666058'], ['116.350464', '39.666504'], ['116.349915', '39.667988'], ['116.349869', '39.668129'], ['116.349258', '39.669647'], ['116.349236', '39.66975'], ['116.348305', '39.66959'], ['116.347122', '39.669392'], ['116.34626', '39.669262'], ['116.345932', '39.669216'], ['116.345207', '39.669136'], ['116.345192', '39.669136'], ['116.34375', '39.668968'], ['116.343117', '39.6689'], ['116.342361', '39.668819'], ['116.341873', '39.668758'], ['116.340935', '39.668648'], ['116.339149', '39.668453'], ['116.338913', '39.668427'], ['116.337646', '39.66827'], ['116.336884', '39.668194'], ['116.335388', '39.668053'], ['116.334503', '39.667965'], ['116.333893', '39.667904'], ['116.332184', '39.667717'], ['116.330734', '39.667561'], ['116.330101', '39.667492'], ['116.329453', '39.667423'], ['116.32872', '39.667332'], ['116.327774', '39.667233'], ['116.326622', '39.667103'], ['116.32505', '39.666943'], ['116.32457', '39.666901'], ['116.323914', '39.66674'], ['116.323914', '39.666546'], ['116.323837', '39.664555'], ['116.323799', '39.663624'], ['116.323776', '39.663197'], ['116.323723', '39.660645'], ['116.323723', '39.660355'], ['116.323708', '39.660099'], ['116.323616', '39.658844'], ['116.323563', '39.658195'], ['116.323502', '39.657417'], ['116.323486', '39.656982'], ['116.323341', '39.655468'], ['116.323341', '39.655468'], ['116.323387', '39.655281'], ['116.32341', '39.655109'], ['116.32341', '39.654747'], ['116.32341', '39.654747'], ['116.32341', '39.654461'], ['116.323425', '39.653542'], ['116.323441', '39.653187'], ['116.323563', '39.652855'], ['116.323563', '39.652309'], ['116.323433', '39.649658'], ['116.323387', '39.648613'], ['116.323318', '39.646042'], ['116.323318', '39.644089'], ['116.323441', '39.642117'], ['116.323494', '39.641659'], ['116.32354', '39.641136'], ['116.323936', '39.638672'], ['116.324158', '39.637299'], ['116.324257', '39.636837'], ['116.324539', '39.635307'], ['116.324715', '39.63443'], ['116.324989', '39.632679'], ['116.325096', '39.631802'], ['116.325233', '39.630436'], ['116.325325', '39.628632'], ['116.32534', '39.627682'], ['116.325348', '39.62711'], ['116.325333', '39.62241'], ['116.325371', '39.621334'], ['116.325401', '39.620365'], ['116.325523', '39.618828'], ['116.32576', '39.616764'], ['116.325768', '39.616699'], ['116.326317', '39.612648'], ['116.326668', '39.610241'], ['116.327034', '39.607689'], ['116.327271', '39.606018'], ['116.327316', '39.605713'], ['116.327629', '39.603016'], ['116.327713', '39.602108'], ['116.327789', '39.600655'], ['116.327812', '39.599365'], ['116.327812', '39.598831'], ['116.327789', '39.598286'], ['116.327682', '39.596279'], ['116.327553', '39.59473'], ['116.32753', '39.594276'], ['116.327438', '39.593559'], ['116.327271', '39.592106'], ['116.327072', '39.590061'], ['116.326546', '39.584599'], ['116.326454', '39.583736'], ['116.326103', '39.580193'], ['116.325966', '39.578476'], ['116.325844', '39.575775'], ['116.325829', '39.574814'], ['116.325821', '39.573856'], ['116.325813', '39.573505'], ['116.325821', '39.57275'], ['116.325851', '39.569469'], ['116.325829', '39.568741'], ['116.325806', '39.567848'], ['116.325699', '39.56641'], ['116.325607', '39.565529'], ['116.32547', '39.56443'], ['116.325241', '39.562981'], ['116.32502', '39.561924'], ['116.32502', '39.561924'], ['116.324951', '39.561764'], ['116.324821', '39.561493'], ['116.324661', '39.561039'], ['116.324532', '39.560661'], ['116.323914', '39.558975'], ['116.323708', '39.558357'], ['116.323662', '39.558136'], ['116.323692', '39.55785'], ['116.323784', '39.557678'], ['116.324257', '39.557175'], ['116.324379', '39.556908'], ['116.324417', '39.556782'], ['116.324455', '39.555424'], ['116.324455', '39.555424'], ['116.324295', '39.555019'], ['116.324249', '39.554886'], ['116.324234', '39.554787'], ['116.324234', '39.554653'], ['116.324234', '39.554497'], ['116.324234', '39.554497'], ['116.324234', '39.554379'], ['116.324257', '39.553631'], ['116.324249', '39.55344'], ['116.324219', '39.553333'], ['116.32415', '39.553139'], ['116.324051', '39.552921'], ['116.324036', '39.552853'], ['116.324005', '39.552677'], ['116.324028', '39.552219'], ['116.324051', '39.551971'], ['116.324097', '39.55143'], ['116.324135', '39.550884'], ['116.324135', '39.550781'], ['116.324112', '39.549408'], ['116.324112', '39.549408'], ['116.323997', '39.549332'], ['116.323868', '39.549267'], ['116.323723', '39.549244'], ['116.323242', '39.549225'], ['116.322655', '39.549213'], ['116.322411', '39.549206'], ['116.32225', '39.549206'], ['116.322075', '39.549206'], ['116.320465', '39.549191'], ['116.318199', '39.549133'], ['116.315353', '39.549068'], ['116.314499', '39.549046'], ['116.313011', '39.549007'], ['116.311607', '39.548977'], ['116.306198', '39.548855'], ['116.305367', '39.548832'], ['116.303192', '39.548786'], ['116.302597', '39.548767'], ['116.30127', '39.548737'], ['116.299828', '39.548702'], ['116.297882', '39.548653'], ['116.296272', '39.548622'], ['116.291817', '39.548519'], ['116.285614', '39.548389'], ['116.282883', '39.548332'], ['116.279297', '39.548229'], ['116.277519', '39.548191'], ['116.275948', '39.548153'], ['116.275124', '39.548126'], ['116.273514', '39.54808'], ['116.272575', '39.548061'], ['116.269203', '39.54797'], ['116.267822', '39.547928'], ['116.266907', '39.547905'], ['116.263718', '39.547821'], ['116.262726', '39.547791'], ['116.261734', '39.547752'], ['116.261017', '39.547729'], ['116.260063', '39.547703'], ['116.259155', '39.54768'], ['116.258247', '39.547661'], ['116.257561', '39.547626'], ['116.257324', '39.547588'], ['116.257286', '39.547581'], ['116.256454', '39.547459'], ['116.256454', '39.547459'], ['116.256821', '39.546108'], ['116.256859', '39.546001'], ['116.257019', '39.545822'], ['116.257324', '39.545555'], ['116.25795', '39.545013'], ['116.258041', '39.544903'], ['116.25811', '39.544804'], ['116.258141', '39.54472'], ['116.258171', '39.544586'], ['116.258179', '39.544361'], ['116.258179', '39.543579'], ['116.258163', '39.543404'], ['116.258141', '39.54327'], ['116.258057', '39.543064'], ['116.257324', '39.541344'], ['116.256775', '39.540035'], ['116.256691', '39.539883'], ['116.256638', '39.539791'], ['116.256615', '39.539745'], ['116.255981', '39.539055'], ['116.255203', '39.538166'], ['116.254913', '39.537842'], ['116.2547', '39.53756'], ['116.254395', '39.537136'], ['116.253845', '39.536346'], ['116.253273', '39.535534'], ['116.252548', '39.534443'], ['116.249779', '39.530403'], ['116.249779', '39.530403'], ['116.249031', '39.530594'], ['116.248688', '39.530693'], ['116.248459', '39.530724'], ['116.248459', '39.530724'], ['116.248016', '39.530579'], ['116.247887', '39.530556'], ['116.247734', '39.530552'], ['116.246918', '39.530632'], ['116.246552', '39.530693'], ['116.24617', '39.5308'], ['116.245956', '39.530819'], ['116.245834', '39.530781'], ['116.245697', '39.530655'], ['116.24559', '39.530529'], ['116.245461', '39.530415'], ['116.245201', '39.530201'], ['116.244606', '39.529621'], ['116.244331', '39.5294'], ['116.244118', '39.529259'], ['116.244026', '39.529209'], ['116.243858', '39.529148'], ['116.24334', '39.528976'], ['116.242912', '39.528805'], ['116.242783', '39.528763'], ['116.242584', '39.528709'], ['116.241478', '39.528507'], ['116.241478', '39.528507'], ['116.24131', '39.528805'], ['116.241203', '39.529003'], ['116.241081', '39.529274'], ['116.24102', '39.529446'], ['116.240356', '39.531521'], ['116.240181', '39.532139'], ['116.240166', '39.532272'], ['116.240181', '39.532413'], ['116.240211', '39.532665'], ['116.240273', '39.533268'], ['116.240295', '39.533314'], ['116.240379', '39.533394'], ['116.240379', '39.533394'], ['116.240295', '39.533447'], ['116.240059', '39.533669'], ['116.239738', '39.534199'], ['116.239273', '39.53474'], ['116.238297', '39.537907'], ['116.238213', '39.538338'], ['116.238205', '39.538765'], ['116.238335', '39.5392'], ['116.238335', '39.5392'], ['116.237785', '39.539089'], ['116.237244', '39.53904'], ['116.236801', '39.539059'], ['116.236168', '39.539112'], ['116.235352', '39.539108'], ['116.233719', '39.539089'], ['116.232544', '39.539082'], ['116.231743', '39.539074'], ['116.23053', '39.539013'], ['116.23053', '39.539013'], ['116.230423', '39.539791'], ['116.2304', '39.539982']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>