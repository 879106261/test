<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.359589', '39.665165'], ['116.35952', '39.665417'], ['116.35952', '39.665417'], ['116.358421', '39.665302'], ['116.358017', '39.665257'], ['116.357147', '39.665169'], ['116.356819', '39.665138'], ['116.35643', '39.665104'], ['116.355499', '39.665012'], ['116.3535', '39.664803'], ['116.35305', '39.664757'], ['116.351173', '39.664597'], ['116.351173', '39.664597'], ['116.351379', '39.663982'], ['116.351585', '39.663456'], ['116.351875', '39.662663'], ['116.35202', '39.662277'], ['116.35202', '39.662277'], ['116.35083', '39.662136'], ['116.350212', '39.662071'], ['116.349808', '39.662022'], ['116.349709', '39.662003'], ['116.348877', '39.661877'], ['116.34874', '39.661854'], ['116.348473', '39.661808'], ['116.348213', '39.661774'], ['116.34726', '39.661617'], ['116.34713', '39.661594'], ['116.346504', '39.661488'], ['116.34568', '39.66135'], ['116.345207', '39.661255'], ['116.344124', '39.661037'], ['116.342651', '39.660759'], ['116.341988', '39.660645'], ['116.337616', '39.659847'], ['116.337303', '39.659786'], ['116.336311', '39.659603'], ['116.335342', '39.659439'], ['116.333443', '39.659088'], ['116.332703', '39.658966'], ['116.33152', '39.658752'], ['116.331161', '39.658669'], ['116.32946', '39.658367'], ['116.328407', '39.658188'], ['116.327919', '39.658092'], ['116.326286', '39.657799'], ['116.326286', '39.657799'], ['116.326103', '39.657757'], ['116.325943', '39.65773'], ['116.325096', '39.657574'], ['116.323601', '39.657303'], ['116.323242', '39.65723'], ['116.322891', '39.657146'], ['116.322739', '39.657093'], ['116.322563', '39.657001'], ['116.322418', '39.656906'], ['116.322304', '39.656799'], ['116.322205', '39.656681'], ['116.322144', '39.65659'], ['116.322075', '39.656452'], ['116.322021', '39.656193'], ['116.322021', '39.656075'], ['116.322052', '39.655888'], ['116.322105', '39.655788'], ['116.322174', '39.655693'], ['116.32225', '39.655617'], ['116.322334', '39.655552'], ['116.322464', '39.655499'], ['116.322624', '39.655457'], ['116.323021', '39.655399'], ['116.323021', '39.655399'], ['116.323242', '39.655296'], ['116.323341', '39.655205'], ['116.323341', '39.655205'], ['116.323326', '39.654877'], ['116.323341', '39.654041'], ['116.323341', '39.653702'], ['116.323349', '39.653099'], ['116.323357', '39.651978'], ['116.323341', '39.651508'], ['116.323318', '39.651077'], ['116.32325', '39.649658'], ['116.323242', '39.64949'], ['116.323181', '39.648254'], ['116.323143', '39.647659'], ['116.323135', '39.64753'], ['116.32309', '39.646507'], ['116.323082', '39.646324'], ['116.323067', '39.645729'], ['116.323067', '39.64537'], ['116.323067', '39.645054'], ['116.323082', '39.644382'], ['116.32312', '39.643826'], ['116.323219', '39.642303'], ['116.323227', '39.642159'], ['116.323242', '39.641945'], ['116.32325', '39.641727'], ['116.323242', '39.641289'], ['116.323227', '39.640999'], ['116.323196', '39.639725'], ['116.323212', '39.639313'], ['116.323242', '39.639187'], ['116.323357', '39.638672'], ['116.32341', '39.638428'], ['116.323639', '39.637432'], ['116.323769', '39.637138'], ['116.323891', '39.636822'], ['116.324112', '39.636017'], ['116.324432', '39.634766'], ['116.324623', '39.633846'], ['116.324684', '39.633541'], ['116.324699', '39.63345'], ['116.324738', '39.633152'], ['116.324959', '39.630756'], ['116.324997', '39.630177'], ['116.325005', '39.630112'], ['116.325005', '39.629978'], ['116.325073', '39.62941'], ['116.325104', '39.62899'], ['116.325111', '39.628574'], ['116.325134', '39.627831'], ['116.32515', '39.627682'], ['116.32515', '39.627285'], ['116.325134', '39.626297'], ['116.325119', '39.625351'], ['116.325119', '39.625114'], ['116.325119', '39.624702'], ['116.325111', '39.623817'], ['116.325096', '39.622559'], ['116.325111', '39.621861'], ['116.325119', '39.621105'], ['116.325134', '39.620808'], ['116.325157', '39.620522'], ['116.325272', '39.619152'], ['116.325417', '39.617645'], ['116.325523', '39.616779'], ['116.325531', '39.616699'], ['116.325768', '39.615334'], ['116.32592', '39.614445'], ['116.326073', '39.61327'], ['116.326172', '39.61261'], ['116.326172', '39.61261'], ['116.326141', '39.612179'], ['116.32618', '39.611824'], ['116.326241', '39.611103'], ['116.326248', '39.610996'], ['116.326279', '39.610725'], ['116.326347', '39.610188'], ['116.326393', '39.60994'], ['116.326477', '39.609489'], ['116.326523', '39.609249'], ['116.326706', '39.608444'], ['116.326843', '39.607719'], ['116.326889', '39.607418'], ['116.326965', '39.606724'], ['116.327003', '39.606201'], ['116.327034', '39.605713'], ['116.327042', '39.605457'], ['116.327072', '39.605129'], ['116.327217', '39.603443'], ['116.327324', '39.601849'], ['116.327385', '39.600666'], ['116.32737', '39.599583'], ['116.327278', '39.598083'], ['116.327194', '39.596729'], ['116.32711', '39.595646'], ['116.327072', '39.595169'], ['116.327065', '39.59473'], ['116.327049', '39.594028'], ['116.327042', '39.593555'], ['116.327042', '39.59309'], ['116.327034', '39.592693'], ['116.327003', '39.592159'], ['116.326874', '39.591137'], ['116.326797', '39.590462'], ['116.326744', '39.590099'], ['116.326355', '39.586884'], ['116.32621', '39.58569'], ['116.32608', '39.584599'], ['116.325974', '39.583736'], ['116.325768', '39.582069'], ['116.325684', '39.581299'], ['116.325615', '39.580738'], ['116.325546', '39.580299'], ['116.325531', '39.579922'], ['116.325508', '39.579403'], ['116.325523', '39.578838'], ['116.325508', '39.577404'], ['116.325493', '39.573761'], ['116.325493', '39.57275'], ['116.325493', '39.572132'], ['116.325485', '39.568729'], ['116.325485', '39.567741'], ['116.325485', '39.567204'], ['116.325485', '39.566654'], ['116.32547', '39.566177'], ['116.325417', '39.565639'], ['116.325325', '39.565044'], ['116.325256', '39.564663'], ['116.32518', '39.564339'], ['116.324959', '39.563454'], ['116.324844', '39.563019'], ['116.324593', '39.561977'], ['116.324539', '39.561764'], ['116.324509', '39.561615'], ['116.324295', '39.560436'], ['116.324234', '39.560196'], ['116.323647', '39.558575'], ['116.323547', '39.55825'], ['116.323532', '39.557999'], ['116.323547', '39.557877'], ['116.323593', '39.557751'], ['116.323708', '39.557522'], ['116.324036', '39.557079'], ['116.324097', '39.556965'], ['116.324142', '39.556843'], ['116.324158', '39.556721'], ['116.324074', '39.554432'], ['116.324005', '39.553043'], ['116.324005', '39.552677'], ['116.324028', '39.552219'], ['116.324051', '39.551971'], ['116.324097', '39.55143'], ['116.324135', '39.550884'], ['116.324135', '39.550781'], ['116.324112', '39.549408'], ['116.324112', '39.549408'], ['116.323997', '39.549332'], ['116.323868', '39.549267'], ['116.323723', '39.549244'], ['116.323242', '39.549225'], ['116.322655', '39.549213'], ['116.322411', '39.549206'], ['116.32225', '39.549206'], ['116.322075', '39.549206'], ['116.320465', '39.549191'], ['116.318199', '39.549133'], ['116.315353', '39.549068'], ['116.314499', '39.549046'], ['116.313011', '39.549007'], ['116.311607', '39.548977'], ['116.306198', '39.548855'], ['116.305367', '39.548832'], ['116.303192', '39.548786'], ['116.302597', '39.548767'], ['116.30127', '39.548737'], ['116.299828', '39.548702'], ['116.297882', '39.548653'], ['116.296272', '39.548622'], ['116.291817', '39.548519'], ['116.285614', '39.548389'], ['116.282883', '39.548332'], ['116.279297', '39.548229'], ['116.277519', '39.548191'], ['116.275948', '39.548153'], ['116.275124', '39.548126'], ['116.273514', '39.54808'], ['116.272575', '39.548061'], ['116.269203', '39.54797'], ['116.267822', '39.547928'], ['116.266907', '39.547905'], ['116.263718', '39.547821'], ['116.262726', '39.547791'], ['116.261734', '39.547752'], ['116.261017', '39.547729'], ['116.260063', '39.547703'], ['116.259155', '39.54768'], ['116.258247', '39.547661'], ['116.257561', '39.547626'], ['116.257324', '39.547588'], ['116.257286', '39.547581'], ['116.256454', '39.547459'], ['116.256454', '39.547459'], ['116.256821', '39.546108'], ['116.256859', '39.546001'], ['116.257019', '39.545822'], ['116.257324', '39.545555'], ['116.25795', '39.545013'], ['116.258041', '39.544903'], ['116.25811', '39.544804'], ['116.258141', '39.54472'], ['116.258171', '39.544586'], ['116.258179', '39.544361'], ['116.258179', '39.543579'], ['116.258163', '39.543404'], ['116.258141', '39.54327'], ['116.258057', '39.543064'], ['116.257324', '39.541344'], ['116.256775', '39.540035'], ['116.256691', '39.539883'], ['116.256638', '39.539791'], ['116.256615', '39.539745'], ['116.255981', '39.539055'], ['116.255203', '39.538166'], ['116.254913', '39.537842'], ['116.2547', '39.53756'], ['116.254395', '39.537136'], ['116.253845', '39.536346'], ['116.253273', '39.535534'], ['116.252548', '39.534443'], ['116.249779', '39.530403'], ['116.249779', '39.530403'], ['116.249031', '39.530594'], ['116.248688', '39.530693'], ['116.248459', '39.530724'], ['116.248459', '39.530724'], ['116.248016', '39.530579'], ['116.247887', '39.530556'], ['116.247734', '39.530552'], ['116.246918', '39.530632'], ['116.246552', '39.530693'], ['116.24617', '39.5308'], ['116.245956', '39.530819'], ['116.245834', '39.530781'], ['116.245697', '39.530655'], ['116.24559', '39.530529'], ['116.245461', '39.530415'], ['116.245201', '39.530201'], ['116.244606', '39.529621'], ['116.244331', '39.5294'], ['116.244118', '39.529259'], ['116.244026', '39.529209'], ['116.243858', '39.529148'], ['116.24334', '39.528976'], ['116.242912', '39.528805'], ['116.242783', '39.528763'], ['116.242584', '39.528709'], ['116.241478', '39.528507'], ['116.241478', '39.528507'], ['116.24131', '39.528805'], ['116.241203', '39.529003'], ['116.241081', '39.529274'], ['116.24102', '39.529446'], ['116.240356', '39.531521'], ['116.240181', '39.532139'], ['116.240166', '39.532272'], ['116.240181', '39.532413'], ['116.240211', '39.532665'], ['116.240273', '39.533268'], ['116.240295', '39.533314'], ['116.240379', '39.533394'], ['116.240379', '39.533394'], ['116.240295', '39.533447'], ['116.240059', '39.533669'], ['116.239738', '39.534199'], ['116.239273', '39.53474'], ['116.238297', '39.537907'], ['116.238213', '39.538338'], ['116.238205', '39.538765'], ['116.238335', '39.5392'], ['116.238335', '39.5392'], ['116.237785', '39.539089'], ['116.237244', '39.53904'], ['116.236801', '39.539059'], ['116.236168', '39.539112'], ['116.235352', '39.539108'], ['116.233719', '39.539089'], ['116.232544', '39.539082'], ['116.231743', '39.539074'], ['116.23053', '39.539013'], ['116.23053', '39.539013'], ['116.230423', '39.539791'], ['116.2304', '39.539982']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>