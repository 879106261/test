<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.385368', '40.116852'], ['116.385765', '40.116898'], ['116.38681', '40.116993'], ['116.386909', '40.117001'], ['116.387474', '40.117004'], ['116.388237', '40.116917'], ['116.389153', '40.116764'], ['116.39016', '40.116581'], ['116.391441', '40.116367'], ['116.393257', '40.116035'], ['116.393883', '40.115932'], ['116.39566', '40.115623'], ['116.398346', '40.115147'], ['116.3993', '40.114983'], ['116.399574', '40.114933'], ['116.399963', '40.114868'], ['116.400909', '40.114719'], ['116.401283', '40.114693'], ['116.401604', '40.114689'], ['116.402115', '40.114708'], ['116.402283', '40.114716'], ['116.402939', '40.114796'], ['116.403603', '40.114902'], ['116.403908', '40.11496'], ['116.404625', '40.115108'], ['116.405006', '40.115211'], ['116.405777', '40.115448'], ['116.406349', '40.115654'], ['116.407051', '40.115879'], ['116.407509', '40.115997'], ['116.40815', '40.116104'], ['116.408981', '40.116196'], ['116.409225', '40.116203'], ['116.410423', '40.116322'], ['116.411125', '40.116383'], ['116.411278', '40.11639'], ['116.411758', '40.116417'], ['116.411758', '40.116417'], ['116.411789', '40.116085'], ['116.41185', '40.11483'], ['116.41185', '40.114086'], ['116.411835', '40.113224'], ['116.411781', '40.11108'], ['116.411766', '40.110847'], ['116.411758', '40.110241'], ['116.411758', '40.109436'], ['116.411804', '40.108414'], ['116.41185', '40.107533'], ['116.412071', '40.104839'], ['116.412117', '40.104424'], ['116.412117', '40.104366'], ['116.41217', '40.103897'], ['116.412483', '40.100098'], ['116.412613', '40.098568'], ['116.412872', '40.095341'], ['116.41291', '40.095024'], ['116.413109', '40.092564'], ['116.413254', '40.09103'], ['116.413399', '40.089222'], ['116.413414', '40.089111'], ['116.413506', '40.088154'], ['116.413673', '40.086765'], ['116.413742', '40.086266'], ['116.413887', '40.085564'], ['116.41407', '40.084686'], ['116.414124', '40.084175'], ['116.414169', '40.083504'], ['116.414169', '40.08297'], ['116.414047', '40.080883'], ['116.413887', '40.079521'], ['116.413887', '40.079494'], ['116.413849', '40.079277'], ['116.413719', '40.078529'], ['116.413635', '40.078125'], ['116.413483', '40.077316'], ['116.413261', '40.076157'], ['116.41291', '40.074181'], ['116.412895', '40.074162'], ['116.412651', '40.072857'], ['116.41259', '40.072475'], ['116.412552', '40.071705'], ['116.412605', '40.071022'], ['116.412773', '40.069427'], ['116.412888', '40.067997'], ['116.412888', '40.067955'], ['116.412956', '40.067139'], ['116.413002', '40.066608'], ['116.413025', '40.066273'], ['116.413048', '40.065895'], ['116.413155', '40.064697'], ['116.413208', '40.064243'], ['116.413322', '40.063133'], ['116.413368', '40.062649'], ['116.413437', '40.061863'], ['116.413513', '40.060921'], ['116.413612', '40.059227'], ['116.413704', '40.058109'], ['116.413719', '40.058064'], ['116.413826', '40.056896'], ['116.413841', '40.056652'], ['116.413895', '40.056152'], ['116.41391', '40.055962'], ['116.41391', '40.055901'], ['116.41394', '40.055489'], ['116.413918', '40.055237'], ['116.413872', '40.054817'], ['116.413795', '40.054466'], ['116.413666', '40.054111'], ['116.41346', '40.053661'], ['116.413368', '40.053497'], ['116.413048', '40.053001'], ['116.412766', '40.052555'], ['116.412163', '40.051697'], ['116.411888', '40.051208'], ['116.411797', '40.050888'], ['116.411743', '40.050564'], ['116.411736', '40.050266'], ['116.411736', '40.050266'], ['116.411789', '40.049904'], ['116.412041', '40.048676'], ['116.412117', '40.048439'], ['116.41214', '40.048267'], ['116.412163', '40.047756'], ['116.412163', '40.047688'], ['116.412148', '40.047501'], ['116.412125', '40.046986'], ['116.412086', '40.046314'], ['116.412064', '40.045952'], ['116.412018', '40.045479'], ['116.411987', '40.0452'], ['116.41198', '40.045166'], ['116.411926', '40.044662'], ['116.411926', '40.044662'], ['116.411873', '40.043621'], ['116.411865', '40.042961'], ['116.411819', '40.041927'], ['116.411758', '40.041164'], ['116.411705', '40.04073'], ['116.411194', '40.037621'], ['116.411194', '40.037548'], ['116.411125', '40.037205'], ['116.410614', '40.034176'], ['116.410599', '40.034058'], ['116.41037', '40.032883'], ['116.410355', '40.032772'], ['116.409668', '40.028854'], ['116.4095', '40.027843'], ['116.409348', '40.026951'], ['116.409348', '40.026924'], ['116.409096', '40.02541'], ['116.40889', '40.024139'], ['116.408836', '40.023682'], ['116.408737', '40.02319'], ['116.408684', '40.022854'], ['116.408638', '40.022636'], ['116.408569', '40.022148'], ['116.408508', '40.021751'], ['116.408417', '40.021347'], ['116.408417', '40.021347'], ['116.408455', '40.021214'], ['116.408173', '40.020222'], ['116.408051', '40.019547'], ['116.407997', '40.018749'], ['116.407967', '40.017284'], ['116.407921', '40.015049'], ['116.407867', '40.012203'], ['116.407852', '40.011612'], ['116.407867', '40.011372'], ['116.407936', '40.010654'], ['116.407883', '40.010429'], ['116.407867', '40.009514'], ['116.407867', '40.009392'], ['116.407867', '40.008453'], ['116.407867', '40.007542'], ['116.407852', '40.006516'], ['116.407829', '40.005604'], ['116.407768', '40.004356'], ['116.407768', '40.003723'], ['116.407768', '40.002716'], ['116.407768', '40.00256'], ['116.40773', '40.001354'], ['116.40773', '40.001217'], ['116.407715', '40.000248'], ['116.407669', '39.998837'], ['116.407677', '39.998764'], ['116.407654', '39.997261'], ['116.407646', '39.996399'], ['116.407639', '39.995945'], ['116.407593', '39.995049'], ['116.407593', '39.994904'], ['116.4076', '39.994434'], ['116.407585', '39.993603'], ['116.40757', '39.993004'], ['116.407555', '39.992241'], ['116.407555', '39.992199'], ['116.407539', '39.991474'], ['116.407532', '39.990837'], ['116.407509', '39.990234'], ['116.407509', '39.990196'], ['116.407501', '39.98983'], ['116.407494', '39.989471'], ['116.407448', '39.98753'], ['116.40744', '39.987137'], ['116.40744', '39.986748'], ['116.40741', '39.985859'], ['116.40741', '39.98497'], ['116.407379', '39.983112'], ['116.407379', '39.983013'], ['116.407349', '39.981972'], ['116.407333', '39.9814'], ['116.407326', '39.981014'], ['116.407288', '39.979755'], ['116.407295', '39.979244'], ['116.407303', '39.979126'], ['116.407318', '39.977875'], ['116.407349', '39.977066'], ['116.407349', '39.976929'], ['116.407379', '39.976414'], ['116.407402', '39.97551'], ['116.40741', '39.974808'], ['116.407433', '39.974049'], ['116.407455', '39.973301'], ['116.407478', '39.972462'], ['116.407509', '39.971554'], ['116.407501', '39.971306'], ['116.407455', '39.971054'], ['116.407341', '39.970444'], ['116.407303', '39.969944'], ['116.407295', '39.969688'], ['116.407265', '39.969578'], ['116.407104', '39.96936'], ['116.407013', '39.969223'], ['116.40699', '39.969105'], ['116.407005', '39.968689'], ['116.407028', '39.968601'], ['116.40712', '39.968464'], ['116.407257', '39.968384'], ['116.407326', '39.968369'], ['116.40757', '39.968372'], ['116.407661', '39.968403'], ['116.407806', '39.968472'], ['116.407806', '39.968472'], ['116.40789', '39.968548'], ['116.408096', '39.968616'], ['116.408745', '39.96867'], ['116.409058', '39.968685'], ['116.409126', '39.968685'], ['116.409492', '39.968689'], ['116.410156', '39.968712'], ['116.41082', '39.968788'], ['116.411125', '39.968781'], ['116.411232', '39.968777'], ['116.411232', '39.968777'], ['116.411209', '39.968697'], ['116.411194', '39.968491'], ['116.411194', '39.968258'], ['116.411194', '39.968102'], ['116.411194', '39.967911'], ['116.411194', '39.967373'], ['116.411209', '39.966869'], ['116.411209', '39.966743'], ['116.411209', '39.966743'], ['116.411125', '39.966743'], ['116.41098', '39.96674'], ['116.410728', '39.966732']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>