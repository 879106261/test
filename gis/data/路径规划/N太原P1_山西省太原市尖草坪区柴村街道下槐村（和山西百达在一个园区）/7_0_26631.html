<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['112.611656', '37.803947'], ['112.611588', '37.803951'], ['112.611389', '37.803955'], ['112.611389', '37.803955'], ['112.611397', '37.805458'], ['112.611382', '37.806488'], ['112.611389', '37.806923'], ['112.611389', '37.807724'], ['112.611389', '37.807724'], ['112.610451', '37.807713'], ['112.610222', '37.807678'], ['112.61013', '37.80764'], ['112.61013', '37.80764'], ['112.61013', '37.808197'], ['112.61013', '37.808197'], ['112.610069', '37.808258'], ['112.610008', '37.808323'], ['112.610016', '37.811184'], ['112.610008', '37.811302'], ['112.610008', '37.812649'], ['112.610001', '37.813618'], ['112.610008', '37.814098'], ['112.609993', '37.814938'], ['112.609993', '37.815796'], ['112.609993', '37.816399'], ['112.609993', '37.816841'], ['112.609993', '37.818172'], ['112.609993', '37.818645'], ['112.609993', '37.81963'], ['112.609993', '37.819962'], ['112.609993', '37.820507'], ['112.610008', '37.82132'], ['112.610023', '37.821613'], ['112.610092', '37.821987'], ['112.610252', '37.822693'], ['112.610382', '37.82328'], ['112.610443', '37.823639'], ['112.610474', '37.824047'], ['112.610451', '37.824459'], ['112.610367', '37.825096'], ['112.610313', '37.825371'], ['112.610229', '37.825642'], ['112.61013', '37.825901'], ['112.610115', '37.825924'], ['112.609993', '37.826191'], ['112.609856', '37.826427'], ['112.609795', '37.826542'], ['112.609451', '37.827042'], ['112.609146', '37.827396'], ['112.60643', '37.830116'], ['112.606064', '37.830521'], ['112.605934', '37.830685'], ['112.605759', '37.830936'], ['112.605591', '37.831207'], ['112.605499', '37.831387'], ['112.605331', '37.83176'], ['112.605141', '37.83231'], ['112.605042', '37.83284'], ['112.605011', '37.833118'], ['112.605003', '37.83329'], ['112.605003', '37.833534'], ['112.605003', '37.833862'], ['112.604996', '37.834141'], ['112.605003', '37.834984'], ['112.604996', '37.835941'], ['112.604965', '37.836052'], ['112.604965', '37.836914'], ['112.604965', '37.837803'], ['112.604965', '37.841419'], ['112.60498', '37.842663'], ['112.604996', '37.843025'], ['112.604996', '37.84309'], ['112.605011', '37.845322'], ['112.60498', '37.845673'], ['112.60498', '37.846836'], ['112.60498', '37.847897'], ['112.60498', '37.848465'], ['112.60498', '37.848816'], ['112.60498', '37.858883'], ['112.60498', '37.8619'], ['112.60498', '37.864292'], ['112.60495', '37.865032'], ['112.60495', '37.865093'], ['112.604851', '37.866726'], ['112.604744', '37.868198'], ['112.604668', '37.869511'], ['112.604668', '37.869511'], ['112.604652', '37.869869'], ['112.604568', '37.870983'], ['112.604362', '37.874104'], ['112.604263', '37.875637'], ['112.604179', '37.876766'], ['112.604179', '37.876766'], ['112.604042', '37.87767'], ['112.603798', '37.878754'], ['112.603485', '37.880043'], ['112.603432', '37.880337'], ['112.603371', '37.880859'], ['112.603363', '37.880886'], ['112.603348', '37.881416'], ['112.60334', '37.882843'], ['112.60334', '37.883072'], ['112.603348', '37.884617'], ['112.603348', '37.88496'], ['112.603348', '37.885845'], ['112.603348', '37.887581'], ['112.603348', '37.888966'], ['112.603386', '37.88916'], ['112.603386', '37.889374'], ['112.603363', '37.891846'], ['112.603363', '37.892033'], ['112.603363', '37.892033'], ['112.603348', '37.893761'], ['112.603348', '37.895626'], ['112.60334', '37.896107'], ['112.60334', '37.896591'], ['112.60334', '37.896591'], ['112.603371', '37.896671'], ['112.603485', '37.897015'], ['112.603493', '37.898201'], ['112.6035', '37.898335'], ['112.603523', '37.898457'], ['112.603539', '37.898586'], ['112.603584', '37.898716'], ['112.60363', '37.898834'], ['112.603691', '37.89896'], ['112.603882', '37.899311'], ['112.603928', '37.899422'], ['112.603935', '37.899548'], ['112.60392', '37.899666'], ['112.603859', '37.899784'], ['112.603767', '37.899883'], ['112.603645', '37.899967'], ['112.6035', '37.900032'], ['112.603348', '37.900063'], ['112.603188', '37.900066'], ['112.603043', '37.90004'], ['112.60257', '37.899902'], ['112.602249', '37.899834'], ['112.602089', '37.899815'], ['112.601768', '37.899792'], ['112.60144', '37.899792'], ['112.600624', '37.899803'], ['112.598808', '37.899853'], ['112.598206', '37.899853'], ['112.59742', '37.899879'], ['112.596634', '37.899902'], ['112.595932', '37.899925'], ['112.594559', '37.89994'], ['112.59343', '37.899975'], ['112.591972', '37.900005'], ['112.59111', '37.900017'], ['112.590515', '37.900032'], ['112.589264', '37.900055'], ['112.587891', '37.900066'], ['112.586472', '37.900097'], ['112.585632', '37.900143'], ['112.585167', '37.900169'], ['112.584816', '37.900192'], ['112.579132', '37.900421'], ['112.578232', '37.900436'], ['112.577858', '37.90044'], ['112.576927', '37.900448'], ['112.575386', '37.900532'], ['112.574905', '37.900558'], ['112.574425', '37.900585'], ['112.573265', '37.900635'], ['112.572952', '37.90065'], ['112.571999', '37.900692'], ['112.570503', '37.900761'], ['112.570374', '37.900764'], ['112.57016', '37.900776'], ['112.569374', '37.90081'], ['112.569252', '37.900814'], ['112.569138', '37.900822'], ['112.568779', '37.900837'], ['112.567322', '37.900879'], ['112.565918', '37.900925'], ['112.56427', '37.900986'], ['112.563461', '37.90099'], ['112.562767', '37.900982'], ['112.562767', '37.900982'], ['112.562531', '37.900974'], ['112.561829', '37.900948'], ['112.559799', '37.900845'], ['112.558525', '37.900745'], ['112.557869', '37.900661'], ['112.557343', '37.900574'], ['112.556648', '37.900417'], ['112.555519', '37.900154'], ['112.555389', '37.900124'], ['112.554756', '37.899975'], ['112.554375', '37.899902'], ['112.553787', '37.89983'], ['112.553474', '37.899811'], ['112.552971', '37.899792'], ['112.552505', '37.899811'], ['112.551498', '37.899879'], ['112.550781', '37.899902'], ['112.550415', '37.899883'], ['112.549484', '37.899803'], ['112.548668', '37.899689'], ['112.54744', '37.899521'], ['112.546516', '37.899445'], ['112.545547', '37.899426'], ['112.543945', '37.899529'], ['112.542625', '37.899597'], ['112.542107', '37.899597'], ['112.540108', '37.899536'], ['112.53968', '37.899529'], ['112.538559', '37.89949'], ['112.53743', '37.899456'], ['112.533585', '37.89933'], ['112.53299', '37.899315'], ['112.532394', '37.899303'], ['112.52961', '37.899235'], ['112.529381', '37.899231'], ['112.529381', '37.899231'], ['112.528717', '37.899303'], ['112.52858', '37.89933'], ['112.528419', '37.899368'], ['112.528275', '37.899418'], ['112.52813', '37.89949'], ['112.528008', '37.899555'], ['112.527885', '37.899639'], ['112.527733', '37.899765'], ['112.527733', '37.899765'], ['112.527313', '37.900372'], ['112.527161', '37.900608'], ['112.527039', '37.900837'], ['112.526802', '37.901314'], ['112.526718', '37.901436'], ['112.526649', '37.90155'], ['112.526558', '37.901649'], ['112.526268', '37.901966'], ['112.525986', '37.902283'], ['112.525902', '37.902397'], ['112.525742', '37.902622'], ['112.525612', '37.902832'], ['112.525406', '37.903133'], ['112.525368', '37.903168'], ['112.525238', '37.903244'], ['112.524994', '37.903683'], ['112.524513', '37.904461'], ['112.524345', '37.90472'], ['112.524246', '37.904881'], ['112.522224', '37.908054'], ['112.522087', '37.908253'], ['112.521973', '37.908466'], ['112.521828', '37.908733'], ['112.521645', '37.909084'], ['112.521317', '37.909809'], ['112.520088', '37.912895'], ['112.519722', '37.913815'], ['112.518326', '37.917305'], ['112.51799', '37.918133'], ['112.517807', '37.918613'], ['112.516365', '37.922203'], ['112.516357', '37.922222'], ['112.515923', '37.923363'], ['112.515381', '37.924805'], ['112.514946', '37.925919'], ['112.514519', '37.92704'], ['112.51326', '37.930332'], ['112.513206', '37.93047'], ['112.512192', '37.933067'], ['112.512154', '37.933174'], ['112.511917', '37.933796'], ['112.511703', '37.934433'], ['112.511375', '37.935459'], ['112.511269', '37.935791'], ['112.511047', '37.936485'], ['112.51091', '37.936893'], ['112.510574', '37.937969'], ['112.510277', '37.938892'], ['112.509537', '37.941193'], ['112.509537', '37.941193'], ['112.509552', '37.941326'], ['112.509499', '37.94157'], ['112.509308', '37.94228'], ['112.509293', '37.942368'], ['112.509293', '37.942436'], ['112.509308', '37.942505'], ['112.509354', '37.942585'], ['112.509392', '37.942635'], ['112.509438', '37.942673'], ['112.509529', '37.942707'], ['112.509598', '37.94273'], ['112.509689', '37.942734'], ['112.509804', '37.942726'], ['112.509888', '37.942692'], ['112.509956', '37.942657'], ['112.51001', '37.942612'], ['112.510056', '37.942551'], ['112.510078', '37.942497'], ['112.510109', '37.942425'], ['112.510124', '37.942299'], ['112.510124', '37.942173'], ['112.510109', '37.942085'], ['112.510063', '37.941959'], ['112.51001', '37.941864'], ['112.509895', '37.941734'], ['112.509766', '37.941605'], ['112.509598', '37.94146'], ['112.509422', '37.941338'], ['112.509201', '37.941208'], ['112.508987', '37.941113'], ['112.508736', '37.94101'], ['112.508652', '37.940956'], ['112.508575', '37.940907'], ['112.508522', '37.940849'], ['112.508492', '37.940796'], ['112.508469', '37.940742'], ['112.508461', '37.940674'], ['112.508461', '37.940609'], ['112.508476', '37.940456'], ['112.508598', '37.940083'], ['112.508606', '37.939995'], ['112.508606', '37.939926'], ['112.508598', '37.939873'], ['112.50856', '37.939774'], ['112.508507', '37.939697'], ['112.508461', '37.939651'], ['112.508408', '37.939617'], ['112.508293', '37.939575'], ['112.50753', '37.9394'], ['112.506477', '37.939182'], ['112.506172', '37.939121'], ['112.505211', '37.938908'], ['112.50351', '37.938507'], ['112.50351', '37.938507'], ['112.503082', '37.939861'], ['112.50267', '37.941437'], ['112.50251', '37.942112'], ['112.502487', '37.942173'], ['112.502373', '37.9422'], ['112.50042', '37.94223'], ['112.5', '37.942245'], ['112.499161', '37.942272'], ['112.493759', '37.942448'], ['112.493332', '37.942463'], ['112.492859', '37.942497'], ['112.491997', '37.942619'], ['112.491417', '37.942719'], ['112.490578', '37.942902'], ['112.489815', '37.943096'], ['112.488876', '37.94331'], ['112.488564', '37.943359'], ['112.487976', '37.943409'], ['112.487625', '37.943413'], ['112.487297', '37.943405'], ['112.485954', '37.943272'], ['112.485954', '37.943272'], ['112.485268', '37.944294'], ['112.484406', '37.94553'], ['112.484215', '37.94577'], ['112.483795', '37.946232'], ['112.483612', '37.946419'], ['112.483238', '37.946774'], ['112.482803', '37.947186'], ['112.482323', '37.947639'], ['112.481682', '37.94825'], ['112.481209', '37.948704'], ['112.48027', '37.949703'], ['112.480026', '37.949951'], ['112.479485', '37.950535'], ['112.478951', '37.951134'], ['112.478951', '37.951134'], ['112.478027', '37.950928'], ['112.477982', '37.950916']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>