<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['112.674675', '38.063408'], ['112.674706', '38.063236'], ['112.674744', '38.062908'], ['112.674744', '38.062721'], ['112.674744', '38.062721'], ['112.673798', '38.062397'], ['112.673256', '38.062199'], ['112.672539', '38.061897'], ['112.671593', '38.061489'], ['112.671005', '38.061226'], ['112.670364', '38.060951'], ['112.669662', '38.06065'], ['112.668686', '38.060196'], ['112.668419', '38.060055'], ['112.667984', '38.059769'], ['112.66758', '38.059444'], ['112.667397', '38.059227'], ['112.667198', '38.058956'], ['112.66687', '38.058475'], ['112.666725', '38.058235'], ['112.666397', '38.05761'], ['112.666397', '38.05761'], ['112.665375', '38.057522'], ['112.665108', '38.057533'], ['112.664841', '38.057484'], ['112.664314', '38.057156'], ['112.663887', '38.05687'], ['112.663559', '38.056641'], ['112.66333', '38.056484'], ['112.662987', '38.056263'], ['112.662773', '38.056149'], ['112.662567', '38.056057'], ['112.6623', '38.055973'], ['112.661972', '38.055885'], ['112.661705', '38.055843'], ['112.66143', '38.055817'], ['112.661148', '38.055813'], ['112.660851', '38.055828'], ['112.660286', '38.055908'], ['112.657486', '38.056641'], ['112.656815', '38.056805'], ['112.656242', '38.05695'], ['112.655609', '38.057056'], ['112.655281', '38.057083'], ['112.654907', '38.057091'], ['112.654465', '38.057064'], ['112.653801', '38.05695'], ['112.653709', '38.056934'], ['112.653488', '38.05687'], ['112.653069', '38.056709'], ['112.652916', '38.056641'], ['112.652832', '38.056599'], ['112.65255', '38.056438'], ['112.65229', '38.056271'], ['112.652039', '38.05608'], ['112.651802', '38.055874'], ['112.647324', '38.051418'], ['112.64151', '38.045654'], ['112.638481', '38.042652'], ['112.638008', '38.042164'], ['112.637772', '38.041893'], ['112.637566', '38.041626'], ['112.637398', '38.041359'], ['112.637032', '38.040699'], ['112.636894', '38.040401'], ['112.63681', '38.040123'], ['112.636711', '38.039783'], ['112.636642', '38.03944'], ['112.636597', '38.039127'], ['112.636581', '38.038799'], ['112.636589', '38.038425'], ['112.636612', '38.038067'], ['112.636871', '38.036194'], ['112.636917', '38.035831'], ['112.636925', '38.035583'], ['112.636909', '38.035355'], ['112.636871', '38.03516'], ['112.636826', '38.034939'], ['112.636734', '38.034695'], ['112.636726', '38.034668'], ['112.636642', '38.034485'], ['112.636536', '38.034283'], ['112.636406', '38.034088'], ['112.636238', '38.03389'], ['112.636063', '38.033695'], ['112.635872', '38.033527'], ['112.635651', '38.033352'], ['112.635384', '38.033173'], ['112.635132', '38.033028'], ['112.63488', '38.032906'], ['112.634575', '38.032776'], ['112.633469', '38.032372'], ['112.633095', '38.032219'], ['112.632507', '38.031937'], ['112.63221', '38.031761'], ['112.631844', '38.03149'], ['112.631805', '38.031467'], ['112.631607', '38.031315'], ['112.631287', '38.031013'], ['112.631203', '38.030918'], ['112.631035', '38.030735'], ['112.630852', '38.030521'], ['112.630585', '38.030144'], ['112.630432', '38.029911'], ['112.630325', '38.029671'], ['112.629814', '38.02869'], ['112.629189', '38.027466'], ['112.628937', '38.026966'], ['112.628799', '38.026737'], ['112.628647', '38.02652'], ['112.628464', '38.026306'], ['112.628258', '38.026112'], ['112.628029', '38.025932'], ['112.627731', '38.025734'], ['112.627518', '38.02562'], ['112.627235', '38.025494'], ['112.626793', '38.025341'], ['112.62648', '38.025272'], ['112.62616', '38.025227'], ['112.625839', '38.025192'], ['112.625519', '38.025192'], ['112.625191', '38.025208'], ['112.622452', '38.025501'], ['112.622131', '38.025532'], ['112.62149', '38.025566'], ['112.62085', '38.025547'], ['112.620377', '38.025505'], ['112.619743', '38.025433'], ['112.619431', '38.025372'], ['112.618668', '38.025188'], ['112.618362', '38.025097'], ['112.61779', '38.024895'], ['112.617081', '38.024574'], ['112.615402', '38.023682'], ['112.615379', '38.023663'], ['112.613487', '38.02264'], ['112.612381', '38.022099'], ['112.610977', '38.021484'], ['112.609856', '38.021046'], ['112.60833', '38.020443'], ['112.607841', '38.020199'], ['112.607475', '38.019951'], ['112.607254', '38.01976'], ['112.607056', '38.019566'], ['112.60688', '38.01936'], ['112.606735', '38.019135'], ['112.606674', '38.019009'], ['112.606491', '38.018528'], ['112.605736', '38.01685'], ['112.605568', '38.016495'], ['112.605423', '38.016258'], ['112.605179', '38.01593'], ['112.604904', '38.015621'], ['112.604691', '38.01543'], ['112.604462', '38.015255'], ['112.603859', '38.014866'], ['112.60318', '38.014484'], ['112.602287', '38.013939'], ['112.601051', '38.013115'], ['112.600784', '38.012978'], ['112.60051', '38.012848'], ['112.600212', '38.012741'], ['112.600037', '38.012691'], ['112.599922', '38.012661'], ['112.599617', '38.012596'], ['112.599304', '38.012562'], ['112.598976', '38.012543'], ['112.59803', '38.012508'], ['112.597717', '38.012482'], ['112.597404', '38.012432'], ['112.596939', '38.01231'], ['112.596649', '38.012196'], ['112.596237', '38.012001'], ['112.595856', '38.011765'], ['112.595634', '38.011581'], ['112.595421', '38.011387'], ['112.595131', '38.01107'], ['112.594398', '38.010235'], ['112.593727', '38.009388'], ['112.593086', '38.008503'], ['112.592331', '38.007381'], ['112.591789', '38.006466'], ['112.590714', '38.004478'], ['112.590523', '38.004143'], ['112.590248', '38.003662'], ['112.590012', '38.003342'], ['112.589638', '38.002926'], ['112.589432', '38.002728'], ['112.588966', '38.002365'], ['112.588631', '38.002148'], ['112.587982', '38.001793'], ['112.587891', '38.001755'], ['112.587776', '38.001705'], ['112.587646', '38.001648'], ['112.587349', '38.001537'], ['112.587013', '38.001427'], ['112.586143', '38.001186'], ['112.585396', '38.000954'], ['112.584862', '38.000748'], ['112.584465', '38.000534'], ['112.584198', '38.000355'], ['112.583961', '38.000172'], ['112.583534', '37.999767'], ['112.583046', '37.999283'], ['112.582634', '37.998901'], ['112.582062', '37.998444'], ['112.581474', '37.998024'], ['112.580971', '37.997696'], ['112.580315', '37.997337'], ['112.579903', '37.997139'], ['112.57869', '37.99659'], ['112.578362', '37.996426'], ['112.577698', '37.996059'], ['112.577194', '37.995747'], ['112.576714', '37.995403'], ['112.576141', '37.994949'], ['112.575813', '37.994671'], ['112.575531', '37.9944'], ['112.575104', '37.993973'], ['112.572151', '37.990719'], ['112.566757', '37.984783'], ['112.565918', '37.983864'], ['112.565353', '37.983246'], ['112.564835', '37.982761'], ['112.564392', '37.982395'], ['112.563896', '37.982063'], ['112.563515', '37.981831'], ['112.562981', '37.981552'], ['112.562691', '37.981419'], ['112.562119', '37.981197'], ['112.561531', '37.980999'], ['112.561226', '37.980915'], ['112.560593', '37.980778'], ['112.559967', '37.980671'], ['112.559326', '37.980614'], ['112.558525', '37.980587'], ['112.558044', '37.980595'], ['112.549812', '37.980827'], ['112.543945', '37.980999'], ['112.542679', '37.98103'], ['112.542229', '37.98103'], ['112.541557', '37.980999'], ['112.541077', '37.980965'], ['112.540344', '37.980869'], ['112.53981', '37.980793'], ['112.538567', '37.980541'], ['112.538261', '37.980492'], ['112.53746', '37.980396'], ['112.536636', '37.980339'], ['112.53569', '37.980335'], ['112.534904', '37.980373'], ['112.534393', '37.980408'], ['112.532089', '37.980583'], ['112.530296', '37.980717'], ['112.528534', '37.98085'], ['112.527245', '37.98093'], ['112.526451', '37.980938'], ['112.52581', '37.980896'], ['112.525177', '37.980843'], ['112.524513', '37.980778'], ['112.523895', '37.980717'], ['112.523262', '37.980694'], ['112.522408', '37.98069'], ['112.521973', '37.980713'], ['112.5215', '37.98074'], ['112.520828', '37.980812'], ['112.517876', '37.98127'], ['112.517563', '37.981312'], ['112.517242', '37.981335'], ['112.516602', '37.981354'], ['112.51593', '37.981327'], ['112.515274', '37.981258'], ['112.514679', '37.981148'], ['112.513931', '37.980976'], ['112.513573', '37.980885'], ['112.513031', '37.980701'], ['112.512619', '37.980507'], ['112.512268', '37.98027'], ['112.511932', '37.979992'], ['112.511665', '37.979733'], ['112.51165', '37.979717'], ['112.511467', '37.979462'], ['112.511131', '37.978893'], ['112.510872', '37.978371'], ['112.510681', '37.97794'], ['112.510536', '37.977444'], ['112.510483', '37.977192'], ['112.510429', '37.976814'], ['112.510406', '37.976303'], ['112.510445', '37.975792'], ['112.510506', '37.975285'], ['112.511322', '37.969009'], ['112.51136', '37.96875'], ['112.511566', '37.967262'], ['112.511826', '37.965549'], ['112.512177', '37.963699'], ['112.512512', '37.961967'], ['112.512718', '37.961052'], ['112.51281', '37.960583'], ['112.512962', '37.959785'], ['112.512985', '37.959412'], ['112.512985', '37.959026'], ['112.51297', '37.958778'], ['112.512878', '37.958271'], ['112.512741', '37.957779'], ['112.512741', '37.95776'], ['112.512642', '37.957535'], ['112.512405', '37.957077'], ['112.512123', '37.956627'], ['112.511719', '37.956123'], ['112.511719', '37.956123'], ['112.511536', '37.956028'], ['112.511406', '37.955929'], ['112.511292', '37.955864'], ['112.511147', '37.955818'], ['112.510986', '37.955795'], ['112.510826', '37.955803'], ['112.510674', '37.955845'], ['112.510536', '37.955917'], ['112.510414', '37.956005'], ['112.509972', '37.956383'], ['112.509857', '37.956463'], ['112.509735', '37.956539'], ['112.50959', '37.956608'], ['112.509438', '37.956661'], ['112.509293', '37.956711'], ['112.509132', '37.956753'], ['112.50898', '37.956768'], ['112.508827', '37.956772'], ['112.508667', '37.956757'], ['112.508522', '37.956711'], ['112.5084', '37.956635'], ['112.508308', '37.956532'], ['112.508247', '37.956413'], ['112.508232', '37.956295'], ['112.508255', '37.956165'], ['112.508324', '37.956039'], ['112.508392', '37.955921'], ['112.509514', '37.954258'], ['112.510017', '37.953552'], ['112.510086', '37.953468'], ['112.51017', '37.953419'], ['112.510269', '37.953362'], ['112.510864', '37.952507'], ['112.511436', '37.951649'], ['112.511833', '37.951054'], ['112.512062', '37.950668'], ['112.512596', '37.949783'], ['112.512863', '37.94928'], ['112.513199', '37.948605'], ['112.513443', '37.94812'], ['112.513718', '37.947491'], ['112.514', '37.946804'], ['112.514015', '37.946774'], ['112.514236', '37.946156'], ['112.514366', '37.945805'], ['112.514549', '37.945202'], ['112.514549', '37.945202'], ['112.514534', '37.945007'], ['112.514603', '37.944733'], ['112.514633', '37.944595'], ['112.514626', '37.944485'], ['112.51461', '37.944431'], ['112.514572', '37.944328'], ['112.514519', '37.944237'], ['112.514435', '37.944141'], ['112.514168', '37.943878'], ['112.514076', '37.943783'], ['112.51403', '37.943684'], ['112.514', '37.943607'], ['112.513977', '37.943497'], ['112.513977', '37.94339'], ['112.513985', '37.943279'], ['112.514008', '37.943211'], ['112.514061', '37.943096'], ['112.51413', '37.943008'], ['112.514221', '37.942928'], ['112.514359', '37.942844'], ['112.514786', '37.942638'], ['112.514908', '37.942558'], ['112.515038', '37.942471'], ['112.515175', '37.942348'], ['112.515274', '37.942226'], ['112.515335', '37.942135'], ['112.515388', '37.941978'], ['112.515472', '37.941708'], ['112.515541', '37.941498'], ['112.515541', '37.941399'], ['112.515518', '37.941303'], ['112.515511', '37.941273'], ['112.515366', '37.941093'], ['112.51046', '37.940044'], ['112.509117', '37.939751'], ['112.508293', '37.939575'], ['112.50753', '37.9394'], ['112.506477', '37.939182'], ['112.506172', '37.939121'], ['112.505211', '37.938908'], ['112.50351', '37.938507'], ['112.50351', '37.938507'], ['112.503082', '37.939861'], ['112.50267', '37.941437'], ['112.50251', '37.942112'], ['112.502487', '37.942173'], ['112.502373', '37.9422'], ['112.50042', '37.94223'], ['112.5', '37.942245'], ['112.499161', '37.942272'], ['112.493759', '37.942448'], ['112.493332', '37.942463'], ['112.492859', '37.942497'], ['112.491997', '37.942619'], ['112.491417', '37.942719'], ['112.490578', '37.942902'], ['112.489815', '37.943096'], ['112.488876', '37.94331'], ['112.488564', '37.943359'], ['112.487976', '37.943409'], ['112.487625', '37.943413'], ['112.487297', '37.943405'], ['112.485954', '37.943272'], ['112.485954', '37.943272'], ['112.485268', '37.944294'], ['112.484406', '37.94553'], ['112.484215', '37.94577'], ['112.483795', '37.946232'], ['112.483612', '37.946419'], ['112.483238', '37.946774'], ['112.482803', '37.947186'], ['112.482323', '37.947639'], ['112.481682', '37.94825'], ['112.481209', '37.948704'], ['112.48027', '37.949703'], ['112.480026', '37.949951'], ['112.479485', '37.950535'], ['112.478951', '37.951134'], ['112.478951', '37.951134'], ['112.478027', '37.950928'], ['112.477982', '37.950916']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>