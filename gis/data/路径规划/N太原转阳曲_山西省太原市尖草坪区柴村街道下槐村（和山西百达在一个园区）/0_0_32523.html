<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['112.674675', '38.063408'], ['112.674706', '38.063236'], ['112.674744', '38.062908'], ['112.674744', '38.062721'], ['112.674744', '38.062721'], ['112.673798', '38.062397'], ['112.673256', '38.062199'], ['112.672539', '38.061897'], ['112.671593', '38.061489'], ['112.671005', '38.061226'], ['112.670364', '38.060951'], ['112.669662', '38.06065'], ['112.668686', '38.060196'], ['112.668419', '38.060055'], ['112.667984', '38.059769'], ['112.66758', '38.059444'], ['112.667397', '38.059227'], ['112.667198', '38.058956'], ['112.66687', '38.058475'], ['112.666725', '38.058235'], ['112.666397', '38.05761'], ['112.666397', '38.05761'], ['112.665375', '38.057522'], ['112.665108', '38.057533'], ['112.66497', '38.057556'], ['112.664696', '38.057648'], ['112.664513', '38.057766'], ['112.664375', '38.057919'], ['112.664284', '38.05809'], ['112.664185', '38.058422'], ['112.663963', '38.059368'], ['112.663437', '38.061417'], ['112.663239', '38.062046'], ['112.663086', '38.062359'], ['112.662888', '38.062656'], ['112.662888', '38.062656'], ['112.662682', '38.062965'], ['112.662621', '38.063042'], ['112.662514', '38.063156'], ['112.662384', '38.063263'], ['112.662239', '38.063366'], ['112.662239', '38.063366'], ['112.662003', '38.063507'], ['112.661789', '38.063599'], ['112.66127', '38.063805'], ['112.66127', '38.063805'], ['112.660339', '38.064056'], ['112.660065', '38.064117'], ['112.659851', '38.064159'], ['112.659508', '38.064213'], ['112.65921', '38.064243'], ['112.658844', '38.06427'], ['112.658325', '38.064285'], ['112.657974', '38.06427'], ['112.657623', '38.064243'], ['112.65728', '38.064213'], ['112.657059', '38.064175'], ['112.656837', '38.064129'], ['112.656624', '38.064056'], ['112.656517', '38.064014'], ['112.656342', '38.063904'], ['112.656181', '38.063774'], ['112.656044', '38.063618'], ['112.655991', '38.063538'], ['112.655914', '38.063366'], ['112.655876', '38.063278'], ['112.655861', '38.063194'], ['112.655846', '38.063099'], ['112.655846', '38.063'], ['112.655869', '38.062817'], ['112.65593', '38.062359'], ['112.655937', '38.062172'], ['112.655937', '38.061985'], ['112.65593', '38.061806'], ['112.655876', '38.061539'], ['112.655846', '38.061443'], ['112.655777', '38.061272'], ['112.655624', '38.061001'], ['112.655426', '38.060677'], ['112.655067', '38.060196'], ['112.653908', '38.059025'], ['112.653801', '38.058922'], ['112.651482', '38.056641'], ['112.649033', '38.054237'], ['112.647858', '38.053047'], ['112.644905', '38.050175'], ['112.643784', '38.049057'], ['112.642815', '38.04813'], ['112.641609', '38.046906'], ['112.640839', '38.046169'], ['112.640312', '38.045654'], ['112.637848', '38.043232'], ['112.636856', '38.042191'], ['112.635956', '38.041214'], ['112.635239', '38.040428'], ['112.63446', '38.039524'], ['112.633232', '38.038017'], ['112.632004', '38.036373'], ['112.631844', '38.036148'], ['112.631287', '38.035374'], ['112.630806', '38.034668'], ['112.630478', '38.034176'], ['112.629814', '38.033142'], ['112.62928', '38.032299'], ['112.62886', '38.03157'], ['112.628273', '38.030533'], ['112.627876', '38.029797'], ['112.626358', '38.026932'], ['112.625526', '38.025486'], ['112.624977', '38.02457'], ['112.62471', '38.024158'], ['112.62439', '38.023682'], ['112.623734', '38.02272'], ['112.623405', '38.022243'], ['112.623047', '38.02177'], ['112.622772', '38.021366'], ['112.622498', '38.020988'], ['112.621681', '38.019958'], ['112.62117', '38.019348'], ['112.620071', '38.018089'], ['112.61937', '38.017345'], ['112.619217', '38.017174'], ['112.618317', '38.016254'], ['112.616661', '38.014706'], ['112.616043', '38.01416'], ['112.615662', '38.013805'], ['112.615112', '38.013321'], ['112.615112', '38.013321'], ['112.614159', '38.012691'], ['112.613945', '38.012547'], ['112.613503', '38.012287'], ['112.613106', '38.012077'], ['112.61232', '38.011734'], ['112.611534', '38.011475'], ['112.610771', '38.011288'], ['112.610771', '38.011288'], ['112.609856', '38.01112'], ['112.608879', '38.01096'], ['112.608543', '38.010883'], ['112.607941', '38.010799'], ['112.607086', '38.010708'], ['112.606522', '38.010696'], ['112.606117', '38.010731'], ['112.605904', '38.010769'], ['112.605652', '38.010834'], ['112.605415', '38.010925'], ['112.605011', '38.011108'], ['112.60482', '38.011208'], ['112.604515', '38.011448'], ['112.604309', '38.011639'], ['112.604156', '38.011818'], ['112.60392', '38.012196'], ['112.603775', '38.012463'], ['112.603691', '38.012691'], ['112.603653', '38.012791'], ['112.603455', '38.013462'], ['112.603127', '38.014881'], ['112.602936', '38.015491'], ['112.602722', '38.016068'], ['112.602325', '38.01688'], ['112.602081', '38.017338'], ['112.601562', '38.018154'], ['112.60141', '38.018478'], ['112.601303', '38.018799'], ['112.60125', '38.019142'], ['112.601265', '38.019436'], ['112.601318', '38.020077'], ['112.601318', '38.020321'], ['112.60125', '38.020645'], ['112.601181', '38.020805'], ['112.601097', '38.020962'], ['112.600975', '38.021111'], ['112.600761', '38.02132'], ['112.600647', '38.021397'], ['112.600403', '38.021534'], ['112.600182', '38.021622'], ['112.599998', '38.021675'], ['112.599739', '38.021729'], ['112.599503', '38.021751'], ['112.598656', '38.021824'], ['112.598373', '38.021866'], ['112.598083', '38.021931'], ['112.597672', '38.022057'], ['112.597351', '38.022202'], ['112.596901', '38.022362'], ['112.596634', '38.022533'], ['112.596367', '38.02272'], ['112.59536', '38.023323'], ['112.594734', '38.023674'], ['112.594727', '38.023682'], ['112.593994', '38.024078'], ['112.592896', '38.024632'], ['112.592148', '38.024975'], ['112.591202', '38.025383'], ['112.590042', '38.025845'], ['112.589661', '38.025982'], ['112.587891', '38.026569'], ['112.587677', '38.026634'], ['112.586708', '38.02692'], ['112.585655', '38.027199'], ['112.584328', '38.027489'], ['112.582985', '38.027756'], ['112.582069', '38.027916'], ['112.580429', '38.028141'], ['112.579811', '38.028217'], ['112.578598', '38.02832'], ['112.577805', '38.028374'], ['112.57618', '38.028435'], ['112.575058', '38.028439'], ['112.574036', '38.028431'], ['112.572372', '38.028378'], ['112.570587', '38.02837'], ['112.568642', '38.028393'], ['112.56749', '38.028419'], ['112.566345', '38.028454'], ['112.565918', '38.028477'], ['112.563713', '38.028584'], ['112.561256', '38.028774'], ['112.559212', '38.028961'], ['112.558418', '38.029045'], ['112.557617', '38.029137'], ['112.557617', '38.029137'], ['112.555046', '38.02943'], ['112.552574', '38.029716'], ['112.551277', '38.02985'], ['112.549553', '38.029987'], ['112.547935', '38.030083'], ['112.545799', '38.030163'], ['112.544411', '38.03019'], ['112.543945', '38.030197'], ['112.543671', '38.030197'], ['112.541389', '38.03017'], ['112.53923', '38.03009'], ['112.536545', '38.029915'], ['112.534187', '38.029694'], ['112.532425', '38.029484'], ['112.530159', '38.029163'], ['112.527206', '38.028751'], ['112.52462', '38.028378'], ['112.524193', '38.028328'], ['112.522659', '38.028103'], ['112.521973', '38.027988'], ['112.521278', '38.027866'], ['112.520279', '38.027679'], ['112.519112', '38.027435'], ['112.517952', '38.027164'], ['112.515999', '38.026649'], ['112.513687', '38.025951'], ['112.512794', '38.025635'], ['112.511612', '38.025208'], ['112.509567', '38.024391'], ['112.50795', '38.023682'], ['112.507668', '38.023556'], ['112.506493', '38.022964'], ['112.505699', '38.022556'], ['112.504379', '38.021782'], ['112.503487', '38.02121'], ['112.502739', '38.020683'], ['112.501701', '38.019897'], ['112.501099', '38.019405'], ['112.500343', '38.01873'], ['112.5', '38.018406'], ['112.49942', '38.017834'], ['112.498672', '38.017025'], ['112.498215', '38.016502'], ['112.497757', '38.01593'], ['112.497192', '38.015175'], ['112.49646', '38.014076'], ['112.495621', '38.012691'], ['112.495514', '38.012516'], ['112.494843', '38.011364'], ['112.494164', '38.010067'], ['112.49353', '38.008812'], ['112.493088', '38.007885'], ['112.492676', '38.006969'], ['112.492096', '38.005589'], ['112.491486', '38.003983'], ['112.491028', '38.002686'], ['112.490707', '38.001705'], ['112.490669', '38.001564'], ['112.490509', '38.001022'], ['112.490402', '38.000656'], ['112.490349', '38.00045'], ['112.490204', '37.99995'], ['112.490074', '37.999466'], ['112.489212', '37.995941'], ['112.489136', '37.99567'], ['112.488823', '37.994446'], ['112.488441', '37.993168'], ['112.488258', '37.992649'], ['112.487892', '37.991627'], ['112.487511', '37.990719'], ['112.487198', '37.989979'], ['112.486809', '37.989159'], ['112.486641', '37.988827'], ['112.486115', '37.987797'], ['112.484207', '37.984058'], ['112.482819', '37.981346'], ['112.482666', '37.981064'], ['112.481972', '37.979733'], ['112.481689', '37.979191'], ['112.480972', '37.977901'], ['112.480362', '37.976894'], ['112.479378', '37.975304'], ['112.478943', '37.974663'], ['112.478363', '37.973789'], ['112.478027', '37.973309'], ['112.477829', '37.973034'], ['112.477074', '37.972019'], ['112.475868', '37.970463'], ['112.474983', '37.969379'], ['112.474434', '37.96875'], ['112.473976', '37.968208'], ['112.473175', '37.9673'], ['112.471642', '37.965641'], ['112.470062', '37.96397'], ['112.469696', '37.963551'], ['112.46933', '37.963116'], ['112.46907', '37.962742'], ['112.468834', '37.962368'], ['112.46859', '37.961964'], ['112.4683', '37.961422'], ['112.468155', '37.961098'], ['112.467911', '37.960377'], ['112.467796', '37.959934'], ['112.467659', '37.959126'], ['112.467628', '37.958729'], ['112.467636', '37.95797'], ['112.467651', '37.95776'], ['112.467659', '37.957546'], ['112.467789', '37.956821'], ['112.467957', '37.956192'], ['112.468071', '37.955849'], ['112.468246', '37.955414'], ['112.468452', '37.954964'], ['112.468605', '37.954685'], ['112.469048', '37.95401'], ['112.469643', '37.953236'], ['112.473511', '37.948814'], ['112.473763', '37.948544'], ['112.474258', '37.947952'], ['112.474838', '37.947189'], ['112.475128', '37.946774'], ['112.47522', '37.94664'], ['112.475487', '37.94622'], ['112.475815', '37.945644'], ['112.476135', '37.945019'], ['112.476135', '37.945019'], ['112.476242', '37.944477'], ['112.47625', '37.944347'], ['112.476234', '37.944221'], ['112.476196', '37.944099'], ['112.476128', '37.943981'], ['112.476028', '37.943878'], ['112.475891', '37.943806'], ['112.475754', '37.943752'], ['112.475571', '37.943729'], ['112.47541', '37.943748'], ['112.475266', '37.943783'], ['112.475121', '37.943848'], ['112.475006', '37.943943'], ['112.474915', '37.944054'], ['112.474876', '37.944183'], ['112.474876', '37.944317'], ['112.474915', '37.944439'], ['112.474976', '37.944561'], ['112.47506', '37.944679'], ['112.475159', '37.944782'], ['112.475266', '37.944889'], ['112.475372', '37.944981'], ['112.475487', '37.945072'], ['112.475731', '37.945236'], ['112.475868', '37.945301'], ['112.475998', '37.945374'], ['112.476303', '37.945484'], ['112.476616', '37.945572'], ['112.476913', '37.945641'], ['112.477242', '37.945667'], ['112.477562', '37.945667'], ['112.477722', '37.94566'], ['112.478027', '37.945633'], ['112.478043', '37.945633'], ['112.478203', '37.945595'], ['112.478462', '37.94553'], ['112.478661', '37.945457'], ['112.478935', '37.945343'], ['112.479073', '37.945271'], ['112.479202', '37.94519'], ['112.479309', '37.945099'], ['112.479401', '37.945004'], ['112.479477', '37.944897'], ['112.4795', '37.944817'], ['112.479523', '37.944778'], ['112.479523', '37.944656'], ['112.4795', '37.944542'], ['112.479439', '37.944347'], ['112.479301', '37.94389'], ['112.479301', '37.94389'], ['112.479256', '37.943707'], ['112.47921', '37.943501'], ['112.479118', '37.942986'], ['112.479111', '37.942863'], ['112.479126', '37.942448'], ['112.479233', '37.942425'], ['112.479637', '37.942474'], ['112.480927', '37.9426'], ['112.481621', '37.942699'], ['112.483673', '37.942974'], ['112.485313', '37.943142'], ['112.486008', '37.943222'], ['112.485954', '37.943272'], ['112.485268', '37.944294'], ['112.484406', '37.94553'], ['112.484215', '37.94577'], ['112.483795', '37.946232'], ['112.483612', '37.946419'], ['112.483238', '37.946774'], ['112.482803', '37.947186'], ['112.482323', '37.947639'], ['112.481682', '37.94825'], ['112.481209', '37.948704'], ['112.48027', '37.949703'], ['112.480026', '37.949951'], ['112.479485', '37.950535'], ['112.478951', '37.951134'], ['112.478951', '37.951134'], ['112.478027', '37.950928'], ['112.477982', '37.950916']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>