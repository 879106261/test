<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['123.056839', '41.442631'], ['123.056847', '41.44223'], ['123.056824', '41.442181'], ['123.056793', '41.442142'], ['123.056694', '41.442101'], ['123.056694', '41.442062'], ['123.056694', '41.442047'], ['123.056625', '41.441936'], ['123.056625', '41.44183'], ['123.057518', '41.441811'], ['123.057594', '41.441811'], ['123.057724', '41.441803'], ['123.058884', '41.441772'], ['123.060135', '41.441742'], ['123.062828', '41.441715'], ['123.063164', '41.441738'], ['123.063431', '41.441765'], ['123.063431', '41.441765'], ['123.06382', '41.441692'], ['123.064323', '41.441628'], ['123.066612', '41.441441'], ['123.068848', '41.441277'], ['123.071289', '41.44109'], ['123.073555', '41.440933'], ['123.076569', '41.440685'], ['123.079834', '41.44043'], ['123.080231', '41.440395'], ['123.080772', '41.44035'], ['123.080887', '41.440422'], ['123.080887', '41.44043'], ['123.081017', '41.441032'], ['123.081123', '41.44173'], ['123.081306', '41.442665'], ['123.081398', '41.44297'], ['123.081512', '41.443344'], ['123.081673', '41.443737'], ['123.081963', '41.444324'], ['123.081963', '41.444324'], ['123.082458', '41.445251'], ['123.082603', '41.445477'], ['123.082748', '41.445698'], ['123.082985', '41.446045'], ['123.083366', '41.446503'], ['123.083733', '41.44688'], ['123.084167', '41.447277'], ['123.08461', '41.447647'], ['123.084953', '41.447914'], ['123.085258', '41.448147'], ['123.085625', '41.448406'], ['123.085945', '41.448616'], ['123.085945', '41.448616'], ['123.087013', '41.449188'], ['123.087296', '41.449326'], ['123.087852', '41.449554'], ['123.088242', '41.449715'], ['123.088562', '41.449833'], ['123.088966', '41.44997'], ['123.08979', '41.450214'], ['123.09005', '41.450275'], ['123.090309', '41.450329'], ['123.090523', '41.450348'], ['123.090721', '41.450348'], ['123.09082', '41.450329'], ['123.090874', '41.450325'], ['123.091042', '41.450283'], ['123.091194', '41.45023'], ['123.091331', '41.450165'], ['123.091469', '41.450081'], ['123.091576', '41.449978'], ['123.09166', '41.449875'], ['123.091713', '41.449772'], ['123.091743', '41.449654'], ['123.091743', '41.449539'], ['123.091728', '41.449417'], ['123.091644', '41.44928'], ['123.091537', '41.449173'], ['123.091415', '41.449093'], ['123.091278', '41.449036'], ['123.091141', '41.449005'], ['123.090981', '41.44899'], ['123.09082', '41.44899'], ['123.090675', '41.449013'], ['123.089798', '41.449314'], ['123.089317', '41.449627'], ['123.088448', '41.450169'], ['123.086388', '41.451412'], ['123.085014', '41.452251'], ['123.080879', '41.454762'], ['123.079758', '41.455441'], ['123.078712', '41.456085'], ['123.078186', '41.456429'], ['123.076797', '41.457371'], ['123.075645', '41.458218'], ['123.074577', '41.459049'], ['123.073555', '41.459892'], ['123.070747', '41.462399'], ['123.069717', '41.463337'], ['123.068848', '41.464104'], ['123.068642', '41.464279'], ['123.067863', '41.464939'], ['123.066925', '41.465656'], ['123.06617', '41.466194'], ['123.065117', '41.466869'], ['123.064774', '41.467075'], ['123.063896', '41.467556'], ['123.063416', '41.467796'], ['123.062256', '41.468342'], ['123.061417', '41.4687'], ['123.060883', '41.468906'], ['123.059692', '41.46933'], ['123.05864', '41.46965'], ['123.057404', '41.469975'], ['123.056335', '41.470242'], ['123.047562', '41.472275'], ['123.046867', '41.472431'], ['123.042747', '41.473385'], ['123.039635', '41.474106'], ['123.036308', '41.47488'], ['123.035286', '41.475132'], ['123.034088', '41.475471'], ['123.03302', '41.475822'], ['123.031921', '41.476234'], ['123.031303', '41.476475'], ['123.030327', '41.47691'], ['123.029366', '41.477386'], ['123.028313', '41.477955'], ['123.027451', '41.478466'], ['123.026176', '41.479294'], ['123.024895', '41.480148'], ['123.018555', '41.484375'], ['123.013901', '41.487476'], ['123.012276', '41.488541'], ['123.011093', '41.489254'], ['123.010292', '41.489716'], ['123.008736', '41.49057'], ['123.007706', '41.491093'], ['123.006821', '41.491524'], ['123.005577', '41.492092'], ['123.004623', '41.492508'], ['123.00293', '41.493233'], ['123.002083', '41.493595'], ['122.99791', '41.495361'], ['122.992714', '41.497555'], ['122.989937', '41.498745'], ['122.988525', '41.499363'], ['122.988029', '41.499607'], ['122.986992', '41.500134'], ['122.986206', '41.500587'], ['122.985634', '41.500931'], ['122.984764', '41.501499'], ['122.98423', '41.501877'], ['122.983879', '41.502159'], ['122.983521', '41.50243'], ['122.982727', '41.503094'], ['122.98201', '41.503738'], ['122.981651', '41.504093'], ['122.981041', '41.50473'], ['122.980949', '41.504822'], ['122.980469', '41.505386'], ['122.979843', '41.506168'], ['122.979706', '41.506348'], ['122.979317', '41.506889'], ['122.978928', '41.507462'], ['122.97702', '41.510258'], ['122.974648', '41.513737'], ['122.973831', '41.514942'], ['122.973633', '41.515217'], ['122.972206', '41.51733'], ['122.964729', '41.52832'], ['122.9645', '41.528648'], ['122.963806', '41.529724'], ['122.963585', '41.530098'], ['122.963219', '41.530762'], ['122.962784', '41.531639'], ['122.962624', '41.531994'], ['122.962341', '41.532707'], ['122.96209', '41.533421'], ['122.961548', '41.535187'], ['122.96032', '41.539307'], ['122.959183', '41.543137'], ['122.958984', '41.543793'], ['122.958916', '41.543995'], ['122.958679', '41.544716'], ['122.958282', '41.545719'], ['122.957947', '41.546463'], ['122.957619', '41.547089'], ['122.957413', '41.547455'], ['122.95697', '41.54818'], ['122.956505', '41.548859'], ['122.956291', '41.549152'], ['122.955696', '41.549911'], ['122.955452', '41.550194'], ['122.955368', '41.550289'], ['122.954788', '41.550934'], ['122.954498', '41.551228'], ['122.953857', '41.551857'], ['122.953163', '41.552456'], ['122.952126', '41.553314'], ['122.946404', '41.557766'], ['122.945145', '41.558746'], ['122.943893', '41.559723'], ['122.943314', '41.560162'], ['122.942749', '41.560608'], ['122.942345', '41.560925'], ['122.941895', '41.561275'], ['122.940773', '41.562141'], ['122.939781', '41.562946'], ['122.939232', '41.563396'], ['122.938606', '41.563961'], ['122.937881', '41.564667'], ['122.937378', '41.565212'], ['122.937012', '41.565636'], ['122.93679', '41.565903'], ['122.936455', '41.566326'], ['122.935814', '41.567223'], ['122.935387', '41.567894'], ['122.934807', '41.568954'], ['122.934319', '41.570019'], ['122.933319', '41.572266'], ['122.931595', '41.576138'], ['122.931343', '41.576664'], ['122.930992', '41.577328'], ['122.930328', '41.578461'], ['122.929916', '41.57906'], ['122.929306', '41.579887'], ['122.928879', '41.580391'], ['122.928261', '41.581074'], ['122.927467', '41.581867'], ['122.926826', '41.582439'], ['122.926117', '41.583027'], ['122.925835', '41.583248'], ['122.925117', '41.583775'], ['122.924194', '41.584423'], ['122.923393', '41.584949'], ['122.922668', '41.585442'], ['122.92041', '41.586926'], ['122.916595', '41.589489'], ['122.915039', '41.590538'], ['122.914314', '41.591026'], ['122.909531', '41.594234'], ['122.904922', '41.597343'], ['122.903824', '41.598137'], ['122.902901', '41.598843'], ['122.902328', '41.5993'], ['122.901268', '41.600189'], ['122.900162', '41.601185'], ['122.895927', '41.605221'], ['122.895363', '41.605778'], ['122.894203', '41.606907'], ['122.893906', '41.607258'], ['122.893906', '41.607258'], ['122.893822', '41.607628'], ['122.893402', '41.608219'], ['122.893227', '41.608692'], ['122.893158', '41.608948'], ['122.893066', '41.609455'], ['122.893044', '41.609711'], ['122.893028', '41.609959'], ['122.893066', '41.610336'], ['122.893105', '41.6106'], ['122.893204', '41.61097'], ['122.893372', '41.611462'], ['122.893539', '41.611816'], ['122.893753', '41.612167'], ['122.894081', '41.612633'], ['122.894646', '41.613476'], ['122.895721', '41.614502'], ['122.897301', '41.616009'], ['122.897537', '41.616207'], ['122.89846', '41.617035'], ['122.899155', '41.617626'], ['122.900566', '41.618805'], ['122.901558', '41.619556'], ['122.903572', '41.621021'], ['122.904686', '41.621765'], ['122.906319', '41.622829'], ['122.906921', '41.623203'], ['122.908478', '41.624123'], ['122.911217', '41.625618'], ['122.912811', '41.626408'], ['122.914482', '41.627197'], ['122.914886', '41.627388'], ['122.915039', '41.627453'], ['122.916016', '41.627865'], ['122.91803', '41.628704'], ['122.92823', '41.632729'], ['122.930611', '41.633675'], ['122.933029', '41.63472'], ['122.935272', '41.635773'], ['122.937012', '41.636627'], ['122.937057', '41.636654'], ['122.938332', '41.637321'], ['122.939606', '41.638023'], ['122.939888', '41.638184'], ['122.941299', '41.638996'], ['122.942032', '41.639435'], ['122.943047', '41.640068'], ['122.944649', '41.641109'], ['122.94632', '41.642258'], ['122.950775', '41.645359'], ['122.953705', '41.647434'], ['122.955788', '41.648846'], ['122.956291', '41.649166'], ['122.956497', '41.649303'], ['122.957787', '41.650112'], ['122.958763', '41.650703'], ['122.958984', '41.650826'], ['122.960243', '41.651554'], ['122.962326', '41.652702'], ['122.964127', '41.653622'], ['122.964851', '41.653996'], ['122.967102', '41.655067'], ['122.969208', '41.65601'], ['122.978859', '41.660156'], ['122.97953', '41.660446'], ['122.980949', '41.661072'], ['122.982773', '41.661938'], ['122.984276', '41.66267'], ['122.985458', '41.66328'], ['122.986992', '41.664127'], ['122.989067', '41.665329'], ['122.990524', '41.666248'], ['122.992134', '41.667313'], ['122.992958', '41.667877'], ['122.994354', '41.668892'], ['122.995255', '41.669556'], ['122.99559', '41.66983'], ['122.997246', '41.671143'], ['123.001205', '41.674324'], ['123.00293', '41.675705'], ['123.0056', '41.677853'], ['123.005905', '41.678093'], ['123.007065', '41.679031'], ['123.008194', '41.679913'], ['123.009239', '41.680721'], ['123.010231', '41.681423'], ['123.011238', '41.682125'], ['123.011597', '41.682377'], ['123.012726', '41.683121'], ['123.014694', '41.68433'], ['123.015762', '41.684952'], ['123.017776', '41.686058'], ['123.018997', '41.68668'], ['123.019455', '41.686913'], ['123.021355', '41.687862'], ['123.022781', '41.688583'], ['123.024895', '41.689636'], ['123.029739', '41.692059'], ['123.031219', '41.692772'], ['123.031898', '41.693111'], ['123.032677', '41.693497'], ['123.032677', '41.693497'], ['123.033203', '41.693607'], ['123.033638', '41.693748'], ['123.033638', '41.693748'], ['123.034363', '41.69368'], ['123.034698', '41.693607'], ['123.035072', '41.69352'], ['123.035362', '41.693474'], ['123.035606', '41.693455'], ['123.035828', '41.693466'], ['123.036041', '41.693493'], ['123.036301', '41.693554'], ['123.03653', '41.693619'], ['123.03685', '41.693764'], ['123.038696', '41.694695'], ['123.039673', '41.69516'], ['123.039673', '41.69516'], ['123.0401', '41.695366'], ['123.040878', '41.695751'], ['123.040878', '41.695751'], ['123.041771', '41.695618'], ['123.042442', '41.695518'], ['123.043396', '41.695381'], ['123.043938', '41.695301'], ['123.044487', '41.695221'], ['123.046516', '41.694923'], ['123.046867', '41.694874'], ['123.047852', '41.694721'], ['123.050354', '41.694344'], ['123.052567', '41.694'], ['123.053154', '41.693871'], ['123.053772', '41.693699'], ['123.055763', '41.693111'], ['123.056541', '41.692883'], ['123.057343', '41.692657'], ['123.058838', '41.692242'], ['123.059547', '41.692116'], ['123.059784', '41.692089'], ['123.062347', '41.691959'], ['123.063065', '41.691883'], ['123.063309', '41.691849'], ['123.065544', '41.691372'], ['123.066757', '41.691101'], ['123.067017', '41.69104'], ['123.067513', '41.691692'], ['123.068657', '41.693111'], ['123.068848', '41.693344'], ['123.069664', '41.694355'], ['123.07019', '41.694996'], ['123.070694', '41.695587'], ['123.071304', '41.69627'], ['123.071999', '41.69701'], ['123.072685', '41.697708'], ['123.073708', '41.698662'], ['123.074432', '41.699326'], ['123.075737', '41.700413'], ['123.076927', '41.701344'], ['123.077797', '41.701977'], ['123.078331', '41.702354'], ['123.079941', '41.703407'], ['123.080658', '41.703857'], ['123.08107', '41.704102'], ['123.082146', '41.704727'], ['123.082863', '41.705124'], ['123.090195', '41.709072'], ['123.09082', '41.709408'], ['123.094765', '41.711536'], ['123.096718', '41.712585'], ['123.100197', '41.714455'], ['123.101372', '41.715088'], ['123.102768', '41.715839'], ['123.10907', '41.719231'], ['123.112793', '41.72123'], ['123.117577', '41.723804'], ['123.12178', '41.72607'], ['123.12191', '41.726143'], ['123.129715', '41.730339'], ['123.130936', '41.730991'], ['123.131271', '41.731171'], ['123.134232', '41.732738'], ['123.134567', '41.732914'], ['123.134766', '41.733028'], ['123.137398', '41.734432'], ['123.13871', '41.735138'], ['123.142273', '41.737057'], ['123.148277', '41.740292'], ['123.149918', '41.741177'], ['123.151215', '41.74189'], ['123.152962', '41.742874'], ['123.154053', '41.743511'], ['123.156738', '41.745174'], ['123.157455', '41.745621']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>