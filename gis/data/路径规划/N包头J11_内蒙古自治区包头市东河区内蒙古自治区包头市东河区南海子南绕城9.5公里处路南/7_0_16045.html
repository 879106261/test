<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['109.87384', '40.640221'], ['109.87458', '40.640186'], ['109.874809', '40.640175'], ['109.875481', '40.640141'], ['109.875954', '40.640121'], ['109.876999', '40.640076'], ['109.877113', '40.640068'], ['109.878204', '40.640015'], ['109.880638', '40.639896'], ['109.881638', '40.639854'], ['109.883888', '40.639744'], ['109.885254', '40.639679'], ['109.885277', '40.639679'], ['109.885277', '40.639679'], ['109.885857', '40.638428'], ['109.886261', '40.63755'], ['109.886597', '40.63681'], ['109.886818', '40.636311'], ['109.887215', '40.635437'], ['109.887688', '40.63446'], ['109.888206', '40.633335'], ['109.888474', '40.632782'], ['109.889008', '40.631634'], ['109.889389', '40.630814'], ['109.88987', '40.629776'], ['109.890381', '40.628639'], ['109.890625', '40.62812'], ['109.890961', '40.627441'], ['109.890984', '40.627377'], ['109.891548', '40.626205'], ['109.891609', '40.626053'], ['109.891731', '40.625797'], ['109.891891', '40.625477'], ['109.892189', '40.62492'], ['109.892738', '40.62392'], ['109.894142', '40.621376'], ['109.894806', '40.620159'], ['109.894951', '40.619892'], ['109.895691', '40.618511'], ['109.895821', '40.618286'], ['109.896416', '40.617203'], ['109.896828', '40.616455'], ['109.897003', '40.616116'], ['109.897148', '40.615845'], ['109.897491', '40.615208'], ['109.897865', '40.614529'], ['109.898392', '40.613564'], ['109.899101', '40.612228'], ['109.899132', '40.612167'], ['109.899185', '40.612103'], ['109.899467', '40.611591'], ['109.899597', '40.611397'], ['109.899918', '40.611038'], ['109.900162', '40.610828'], ['109.900459', '40.610649'], ['109.900864', '40.61047'], ['109.901237', '40.610352'], ['109.901657', '40.610271'], ['109.90213', '40.610229'], ['109.902374', '40.610226'], ['109.905388', '40.610271'], ['109.907181', '40.610275'], ['109.907227', '40.610275'], ['109.907784', '40.610271'], ['109.908577', '40.610203'], ['109.90979', '40.610058'], ['109.913704', '40.609592'], ['109.913704', '40.609592'], ['109.914398', '40.609119'], ['109.91465', '40.608944'], ['109.915077', '40.608624'], ['109.915321', '40.608463'], ['109.915558', '40.608337'], ['109.915802', '40.608223'], ['109.916092', '40.608116'], ['109.916611', '40.607956'], ['109.916832', '40.607868'], ['109.917015', '40.60778'], ['109.917145', '40.6077'], ['109.917282', '40.607601'], ['109.917381', '40.607502'], ['109.917473', '40.607391'], ['109.917549', '40.607277'], ['109.917801', '40.606682'], ['109.917717', '40.605728'], ['109.917686', '40.605465'], ['109.917664', '40.605209'], ['109.917603', '40.604404'], ['109.917503', '40.603493'], ['109.917686', '40.603413'], ['109.919449', '40.603134'], ['109.92263', '40.602707'], ['109.925339', '40.602234'], ['109.926079', '40.602093'], ['109.926765', '40.601982'], ['109.928108', '40.601704'], ['109.929199', '40.601452'], ['109.929482', '40.601387'], ['109.930153', '40.601177'], ['109.930771', '40.601002'], ['109.931274', '40.600834'], ['109.932373', '40.600548'], ['109.933174', '40.600338'], ['109.933578', '40.600204'], ['109.933662', '40.600182'], ['109.934265', '40.599983'], ['109.935005', '40.59977'], ['109.936417', '40.599323'], ['109.942268', '40.597485'], ['109.943932', '40.596954'], ['109.945564', '40.596359'], ['109.945564', '40.596359'], ['109.945236', '40.595989'], ['109.944984', '40.595673'], ['109.944748', '40.595314'], ['109.944542', '40.59499'], ['109.944344', '40.594639'], ['109.944267', '40.594479'], ['109.944199', '40.594337'], ['109.944023', '40.593952'], ['109.943909', '40.593639'], ['109.943855', '40.593437'], ['109.943825', '40.593254'], ['109.943825', '40.59309'], ['109.943848', '40.592533'], ['109.943687', '40.591328'], ['109.943626', '40.590763'], ['109.943581', '40.590321'], ['109.943527', '40.589783'], ['109.943321', '40.587841'], ['109.943306', '40.587608'], ['109.943214', '40.586815'], ['109.943184', '40.586201'], ['109.943184', '40.586044'], ['109.943184', '40.586044'], ['109.94323', '40.585388'], ['109.943359', '40.584476'], ['109.94352', '40.583492'], ['109.943695', '40.582489'], ['109.944267', '40.579174'], ['109.944427', '40.578365'], ['109.944557', '40.577862'], ['109.944702', '40.5774'], ['109.945152', '40.576168'], ['109.945564', '40.575035'], ['109.946136', '40.573471'], ['109.946335', '40.572937'], ['109.946472', '40.572506'], ['109.946487', '40.572445'], ['109.946579', '40.571903'], ['109.946625', '40.571419'], ['109.946602', '40.571041'], ['109.946541', '40.570702'], ['109.946533', '40.570648'], ['109.946457', '40.570354'], ['109.946274', '40.569923'], ['109.946114', '40.56963'], ['109.945801', '40.569134'], ['109.945496', '40.568703'], ['109.944099', '40.567036'], ['109.94384', '40.566746'], ['109.94368', '40.566536'], ['109.943138', '40.56588'], ['109.942863', '40.565559'], ['109.942772', '40.565453'], ['109.942474', '40.56509'], ['109.942062', '40.564548'], ['109.939575', '40.561523'], ['109.938408', '40.560108'], ['109.936134', '40.557346'], ['109.935745', '40.556866'], ['109.935394', '40.556446'], ['109.935394', '40.556446'], ['109.935211', '40.556343'], ['109.934853', '40.556004'], ['109.934677', '40.55592'], ['109.93354', '40.554512'], ['109.932533', '40.553276'], ['109.931786', '40.552372'], ['109.931786', '40.552372'], ['109.931442', '40.552139'], ['109.931305', '40.552071'], ['109.931175', '40.552025'], ['109.93103', '40.552006'], ['109.930901', '40.551998'], ['109.930763', '40.552013'], ['109.930626', '40.552063'], ['109.930489', '40.552124'], ['109.930374', '40.552208'], ['109.930252', '40.552326'], ['109.930107', '40.552498'], ['109.929962', '40.552685'], ['109.929901', '40.552803'], ['109.929878', '40.552895'], ['109.929863', '40.552959'], ['109.929878', '40.553036'], ['109.929893', '40.553089'], ['109.929932', '40.55315'], ['109.92997', '40.553207'], ['109.930061', '40.553272'], ['109.930161', '40.553322'], ['109.930267', '40.553352'], ['109.930389', '40.553368'], ['109.930878', '40.553326'], ['109.931488', '40.553036'], ['109.933037', '40.552303'], ['109.933708', '40.551987'], ['109.935989', '40.550865'], ['109.936523', '40.550533'], ['109.936928', '40.550266'], ['109.937332', '40.549961'], ['109.937637', '40.549717'], ['109.938225', '40.54916'], ['109.938942', '40.548283'], ['109.939583', '40.547466'], ['109.939804', '40.547211'], ['109.940033', '40.546978'], ['109.940323', '40.54673'], ['109.940918', '40.546284'], ['109.941223', '40.546082'], ['109.941895', '40.545734'], ['109.941895', '40.545734'], ['109.941933', '40.545773'], ['109.941566', '40.545967'], ['109.941132', '40.546242'], ['109.940773', '40.54649'], ['109.940468', '40.54673'], ['109.940201', '40.546951'], ['109.940063', '40.547104']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>