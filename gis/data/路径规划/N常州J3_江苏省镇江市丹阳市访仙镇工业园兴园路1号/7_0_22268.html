<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.573334', '31.967669'], ['119.571983', '31.967756'], ['119.570915', '31.967823'], ['119.570801', '31.967827'], ['119.570068', '31.967873'], ['119.568909', '31.967941'], ['119.566933', '31.968052'], ['119.56382', '31.968243'], ['119.563744', '31.96822'], ['119.56266', '31.968237'], ['119.561653', '31.96825'], ['119.56134', '31.96825'], ['119.560631', '31.96825'], ['119.559402', '31.968273'], ['119.559402', '31.968273'], ['119.558739', '31.969175'], ['119.55825', '31.969873'], ['119.558037', '31.970213'], ['119.558022', '31.970232'], ['119.557877', '31.970482'], ['119.557655', '31.970856'], ['119.557381', '31.971367'], ['119.557152', '31.971817'], ['119.556915', '31.972353'], ['119.556625', '31.973106'], ['119.556534', '31.973402'], ['119.556335', '31.974007'], ['119.556152', '31.974722'], ['119.555992', '31.975487'], ['119.555794', '31.976444'], ['119.555786', '31.976521'], ['119.555656', '31.977104'], ['119.555511', '31.977808'], ['119.555298', '31.978775'], ['119.555099', '31.979717'], ['119.555084', '31.979782'], ['119.554855', '31.980816'], ['119.554771', '31.981197'], ['119.55455', '31.982235'], ['119.554367', '31.983061'], ['119.554344', '31.983133'], ['119.553993', '31.98477'], ['119.553703', '31.986032'], ['119.553513', '31.986927'], ['119.55349', '31.987045'], ['119.553215', '31.988247'], ['119.553162', '31.988493'], ['119.553101', '31.988802'], ['119.552856', '31.989922'], ['119.552429', '31.991848'], ['119.552368', '31.992188'], ['119.552353', '31.992228'], ['119.552246', '31.992695'], ['119.552086', '31.993443'], ['119.551872', '31.994389'], ['119.551758', '31.994991'], ['119.551758', '31.995054'], ['119.551727', '31.995409'], ['119.551697', '31.995829'], ['119.551552', '31.997696'], ['119.551537', '31.997925'], ['119.551468', '31.999218'], ['119.551422', '31.999762'], ['119.551201', '32.003174'], ['119.551186', '32.003387'], ['119.551117', '32.004276'], ['119.551086', '32.00462'], ['119.551025', '32.004997'], ['119.550934', '32.005432'], ['119.550865', '32.005726'], ['119.550735', '32.006157'], ['119.550575', '32.006561'], ['119.550468', '32.006817'], ['119.550217', '32.007359'], ['119.549698', '32.008289'], ['119.54953', '32.008583'], ['119.549446', '32.008705'], ['119.549225', '32.009106'], ['119.548912', '32.009636'], ['119.548454', '32.010429'], ['119.548103', '32.011047'], ['119.547813', '32.011547'], ['119.54747', '32.012154'], ['119.547432', '32.012222'], ['119.547264', '32.012512'], ['119.547234', '32.012562'], ['119.546318', '32.014107'], ['119.546295', '32.014156'], ['119.545425', '32.015659'], ['119.543915', '32.018265'], ['119.543419', '32.019112'], ['119.542839', '32.020119'], ['119.542809', '32.020164'], ['119.539917', '32.025143'], ['119.537872', '32.028652'], ['119.537758', '32.028858'], ['119.537758', '32.028858'], ['119.537567', '32.029499'], ['119.537323', '32.030128'], ['119.537323', '32.030777'], ['119.537277', '32.031399'], ['119.537254', '32.031727'], ['119.53717', '32.032326'], ['119.537048', '32.033047'], ['119.536713', '32.034901'], ['119.536705', '32.034973'], ['119.536545', '32.03587'], ['119.536491', '32.036133'], ['119.53595', '32.039143'], ['119.535698', '32.040123'], ['119.535416', '32.040874'], ['119.535355', '32.041023'], ['119.535103', '32.041492'], ['119.534729', '32.042076'], ['119.534081', '32.042915'], ['119.533859', '32.04319'], ['119.532631', '32.044693'], ['119.532219', '32.045128'], ['119.531784', '32.045582'], ['119.53154', '32.045845'], ['119.53125', '32.046143'], ['119.530815', '32.046535'], ['119.53019', '32.047119'], ['119.52993', '32.047356'], ['119.527664', '32.049412'], ['119.527565', '32.049503'], ['119.525101', '32.051758'], ['119.524765', '32.052063'], ['119.524399', '32.052395'], ['119.524323', '32.052467'], ['119.524002', '32.052761'], ['119.523697', '32.053043'], ['119.523369', '32.053371'], ['119.523048', '32.053726'], ['119.522758', '32.054119'], ['119.52253', '32.054459'], ['119.522247', '32.054951'], ['119.522011', '32.05547'], ['119.521072', '32.057617'], ['119.520844', '32.058102'], ['119.520775', '32.058243'], ['119.520546', '32.058674'], ['119.520309', '32.05904'], ['119.519989', '32.059471'], ['119.519821', '32.059666'], ['119.519455', '32.060055'], ['119.519073', '32.060406'], ['119.518181', '32.061161'], ['119.516335', '32.062645'], ['119.515144', '32.063633'], ['119.514847', '32.063923'], ['119.514336', '32.064468'], ['119.514076', '32.064808'], ['119.513847', '32.065132'], ['119.513527', '32.065681'], ['119.513252', '32.066212'], ['119.512688', '32.067337'], ['119.512451', '32.06781'], ['119.511833', '32.069035'], ['119.511795', '32.069088'], ['119.51165', '32.069355'], ['119.511452', '32.069679'], ['119.511208', '32.070023'], ['119.510971', '32.070324'], ['119.510727', '32.070599'], ['119.510567', '32.070744'], ['119.510384', '32.07093'], ['119.509842', '32.071381'], ['119.50927', '32.071793'], ['119.508675', '32.072239'], ['119.508415', '32.072445'], ['119.507957', '32.072849'], ['119.507614', '32.073177'], ['119.507324', '32.073544'], ['119.507095', '32.073868'], ['119.507057', '32.073921'], ['119.506859', '32.074226'], ['119.506714', '32.074501'], ['119.506523', '32.074886'], ['119.505203', '32.077744'], ['119.504341', '32.079617'], ['119.504128', '32.080078'], ['119.503899', '32.080563'], ['119.503563', '32.081306'], ['119.503288', '32.081886'], ['119.50248', '32.083618'], ['119.502281', '32.084049'], ['119.5019', '32.084801'], ['119.501305', '32.085796'], ['119.500969', '32.086411'], ['119.500793', '32.086761'], ['119.500587', '32.087231'], ['119.500465', '32.087559'], ['119.500267', '32.08812'], ['119.50013', '32.088612'], ['119.499794', '32.089916'], ['119.49958', '32.090729'], ['119.499496', '32.091061'], ['119.499298', '32.091812'], ['119.49913', '32.092442'], ['119.498962', '32.092915'], ['119.498833', '32.093243'], ['119.498642', '32.093632'], ['119.498451', '32.093964'], ['119.498322', '32.094166'], ['119.497826', '32.094868'], ['119.49736', '32.095455'], ['119.497253', '32.095577'], ['119.495964', '32.097172'], ['119.495361', '32.097935'], ['119.493637', '32.100086'], ['119.492775', '32.101154'], ['119.492249', '32.101734'], ['119.491936', '32.102051'], ['119.491653', '32.102325'], ['119.490364', '32.103466'], ['119.489891', '32.103886'], ['119.489815', '32.103951'], ['119.487305', '32.106148'], ['119.486092', '32.107208'], ['119.485825', '32.107445'], ['119.485367', '32.107895'], ['119.484818', '32.108551'], ['119.484291', '32.109241'], ['119.481636', '32.11282'], ['119.481468', '32.113033'], ['119.481438', '32.113068'], ['119.480919', '32.113792'], ['119.48056', '32.11425'], ['119.480148', '32.11488'], ['119.47979', '32.11557'], ['119.479469', '32.11631'], ['119.479263', '32.116936'], ['119.479248', '32.116993'], ['119.478928', '32.117939'], ['119.478645', '32.118805'], ['119.478539', '32.119106'], ['119.478142', '32.120327'], ['119.47805', '32.120594'], ['119.477875', '32.121147'], ['119.477379', '32.122608'], ['119.477158', '32.123367'], ['119.476906', '32.124023'], ['119.476906', '32.124039'], ['119.476723', '32.124695'], ['119.476631', '32.125088'], ['119.476532', '32.125668'], ['119.476471', '32.126209'], ['119.476433', '32.126518'], ['119.476303', '32.12661'], ['119.47319', '32.126888'], ['119.471306', '32.127048'], ['119.470459', '32.127121'], ['119.468109', '32.127331'], ['119.468109', '32.127331'], ['119.468201', '32.127823'], ['119.468536', '32.129532'], ['119.469017', '32.132217']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>