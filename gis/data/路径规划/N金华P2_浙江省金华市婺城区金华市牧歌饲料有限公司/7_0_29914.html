<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.817833', '29.186375'], ['119.817574', '29.18622'], ['119.817574', '29.18622'], ['119.817436', '29.186684'], ['119.81739', '29.186867'], ['119.81739', '29.186867'], ['119.819016', '29.187813'], ['119.820572', '29.188715'], ['119.821945', '29.189514'], ['119.821838', '29.18968'], ['119.821457', '29.189457'], ['119.816887', '29.18681'], ['119.811157', '29.183475'], ['119.809242', '29.182364'], ['119.807968', '29.181627'], ['119.807381', '29.181267'], ['119.806961', '29.180994'], ['119.806602', '29.180738'], ['119.806206', '29.180418'], ['119.805847', '29.180105'], ['119.805557', '29.179817'], ['119.805428', '29.179688'], ['119.805267', '29.179508'], ['119.80497', '29.179153'], ['119.804695', '29.178806'], ['119.804405', '29.178392'], ['119.804184', '29.178038'], ['119.803619', '29.177076'], ['119.8032', '29.176371'], ['119.802895', '29.17592'], ['119.802483', '29.175346'], ['119.802124', '29.174923'], ['119.801743', '29.174498'], ['119.801414', '29.174158'], ['119.801369', '29.17412'], ['119.800674', '29.173492'], ['119.800278', '29.173174'], ['119.799805', '29.172832'], ['119.799194', '29.172426'], ['119.797256', '29.171267'], ['119.797218', '29.171242'], ['119.796852', '29.171015'], ['119.796448', '29.170725'], ['119.796104', '29.170473'], ['119.795601', '29.170055'], ['119.795189', '29.169691'], ['119.794922', '29.169422'], ['119.794807', '29.169313'], ['119.79438', '29.168833'], ['119.794266', '29.168697'], ['119.794106', '29.168503'], ['119.79361', '29.1679'], ['119.792343', '29.166338'], ['119.791611', '29.165405'], ['119.790817', '29.164463'], ['119.790268', '29.163853'], ['119.789886', '29.163443'], ['119.78933', '29.162895'], ['119.788887', '29.162477'], ['119.787888', '29.161606'], ['119.787308', '29.161167'], ['119.786842', '29.160833'], ['119.786743', '29.160788'], ['119.786354', '29.160551'], ['119.785408', '29.159941'], ['119.783829', '29.159027'], ['119.782021', '29.158173'], ['119.781113', '29.157713'], ['119.780884', '29.157595'], ['119.779869', '29.157053'], ['119.778732', '29.15642'], ['119.777603', '29.15576'], ['119.776566', '29.155134'], ['119.775459', '29.154423'], ['119.772949', '29.152742'], ['119.772255', '29.1523'], ['119.771538', '29.151871'], ['119.771019', '29.151588'], ['119.770615', '29.151361'], ['119.769943', '29.151024'], ['119.769104', '29.150616'], ['119.768555', '29.150377'], ['119.767662', '29.150023'], ['119.766808', '29.149704'], ['119.765816', '29.149384'], ['119.765114', '29.149179'], ['119.764366', '29.148989'], ['119.763847', '29.148863'], ['119.762955', '29.14867'], ['119.762291', '29.148552'], ['119.761406', '29.148415'], ['119.760406', '29.148293'], ['119.759727', '29.148233'], ['119.758713', '29.148182'], ['119.757851', '29.148155'], ['119.757065', '29.148148'], ['119.754807', '29.148216'], ['119.754669', '29.14823'], ['119.752373', '29.148352'], ['119.750977', '29.148428'], ['119.748405', '29.148556'], ['119.74601', '29.148684'], ['119.743965', '29.148785'], ['119.739326', '29.149027'], ['119.737404', '29.149124'], ['119.734062', '29.149298'], ['119.732613', '29.14934'], ['119.73114', '29.149345'], ['119.729935', '29.149323'], ['119.729019', '29.149284'], ['119.729004', '29.149284'], ['119.728317', '29.149235'], ['119.72802', '29.149218'], ['119.727051', '29.149145'], ['119.725784', '29.149019'], ['119.723984', '29.148785'], ['119.722473', '29.148542'], ['119.721504', '29.148378'], ['119.71949', '29.148046'], ['119.718765', '29.147915'], ['119.718033', '29.147787'], ['119.718033', '29.147787'], ['119.717636', '29.147795'], ['119.717255', '29.147781'], ['119.716888', '29.147787'], ['119.716606', '29.147808'], ['119.716225', '29.147869'], ['119.715897', '29.147938'], ['119.715561', '29.148029'], ['119.715164', '29.148174'], ['119.714088', '29.148571'], ['119.71347', '29.148815'], ['119.71331', '29.148853'], ['119.713158', '29.14887'], ['119.713013', '29.14887'], ['119.712868', '29.148844'], ['119.71273', '29.148802'], ['119.712601', '29.148737'], ['119.712479', '29.148651'], ['119.712395', '29.148556'], ['119.712318', '29.148466'], ['119.712288', '29.14839'], ['119.712242', '29.148298'], ['119.712219', '29.148186'], ['119.712212', '29.14805'], ['119.712242', '29.147827'], ['119.712288', '29.147491'], ['119.712311', '29.146727'], ['119.712311', '29.146648'], ['119.71209', '29.146372'], ['119.711861', '29.146097'], ['119.711273', '29.145451'], ['119.71077', '29.144936'], ['119.71077', '29.144936'], ['119.710251', '29.14448'], ['119.709846', '29.144144'], ['119.709351', '29.143763'], ['119.708878', '29.143433'], ['119.708389', '29.143116'], ['119.707855', '29.142799'], ['119.707359', '29.14253'], ['119.707039', '29.142374'], ['119.707031', '29.142368'], ['119.706398', '29.14208'], ['119.706108', '29.141966'], ['119.705574', '29.141794'], ['119.704773', '29.141548'], ['119.704353', '29.141397'], ['119.703552', '29.14105'], ['119.701401', '29.140209'], ['119.701248', '29.140139'], ['119.701088', '29.140074'], ['119.700089', '29.139641'], ['119.698456', '29.139002'], ['119.698265', '29.13892'], ['119.695816', '29.13796'], ['119.695229', '29.137733'], ['119.695152', '29.137705'], ['119.694679', '29.137527'], ['119.693123', '29.136936'], ['119.692497', '29.136698'], ['119.690399', '29.13588'], ['119.690048', '29.135742'], ['119.689224', '29.135433'], ['119.688293', '29.135151'], ['119.686668', '29.134705'], ['119.685944', '29.134554'], ['119.685234', '29.134439'], ['119.685059', '29.134418'], ['119.683899', '29.134272'], ['119.683731', '29.134249'], ['119.682526', '29.134167'], ['119.68187', '29.134153'], ['119.680801', '29.134163'], ['119.678856', '29.134176'], ['119.678337', '29.13418'], ['119.677856', '29.13418'], ['119.675011', '29.134203'], ['119.674576', '29.134207'], ['119.674416', '29.134209'], ['119.673897', '29.134212'], ['119.672195', '29.134232'], ['119.67115', '29.134235'], ['119.669304', '29.134266'], ['119.666771', '29.134298'], ['119.666069', '29.134306'], ['119.665176', '29.134272'], ['119.664238', '29.134197'], ['119.663589', '29.13414'], ['119.663086', '29.134085'], ['119.65966', '29.133667'], ['119.65815', '29.133497'], ['119.65493', '29.133116'], ['119.654144', '29.133028'], ['119.653419', '29.132952'], ['119.65303', '29.13291'], ['119.652916', '29.132891'], ['119.652184', '29.132799'], ['119.651306', '29.132704'], ['119.651123', '29.132683'], ['119.650017', '29.132509'], ['119.648941', '29.132278'], ['119.648071', '29.13205'], ['119.646866', '29.131659'], ['119.645706', '29.131197'], ['119.645294', '29.131042'], ['119.644478', '29.130724'], ['119.641113', '29.129448'], ['119.638794', '29.128576'], ['119.63826', '29.128361'], ['119.637604', '29.128115'], ['119.637321', '29.128019'], ['119.636856', '29.127869'], ['119.636314', '29.127722'], ['119.635918', '29.127636'], ['119.635643', '29.127596'], ['119.635452', '29.127565'], ['119.635002', '29.127491'], ['119.63472', '29.127459'], ['119.634132', '29.127386'], ['119.633522', '29.127344'], ['119.633171', '29.127331'], ['119.632904', '29.127314'], ['119.632584', '29.127296'], ['119.629692', '29.127136'], ['119.629539', '29.127127'], ['119.62307', '29.126789'], ['119.621246', '29.126698'], ['119.621193', '29.126688'], ['119.619141', '29.126593'], ['119.617813', '29.126535'], ['119.61541', '29.126429'], ['119.614571', '29.126375'], ['119.613808', '29.126297'], ['119.61235', '29.126085'], ['119.611511', '29.125898'], ['119.610466', '29.125595'], ['119.609894', '29.125414'], ['119.608879', '29.125023'], ['119.608421', '29.124813'], ['119.608299', '29.124754'], ['119.608101', '29.124653'], ['119.606888', '29.123976'], ['119.606491', '29.123711'], ['119.605904', '29.123316'], ['119.605194', '29.122768'], ['119.604622', '29.122278'], ['119.604126', '29.121813'], ['119.603645', '29.121311'], ['119.602448', '29.119965'], ['119.602081', '29.119549'], ['119.600403', '29.117647'], ['119.598785', '29.115833'], ['119.598755', '29.115793'], ['119.597168', '29.113976'], ['119.597076', '29.11388'], ['119.596985', '29.113766'], ['119.595787', '29.11241'], ['119.592766', '29.108997'], ['119.591469', '29.107513'], ['119.591034', '29.107021'], ['119.590561', '29.106499'], ['119.587296', '29.102781'], ['119.587051', '29.102491'], ['119.58654', '29.101885'], ['119.586227', '29.101507'], ['119.586044', '29.101294'], ['119.583954', '29.098902'], ['119.582481', '29.097221'], ['119.582069', '29.096703'], ['119.581154', '29.095461'], ['119.580841', '29.09495'], ['119.580666', '29.094654'], ['119.580368', '29.09404'], ['119.580101', '29.093479'], ['119.57991', '29.093008'], ['119.579468', '29.091797'], ['119.578552', '29.089239'], ['119.578552', '29.089239'], ['119.576981', '29.089827'], ['119.576157', '29.090118'], ['119.575188', '29.09046'], ['119.574417', '29.090742'], ['119.574211', '29.090687'], ['119.573982', '29.090096'], ['119.573708', '29.089302'], ['119.573341', '29.088282'], ['119.573082', '29.087551'], ['119.572838', '29.08688'], ['119.57254', '29.086039'], ['119.572433', '29.08576'], ['119.572433', '29.08576'], ['119.571663', '29.085947'], ['119.571663', '29.085947'], ['119.571686', '29.086029'], ['119.571701', '29.086102'], ['119.571716', '29.08621']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>