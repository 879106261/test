<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.270172', '29.761784'], ['120.269867', '29.761805'], ['120.269867', '29.761805'], ['120.269936', '29.761927'], ['120.269966', '29.761963'], ['120.270515', '29.762644'], ['120.271111', '29.763174'], ['120.271957', '29.763884'], ['120.271912', '29.763903'], ['120.274437', '29.766029'], ['120.274773', '29.766312'], ['120.275162', '29.766602'], ['120.275726', '29.766918'], ['120.275726', '29.766918'], ['120.277611', '29.765938'], ['120.27832', '29.76552'], ['120.279541', '29.764805'], ['120.279922', '29.764557'], ['120.279922', '29.764557'], ['120.281082', '29.763767'], ['120.283073', '29.762383'], ['120.283607', '29.761963'], ['120.284149', '29.761534'], ['120.28463', '29.761055'], ['120.286171', '29.759459'], ['120.2864', '29.759212'], ['120.28669', '29.758825'], ['120.287155', '29.7582'], ['120.288017', '29.756767'], ['120.288567', '29.75551'], ['120.289093', '29.753546'], ['120.289421', '29.7523'], ['120.289589', '29.75148'], ['120.289673', '29.750978'], ['120.289879', '29.749718'], ['120.290054', '29.748867'], ['120.290337', '29.747568'], ['120.290588', '29.746922'], ['120.290611', '29.746862'], ['120.290741', '29.746557'], ['120.290962', '29.746124'], ['120.291229', '29.745693'], ['120.291656', '29.745127'], ['120.292282', '29.74428'], ['120.292442', '29.744158'], ['120.292702', '29.74383'], ['120.292877', '29.743647'], ['120.293076', '29.743475'], ['120.293434', '29.743233'], ['120.293625', '29.743137'], ['120.294083', '29.742956'], ['120.294373', '29.742878'], ['120.294632', '29.742842'], ['120.294754', '29.742842'], ['120.294754', '29.742842'], ['120.295113', '29.742842'], ['120.295708', '29.742908'], ['120.29615', '29.742964'], ['120.297882', '29.743134'], ['120.300293', '29.743364'], ['120.305367', '29.743834'], ['120.306595', '29.743954'], ['120.30722', '29.744011'], ['120.30912', '29.744171'], ['120.310204', '29.74423'], ['120.311295', '29.744263'], ['120.312248', '29.74428'], ['120.313416', '29.744263'], ['120.31543', '29.744167'], ['120.31649', '29.744089'], ['120.31971', '29.743771'], ['120.322266', '29.743507'], ['120.337074', '29.742014'], ['120.338142', '29.741922'], ['120.339005', '29.741898'], ['120.340172', '29.741913'], ['120.340721', '29.741945'], ['120.341736', '29.742048'], ['120.342255', '29.742123'], ['120.342812', '29.742228'], ['120.344238', '29.74251'], ['120.345337', '29.742733'], ['120.345993', '29.742842'], ['120.346443', '29.742901'], ['120.347397', '29.743004'], ['120.348305', '29.743069'], ['120.356461', '29.743446'], ['120.357536', '29.743511'], ['120.358131', '29.743568'], ['120.358627', '29.74358'], ['120.359673', '29.743719'], ['120.3601', '29.743793'], ['120.361328', '29.744049'], ['120.361977', '29.744226'], ['120.361977', '29.744226'], ['120.36274', '29.744476'], ['120.363243', '29.744661'], ['120.364281', '29.745113'], ['120.364868', '29.745399'], ['120.365463', '29.745729'], ['120.366211', '29.746172'], ['120.366455', '29.746321'], ['120.36763', '29.747057'], ['120.368263', '29.747478'], ['120.368576', '29.747673'], ['120.369202', '29.748047'], ['120.369759', '29.748363'], ['120.370445', '29.748716'], ['120.371109', '29.749002'], ['120.372177', '29.749357'], ['120.374588', '29.749987'], ['120.375359', '29.750214'], ['120.37706', '29.750742'], ['120.377701', '29.750978'], ['120.379547', '29.75164'], ['120.382629', '29.75276'], ['120.385796', '29.753933'], ['120.386948', '29.754393'], ['120.387955', '29.754835'], ['120.388176', '29.75495'], ['120.389091', '29.755396'], ['120.390045', '29.755911'], ['120.390915', '29.756416'], ['120.391701', '29.756903'], ['120.392647', '29.757551'], ['120.393677', '29.758303'], ['120.394379', '29.758858'], ['120.395187', '29.759541'], ['120.396759', '29.760969'], ['120.39769', '29.761885'], ['120.397781', '29.761963'], ['120.397919', '29.762096'], ['120.399574', '29.763651'], ['120.399925', '29.763985'], ['120.400726', '29.764635'], ['120.401459', '29.765165'], ['120.401962', '29.765499'], ['120.40287', '29.766029'], ['120.403877', '29.76652'], ['120.404297', '29.766703'], ['120.40493', '29.766953'], ['120.405632', '29.767195'], ['120.406372', '29.767422'], ['120.407555', '29.7677'], ['120.409447', '29.768051'], ['120.410156', '29.768196'], ['120.411446', '29.768467'], ['120.411446', '29.768467'], ['120.412216', '29.768646'], ['120.414444', '29.769236'], ['120.415535', '29.769575'], ['120.419037', '29.770681'], ['120.422966', '29.771723'], ['120.423744', '29.771976'], ['120.424248', '29.772158'], ['120.424759', '29.772369'], ['120.425278', '29.77261'], ['120.425896', '29.772924'], ['120.425926', '29.772947'], ['120.426445', '29.773237'], ['120.426865', '29.773499'], ['120.427193', '29.77372'], ['120.427757', '29.774149'], ['120.428429', '29.774714'], ['120.428917', '29.775169'], ['120.429291', '29.77556'], ['120.429718', '29.776043'], ['120.430229', '29.776735'], ['120.430519', '29.777145'], ['120.431198', '29.778294'], ['120.432121', '29.779932'], ['120.432137', '29.779951'], ['120.43261', '29.780746'], ['120.434456', '29.783934'], ['120.434753', '29.784458'], ['120.435379', '29.7855'], ['120.435822', '29.786198'], ['120.43737', '29.788603'], ['120.43737', '29.788603'], ['120.437851', '29.789413'], ['120.438705', '29.79093'], ['120.438957', '29.791348'], ['120.440079', '29.792904'], ['120.44043', '29.793293'], ['120.440735', '29.793615'], ['120.441269', '29.794136'], ['120.441833', '29.794632'], ['120.442169', '29.794922'], ['120.442856', '29.795496'], ['120.446838', '29.798866'], ['120.447395', '29.799385'], ['120.447868', '29.799862'], ['120.448364', '29.800413'], ['120.448914', '29.801094'], ['120.449181', '29.801453'], ['120.449547', '29.80201'], ['120.44986', '29.802517'], ['120.450157', '29.803099'], ['120.450417', '29.803646'], ['120.450745', '29.804462'], ['120.450996', '29.805227'], ['120.451172', '29.805906'], ['120.45121', '29.806047'], ['120.451332', '29.806707'], ['120.451332', '29.806707'], ['120.451591', '29.807831'], ['120.45166', '29.808319'], ['120.451759', '29.808689'], ['120.451866', '29.808943'], ['120.451973', '29.809124'], ['120.45211', '29.809294'], ['120.45224', '29.809431'], ['120.452347', '29.80953'], ['120.452583', '29.809713'], ['120.452789', '29.809853'], ['120.452934', '29.809956'], ['120.453049', '29.810087'], ['120.453094', '29.810143'], ['120.453156', '29.810324'], ['120.453156', '29.810442'], ['120.453156', '29.810507'], ['120.453133', '29.810587'], ['120.453087', '29.810678'], ['120.453041', '29.810728'], ['120.45295', '29.810816'], ['120.452896', '29.810852'], ['120.452789', '29.810894'], ['120.452568', '29.810965'], ['120.450745', '29.811384'], ['120.450195', '29.811533'], ['120.449852', '29.811636'], ['120.449768', '29.81167'], ['120.449699', '29.81171'], ['120.449341', '29.811798'], ['120.449341', '29.811798'], ['120.449234', '29.811817'], ['120.448708', '29.811893'], ['120.448425', '29.811953'], ['120.448257', '29.812004'], ['120.447929', '29.81214'], ['120.447594', '29.81229'], ['120.447342', '29.812414'], ['120.447128', '29.812536'], ['120.446808', '29.812738'], ['120.44545', '29.813639'], ['120.445084', '29.813898'], ['120.444992', '29.813894'], ['120.444519', '29.813501'], ['120.443939', '29.813013'], ['120.443581', '29.81271'], ['120.442558', '29.81185'], ['120.442177', '29.811529'], ['120.441589', '29.811043'], ['120.440498', '29.810122'], ['120.439949', '29.809662'], ['120.439758', '29.8095'], ['120.439568', '29.809326'], ['120.438667', '29.808575'], ['120.43808', '29.808056'], ['120.437653', '29.807659'], ['120.436882', '29.806898'], ['120.436676', '29.806681'], ['120.436371', '29.806347'], ['120.435989', '29.805906'], ['120.435425', '29.805235'], ['120.435127', '29.804873'], ['120.434746', '29.804405'], ['120.434563', '29.804193'], ['120.433495', '29.80287'], ['120.433159', '29.802454'], ['120.432381', '29.801525'], ['120.432121', '29.80121'], ['120.431648', '29.8006'], ['120.431557', '29.800505'], ['120.430817', '29.799618'], ['120.430275', '29.798958'], ['120.429741', '29.798315'], ['120.428543', '29.796885'], ['120.428314', '29.796606'], ['120.427925', '29.796207'], ['120.427574', '29.795902'], ['120.427505', '29.795794'], ['120.42675', '29.794922'], ['120.426643', '29.7948'], ['120.426346', '29.7945'], ['120.426147', '29.794292'], ['120.424881', '29.792999'], ['120.424034', '29.792084'], ['120.423347', '29.791357'], ['120.423088', '29.791067'], ['120.422783', '29.790733'], ['120.422623', '29.790524'], ['120.422508', '29.790342'], ['120.422401', '29.790165'], ['120.422325', '29.789982'], ['120.422295', '29.789858'], ['120.422279', '29.789686'], ['120.422279', '29.789686'], ['120.422256', '29.789566'], ['120.422295', '29.789358'], ['120.422371', '29.789127'], ['120.422531', '29.788866'], ['120.422585', '29.788794'], ['120.422783', '29.788607'], ['120.423401', '29.788206'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>