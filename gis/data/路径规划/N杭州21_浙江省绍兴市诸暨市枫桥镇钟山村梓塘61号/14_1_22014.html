<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.270172', '29.761784'], ['120.269867', '29.761805'], ['120.269867', '29.761805'], ['120.269936', '29.761927'], ['120.269966', '29.761963'], ['120.270515', '29.762644'], ['120.271111', '29.763174'], ['120.271957', '29.763884'], ['120.271912', '29.763903'], ['120.274437', '29.766029'], ['120.274773', '29.766312'], ['120.275162', '29.766602'], ['120.275726', '29.766918'], ['120.275726', '29.766918'], ['120.277611', '29.765938'], ['120.27832', '29.76552'], ['120.279541', '29.764805'], ['120.279922', '29.764557'], ['120.279922', '29.764557'], ['120.281082', '29.763767'], ['120.283073', '29.762383'], ['120.283607', '29.761963'], ['120.284149', '29.761534'], ['120.28463', '29.761055'], ['120.286171', '29.759459'], ['120.2864', '29.759212'], ['120.28669', '29.758825'], ['120.287155', '29.7582'], ['120.288017', '29.756767'], ['120.288567', '29.75551'], ['120.289093', '29.753546'], ['120.289421', '29.7523'], ['120.289589', '29.75148'], ['120.289673', '29.750978'], ['120.289879', '29.749718'], ['120.290054', '29.748867'], ['120.290337', '29.747568'], ['120.290588', '29.746922'], ['120.290611', '29.746862'], ['120.290741', '29.746557'], ['120.290962', '29.746124'], ['120.291229', '29.745693'], ['120.291656', '29.745127'], ['120.292282', '29.74428'], ['120.292519', '29.744198'], ['120.293602', '29.744831'], ['120.294586', '29.745428'], ['120.295029', '29.745693'], ['120.295425', '29.74596'], ['120.295815', '29.746262'], ['120.295815', '29.746262'], ['120.296288', '29.746441'], ['120.296539', '29.746502'], ['120.296638', '29.746532'], ['120.296936', '29.746689'], ['120.297485', '29.747013'], ['120.29792', '29.74724'], ['120.298141', '29.747332'], ['120.298546', '29.747469'], ['120.299034', '29.747578'], ['120.29966', '29.747696'], ['120.299965', '29.747734'], ['120.300293', '29.747751'], ['120.300362', '29.747751'], ['120.300499', '29.747734'], ['120.30072', '29.747644'], ['120.300819', '29.747581'], ['120.301109', '29.747391'], ['120.301605', '29.747053'], ['120.301964', '29.746819'], ['120.302124', '29.746731'], ['120.302643', '29.746492'], ['120.302765', '29.746462'], ['120.30291', '29.746445'], ['120.30323', '29.746458'], ['120.304451', '29.746515'], ['120.304703', '29.746525'], ['120.306519', '29.746603'], ['120.306892', '29.746635'], ['120.30912', '29.746698'], ['120.311501', '29.746819'], ['120.313225', '29.746908'], ['120.31395', '29.746941'], ['120.314613', '29.747004'], ['120.314613', '29.747004'], ['120.315117', '29.747135'], ['120.316383', '29.74741'], ['120.317154', '29.747536'], ['120.317368', '29.747604'], ['120.317513', '29.747652'], ['120.31765', '29.747669'], ['120.319458', '29.74807'], ['120.320175', '29.748192'], ['120.321419', '29.748402'], ['120.321823', '29.748438'], ['120.322266', '29.748438'], ['120.324516', '29.748447'], ['120.325867', '29.748455'], ['120.32608', '29.748455'], ['120.326332', '29.74848'], ['120.326454', '29.74851'], ['120.326508', '29.748529'], ['120.326859', '29.748697'], ['120.328232', '29.749395'], ['120.328873', '29.749653'], ['120.330666', '29.750465'], ['120.330826', '29.750486'], ['120.330887', '29.750483'], ['120.331253', '29.750439'], ['120.332016', '29.75032'], ['120.332123', '29.750305'], ['120.333084', '29.75017'], ['120.333817', '29.750055'], ['120.334419', '29.749983'], ['120.334824', '29.749874'], ['120.33519', '29.749762'], ['120.335327', '29.749676'], ['120.335411', '29.749557'], ['120.335411', '29.749557'], ['120.335434', '29.749445'], ['120.335419', '29.74934'], ['120.33535', '29.749048'], ['120.335342', '29.748924'], ['120.335342', '29.748848'], ['120.335358', '29.748779'], ['120.335457', '29.748537'], ['120.33567', '29.74806'], ['120.335892', '29.747631'], ['120.335968', '29.747414'], ['120.336212', '29.746908'], ['120.33744', '29.744303'], ['120.339325', '29.740305'], ['120.339325', '29.740305'], ['120.33947', '29.740417'], ['120.339844', '29.74066'], ['120.340202', '29.740911'], ['120.340462', '29.741112'], ['120.340836', '29.74144'], ['120.341019', '29.741636'], ['120.342186', '29.742916'], ['120.342552', '29.743238'], ['120.342758', '29.743393'], ['120.343048', '29.743589'], ['120.343307', '29.743729'], ['120.34362', '29.743872'], ['120.343903', '29.74398'], ['120.344238', '29.744076'], ['120.34446', '29.744135'], ['120.34478', '29.744194'], ['120.345444', '29.74424'], ['120.345879', '29.744226'], ['120.346153', '29.744207'], ['120.346489', '29.744158'], ['120.347733', '29.743885'], ['120.34861', '29.743732'], ['120.349167', '29.743685'], ['120.349358', '29.74365'], ['120.349831', '29.743668'], ['120.350487', '29.743719'], ['120.351166', '29.743807'], ['120.352051', '29.743906'], ['120.352783', '29.743961'], ['120.35405', '29.744036'], ['120.355247', '29.744066'], ['120.35704', '29.744106'], ['120.357903', '29.744141'], ['120.358315', '29.744198'], ['120.358673', '29.744297'], ['120.359146', '29.744484'], ['120.359512', '29.744686'], ['120.359833', '29.744909'], ['120.363556', '29.747669'], ['120.365028', '29.748758'], ['120.365234', '29.748911'], ['120.365494', '29.749098'], ['120.365837', '29.749353'], ['120.366211', '29.749626'], ['120.366325', '29.749718'], ['120.366585', '29.749908'], ['120.366661', '29.749964'], ['120.366699', '29.75'], ['120.367149', '29.750351'], ['120.367561', '29.750715'], ['120.367767', '29.750916'], ['120.367828', '29.750978'], ['120.36792', '29.751072'], ['120.368317', '29.751507'], ['120.368507', '29.75172'], ['120.369217', '29.752552'], ['120.369637', '29.753046'], ['120.369751', '29.753178'], ['120.370041', '29.753529'], ['120.370628', '29.75421'], ['120.370949', '29.754595'], ['120.372269', '29.756147'], ['120.37249', '29.75643'], ['120.372856', '29.756987'], ['120.373085', '29.757414'], ['120.37323', '29.757723'], ['120.373268', '29.757843'], ['120.373337', '29.758013'], ['120.373619', '29.75898'], ['120.374237', '29.76128'], ['120.374374', '29.761702'], ['120.374466', '29.761963'], ['120.374565', '29.762239'], ['120.374809', '29.762814'], ['120.374901', '29.76302'], ['120.374992', '29.763165'], ['120.375275', '29.76372'], ['120.376389', '29.765839'], ['120.37722', '29.767355'], ['120.377419', '29.767691'], ['120.377953', '29.768406'], ['120.37825', '29.768715'], ['120.378845', '29.769262'], ['120.379181', '29.769535'], ['120.379547', '29.769787'], ['120.379852', '29.769987'], ['120.380203', '29.770191'], ['120.380821', '29.770487'], ['120.381134', '29.770624'], ['120.38166', '29.770807'], ['120.382126', '29.770947'], ['120.383011', '29.771133'], ['120.383446', '29.771193'], ['120.384804', '29.771315'], ['120.385696', '29.771393'], ['120.388023', '29.77158'], ['120.388176', '29.771589'], ['120.390282', '29.77177'], ['120.39093', '29.771812'], ['120.391388', '29.771812'], ['120.391884', '29.771784'], ['120.392387', '29.771723'], ['120.3927', '29.771671'], ['120.393127', '29.771576'], ['120.393547', '29.771448'], ['120.393959', '29.771307'], ['120.394348', '29.771137'], ['120.394676', '29.770977'], ['120.395287', '29.77062'], ['120.39595', '29.770113'], ['120.396355', '29.769783'], ['120.396942', '29.769358'], ['120.397636', '29.769011'], ['120.39798', '29.768881'], ['120.398346', '29.768789'], ['120.398499', '29.768763'], ['120.398933', '29.768711'], ['120.398987', '29.768702'], ['120.399452', '29.768671'], ['120.39975', '29.768675'], ['120.400177', '29.768721'], ['120.400391', '29.768747'], ['120.400948', '29.768885'], ['120.401237', '29.768984'], ['120.401604', '29.769131'], ['120.401825', '29.769239'], ['120.402115', '29.769405'], ['120.402382', '29.769587'], ['120.402596', '29.769762'], ['120.402817', '29.76996'], ['120.403015', '29.770155'], ['120.403572', '29.770815'], ['120.40387', '29.771151'], ['120.40403', '29.771315'], ['120.404228', '29.771511'], ['120.404465', '29.771723'], ['120.404732', '29.771931'], ['120.40519', '29.772266'], ['120.405968', '29.772791'], ['120.406204', '29.772947'], ['120.406487', '29.773148'], ['120.407028', '29.773516'], ['120.407295', '29.77371'], ['120.407585', '29.773945'], ['120.407883', '29.774235'], ['120.408592', '29.774965'], ['120.408852', '29.775251'], ['120.409317', '29.775742'], ['120.409714', '29.776171'], ['120.409904', '29.776375'], ['120.410156', '29.776636'], ['120.410316', '29.77681'], ['120.410942', '29.777473'], ['120.411842', '29.778402'], ['120.41246', '29.779062'], ['120.412827', '29.779493'], ['120.413033', '29.779764'], ['120.413216', '29.7801'], ['120.413216', '29.7801'], ['120.413506', '29.780355'], ['120.413864', '29.780724'], ['120.414429', '29.781366'], ['120.414612', '29.781584'], ['120.414886', '29.781904'], ['120.415146', '29.782131'], ['120.415337', '29.78227'], ['120.415451', '29.782339'], ['120.415451', '29.782339'], ['120.415672', '29.782396'], ['120.416069', '29.782465'], ['120.417503', '29.782722'], ['120.417709', '29.782761'], ['120.418518', '29.782883'], ['120.419601', '29.783033'], ['120.420128', '29.78302'], ['120.420494', '29.782995'], ['120.420891', '29.783024'], ['120.42115', '29.783083'], ['120.421394', '29.783195'], ['120.421562', '29.783289'], ['120.421806', '29.783537'], ['120.421989', '29.783772'], ['120.422096', '29.783934'], ['120.422142', '29.784002'], ['120.422432', '29.784449'], ['120.422798', '29.784904'], ['120.423088', '29.78532'], ['120.42318', '29.785511'], ['120.42334', '29.785778'], ['120.423744', '29.786703'], ['120.423798', '29.786972'], ['120.423904', '29.787495'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>