<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.270172', '29.761784'], ['120.269867', '29.761805'], ['120.269867', '29.761805'], ['120.269936', '29.761927'], ['120.269966', '29.761963'], ['120.270515', '29.762644'], ['120.271111', '29.763174'], ['120.271957', '29.763884'], ['120.271912', '29.763903'], ['120.274437', '29.766029'], ['120.274773', '29.766312'], ['120.275162', '29.766602'], ['120.275726', '29.766918'], ['120.275803', '29.766962'], ['120.276154', '29.767159'], ['120.276268', '29.767267'], ['120.276443', '29.76734'], ['120.276726', '29.767427'], ['120.277229', '29.767582'], ['120.27832', '29.76786'], ['120.278526', '29.767908'], ['120.279503', '29.768164'], ['120.279785', '29.768242'], ['120.27993', '29.768293'], ['120.280205', '29.768429'], ['120.280373', '29.768541'], ['120.280701', '29.76881'], ['120.281395', '29.769505'], ['120.281776', '29.769892'], ['120.282082', '29.770214'], ['120.282265', '29.77046'], ['120.282814', '29.771215'], ['120.283272', '29.771852'], ['120.283272', '29.771852'], ['120.283493', '29.771812'], ['120.28373', '29.77177'], ['120.284157', '29.771671'], ['120.284355', '29.771584'], ['120.284508', '29.771461'], ['120.28463', '29.77129'], ['120.284676', '29.771189'], ['120.284729', '29.771015'], ['120.285004', '29.769644'], ['120.285057', '29.769327'], ['120.285126', '29.768681'], ['120.285172', '29.768133'], ['120.285263', '29.766771'], ['120.285309', '29.76635'], ['120.285362', '29.766176'], ['120.285446', '29.765997'], ['120.285591', '29.765884'], ['120.285767', '29.765791'], ['120.285858', '29.765764'], ['120.286125', '29.765701'], ['120.286484', '29.765665'], ['120.286865', '29.765583'], ['120.287109', '29.765495'], ['120.287277', '29.765417'], ['120.287788', '29.765165'], ['120.287994', '29.765087'], ['120.288193', '29.765053'], ['120.288445', '29.765039'], ['120.288818', '29.765121'], ['120.289131', '29.765268'], ['120.289787', '29.765669'], ['120.290375', '29.76602'], ['120.290825', '29.766394'], ['120.291786', '29.767536'], ['120.29203', '29.767746'], ['120.29229', '29.767939'], ['120.292587', '29.768097'], ['120.292854', '29.768202'], ['120.293098', '29.768272'], ['120.293648', '29.768387'], ['120.294563', '29.768538'], ['120.295425', '29.768724'], ['120.29599', '29.768894'], ['120.297562', '29.769394'], ['120.299362', '29.77'], ['120.300179', '29.770283'], ['120.300293', '29.770313'], ['120.300957', '29.770487'], ['120.301765', '29.770586'], ['120.302818', '29.770752'], ['120.303268', '29.770782'], ['120.303696', '29.770828'], ['120.304207', '29.770811'], ['120.304405', '29.770782'], ['120.305611', '29.770628'], ['120.306679', '29.770512'], ['120.307091', '29.770477'], ['120.307388', '29.77046'], ['120.307457', '29.77046'], ['120.307999', '29.770464'], ['120.308365', '29.77047'], ['120.308517', '29.770473'], ['120.308777', '29.770477'], ['120.309303', '29.770496'], ['120.310089', '29.770533'], ['120.310349', '29.770552'], ['120.310852', '29.770569'], ['120.311722', '29.770586'], ['120.313072', '29.770609'], ['120.313927', '29.77062'], ['120.314148', '29.770624'], ['120.315765', '29.770647'], ['120.316315', '29.770655'], ['120.316864', '29.770668'], ['120.317352', '29.770733'], ['120.317581', '29.77076'], ['120.318291', '29.770906'], ['120.31945', '29.771267'], ['120.320366', '29.771576'], ['120.322266', '29.772266'], ['120.322548', '29.772373'], ['120.323349', '29.772655'], ['120.324158', '29.772947'], ['120.324432', '29.773043'], ['120.325844', '29.773542'], ['120.326706', '29.773876'], ['120.327354', '29.774126'], ['120.328064', '29.774422'], ['120.329384', '29.775064'], ['120.329796', '29.775286'], ['120.33017', '29.775511'], ['120.330368', '29.775612'], ['120.331123', '29.776155'], ['120.332001', '29.776857'], ['120.332596', '29.777374'], ['120.33271', '29.777473'], ['120.333946', '29.778534'], ['120.33419', '29.778742'], ['120.335495', '29.779844'], ['120.335777', '29.780087'], ['120.336571', '29.780773'], ['120.336884', '29.781046'], ['120.337303', '29.78142'], ['120.338097', '29.78208'], ['120.338684', '29.782581'], ['120.339096', '29.782965'], ['120.339752', '29.783489'], ['120.340012', '29.783676'], ['120.340446', '29.783934'], ['120.340515', '29.783972'], ['120.340874', '29.784115'], ['120.341591', '29.784395'], ['120.34214', '29.784571'], ['120.342674', '29.784626'], ['120.342979', '29.784649'], ['120.344238', '29.784691'], ['120.344322', '29.784695'], ['120.34449', '29.784718'], ['120.344604', '29.784769'], ['120.344696', '29.784859'], ['120.344803', '29.784973'], ['120.345398', '29.785515'], ['120.345634', '29.78566'], ['120.345917', '29.785788'], ['120.3461', '29.785856'], ['120.346306', '29.785898'], ['120.346527', '29.785898'], ['120.346695', '29.785847'], ['120.346832', '29.785755'], ['120.346832', '29.785755'], ['120.347252', '29.78533'], ['120.347466', '29.78516'], ['120.347603', '29.785082'], ['120.347733', '29.785036'], ['120.34787', '29.785017'], ['120.347946', '29.785017'], ['120.34832', '29.785078'], ['120.348984', '29.785227'], ['120.349785', '29.785452'], ['120.349991', '29.785479'], ['120.350586', '29.785429'], ['120.350899', '29.785368'], ['120.351486', '29.785299'], ['120.351807', '29.785273'], ['120.352798', '29.785133'], ['120.354691', '29.784887'], ['120.354881', '29.784887'], ['120.355042', '29.784948'], ['120.355194', '29.785061'], ['120.355431', '29.785265'], ['120.355591', '29.785364'], ['120.355766', '29.785433'], ['120.356033', '29.785456'], ['120.357132', '29.785496'], ['120.357491', '29.785446'], ['120.357758', '29.785368'], ['120.357979', '29.785309'], ['120.35878', '29.78504'], ['120.360001', '29.784592'], ['120.360428', '29.78438'], ['120.360962', '29.784016'], ['120.361099', '29.783934'], ['120.361893', '29.783466'], ['120.363144', '29.782822'], ['120.363525', '29.78256'], ['120.363792', '29.7824'], ['120.364182', '29.78219'], ['120.364761', '29.781921'], ['120.364975', '29.781845'], ['120.365356', '29.781767'], ['120.366211', '29.781626'], ['120.367203', '29.781471'], ['120.368782', '29.781124'], ['120.369789', '29.780884'], ['120.370697', '29.780687'], ['120.371857', '29.780464'], ['120.372162', '29.780451'], ['120.37249', '29.780464'], ['120.37307', '29.780434'], ['120.373512', '29.780352'], ['120.374268', '29.780138'], ['120.375175', '29.779922'], ['120.376366', '29.779587'], ['120.376587', '29.779497'], ['120.3769', '29.779331'], ['120.3769', '29.779331'], ['120.376877', '29.779127'], ['120.376877', '29.778475'], ['120.376862', '29.778229'], ['120.376862', '29.777678'], ['120.376846', '29.777523'], ['120.376793', '29.777336'], ['120.376694', '29.777163'], ['120.376427', '29.776772'], ['120.376213', '29.776421'], ['120.376205', '29.776293'], ['120.376175', '29.77602'], ['120.376244', '29.775318'], ['120.376274', '29.775091'], ['120.376328', '29.774881'], ['120.376366', '29.774809'], ['120.376419', '29.774757'], ['120.37648', '29.774704'], ['120.377022', '29.774401'], ['120.377563', '29.774153'], ['120.377769', '29.774023'], ['120.378204', '29.773651'], ['120.378311', '29.773542'], ['120.378899', '29.772947'], ['120.379265', '29.772583'], ['120.379547', '29.772282'], ['120.380775', '29.770998'], ['120.381104', '29.770668'], ['120.381134', '29.770624'], ['120.38166', '29.770807'], ['120.382126', '29.770947'], ['120.383011', '29.771133'], ['120.383446', '29.771193'], ['120.384804', '29.771315'], ['120.385696', '29.771393'], ['120.388023', '29.77158'], ['120.388176', '29.771589'], ['120.390282', '29.77177'], ['120.39093', '29.771812'], ['120.391388', '29.771812'], ['120.391884', '29.771784'], ['120.392387', '29.771723'], ['120.3927', '29.771671'], ['120.393127', '29.771576'], ['120.393547', '29.771448'], ['120.393959', '29.771307'], ['120.394348', '29.771137'], ['120.394676', '29.770977'], ['120.395287', '29.77062'], ['120.39595', '29.770113'], ['120.396355', '29.769783'], ['120.396942', '29.769358'], ['120.397636', '29.769011'], ['120.39798', '29.768881'], ['120.398346', '29.768789'], ['120.398499', '29.768763'], ['120.398933', '29.768711'], ['120.398987', '29.768702'], ['120.399452', '29.768671'], ['120.39975', '29.768675'], ['120.400177', '29.768721'], ['120.400391', '29.768747'], ['120.400948', '29.768885'], ['120.401237', '29.768984'], ['120.401604', '29.769131'], ['120.401825', '29.769239'], ['120.402115', '29.769405'], ['120.402382', '29.769587'], ['120.402596', '29.769762'], ['120.402817', '29.76996'], ['120.403015', '29.770155'], ['120.403572', '29.770815'], ['120.40387', '29.771151'], ['120.40403', '29.771315'], ['120.404228', '29.771511'], ['120.404465', '29.771723'], ['120.404732', '29.771931'], ['120.40519', '29.772266'], ['120.405968', '29.772791'], ['120.406204', '29.772947'], ['120.406487', '29.773148'], ['120.407028', '29.773516'], ['120.407295', '29.77371'], ['120.407585', '29.773945'], ['120.407883', '29.774235'], ['120.408592', '29.774965'], ['120.408852', '29.775251'], ['120.409317', '29.775742'], ['120.409714', '29.776171'], ['120.409904', '29.776375'], ['120.410156', '29.776636'], ['120.410316', '29.77681'], ['120.410942', '29.777473'], ['120.411842', '29.778402'], ['120.41246', '29.779062'], ['120.412827', '29.779493'], ['120.413033', '29.779764'], ['120.413216', '29.7801'], ['120.413216', '29.7801'], ['120.413506', '29.780355'], ['120.413864', '29.780724'], ['120.414429', '29.781366'], ['120.414612', '29.781584'], ['120.414886', '29.781904'], ['120.415146', '29.782131'], ['120.415337', '29.78227'], ['120.415451', '29.782339'], ['120.415451', '29.782339'], ['120.415672', '29.782396'], ['120.416069', '29.782465'], ['120.417503', '29.782722'], ['120.417709', '29.782761'], ['120.418518', '29.782883'], ['120.419601', '29.783033'], ['120.420128', '29.78302'], ['120.420494', '29.782995'], ['120.420891', '29.783024'], ['120.42115', '29.783083'], ['120.421394', '29.783195'], ['120.421562', '29.783289'], ['120.421806', '29.783537'], ['120.421989', '29.783772'], ['120.422096', '29.783934'], ['120.422142', '29.784002'], ['120.422432', '29.784449'], ['120.422798', '29.784904'], ['120.423088', '29.78532'], ['120.42318', '29.785511'], ['120.42334', '29.785778'], ['120.423744', '29.786703'], ['120.423798', '29.786972'], ['120.423904', '29.787495'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>