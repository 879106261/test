<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.270172', '29.761784'], ['120.269867', '29.761805'], ['120.269867', '29.761805'], ['120.269936', '29.761927'], ['120.269966', '29.761963'], ['120.270515', '29.762644'], ['120.271111', '29.763174'], ['120.271957', '29.763884'], ['120.271912', '29.763903'], ['120.274437', '29.766029'], ['120.274773', '29.766312'], ['120.275162', '29.766602'], ['120.275726', '29.766918'], ['120.275726', '29.766918'], ['120.277611', '29.765938'], ['120.27832', '29.76552'], ['120.279541', '29.764805'], ['120.279922', '29.764557'], ['120.279922', '29.764557'], ['120.281082', '29.763767'], ['120.283073', '29.762383'], ['120.283607', '29.761963'], ['120.284149', '29.761534'], ['120.28463', '29.761055'], ['120.286171', '29.759459'], ['120.2864', '29.759212'], ['120.28669', '29.758825'], ['120.287155', '29.7582'], ['120.288017', '29.756767'], ['120.288567', '29.75551'], ['120.289093', '29.753546'], ['120.289421', '29.7523'], ['120.289589', '29.75148'], ['120.289673', '29.750978'], ['120.289879', '29.749718'], ['120.290054', '29.748867'], ['120.290337', '29.747568'], ['120.290588', '29.746922'], ['120.290611', '29.746862'], ['120.290741', '29.746557'], ['120.290962', '29.746124'], ['120.291229', '29.745693'], ['120.291656', '29.745127'], ['120.292282', '29.74428'], ['120.292442', '29.744158'], ['120.292702', '29.74383'], ['120.292877', '29.743647'], ['120.293076', '29.743475'], ['120.293434', '29.743233'], ['120.293625', '29.743137'], ['120.294083', '29.742956'], ['120.294373', '29.742878'], ['120.294632', '29.742842'], ['120.294754', '29.742842'], ['120.294754', '29.742842'], ['120.295113', '29.742842'], ['120.295708', '29.742908'], ['120.29615', '29.742964'], ['120.297882', '29.743134'], ['120.300293', '29.743364'], ['120.305367', '29.743834'], ['120.306595', '29.743954'], ['120.30722', '29.744011'], ['120.30912', '29.744171'], ['120.310204', '29.74423'], ['120.311295', '29.744263'], ['120.312248', '29.74428'], ['120.313416', '29.744263'], ['120.31543', '29.744167'], ['120.31649', '29.744089'], ['120.31971', '29.743771'], ['120.322266', '29.743507'], ['120.337074', '29.742014'], ['120.338142', '29.741922'], ['120.339005', '29.741898'], ['120.340172', '29.741913'], ['120.340721', '29.741945'], ['120.341736', '29.742048'], ['120.342255', '29.742123'], ['120.342812', '29.742228'], ['120.344238', '29.74251'], ['120.345337', '29.742733'], ['120.345993', '29.742842'], ['120.346443', '29.742901'], ['120.347397', '29.743004'], ['120.348305', '29.743069'], ['120.356461', '29.743446'], ['120.357536', '29.743511'], ['120.358131', '29.743568'], ['120.358627', '29.74358'], ['120.359673', '29.743719'], ['120.3601', '29.743793'], ['120.361328', '29.744049'], ['120.361977', '29.744226'], ['120.361977', '29.744226'], ['120.36274', '29.744476'], ['120.363243', '29.744661'], ['120.364281', '29.745113'], ['120.364868', '29.745399'], ['120.365463', '29.745729'], ['120.366211', '29.746172'], ['120.366455', '29.746321'], ['120.36763', '29.747057'], ['120.368263', '29.747478'], ['120.368576', '29.747673'], ['120.369202', '29.748047'], ['120.369759', '29.748363'], ['120.370445', '29.748716'], ['120.371109', '29.749002'], ['120.372177', '29.749357'], ['120.374588', '29.749987'], ['120.375359', '29.750214'], ['120.37706', '29.750742'], ['120.377701', '29.750978'], ['120.379547', '29.75164'], ['120.382629', '29.75276'], ['120.385796', '29.753933'], ['120.386948', '29.754393'], ['120.387955', '29.754835'], ['120.388176', '29.75495'], ['120.389091', '29.755396'], ['120.390045', '29.755911'], ['120.390915', '29.756416'], ['120.391701', '29.756903'], ['120.392647', '29.757551'], ['120.393677', '29.758303'], ['120.394379', '29.758858'], ['120.395187', '29.759541'], ['120.396759', '29.760969'], ['120.396759', '29.760969'], ['120.397217', '29.761293'], ['120.397789', '29.761784'], ['120.398018', '29.761963'], ['120.398056', '29.761992'], ['120.398323', '29.762154'], ['120.398491', '29.762232'], ['120.398643', '29.762287'], ['120.399002', '29.762379'], ['120.399223', '29.7624'], ['120.399681', '29.762417'], ['120.399902', '29.762449'], ['120.400055', '29.762491'], ['120.400154', '29.762543'], ['120.400261', '29.762651'], ['120.400322', '29.762737'], ['120.400368', '29.762941'], ['120.400352', '29.763065'], ['120.400345', '29.763111'], ['120.400276', '29.763277'], ['120.399315', '29.765045'], ['120.399239', '29.7652'], ['120.399101', '29.765511'], ['120.398987', '29.765875'], ['120.398949', '29.766016'], ['120.39888', '29.766472'], ['120.398865', '29.76671'], ['120.398865', '29.766897'], ['120.398865', '29.767326'], ['120.398865', '29.767326'], ['120.398872', '29.767979'], ['120.398903', '29.768333'], ['120.398903', '29.768333'], ['120.399048', '29.768515'], ['120.399109', '29.768555'], ['120.399162', '29.768589'], ['120.399452', '29.768671'], ['120.39975', '29.768675'], ['120.400177', '29.768721'], ['120.400391', '29.768747'], ['120.400948', '29.768885'], ['120.401237', '29.768984'], ['120.401604', '29.769131'], ['120.401825', '29.769239'], ['120.402115', '29.769405'], ['120.402382', '29.769587'], ['120.402596', '29.769762'], ['120.402817', '29.76996'], ['120.403015', '29.770155'], ['120.403572', '29.770815'], ['120.40387', '29.771151'], ['120.40403', '29.771315'], ['120.404228', '29.771511'], ['120.404465', '29.771723'], ['120.404732', '29.771931'], ['120.40519', '29.772266'], ['120.405968', '29.772791'], ['120.406204', '29.772947'], ['120.406487', '29.773148'], ['120.407028', '29.773516'], ['120.407295', '29.77371'], ['120.407585', '29.773945'], ['120.407883', '29.774235'], ['120.408592', '29.774965'], ['120.408852', '29.775251'], ['120.409317', '29.775742'], ['120.409714', '29.776171'], ['120.409904', '29.776375'], ['120.410156', '29.776636'], ['120.410316', '29.77681'], ['120.410942', '29.777473'], ['120.411842', '29.778402'], ['120.41246', '29.779062'], ['120.412827', '29.779493'], ['120.413033', '29.779764'], ['120.413216', '29.7801'], ['120.413216', '29.7801'], ['120.413506', '29.780355'], ['120.413864', '29.780724'], ['120.414429', '29.781366'], ['120.414612', '29.781584'], ['120.414886', '29.781904'], ['120.415146', '29.782131'], ['120.415337', '29.78227'], ['120.415451', '29.782339'], ['120.415451', '29.782339'], ['120.415672', '29.782396'], ['120.416069', '29.782465'], ['120.417503', '29.782722'], ['120.417709', '29.782761'], ['120.418518', '29.782883'], ['120.419601', '29.783033'], ['120.420128', '29.78302'], ['120.420494', '29.782995'], ['120.420891', '29.783024'], ['120.42115', '29.783083'], ['120.421394', '29.783195'], ['120.421562', '29.783289'], ['120.421806', '29.783537'], ['120.421989', '29.783772'], ['120.422096', '29.783934'], ['120.422142', '29.784002'], ['120.422432', '29.784449'], ['120.422798', '29.784904'], ['120.423088', '29.78532'], ['120.42318', '29.785511'], ['120.42334', '29.785778'], ['120.423744', '29.786703'], ['120.423798', '29.786972'], ['120.423904', '29.787495'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>