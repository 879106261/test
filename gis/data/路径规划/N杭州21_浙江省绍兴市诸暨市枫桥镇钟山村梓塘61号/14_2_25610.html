<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.270172', '29.761784'], ['120.269867', '29.761805'], ['120.269867', '29.761805'], ['120.269936', '29.761927'], ['120.269966', '29.761963'], ['120.270515', '29.762644'], ['120.271111', '29.763174'], ['120.271957', '29.763884'], ['120.271912', '29.763903'], ['120.274437', '29.766029'], ['120.274773', '29.766312'], ['120.275162', '29.766602'], ['120.275726', '29.766918'], ['120.275803', '29.766962'], ['120.276154', '29.767159'], ['120.276268', '29.767267'], ['120.276443', '29.76734'], ['120.276726', '29.767427'], ['120.277229', '29.767582'], ['120.27832', '29.76786'], ['120.278526', '29.767908'], ['120.279503', '29.768164'], ['120.279785', '29.768242'], ['120.27993', '29.768293'], ['120.280205', '29.768429'], ['120.280373', '29.768541'], ['120.280701', '29.76881'], ['120.281395', '29.769505'], ['120.281776', '29.769892'], ['120.282082', '29.770214'], ['120.282265', '29.77046'], ['120.282814', '29.771215'], ['120.283272', '29.771852'], ['120.283371', '29.771999'], ['120.28344', '29.772121'], ['120.283585', '29.772331'], ['120.28392', '29.772808'], ['120.284019', '29.772947'], ['120.284775', '29.77404'], ['120.285019', '29.774471'], ['120.285149', '29.77474'], ['120.285248', '29.775032'], ['120.285355', '29.775425'], ['120.285423', '29.775969'], ['120.285446', '29.776667'], ['120.285446', '29.77729'], ['120.285393', '29.777916'], ['120.285316', '29.778498'], ['120.284996', '29.780205'], ['120.284561', '29.782309'], ['120.284256', '29.783676'], ['120.284195', '29.783934'], ['120.283905', '29.785156'], ['120.283524', '29.786602'], ['120.283455', '29.786932'], ['120.283447', '29.786976'], ['120.283417', '29.787226'], ['120.283417', '29.787477'], ['120.28344', '29.787632'], ['120.283485', '29.787796'], ['120.283577', '29.788004'], ['120.283653', '29.788143'], ['120.283783', '29.788315'], ['120.284012', '29.788515'], ['120.284302', '29.788706'], ['120.286194', '29.789778'], ['120.28656', '29.790005'], ['120.286743', '29.790138'], ['120.287788', '29.791107'], ['120.288399', '29.791853'], ['120.288696', '29.792267'], ['120.288872', '29.792561'], ['120.289299', '29.793285'], ['120.289787', '29.79413'], ['120.289993', '29.794609'], ['120.290092', '29.794922'], ['120.290123', '29.795013'], ['120.290268', '29.795507'], ['120.290337', '29.796116'], ['120.290382', '29.797386'], ['120.290421', '29.79777'], ['120.290443', '29.797974'], ['120.290482', '29.798187'], ['120.290634', '29.798811'], ['120.291061', '29.800793'], ['120.291138', '29.801298'], ['120.291229', '29.802122'], ['120.29126', '29.803247'], ['120.29126', '29.803789'], ['120.29129', '29.804092'], ['120.291344', '29.80434'], ['120.291405', '29.804522'], ['120.291573', '29.804977'], ['120.291725', '29.805246'], ['120.292107', '29.805838'], ['120.292152', '29.805906'], ['120.292557', '29.806511'], ['120.294266', '29.809103'], ['120.294746', '29.809887'], ['120.295082', '29.810551'], ['120.295227', '29.81086'], ['120.295563', '29.811731'], ['120.2957', '29.812119'], ['120.295784', '29.812464'], ['120.295929', '29.813047'], ['120.29599', '29.81337'], ['120.296234', '29.814758'], ['120.296471', '29.816025'], ['120.296608', '29.816784'], ['120.296623', '29.816893'], ['120.296745', '29.817577'], ['120.296829', '29.817947'], ['120.296898', '29.818207'], ['120.296989', '29.81842'], ['120.297058', '29.818556'], ['120.297134', '29.818707'], ['120.297432', '29.819126'], ['120.298294', '29.820265'], ['120.298531', '29.820578'], ['120.29895', '29.821093'], ['120.299446', '29.821657'], ['120.300201', '29.822439'], ['120.300293', '29.822523'], ['120.300888', '29.823069'], ['120.301704', '29.823751'], ['120.301857', '29.823866'], ['120.302979', '29.8248'], ['120.303467', '29.825195'], ['120.304382', '29.825956'], ['120.304619', '29.826147'], ['120.305458', '29.826832'], ['120.305824', '29.827131'], ['120.306732', '29.827877'], ['120.308067', '29.828989'], ['120.308067', '29.828989'], ['120.308197', '29.828911'], ['120.308723', '29.828602'], ['120.308968', '29.828489'], ['120.309326', '29.828342'], ['120.309517', '29.828278'], ['120.310181', '29.828119'], ['120.310715', '29.828051'], ['120.311211', '29.828037'], ['120.311737', '29.828077'], ['120.312149', '29.828142'], ['120.314003', '29.828621'], ['120.314651', '29.828733'], ['120.314896', '29.828747'], ['120.315346', '29.828756'], ['120.315842', '29.82873'], ['120.316261', '29.828684'], ['120.316551', '29.828625'], ['120.316826', '29.82856'], ['120.318161', '29.828178'], ['120.318703', '29.828074'], ['120.319176', '29.828012'], ['120.319717', '29.827986'], ['120.320152', '29.828012'], ['120.320755', '29.828102'], ['120.321136', '29.828199'], ['120.321609', '29.828346'], ['120.322266', '29.828556'], ['120.322571', '29.828653'], ['120.32299', '29.828789'], ['120.324768', '29.829376'], ['120.325111', '29.829466'], ['120.325562', '29.829557'], ['120.325806', '29.829592'], ['120.326042', '29.829605'], ['120.326302', '29.829605'], ['120.326683', '29.829582'], ['120.327034', '29.829531'], ['120.327225', '29.829489'], ['120.327446', '29.829435'], ['120.327766', '29.829313'], ['120.328117', '29.829166'], ['120.328323', '29.829048'], ['120.328705', '29.828785'], ['120.32885', '29.828667'], ['120.329185', '29.82836'], ['120.329636', '29.827877'], ['120.330772', '29.826698'], ['120.331001', '29.826485'], ['120.331268', '29.826267'], ['120.331573', '29.826063'], ['120.331779', '29.82596'], ['120.33223', '29.825756'], ['120.332703', '29.825615'], ['120.333092', '29.825546'], ['120.333618', '29.825504'], ['120.335159', '29.825491'], ['120.335564', '29.825464'], ['120.336075', '29.825413'], ['120.336494', '29.825325'], ['120.337051', '29.825186'], ['120.338326', '29.824858'], ['120.338928', '29.824718'], ['120.339447', '29.824631'], ['120.339851', '29.824591'], ['120.340408', '29.824558'], ['120.341209', '29.824562'], ['120.342178', '29.82465'], ['120.342545', '29.824709'], ['120.343475', '29.8249'], ['120.344238', '29.8251'], ['120.345757', '29.825516'], ['120.348961', '29.826357'], ['120.348961', '29.826357'], ['120.349022', '29.826288'], ['120.349609', '29.825373'], ['120.349899', '29.825048'], ['120.351265', '29.823606'], ['120.351799', '29.823046'], ['120.351929', '29.822868'], ['120.35215', '29.822552'], ['120.352882', '29.821384'], ['120.352951', '29.821276'], ['120.353699', '29.820272'], ['120.35379', '29.82015'], ['120.353828', '29.820095'], ['120.354034', '29.819901'], ['120.355209', '29.819006'], ['120.355644', '29.818729'], ['120.356003', '29.818598'], ['120.357101', '29.818365'], ['120.357277', '29.818325'], ['120.358238', '29.818132'], ['120.359398', '29.8179'], ['120.360863', '29.817604'], ['120.361084', '29.81756'], ['120.362862', '29.817213'], ['120.364426', '29.816893'], ['120.365028', '29.816776'], ['120.366211', '29.816536'], ['120.36689', '29.816412'], ['120.367332', '29.816328'], ['120.367592', '29.816307'], ['120.367859', '29.816349'], ['120.368088', '29.81642'], ['120.369308', '29.816893'], ['120.369682', '29.817036'], ['120.370079', '29.817186'], ['120.370598', '29.817348'], ['120.371407', '29.817591'], ['120.371834', '29.817719'], ['120.372269', '29.817865'], ['120.372787', '29.81809'], ['120.37397', '29.818775'], ['120.374092', '29.818829'], ['120.37413', '29.818844'], ['120.374283', '29.818871'], ['120.374397', '29.818871'], ['120.374649', '29.818775'], ['120.375687', '29.818302'], ['120.376038', '29.818159'], ['120.376213', '29.818102'], ['120.376572', '29.818037'], ['120.376572', '29.818037'], ['120.37674', '29.81805'], ['120.377029', '29.818098'], ['120.378853', '29.818293'], ['120.379547', '29.818373'], ['120.37986', '29.818415'], ['120.38015', '29.81846'], ['120.38105', '29.818546'], ['120.382034', '29.818657'], ['120.383049', '29.818758'], ['120.38343', '29.818821'], ['120.383949', '29.818985'], ['120.384087', '29.819067'], ['120.38443', '29.819254'], ['120.384842', '29.819567'], ['120.38562', '29.820049'], ['120.386108', '29.820364'], ['120.386429', '29.820639'], ['120.386719', '29.820797'], ['120.387131', '29.820894'], ['120.387497', '29.820894'], ['120.387863', '29.820829'], ['120.388176', '29.820797'], ['120.390472', '29.820538'], ['120.390579', '29.820534'], ['120.390701', '29.820574'], ['120.390869', '29.820707'], ['120.391197', '29.821003'], ['120.391754', '29.821453'], ['120.394379', '29.823668'], ['120.394958', '29.824184'], ['120.395546', '29.824654'], ['120.395737', '29.824778'], ['120.395897', '29.824835'], ['120.396088', '29.824869'], ['120.39621', '29.824858'], ['120.396332', '29.824831'], ['120.396454', '29.824774'], ['120.396568', '29.824671'], ['120.396629', '29.824526'], ['120.396675', '29.824375'], ['120.397041', '29.823078'], ['120.398033', '29.81955'], ['120.398224', '29.818945'], ['120.398415', '29.818211'], ['120.398514', '29.818069'], ['120.398804', '29.8179'], ['120.398956', '29.817818'], ['120.399078', '29.817705'], ['120.399353', '29.817171'], ['120.399376', '29.817104'], ['120.399437', '29.816893'], ['120.399559', '29.816507'], ['120.399612', '29.816412'], ['120.399681', '29.81632'], ['120.399818', '29.816212'], ['120.400017', '29.816059'], ['120.401001', '29.815342'], ['120.401756', '29.814827'], ['120.402229', '29.814505'], ['120.402664', '29.814161'], ['120.403343', '29.813715'], ['120.403938', '29.813272'], ['120.404068', '29.813156'], ['120.404228', '29.812929'], ['120.404282', '29.812786'], ['120.404381', '29.812445'], ['120.404442', '29.812248'], ['120.404495', '29.811844'], ['120.404541', '29.811506'], ['120.404579', '29.811224'], ['120.404579', '29.811056'], ['120.404572', '29.810728'], ['120.40464', '29.810278'], ['120.404648', '29.809822'], ['120.404648', '29.809736'], ['120.404732', '29.809103'], ['120.404739', '29.80858'], ['120.404808', '29.807974'], ['120.404861', '29.807737'], ['120.405106', '29.807322'], ['120.405403', '29.806936'], ['120.405602', '29.806631'], ['120.405716', '29.806475'], ['120.406044', '29.806063'], ['120.406151', '29.805906'], ['120.406189', '29.805851'], ['120.406364', '29.805609'], ['120.407639', '29.803776'], ['120.408852', '29.801813'], ['120.408989', '29.801594'], ['120.409264', '29.80105'], ['120.409485', '29.800455'], ['120.409637', '29.800117'], ['120.409851', '29.799805'], ['120.410156', '29.799475'], ['120.410286', '29.799318'], ['120.410675', '29.798862'], ['120.410919', '29.798634'], ['120.41127', '29.798382'], ['120.412109', '29.797823'], ['120.412216', '29.79775'], ['120.413094', '29.797157'], ['120.413307', '29.797028'], ['120.413483', '29.796871'], ['120.413597', '29.796701'], ['120.413628', '29.796589'], ['120.413704', '29.796051'], ['120.413773', '29.795687'], ['120.413826', '29.795504'], ['120.41391', '29.795364'], ['120.414024', '29.795221'], ['120.414429', '29.794922'], ['120.414764', '29.794676'], ['120.415779', '29.793962'], ['120.416641', '29.793356'], ['120.416824', '29.793186'], ['120.416916', '29.793095'], ['120.41703', '29.792952'], ['120.41758', '29.792271'], ['120.417725', '29.792105'], ['120.417938', '29.79184'], ['120.417984', '29.791788'], ['120.418732', '29.792223'], ['120.419327', '29.792532'], ['120.42041', '29.793024'], ['120.421333', '29.793394'], ['120.421333', '29.793394'], ['120.421692', '29.792618'], ['120.422012', '29.791903'], ['120.422234', '29.791393'], ['120.422478', '29.790855'], ['120.422623', '29.790524'], ['120.422623', '29.790524'], ['120.422508', '29.790342'], ['120.422401', '29.790165'], ['120.422325', '29.789982'], ['120.422295', '29.789858'], ['120.422279', '29.789686'], ['120.422279', '29.789686'], ['120.422256', '29.789566'], ['120.422295', '29.789358'], ['120.422371', '29.789127'], ['120.422531', '29.788866'], ['120.422585', '29.788794'], ['120.422783', '29.788607'], ['120.423401', '29.788206'], ['120.423866', '29.787777'], ['120.423866', '29.787777'], ['120.424194', '29.787605'], ['120.42453', '29.787458'], ['120.425362', '29.787088'], ['120.425804', '29.786949'], ['120.426437', '29.786793'], ['120.428284', '29.786425'], ['120.429047', '29.786207'], ['120.431854', '29.785109'], ['120.432121', '29.785004'], ['120.433228', '29.784578'], ['120.433411', '29.784472'], ['120.433578', '29.784353'], ['120.433868', '29.784149'], ['120.434128', '29.783934'], ['120.434669', '29.783493'], ['120.434952', '29.78322'], ['120.435623', '29.782436'], ['120.435913', '29.782089'], ['120.436012', '29.781927'], ['120.436043', '29.781853'], ['120.436043', '29.781853'], ['120.436806', '29.782141'], ['120.436806', '29.782141'], ['120.437225', '29.782478'], ['120.437424', '29.782679'], ['120.437523', '29.782747']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>