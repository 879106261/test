<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.394432', '32.508148'], ['120.393593', '32.507809'], ['120.393173', '32.507637'], ['120.393066', '32.507587'], ['120.395767', '32.500328'], ['120.39579', '32.500282'], ['120.396057', '32.499565'], ['120.396599', '32.498116'], ['120.396812', '32.497555'], ['120.397087', '32.496799'], ['120.397179', '32.496548'], ['120.397408', '32.49596'], ['120.398407', '32.493263'], ['120.398407', '32.493263'], ['120.398613', '32.492699'], ['120.399544', '32.490181'], ['120.399902', '32.489235'], ['120.399902', '32.489235'], ['120.400803', '32.486839'], ['120.400894', '32.486572'], ['120.400932', '32.486481'], ['120.401108', '32.485989'], ['120.401161', '32.485855'], ['120.402077', '32.483593'], ['120.402802', '32.481983'], ['120.402817', '32.481937'], ['120.403183', '32.481167'], ['120.404266', '32.478996'], ['120.404755', '32.478069'], ['120.405617', '32.476547'], ['120.406029', '32.475838'], ['120.406181', '32.475586'], ['120.407112', '32.474052'], ['120.407112', '32.474052'], ['120.407669', '32.473183'], ['120.408272', '32.472275'], ['120.408478', '32.471977'], ['120.409416', '32.470638'], ['120.410156', '32.469635'], ['120.410637', '32.468998'], ['120.411728', '32.467609'], ['120.412041', '32.467209'], ['120.412804', '32.46629'], ['120.413826', '32.465099'], ['120.414268', '32.464596'], ['120.415215', '32.463547'], ['120.416161', '32.462551'], ['120.417847', '32.460846'], ['120.419029', '32.459728'], ['120.421539', '32.457409'], ['120.423309', '32.455643'], ['120.424385', '32.454506'], ['120.424919', '32.453915'], ['120.425194', '32.453609'], ['120.425308', '32.45348'], ['120.426254', '32.452381'], ['120.426941', '32.451565'], ['120.427895', '32.450359'], ['120.428337', '32.449768'], ['120.428917', '32.449001'], ['120.429512', '32.448196'], ['120.430588', '32.446629'], ['120.431175', '32.445721'], ['120.431847', '32.444649'], ['120.432121', '32.444183'], ['120.432625', '32.443352'], ['120.432762', '32.443104'], ['120.432793', '32.443047'], ['120.433029', '32.442627'], ['120.433167', '32.442364'], ['120.434425', '32.440155'], ['120.435974', '32.437397'], ['120.439217', '32.431641'], ['120.440125', '32.430035'], ['120.440819', '32.428806'], ['120.442192', '32.426338'], ['120.442963', '32.424984'], ['120.444954', '32.421471'], ['120.44545', '32.42065'], ['120.445763', '32.420139'], ['120.446274', '32.419323'], ['120.447411', '32.417629'], ['120.448296', '32.416412'], ['120.449387', '32.414944'], ['120.449585', '32.414696'], ['120.450119', '32.414017'], ['120.450592', '32.413437'], ['120.451157', '32.412766'], ['120.451157', '32.412766'], ['120.45089', '32.412632'], ['120.45089', '32.412632'], ['120.451439', '32.411907'], ['120.451721', '32.411575'], ['120.451927', '32.41132'], ['120.452774', '32.410088']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>