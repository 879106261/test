<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.327042', '33.931854'], ['118.327042', '33.932217'], ['118.327042', '33.932518'], ['118.327042', '33.932945'], ['118.327042', '33.933254'], ['118.327049', '33.93388'], ['118.327065', '33.934113'], ['118.327072', '33.935001'], ['118.327072', '33.935497'], ['118.327072', '33.935497'], ['118.328339', '33.935513'], ['118.328568', '33.935516'], ['118.329315', '33.935528'], ['118.329575', '33.935524'], ['118.33046', '33.935513'], ['118.331314', '33.935501'], ['118.331528', '33.935497'], ['118.332069', '33.935497'], ['118.332169', '33.935471'], ['118.332779', '33.935452'], ['118.333748', '33.935448'], ['118.3339', '33.935448'], ['118.334686', '33.935436'], ['118.33535', '33.935432'], ['118.335884', '33.935425'], ['118.337982', '33.935425'], ['118.338043', '33.935482'], ['118.338051', '33.936207'], ['118.338058', '33.936375'], ['118.338074', '33.936768'], ['118.338074', '33.937672'], ['118.338089', '33.93861'], ['118.338097', '33.939289'], ['118.338104', '33.939995'], ['118.338112', '33.940819'], ['118.338135', '33.941704'], ['118.338188', '33.941776'], ['118.338287', '33.941883'], ['118.338371', '33.941933'], ['118.338463', '33.941975'], ['118.339149', '33.941963'], ['118.339272', '33.941963'], ['118.340515', '33.941952'], ['118.341034', '33.941952'], ['118.341324', '33.941948'], ['118.342743', '33.94194'], ['118.342873', '33.942001'], ['118.343147', '33.946323'], ['118.343147', '33.946381'], ['118.343224', '33.94775'], ['118.343521', '33.952522'], ['118.343521', '33.952641'], ['118.343567', '33.953274'], ['118.343788', '33.956783'], ['118.343819', '33.957821'], ['118.343834', '33.95789'], ['118.343819', '33.958736'], ['118.343819', '33.959099'], ['118.343781', '33.960091'], ['118.343689', '33.961258'], ['118.343597', '33.962067'], ['118.343452', '33.963142'], ['118.342232', '33.969727'], ['118.342171', '33.9701'], ['118.342094', '33.970432'], ['118.342079', '33.970505'], ['118.342026', '33.970856'], ['118.341255', '33.975052'], ['118.340897', '33.977665'], ['118.340851', '33.978024'], ['118.340668', '33.98056'], ['118.340668', '33.980713'], ['118.34063', '33.98217'], ['118.340614', '33.986855'], ['118.340599', '33.988621'], ['118.340607', '33.989441'], ['118.340599', '33.991077'], ['118.340599', '33.991699'], ['118.340569', '33.995079'], ['118.340553', '33.998764'], ['118.340553', '33.998981'], ['118.340553', '33.99939'], ['118.340553', '33.999695'], ['118.340553', '34.00013'], ['118.340546', '34.002209'], ['118.340546', '34.002682'], ['118.340553', '34.003948'], ['118.340553', '34.004181'], ['118.340546', '34.0047'], ['118.3405', '34.013672'], ['118.340492', '34.014736'], ['118.340492', '34.015347'], ['118.340462', '34.016155'], ['118.340408', '34.017071'], ['118.340302', '34.018288'], ['118.340088', '34.020054'], ['118.33976', '34.022121'], ['118.339325', '34.024658'], ['118.33889', '34.027229'], ['118.338364', '34.030254'], ['118.337936', '34.032803'], ['118.337547', '34.035133'], ['118.337448', '34.035641'], ['118.3368', '34.039467'], ['118.336784', '34.039558'], ['118.33625', '34.042736'], ['118.335869', '34.044987'], ['118.335571', '34.046627'], ['118.335487', '34.047195'], ['118.335083', '34.049541'], ['118.334122', '34.055157'], ['118.333763', '34.057308'], ['118.33371', '34.057617'], ['118.333588', '34.058407'], ['118.33345', '34.059814'], ['118.333344', '34.059814'], ['118.33123', '34.059982'], ['118.328568', '34.060173'], ['118.327972', '34.060223'], ['118.327332', '34.060268'], ['118.325508', '34.060406'], ['118.322754', '34.060577'], ['118.322174', '34.060612'], ['118.320396', '34.060757'], ['118.318642', '34.060875'], ['118.318497', '34.060936'], ['118.318306', '34.060963'], ['118.3181', '34.061008'], ['118.316589', '34.061337'], ['118.315842', '34.061508'], ['118.315102', '34.061646'], ['118.313705', '34.061966'], ['118.313271', '34.06208'], ['118.313095', '34.062145'], ['118.312767', '34.06229'], ['118.312706', '34.062317'], ['118.312126', '34.062611'], ['118.310745', '34.063339'], ['118.309677', '34.063931'], ['118.308266', '34.064701'], ['118.30777', '34.06493'], ['118.307388', '34.065086'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>