<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.327042', '33.931854'], ['118.327042', '33.932217'], ['118.327042', '33.932518'], ['118.327042', '33.932945'], ['118.327042', '33.933254'], ['118.327049', '33.93388'], ['118.327065', '33.934113'], ['118.327072', '33.935001'], ['118.327072', '33.935497'], ['118.327072', '33.936115'], ['118.327072', '33.936611'], ['118.327072', '33.936768'], ['118.327087', '33.937077'], ['118.327095', '33.937317'], ['118.327095', '33.93755'], ['118.327103', '33.938'], ['118.32711', '33.93845'], ['118.32711', '33.938911'], ['118.32711', '33.93935'], ['118.327118', '33.939777'], ['118.327141', '33.940395'], ['118.327141', '33.940525'], ['118.327141', '33.940777'], ['118.327148', '33.941708'], ['118.327164', '33.942047'], ['118.327164', '33.942131'], ['118.327171', '33.942623'], ['118.327171', '33.943176'], ['118.327179', '33.943523'], ['118.327202', '33.944176'], ['118.327202', '33.944763'], ['118.327217', '33.945164'], ['118.327217', '33.945374'], ['118.327225', '33.946106'], ['118.327232', '33.946659'], ['118.327217', '33.946735'], ['118.327232', '33.94775'], ['118.327255', '33.949112'], ['118.327263', '33.949577'], ['118.327263', '33.949654'], ['118.327271', '33.949867'], ['118.327271', '33.950291'], ['118.327301', '33.952087'], ['118.327324', '33.952644'], ['118.327324', '33.952736'], ['118.327324', '33.953201'], ['118.327339', '33.953846'], ['118.327354', '33.954681'], ['118.327354', '33.954823'], ['118.32737', '33.955528'], ['118.32737', '33.956276'], ['118.327377', '33.956711'], ['118.327393', '33.957588'], ['118.327408', '33.957951'], ['118.327408', '33.958008'], ['118.327408', '33.958427'], ['118.327408', '33.958736'], ['118.327415', '33.959278'], ['118.327431', '33.960579'], ['118.327438', '33.96114'], ['118.327438', '33.961594'], ['118.327461', '33.962196'], ['118.327461', '33.962254'], ['118.327461', '33.962772'], ['118.327469', '33.963032'], ['118.327469', '33.963081'], ['118.327477', '33.963459'], ['118.327484', '33.964409'], ['118.327499', '33.965462'], ['118.327499', '33.966282'], ['118.327522', '33.967468'], ['118.327522', '33.967712'], ['118.327522', '33.967712'], ['118.328835', '33.967777'], ['118.330063', '33.967846'], ['118.331802', '33.96796'], ['118.331917', '33.968025'], ['118.331932', '33.969604'], ['118.331932', '33.969727'], ['118.331932', '33.970585'], ['118.331932', '33.970665'], ['118.331963', '33.971016'], ['118.331955', '33.973923'], ['118.331955', '33.97398'], ['118.331985', '33.975422'], ['118.331985', '33.975624'], ['118.33194', '33.9758'], ['118.331955', '33.976528'], ['118.331955', '33.978756'], ['118.331955', '33.980713'], ['118.331955', '33.981564'], ['118.331955', '33.982712'], ['118.331955', '33.983101'], ['118.331955', '33.985725'], ['118.331955', '33.986534'], ['118.331955', '33.989563'], ['118.331947', '33.991428'], ['118.331947', '33.991699'], ['118.331947', '33.993385'], ['118.33194', '33.994888'], ['118.331909', '33.998428'], ['118.331909', '33.998753'], ['118.331909', '33.99929'], ['118.331909', '33.999817'], ['118.331947', '33.999905'], ['118.33194', '34.001343'], ['118.33194', '34.002682'], ['118.33194', '34.002872'], ['118.33194', '34.005745'], ['118.33194', '34.009132'], ['118.331856', '34.009136'], ['118.331345', '34.009151'], ['118.330826', '34.009129'], ['118.32914', '34.009048'], ['118.327736', '34.009014'], ['118.326836', '34.009026'], ['118.32621', '34.009106'], ['118.32605', '34.009136'], ['118.32489', '34.00938'], ['118.322754', '34.009823'], ['118.321297', '34.010128'], ['118.320099', '34.010387'], ['118.317375', '34.01112'], ['118.315659', '34.011589'], ['118.313339', '34.012222'], ['118.312302', '34.012505'], ['118.311386', '34.012753'], ['118.310516', '34.012951'], ['118.309998', '34.013023'], ['118.30751', '34.013073'], ['118.307091', '34.013088'], ['118.307091', '34.013088'], ['118.307091', '34.013142'], ['118.307068', '34.013187'], ['118.30706', '34.013672'], ['118.307037', '34.014141'], ['118.30703', '34.014626'], ['118.307007', '34.015133'], ['118.306946', '34.01569'], ['118.306862', '34.016224'], ['118.306732', '34.016834'], ['118.306641', '34.017323'], ['118.306152', '34.019859'], ['118.305946', '34.020924'], ['118.305931', '34.020977'], ['118.305679', '34.022202'], ['118.305183', '34.024658'], ['118.305168', '34.024731'], ['118.304749', '34.026619'], ['118.304649', '34.027031'], ['118.30439', '34.028042'], ['118.304337', '34.028397'], ['118.304283', '34.029301'], ['118.304268', '34.029636'], ['118.304276', '34.029827'], ['118.304329', '34.030163'], ['118.304405', '34.03051'], ['118.304489', '34.03083'], ['118.304581', '34.031094'], ['118.304832', '34.031754'], ['118.305016', '34.032166'], ['118.305222', '34.032639'], ['118.305397', '34.033081'], ['118.305611', '34.033577'], ['118.305855', '34.034168'], ['118.306152', '34.03484'], ['118.30632', '34.035236'], ['118.30632', '34.035236'], ['118.306267', '34.035278'], ['118.305817', '34.035374'], ['118.304504', '34.035641'], ['118.30127', '34.036301'], ['118.30127', '34.036301'], ['118.301186', '34.036392'], ['118.300819', '34.036488'], ['118.300781', '34.03651'], ['118.30072', '34.036545'], ['118.300613', '34.036625'], ['118.300552', '34.036713'], ['118.300468', '34.036861'], ['118.300652', '34.037651'], ['118.300781', '34.038242'], ['118.301544', '34.041626'], ['118.301567', '34.041687'], ['118.301796', '34.042694'], ['118.302002', '34.043617'], ['118.302048', '34.043812'], ['118.302063', '34.043877'], ['118.302208', '34.044582'], ['118.302315', '34.04509'], ['118.302658', '34.046627'], ['118.303253', '34.049232'], ['118.303467', '34.05022'], ['118.30352', '34.050533'], ['118.304077', '34.054054'], ['118.304451', '34.056324'], ['118.304611', '34.057468'], ['118.304642', '34.057617'], ['118.304924', '34.059414'], ['118.305069', '34.060375'], ['118.305153', '34.060863'], ['118.305496', '34.063015'], ['118.305664', '34.06395'], ['118.305847', '34.064575'], ['118.305908', '34.064735'], ['118.306259', '34.065517'], ['118.306259', '34.065517'], ['118.307365', '34.06506'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>