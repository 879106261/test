<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.327042', '33.931854'], ['118.327042', '33.932217'], ['118.327042', '33.932518'], ['118.327042', '33.932945'], ['118.327042', '33.933254'], ['118.327049', '33.93388'], ['118.327065', '33.934113'], ['118.327072', '33.935001'], ['118.327072', '33.935497'], ['118.327072', '33.936115'], ['118.327072', '33.936611'], ['118.327072', '33.936768'], ['118.327087', '33.937077'], ['118.327095', '33.937317'], ['118.327095', '33.93755'], ['118.327103', '33.938'], ['118.32711', '33.93845'], ['118.32711', '33.938911'], ['118.32711', '33.93935'], ['118.327118', '33.939777'], ['118.327141', '33.940395'], ['118.327141', '33.940525'], ['118.327141', '33.940777'], ['118.327148', '33.941708'], ['118.327164', '33.942047'], ['118.327164', '33.942131'], ['118.327171', '33.942623'], ['118.327171', '33.943176'], ['118.327179', '33.943523'], ['118.327202', '33.944176'], ['118.327202', '33.944763'], ['118.327217', '33.945164'], ['118.327217', '33.945374'], ['118.327225', '33.946106'], ['118.327232', '33.946659'], ['118.327217', '33.946735'], ['118.327232', '33.94775'], ['118.327255', '33.949112'], ['118.327263', '33.949577'], ['118.327263', '33.949654'], ['118.327271', '33.949867'], ['118.327271', '33.950291'], ['118.327301', '33.952087'], ['118.327324', '33.952644'], ['118.327324', '33.952736'], ['118.327324', '33.953201'], ['118.327339', '33.953846'], ['118.327354', '33.954681'], ['118.327354', '33.954823'], ['118.32737', '33.955528'], ['118.32737', '33.956276'], ['118.327377', '33.956711'], ['118.327393', '33.957588'], ['118.327408', '33.957951'], ['118.327408', '33.958008'], ['118.327408', '33.958427'], ['118.327408', '33.958736'], ['118.327415', '33.959278'], ['118.327431', '33.960579'], ['118.327438', '33.96114'], ['118.327438', '33.961594'], ['118.327461', '33.962196'], ['118.327461', '33.962254'], ['118.327461', '33.962772'], ['118.327469', '33.963032'], ['118.327469', '33.963081'], ['118.327477', '33.963459'], ['118.327484', '33.964409'], ['118.327499', '33.965462'], ['118.327499', '33.966282'], ['118.327522', '33.967468'], ['118.327522', '33.967712'], ['118.327522', '33.967712'], ['118.328835', '33.967777'], ['118.330063', '33.967846'], ['118.331802', '33.96796'], ['118.331917', '33.968025'], ['118.331932', '33.969604'], ['118.331932', '33.969727'], ['118.331932', '33.970585'], ['118.331932', '33.970665'], ['118.331963', '33.971016'], ['118.331955', '33.973923'], ['118.331955', '33.97398'], ['118.331985', '33.975422'], ['118.331985', '33.975624'], ['118.33194', '33.9758'], ['118.331955', '33.976528'], ['118.331955', '33.978756'], ['118.331955', '33.980713'], ['118.331955', '33.981564'], ['118.331955', '33.982712'], ['118.331955', '33.983101'], ['118.331955', '33.985725'], ['118.331955', '33.986534'], ['118.331955', '33.989563'], ['118.331947', '33.991428'], ['118.331947', '33.991699'], ['118.331947', '33.993385'], ['118.33194', '33.994888'], ['118.331909', '33.998428'], ['118.331909', '33.998753'], ['118.331909', '33.99929'], ['118.331909', '33.999817'], ['118.331947', '33.999905'], ['118.33194', '34.001343'], ['118.33194', '34.001343'], ['118.33757', '34.001888'], ['118.338776', '34.001995'], ['118.340416', '34.002205'], ['118.340546', '34.002209'], ['118.340546', '34.002682'], ['118.340553', '34.003948'], ['118.340553', '34.004181'], ['118.340546', '34.0047'], ['118.3405', '34.013672'], ['118.340492', '34.014736'], ['118.340492', '34.015347'], ['118.340462', '34.016155'], ['118.340408', '34.017071'], ['118.340302', '34.018288'], ['118.340088', '34.020054'], ['118.33976', '34.022121'], ['118.339325', '34.024658'], ['118.33889', '34.027229'], ['118.338364', '34.030254'], ['118.337936', '34.032803'], ['118.337547', '34.035133'], ['118.337448', '34.035641'], ['118.3368', '34.039467'], ['118.336784', '34.039558'], ['118.33625', '34.042736'], ['118.335869', '34.044987'], ['118.335571', '34.046627'], ['118.335487', '34.047195'], ['118.335083', '34.049541'], ['118.334122', '34.055157'], ['118.333763', '34.057308'], ['118.33371', '34.057617'], ['118.333588', '34.058407'], ['118.33345', '34.059814'], ['118.333344', '34.059814'], ['118.33123', '34.059982'], ['118.328568', '34.060173'], ['118.327972', '34.060223'], ['118.327332', '34.060268'], ['118.325508', '34.060406'], ['118.322754', '34.060577'], ['118.322174', '34.060612'], ['118.320396', '34.060757'], ['118.318642', '34.060875'], ['118.318497', '34.060936'], ['118.318306', '34.060963'], ['118.3181', '34.061008'], ['118.316589', '34.061337'], ['118.315842', '34.061508'], ['118.315102', '34.061646'], ['118.313705', '34.061966'], ['118.313271', '34.06208'], ['118.313095', '34.062145'], ['118.312767', '34.06229'], ['118.312706', '34.062317'], ['118.312126', '34.062611'], ['118.310745', '34.063339'], ['118.309677', '34.063931'], ['118.308266', '34.064701'], ['118.30777', '34.06493'], ['118.307388', '34.065086'], ['118.307388', '34.065086'], ['118.307663', '34.06562'], ['118.307793', '34.065865'], ['118.307793', '34.065865'], ['118.30777', '34.065876']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>