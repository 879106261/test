<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.71032', '39.110935'], ['121.709541', '39.110947'], ['121.709412', '39.11095'], ['121.709412', '39.110882'], ['121.710426', '39.110867'], ['121.710922', '39.110855'], ['121.711014', '39.110909'], ['121.710999', '39.111328'], ['121.710983', '39.111481'], ['121.711006', '39.112122'], ['121.711014', '39.112411'], ['121.711037', '39.113136'], ['121.711029', '39.113499'], ['121.711029', '39.113884'], ['121.711014', '39.114044'], ['121.710953', '39.114391'], ['121.710907', '39.114586'], ['121.710762', '39.114861'], ['121.710762', '39.114861'], ['121.711441', '39.114872'], ['121.712112', '39.114887'], ['121.713051', '39.114906'], ['121.714104', '39.114922'], ['121.715111', '39.114948'], ['121.715897', '39.114967'], ['121.716454', '39.114994'], ['121.716957', '39.115005'], ['121.717621', '39.115017'], ['121.717918', '39.11504'], ['121.718285', '39.115093'], ['121.718559', '39.115173'], ['121.718765', '39.11525'], ['121.71949', '39.115612'], ['121.719757', '39.115768'], ['121.72039', '39.116112'], ['121.72049', '39.116165'], ['121.721245', '39.11657'], ['121.721733', '39.116821'], ['121.721939', '39.116932'], ['121.722504', '39.117226'], ['121.722679', '39.117317'], ['121.723717', '39.117859'], ['121.724068', '39.118053'], ['121.724312', '39.118183'], ['121.724709', '39.118393'], ['121.725807', '39.118938'], ['121.726128', '39.119068'], ['121.726601', '39.119194'], ['121.726868', '39.119232'], ['121.727158', '39.119255'], ['121.727448', '39.119247'], ['121.727882', '39.119221'], ['121.728363', '39.119164'], ['121.728516', '39.119183'], ['121.728516', '39.119183'], ['121.730186', '39.119083'], ['121.730797', '39.119072'], ['121.73201', '39.119087'], ['121.732254', '39.119068'], ['121.732498', '39.119026'], ['121.732697', '39.118977'], ['121.73362', '39.118629'], ['121.733879', '39.118549'], ['121.734215', '39.118488'], ['121.734459', '39.118488'], ['121.73465', '39.118496'], ['121.735725', '39.118595'], ['121.735962', '39.118618'], ['121.736305', '39.118652'], ['121.737328', '39.118748'], ['121.737724', '39.118778'], ['121.738686', '39.11887'], ['121.73925', '39.118927'], ['121.739822', '39.118977'], ['121.740433', '39.119041'], ['121.740898', '39.119083'], ['121.741333', '39.119129'], ['121.741798', '39.119175'], ['121.742096', '39.119217'], ['121.742363', '39.119274'], ['121.742622', '39.119362'], ['121.742966', '39.119492'], ['121.743149', '39.119572'], ['121.74366', '39.119801'], ['121.744072', '39.120224'], ['121.744255', '39.120369'], ['121.744766', '39.120674'], ['121.745758', '39.121315'], ['121.746765', '39.121956'], ['121.746964', '39.122066'], ['121.747398', '39.122303'], ['121.747414', '39.122311'], ['121.747627', '39.122414'], ['121.748825', '39.122936'], ['121.75013', '39.123497'], ['121.750435', '39.123596'], ['121.750488', '39.123608'], ['121.75074', '39.123665'], ['121.751076', '39.123707'], ['121.751236', '39.123703'], ['121.7519', '39.123619'], ['121.75222', '39.1236'], ['121.752388', '39.123619'], ['121.752724', '39.123676'], ['121.753166', '39.123814'], ['121.753761', '39.124039'], ['121.754501', '39.124336'], ['121.754913', '39.124531'], ['121.755157', '39.124645'], ['121.756447', '39.125278'], ['121.756691', '39.125427'], ['121.75695', '39.125591'], ['121.758224', '39.126583'], ['121.758476', '39.126732'], ['121.75872', '39.126823'], ['121.758957', '39.12685'], ['121.759201', '39.126827'], ['121.759361', '39.126785'], ['121.759857', '39.126568'], ['121.76017', '39.126457'], ['121.76049', '39.126369'], ['121.760803', '39.126293'], ['121.761597', '39.12616'], ['121.761772', '39.126141'], ['121.762047', '39.126156'], ['121.762245', '39.126186'], ['121.762802', '39.126328'], ['121.76329', '39.126457'], ['121.763962', '39.12664'], ['121.764442', '39.12674'], ['121.764771', '39.126755'], ['121.765244', '39.126705'], ['121.765419', '39.126701'], ['121.765739', '39.126747'], ['121.766655', '39.127022'], ['121.766876', '39.127121'], ['121.767029', '39.127254'], ['121.767082', '39.127346'], ['121.767113', '39.127419'], ['121.767143', '39.127548'], ['121.767235', '39.128128'], ['121.767281', '39.12825'], ['121.767349', '39.128368'], ['121.767441', '39.128475'], ['121.767555', '39.128571'], ['121.767677', '39.128643'], ['121.76783', '39.128712'], ['121.768135', '39.128803'], ['121.768456', '39.12888'], ['121.768784', '39.12891'], ['121.769775', '39.12886'], ['121.770103', '39.12888'], ['121.770744', '39.128979'], ['121.771873', '39.129181'], ['121.772461', '39.12928'], ['121.772835', '39.129337'], ['121.773659', '39.129387'], ['121.774643', '39.12941'], ['121.775291', '39.129452'], ['121.777084', '39.129662'], ['121.778549', '39.129799'], ['121.77903', '39.129875'], ['121.779274', '39.129951'], ['121.779541', '39.130081'], ['121.779709', '39.130207'], ['121.780952', '39.131363'], ['121.781288', '39.131702'], ['121.781517', '39.132027'], ['121.7817', '39.132385'], ['121.78183', '39.132828'], ['121.781944', '39.133297'], ['121.782043', '39.13364'], ['121.782112', '39.133896'], ['121.78231', '39.134258'], ['121.782677', '39.134838'], ['121.78299', '39.135281'], ['121.783157', '39.135498'], ['121.783714', '39.136139'], ['121.784798', '39.137325'], ['121.785706', '39.138336'], ['121.786034', '39.138783'], ['121.786354', '39.139278'], ['121.786812', '39.140072'], ['121.787102', '39.140579'], ['121.788338', '39.142658'], ['121.788605', '39.143089'], ['121.78891', '39.143539'], ['121.789246', '39.143982'], ['121.789505', '39.144283'], ['121.789619', '39.144409'], ['121.790482', '39.145321'], ['121.791039', '39.145893'], ['121.791191', '39.14603'], ['121.791306', '39.146126'], ['121.792038', '39.146545'], ['121.793243', '39.147217'], ['121.793777', '39.14753'], ['121.794167', '39.147724'], ['121.794434', '39.147831'], ['121.794594', '39.147888'], ['121.795952', '39.14835'], ['121.796852', '39.148685'], ['121.796997', '39.14875'], ['121.797798', '39.149181'], ['121.799866', '39.150276'], ['121.800148', '39.150394'], ['121.801117', '39.150684'], ['121.802132', '39.150948'], ['121.803993', '39.151394'], ['121.805428', '39.151787'], ['121.806068', '39.151939'], ['121.806549', '39.151985'], ['121.807053', '39.152012'], ['121.807869', '39.152031'], ['121.811333', '39.152115'], ['121.812798', '39.152103'], ['121.813957', '39.152061'], ['121.816406', '39.152058'], ['121.816597', '39.152058'], ['121.817245', '39.152084'], ['121.817574', '39.152115'], ['121.817856', '39.152153'], ['121.817947', '39.152172'], ['121.818344', '39.152245'], ['121.818565', '39.152203'], ['121.819183', '39.152306'], ['121.819717', '39.152405'], ['121.820084', '39.152496'], ['121.820358', '39.152584'], ['121.820465', '39.152618'], ['121.820763', '39.152729'], ['121.820976', '39.152843'], ['121.821083', '39.152939'], ['121.82135', '39.153267'], ['121.82151', '39.153435'], ['121.821648', '39.153545'], ['121.82209', '39.153782'], ['121.822212', '39.15387'], ['121.822739', '39.154129'], ['121.823502', '39.154594'], ['121.824554', '39.15527'], ['121.824898', '39.155502'], ['121.825203', '39.155674'], ['121.825264', '39.155716'], ['121.825752', '39.155968'], ['121.825981', '39.156078'], ['121.826424', '39.156246'], ['121.827042', '39.156437'], ['121.827309', '39.156494'], ['121.828003', '39.156605'], ['121.828651', '39.156666'], ['121.82914', '39.156696'], ['121.830513', '39.156723'], ['121.830803', '39.156738'], ['121.831535', '39.156765'], ['121.831825', '39.156765'], ['121.832588', '39.156784'], ['121.834099', '39.156826'], ['121.837029', '39.156872'], ['121.838371', '39.156914'], ['121.838516', '39.156921'], ['121.840332', '39.156937'], ['121.840637', '39.156925'], ['121.840813', '39.156906'], ['121.841118', '39.156845'], ['121.841576', '39.156693'], ['121.841858', '39.156578'], ['121.842041', '39.156502'], ['121.843048', '39.156101'], ['121.843346', '39.155972'], ['121.844597', '39.155369'], ['121.844772', '39.15527'], ['121.845245', '39.155029'], ['121.845833', '39.154743'], ['121.846413', '39.154507'], ['121.84687', '39.154354'], ['121.847191', '39.154285'], ['121.847351', '39.154259'], ['121.847679', '39.154236'], ['121.84903', '39.154263'], ['121.850151', '39.154266'], ['121.851639', '39.154217'], ['121.852135', '39.154236'], ['121.852448', '39.154316'], ['121.852737', '39.154423'], ['121.853905', '39.154942'], ['121.854622', '39.15527'], ['121.855011', '39.155449'], ['121.855858', '39.155846'], ['121.8564', '39.156155'], ['121.85685', '39.156425'], ['121.857002', '39.156521'], ['121.85807', '39.157173'], ['121.858444', '39.157421'], ['121.859154', '39.157948'], ['121.860359', '39.158878'], ['121.860435', '39.158947'], ['121.860672', '39.159119'], ['121.861176', '39.159428'], ['121.861725', '39.159714'], ['121.863052', '39.160267'], ['121.863518', '39.160423'], ['121.863831', '39.160488'], ['121.864098', '39.160534'], ['121.86512', '39.160637'], ['121.865784', '39.160675'], ['121.866371', '39.160736'], ['121.866608', '39.160782'], ['121.866898', '39.160881'], ['121.86705', '39.160961'], ['121.867294', '39.161125'], ['121.867661', '39.161381'], ['121.868721', '39.162178'], ['121.869522', '39.16283'], ['121.870018', '39.163174'], ['121.870285', '39.163311'], ['121.870865', '39.163574'], ['121.872292', '39.164162'], ['121.872635', '39.164307'], ['121.873749', '39.164761'], ['121.874779', '39.165142'], ['121.875381', '39.165405'], ['121.875778', '39.16563'], ['121.87603', '39.165787'], ['121.876259', '39.165958'], ['121.876633', '39.166256'], ['121.876839', '39.166428'], ['121.877136', '39.166676'], ['121.87825', '39.167614'], ['121.878548', '39.167866'], ['121.879395', '39.168591'], ['121.87989', '39.16898'], ['121.880608', '39.169449'], ['121.880844', '39.169621'], ['121.881088', '39.169804'], ['121.881638', '39.170277'], ['121.882317', '39.170883'], ['121.883072', '39.17157'], ['121.883675', '39.172104'], ['121.885162', '39.17347'], ['121.885368', '39.173679'], ['121.885612', '39.173965'], ['121.885818', '39.174213'], ['121.886787', '39.175549'], ['121.8871', '39.176018'], ['121.887321', '39.176384'], ['121.887497', '39.176723'], ['121.887642', '39.176964'], ['121.887878', '39.177246'], ['121.887955', '39.177326'], ['121.888214', '39.177582'], ['121.888435', '39.177765'], ['121.888695', '39.177925'], ['121.888992', '39.178089'], ['121.890083', '39.178612'], ['121.890633', '39.178898'], ['121.891281', '39.179291'], ['121.892204', '39.179901'], ['121.893181', '39.180546'], ['121.893616', '39.18087'], ['121.895714', '39.182472'], ['121.895927', '39.182632'], ['121.897842', '39.184071'], ['121.900139', '39.185833'], ['121.902214', '39.187572'], ['121.902962', '39.18808'], ['121.903191', '39.188232'], ['121.904297', '39.18895'], ['121.904648', '39.189182'], ['121.905998', '39.190067'], ['121.906258', '39.190197'], ['121.90654', '39.190311'], ['121.906998', '39.190464'], ['121.907242', '39.190525'], ['121.907463', '39.190559'], ['121.907745', '39.190575'], ['121.908325', '39.190582'], ['121.908463', '39.190582'], ['121.91008', '39.190559'], ['121.91008', '39.190559'], ['121.910439', '39.190067'], ['121.910706', '39.189728'], ['121.910904', '39.189503'], ['121.911209', '39.189201'], ['121.911484', '39.18895'], ['121.911758', '39.188725'], ['121.912437', '39.188232'], ['121.912521', '39.188175'], ['121.912895', '39.187946'], ['121.91333', '39.187706'], ['121.913628', '39.187569'], ['121.914169', '39.187336'], ['121.914635', '39.187168'], ['121.914948', '39.187061'], ['121.915466', '39.186916'], ['121.916176', '39.186749'], ['121.916756', '39.186626'], ['121.921967', '39.185745'], ['121.922569', '39.185635'], ['121.923584', '39.18541'], ['121.924461', '39.1852'], ['121.925697', '39.184864'], ['121.92627', '39.184681'], ['121.926949', '39.184452'], ['121.927773', '39.18417'], ['121.928398', '39.183933'], ['121.928986', '39.183697'], ['121.929916', '39.183296'], ['121.930679', '39.182953'], ['121.93161', '39.182487'], ['121.932549', '39.181969'], ['121.933739', '39.181244'], ['121.934814', '39.180519'], ['121.936073', '39.179649'], ['121.936684', '39.179203'], ['121.936935', '39.179035'], ['121.939491', '39.177246'], ['121.940765', '39.17635'], ['121.943344', '39.174541'], ['121.948242', '39.171108'], ['121.949516', '39.170204'], ['121.951363', '39.168915'], ['121.951859', '39.168587'], ['121.952232', '39.168362'], ['121.952507', '39.168213'], ['121.952934', '39.168015'], ['121.953705', '39.167709'], ['121.954079', '39.167587'], ['121.954468', '39.167477'], ['121.954895', '39.167377'], ['121.955383', '39.167294'], ['121.955826', '39.167236'], ['121.956268', '39.167191'], ['121.956764', '39.167168'], ['121.957748', '39.167145'], ['121.969376', '39.167171'], ['121.96981', '39.167156'], ['121.970123', '39.16713'], ['121.970215', '39.167122'], ['121.970619', '39.167034'], ['121.970619', '39.167156'], ['121.970695', '39.167736'], ['121.970757', '39.168133'], ['121.970757', '39.168133'], ['121.970444', '39.168179'], ['121.970215', '39.168213'], ['121.97007', '39.168236'], ['121.97007', '39.168236'], ['121.969841', '39.168377']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>