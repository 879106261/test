<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.53141', '31.989536'], ['119.53125', '31.989485'], ['119.530846', '31.989349'], ['119.53064', '31.989281'], ['119.529991', '31.988985'], ['119.529243', '31.988585'], ['119.529037', '31.988472'], ['119.528633', '31.98826'], ['119.528168', '31.988014'], ['119.527924', '31.987877'], ['119.526855', '31.987309'], ['119.525581', '31.986618'], ['119.524986', '31.986233'], ['119.524712', '31.986052'], ['119.524712', '31.986052'], ['119.524239', '31.987673'], ['119.523849', '31.989193'], ['119.52314', '31.992157'], ['119.523132', '31.992188'], ['119.52256', '31.994614'], ['119.522392', '31.995543'], ['119.52227', '31.996311'], ['119.522186', '31.996981'], ['119.52211', '31.997965'], ['119.522072', '31.998999'], ['119.52195', '31.998999'], ['119.519127', '31.999002'], ['119.517509', '31.999016'], ['119.51651', '31.99902'], ['119.514107', '31.999031'], ['119.513359', '31.999035'], ['119.511742', '31.999031'], ['119.510979', '31.999022'], ['119.509674', '31.999022'], ['119.50927', '31.999031'], ['119.507774', '31.999022'], ['119.506561', '31.998993'], ['119.50544', '31.998966'], ['119.505188', '31.998962'], ['119.504677', '31.998989'], ['119.503731', '31.998976'], ['119.502754', '31.999031'], ['119.501793', '31.999107'], ['119.501282', '31.999163'], ['119.500977', '31.999203'], ['119.49942', '31.999472'], ['119.498062', '31.999714'], ['119.497131', '31.999887'], ['119.496223', '32.000065'], ['119.495186', '32.000286'], ['119.494621', '32.000397'], ['119.492859', '32.000763'], ['119.492241', '32.000858'], ['119.490448', '32.001175'], ['119.489342', '32.001362'], ['119.48774', '32.001652'], ['119.487305', '32.00172'], ['119.487221', '32.00174'], ['119.484879', '32.002171'], ['119.484352', '32.002251'], ['119.483589', '32.002388'], ['119.482994', '32.002518'], ['119.481812', '32.002705'], ['119.480843', '32.002888'], ['119.479721', '32.003124'], ['119.479553', '32.003174'], ['119.479256', '32.003273'], ['119.478996', '32.003387'], ['119.478386', '32.003719'], ['119.477798', '32.004112'], ['119.477234', '32.004612'], ['119.476776', '32.005127'], ['119.476677', '32.005253'], ['119.476166', '32.005817'], ['119.475899', '32.006104'], ['119.475594', '32.006481'], ['119.474518', '32.008217'], ['119.473244', '32.01046'], ['119.473099', '32.010769'], ['119.472908', '32.011341'], ['119.472557', '32.012547'], ['119.472275', '32.013538'], ['119.472054', '32.014156'], ['119.471985', '32.014347'], ['119.471878', '32.014587'], ['119.47171', '32.014156'], ['119.471581', '32.013844'], ['119.471291', '32.013042'], ['119.471039', '32.012314'], ['119.471039', '32.012314'], ['119.469994', '32.014156'], ['119.469994', '32.014164'], ['119.468224', '32.017277'], ['119.468079', '32.017529'], ['119.467422', '32.018642'], ['119.466309', '32.0205'], ['119.465881', '32.021099'], ['119.465332', '32.021774'], ['119.464966', '32.022232'], ['119.464691', '32.022499'], ['119.464417', '32.02261'], ['119.460579', '32.023556'], ['119.459892', '32.023746'], ['119.459282', '32.023914'], ['119.456528', '32.024712'], ['119.455643', '32.024963'], ['119.455032', '32.025143'], ['119.454712', '32.025234'], ['119.454063', '32.025425'], ['119.452652', '32.025826'], ['119.451263', '32.026207'], ['119.449226', '32.026691'], ['119.445786', '32.027534'], ['119.443359', '32.028141'], ['119.441681', '32.028557'], ['119.441116', '32.028694'], ['119.43998', '32.028988'], ['119.439659', '32.029114'], ['119.439056', '32.029457'], ['119.43895', '32.029518'], ['119.437645', '32.030293'], ['119.437294', '32.030506'], ['119.437035', '32.03064'], ['119.436691', '32.030754'], ['119.434799', '32.031303'], ['119.434799', '32.031303'], ['119.434906', '32.032318'], ['119.434906', '32.032551'], ['119.434837', '32.033394'], ['119.434669', '32.034855'], ['119.434639', '32.035206'], ['119.434547', '32.036133'], ['119.434509', '32.036575'], ['119.43441', '32.037483'], ['119.434395', '32.037735'], ['119.434265', '32.039036'], ['119.434128', '32.040005'], ['119.434082', '32.040134'], ['119.433884', '32.04052'], ['119.433716', '32.04073'], ['119.433601', '32.040855'], ['119.433434', '32.040989'], ['119.433212', '32.041103'], ['119.432892', '32.041264'], ['119.432106', '32.041649'], ['119.431725', '32.041939'], ['119.431412', '32.042274'], ['119.431091', '32.042732'], ['119.430794', '32.043159'], ['119.43055', '32.043465'], ['119.43026', '32.043888'], ['119.430077', '32.04417'], ['119.430016', '32.044365'], ['119.429985', '32.044548'], ['119.429985', '32.044796'], ['119.430008', '32.044964'], ['119.430595', '32.047119'], ['119.430679', '32.04739'], ['119.431198', '32.04929'], ['119.43161', '32.050011'], ['119.431725', '32.050163'], ['119.431923', '32.050415'], ['119.432114', '32.050777'], ['119.432266', '32.051098'], ['119.432335', '32.051334'], ['119.432373', '32.051472'], ['119.432411', '32.051945'], ['119.432388', '32.053196'], ['119.432426', '32.053688'], ['119.43261', '32.054779'], ['119.432686', '32.054993'], ['119.432709', '32.055157'], ['119.432709', '32.055267'], ['119.432663', '32.055565'], ['119.432625', '32.055725'], ['119.432487', '32.055984'], ['119.432373', '32.05621'], ['119.432266', '32.056461'], ['119.432167', '32.056721'], ['119.432098', '32.057014'], ['119.431976', '32.057468'], ['119.431839', '32.057926'], ['119.431801', '32.058102'], ['119.431763', '32.058212'], ['119.431656', '32.058372'], ['119.428833', '32.060986'], ['119.428268', '32.061489'], ['119.428207', '32.061489'], ['119.428337', '32.060356'], ['119.428337', '32.060356'], ['119.427963', '32.060329'], ['119.427582', '32.060257'], ['119.427452', '32.060226'], ['119.427048', '32.060196'], ['119.426392', '32.060146'], ['119.42585', '32.060101'], ['119.425087', '32.060036']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>