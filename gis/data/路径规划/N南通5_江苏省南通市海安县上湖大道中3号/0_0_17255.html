<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.394432', '32.508148'], ['120.393593', '32.507809'], ['120.393173', '32.507637'], ['120.393066', '32.507587'], ['120.395767', '32.500328'], ['120.39579', '32.500282'], ['120.396057', '32.499565'], ['120.396599', '32.498116'], ['120.396812', '32.497555'], ['120.397087', '32.496799'], ['120.397179', '32.496548'], ['120.397408', '32.49596'], ['120.398407', '32.493263'], ['120.398407', '32.493263'], ['120.398613', '32.492699'], ['120.399544', '32.490181'], ['120.399902', '32.489235'], ['120.399902', '32.489235'], ['120.399902', '32.488979'], ['120.399887', '32.488777'], ['120.399864', '32.488674'], ['120.399818', '32.488602'], ['120.39978', '32.488537'], ['120.399704', '32.488468'], ['120.39959', '32.488392'], ['120.399483', '32.488354'], ['120.399384', '32.488327'], ['120.399269', '32.488319'], ['120.399162', '32.488323'], ['120.399055', '32.48835'], ['120.398918', '32.488411'], ['120.398827', '32.488468'], ['120.398773', '32.488525'], ['120.398712', '32.488594'], ['120.398666', '32.488686'], ['120.398643', '32.488762'], ['120.398628', '32.488861'], ['120.398643', '32.488918'], ['120.398666', '32.489014'], ['120.398705', '32.489098'], ['120.398766', '32.489174'], ['120.398872', '32.489265'], ['120.399193', '32.489506'], ['120.399467', '32.489578'], ['120.400345', '32.489819'], ['120.400345', '32.489819'], ['120.401718', '32.490181'], ['120.403252', '32.490582'], ['120.403511', '32.490646'], ['120.40377', '32.490711'], ['120.405388', '32.49107'], ['120.406754', '32.491348'], ['120.407486', '32.491467'], ['120.410156', '32.491898'], ['120.4151', '32.492691'], ['120.41713', '32.493015'], ['120.41906', '32.493389'], ['120.420235', '32.493649'], ['120.422279', '32.494141'], ['120.423447', '32.494438'], ['120.432121', '32.496689'], ['120.433113', '32.496941'], ['120.435493', '32.497555'], ['120.436447', '32.497803'], ['120.437157', '32.49799'], ['120.437416', '32.498055'], ['120.443771', '32.499695'], ['120.445129', '32.500053'], ['120.452293', '32.501884'], ['120.454102', '32.502354'], ['120.458649', '32.503517'], ['120.461975', '32.504379'], ['120.465797', '32.505356'], ['120.470009', '32.506451'], ['120.471176', '32.506744'], ['120.47187', '32.50695'], ['120.472549', '32.507187'], ['120.473076', '32.507393'], ['120.473778', '32.50769'], ['120.474304', '32.507938'], ['120.475342', '32.50845'], ['120.475533', '32.508541'], ['120.476074', '32.508816'], ['120.479073', '32.510315'], ['120.480034', '32.510792'], ['120.48011', '32.510826'], ['120.482391', '32.512039'], ['120.482681', '32.512196'], ['120.484406', '32.513107'], ['120.485252', '32.513546'], ['120.486412', '32.514156'], ['120.486938', '32.514439'], ['120.487946', '32.514973'], ['120.488441', '32.515236'], ['120.490814', '32.516487'], ['120.492882', '32.517563'], ['120.49305', '32.517651'], ['120.493584', '32.517925'], ['120.493713', '32.51799'], ['120.494354', '32.518318'], ['120.49614', '32.519241'], ['120.496712', '32.519531'], ['120.497581', '32.51997'], ['120.497902', '32.520134'], ['120.498047', '32.520203'], ['120.499039', '32.520714'], ['120.499512', '32.520954'], ['120.499664', '32.521034'], ['120.500168', '32.52129'], ['120.50174', '32.522091'], ['120.503731', '32.523102'], ['120.504517', '32.523487'], ['120.504967', '32.52372'], ['120.505074', '32.523766'], ['120.506516', '32.524513'], ['120.507301', '32.52491'], ['120.507919', '32.525227'], ['120.508949', '32.525757'], ['120.510353', '32.526474'], ['120.511528', '32.52705'], ['120.512039', '32.527275'], ['120.512398', '32.527412'], ['120.513428', '32.527763'], ['120.513977', '32.527908'], ['120.514481', '32.52803'], ['120.51503', '32.528137'], ['120.515617', '32.528233'], ['120.516045', '32.528286'], ['120.516975', '32.528339'], ['120.51799', '32.528347'], ['120.519318', '32.528297'], ['120.519936', '32.528263'], ['120.52002', '32.528255'], ['120.520981', '32.528206'], ['120.522446', '32.528141'], ['120.522797', '32.528137'], ['120.525841', '32.528156'], ['120.526672', '32.528156'], ['120.526978', '32.528156'], ['120.527016', '32.528156'], ['120.528709', '32.528194'], ['120.528748', '32.528194'], ['120.530037', '32.528198'], ['120.530426', '32.528198'], ['120.531059', '32.528202'], ['120.532074', '32.528206'], ['120.533279', '32.528206'], ['120.533508', '32.528206'], ['120.536827', '32.528244'], ['120.538086', '32.528255'], ['120.541641', '32.528278'], ['120.541992', '32.528286'], ['120.542091', '32.528286'], ['120.542946', '32.52829'], ['120.544777', '32.528305'], ['120.544777', '32.528305'], ['120.544785', '32.527855'], ['120.544785', '32.52734']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>