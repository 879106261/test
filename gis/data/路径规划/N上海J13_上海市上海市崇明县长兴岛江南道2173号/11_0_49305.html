<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.679985', '31.296007'], ['121.679878', '31.29583'], ['121.679878', '31.29583'], ['121.680222', '31.295443'], ['121.680344', '31.295269'], ['121.680344', '31.295164'], ['121.68045', '31.295'], ['121.681076', '31.294189'], ['121.681557', '31.293602'], ['121.681961', '31.293116'], ['121.682228', '31.292782'], ['121.683105', '31.291754'], ['121.684532', '31.290049'], ['121.68457', '31.290005'], ['121.685341', '31.289062'], ['121.685608', '31.288738'], ['121.686302', '31.287996'], ['121.686935', '31.287369'], ['121.687653', '31.286703'], ['121.688187', '31.286276'], ['121.688263', '31.286211'], ['121.690811', '31.284275'], ['121.690994', '31.284111'], ['121.691933', '31.283169'], ['121.692078', '31.282988'], ['121.692383', '31.2826'], ['121.692795', '31.281981'], ['121.693306', '31.281147'], ['121.694695', '31.278889'], ['121.695023', '31.278355'], ['121.69519', '31.278074'], ['121.695686', '31.277275'], ['121.696251', '31.27632'], ['121.696487', '31.275837'], ['121.696854', '31.274996'], ['121.697266', '31.274084'], ['121.697449', '31.273998'], ['121.699448', '31.274393'], ['121.699539', '31.2745'], ['121.699432', '31.27496'], ['121.699387', '31.27515'], ['121.699371', '31.275337'], ['121.699364', '31.27552'], ['121.699379', '31.275698'], ['121.699402', '31.275869'], ['121.699463', '31.276047'], ['121.699532', '31.276176'], ['121.699532', '31.276176'], ['121.699654', '31.276394'], ['121.699722', '31.27648'], ['121.69986', '31.276627'], ['121.700012', '31.276758'], ['121.700089', '31.276817'], ['121.700264', '31.276932'], ['121.700447', '31.277027'], ['121.70063', '31.277119'], ['121.700836', '31.277195'], ['121.700836', '31.277195'], ['121.701706', '31.277477'], ['121.703224', '31.277956'], ['121.70343', '31.278015'], ['121.703636', '31.278051'], ['121.70385', '31.278069'], ['121.703957', '31.278061'], ['121.704063', '31.278042'], ['121.704163', '31.278009'], ['121.704247', '31.277969'], ['121.70433', '31.277908'], ['121.704399', '31.277842'], ['121.704453', '31.277769'], ['121.704498', '31.277681'], ['121.704521', '31.277596'], ['121.704536', '31.277504'], ['121.704514', '31.277412'], ['121.704491', '31.277323'], ['121.704445', '31.277245'], ['121.704399', '31.277166'], ['121.70433', '31.277096'], ['121.704239', '31.277044'], ['121.70414', '31.277004'], ['121.704048', '31.276979'], ['121.703941', '31.276962'], ['121.703842', '31.276962'], ['121.703728', '31.276976'], ['121.703629', '31.277'], ['121.703529', '31.277044'], ['121.703438', '31.277092'], ['121.703354', '31.277153'], ['121.703201', '31.277277'], ['121.702995', '31.277523'], ['121.702927', '31.277569'], ['121.702843', '31.277618'], ['121.702782', '31.277708'], ['121.702568', '31.278074'], ['121.70179', '31.279358'], ['121.700859', '31.280884'], ['121.698502', '31.284792'], ['121.698006', '31.285574'], ['121.697433', '31.286436'], ['121.695557', '31.289062'], ['121.692795', '31.292919'], ['121.691734', '31.294313'], ['121.69117', '31.29495'], ['121.690987', '31.29517'], ['121.689919', '31.296263'], ['121.689117', '31.297035'], ['121.688095', '31.297934'], ['121.687485', '31.298437'], ['121.686668', '31.299057'], ['121.685715', '31.299749'], ['121.685265', '31.300049'], ['121.685043', '31.300192'], ['121.68457', '31.300491'], ['121.684418', '31.300591'], ['121.684113', '31.300764'], ['121.68383', '31.300941'], ['121.68383', '31.300941'], ['121.683647', '31.301102'], ['121.683075', '31.301479'], ['121.682663', '31.301767'], ['121.682213', '31.302153'], ['121.682045', '31.302309'], ['121.681816', '31.302568'], ['121.681595', '31.302864'], ['121.68145', '31.303091'], ['121.681313', '31.303347'], ['121.681175', '31.303688'], ['121.681076', '31.304045'], ['121.680984', '31.304449'], ['121.680962', '31.304762'], ['121.680962', '31.305059'], ['121.680984', '31.305334'], ['121.681076', '31.305706'], ['121.681259', '31.306358'], ['121.681381', '31.306684'], ['121.681602', '31.3071'], ['121.681633', '31.307222'], ['121.682877', '31.309231'], ['121.682877', '31.309231'], ['121.683876', '31.310781'], ['121.684029', '31.311033'], ['121.684196', '31.311312'], ['121.68457', '31.311972'], ['121.684868', '31.312513'], ['121.685188', '31.313107'], ['121.685699', '31.314131'], ['121.689415', '31.322018'], ['121.689583', '31.322382'], ['121.693794', '31.33127'], ['121.694252', '31.332212'], ['121.694572', '31.33301'], ['121.695419', '31.335146'], ['121.695679', '31.335842'], ['121.695953', '31.336626'], ['121.696243', '31.337519'], ['121.696846', '31.339476'], ['121.697075', '31.340292'], ['121.697701', '31.34264'], ['121.698112', '31.343994'], ['121.698456', '31.34506'], ['121.69899', '31.346561'], ['121.699203', '31.347105'], ['121.699745', '31.348415'], ['121.700371', '31.349863'], ['121.700935', '31.351021'], ['121.701492', '31.352118'], ['121.702782', '31.354582'], ['121.703003', '31.354979'], ['121.703979', '31.356722'], ['121.706528', '31.361338'], ['121.706543', '31.361366'], ['121.707695', '31.363499'], ['121.708557', '31.365044'], ['121.709068', '31.365965'], ['121.711288', '31.370045'], ['121.712204', '31.371809'], ['121.712692', '31.372869'], ['121.713081', '31.373751'], ['121.713882', '31.375689'], ['121.714355', '31.376953'], ['121.714401', '31.377054'], ['121.715317', '31.379868'], ['121.715813', '31.381435'], ['121.715897', '31.381693'], ['121.715981', '31.381987'], ['121.716248', '31.382822'], ['121.716415', '31.38336'], ['121.71682', '31.384579'], ['121.717529', '31.386507'], ['121.717957', '31.387617'], ['121.718102', '31.387938'], ['121.718269', '31.388311'], ['121.718643', '31.389111'], ['121.719116', '31.390142'], ['121.719864', '31.391619'], ['121.720863', '31.393579'], ['121.721626', '31.395082'], ['121.721802', '31.395447'], ['121.722916', '31.397678'], ['121.723282', '31.398394'], ['121.723549', '31.398924'], ['121.723907', '31.399626'], ['121.724457', '31.400633'], ['121.725372', '31.402227'], ['121.726204', '31.403606'], ['121.727211', '31.405138'], ['121.72847', '31.407'], ['121.728516', '31.407066'], ['121.730453', '31.409908'], ['121.730583', '31.410105'], ['121.733704', '31.414686'], ['121.735802', '31.417755'], ['121.736366', '31.418547'], ['121.737137', '31.419632'], ['121.737778', '31.420477'], ['121.738098', '31.420898'], ['121.738785', '31.421772'], ['121.739708', '31.422899'], ['121.740463', '31.423788'], ['121.742073', '31.425615'], ['121.747948', '31.431885'], ['121.750488', '31.434591'], ['121.754395', '31.438751'], ['121.75695', '31.441488'], ['121.757935', '31.442614'], ['121.758148', '31.442869'], ['121.758835', '31.443666'], ['121.75927', '31.444202'], ['121.760345', '31.445574'], ['121.760872', '31.446262'], ['121.76194', '31.447752'], ['121.762749', '31.448933'], ['121.763321', '31.449818'], ['121.764038', '31.450947'], ['121.764679', '31.452013'], ['121.765701', '31.453854'], ['121.76638', '31.455095'], ['121.767303', '31.456831'], ['121.770454', '31.46265'], ['121.771645', '31.464844'], ['121.772461', '31.466352'], ['121.773468', '31.46821'], ['121.774399', '31.469778'], ['121.775017', '31.470737'], ['121.775734', '31.471767'], ['121.77742', '31.474031'], ['121.778748', '31.475794'], ['121.77877', '31.475828'], ['121.779114', '31.47628'], ['121.785652', '31.484995'], ['121.78669', '31.486385'], ['121.78701', '31.486813'], ['121.789345', '31.489908'], ['121.789948', '31.490715'], ['121.793602', '31.495569'], ['121.794434', '31.496675'], ['121.79528', '31.497801'], ['121.795441', '31.498016'], ['121.795563', '31.498173'], ['121.795891', '31.498615'], ['121.795967', '31.49872'], ['121.795967', '31.49872'], ['121.796249', '31.498901'], ['121.796394', '31.499035'], ['121.79657', '31.49914'], ['121.796753', '31.499228'], ['121.796852', '31.499254'], ['121.797066', '31.499294'], ['121.797287', '31.499302'], ['121.797501', '31.499294'], ['121.797821', '31.499258'], ['121.798027', '31.499254'], ['121.798134', '31.499254'], ['121.798233', '31.499271'], ['121.79834', '31.499294'], ['121.798439', '31.499327'], ['121.798523', '31.499371'], ['121.798607', '31.499426'], ['121.798683', '31.499493'], ['121.798744', '31.499561'], ['121.798805', '31.499632'], ['121.798851', '31.499714'], ['121.798889', '31.4998'], ['121.798904', '31.499887'], ['121.798927', '31.499977'], ['121.798927', '31.500065'], ['121.798904', '31.500156'], ['121.798882', '31.500242'], ['121.798836', '31.50032'], ['121.798729', '31.500477'], ['121.798615', '31.50061'], ['121.797859', '31.501244'], ['121.797699', '31.501385'], ['121.797401', '31.501657'], ['121.797203', '31.501871'], ['121.796989', '31.5021'], ['121.796799', '31.502317'], ['121.796616', '31.502546'], ['121.796432', '31.502777'], ['121.796318', '31.502951'], ['121.796188', '31.503155'], ['121.796036', '31.503416'], ['121.795921', '31.503733'], ['121.795822', '31.50411'], ['121.7957', '31.504581'], ['121.79557', '31.504869'], ['121.79557', '31.504869'], ['121.795502', '31.505045'], ['121.795181', '31.505577'], ['121.795105', '31.505737'], ['121.795036', '31.505894'], ['121.794998', '31.506002'], ['121.794937', '31.506271'], ['121.794861', '31.506781'], ['121.794861', '31.506781'], ['121.794838', '31.507223'], ['121.794815', '31.507486'], ['121.794815', '31.507746'], ['121.794861', '31.508289'], ['121.794891', '31.508564'], ['121.794914', '31.508789'], ['121.79496', '31.509022'], ['121.79509', '31.509657'], ['121.795135', '31.50985'], ['121.795158', '31.510036'], ['121.795158', '31.510126'], ['121.795135', '31.510317'], ['121.795113', '31.510414'], ['121.795067', '31.510504'], ['121.795067', '31.510504'], ['121.79496', '31.510572'], ['121.794853', '31.51067'], ['121.794777', '31.510733'], ['121.794647', '31.510798'], ['121.794518', '31.510847'], ['121.794434', '31.510864'], ['121.794365', '31.510874'], ['121.79422', '31.51088'], ['121.794067', '31.510868'], ['121.793915', '31.510828'], ['121.793793', '31.510792'], ['121.793327', '31.510529'], ['121.793083', '31.510422'], ['121.792915', '31.510365'], ['121.79274', '31.510324'], ['121.792587', '31.510313'], ['121.792389', '31.510313'], ['121.792221', '31.510328'], ['121.792038', '31.510374'], ['121.791695', '31.510483'], ['121.790543', '31.511089'], ['121.790497', '31.511002'], ['121.791664', '31.510395'], ['121.793121', '31.509644'], ['121.793121', '31.509644'], ['121.793518', '31.509293'], ['121.793678', '31.509167'], ['121.793823', '31.509031'], ['121.793953', '31.508894'], ['121.794044', '31.508789'], ['121.794083', '31.508747'], ['121.794197', '31.508589'], ['121.794296', '31.508429'], ['121.794388', '31.508261'], ['121.794434', '31.508165'], ['121.794464', '31.508095'], ['121.794525', '31.507925'], ['121.794579', '31.507746'], ['121.794617', '31.507568'], ['121.79467', '31.5072'], ['121.794746', '31.507017'], ['121.79483', '31.50643'], ['121.794899', '31.505737'], ['121.794968', '31.505159'], ['121.794998', '31.505049'], ['121.795113', '31.50473'], ['121.795113', '31.50473'], ['121.795181', '31.504576'], ['121.795296', '31.504362'], ['121.795464', '31.504089'], ['121.795776', '31.50359'], ['121.796158', '31.503'], ['121.796158', '31.503'], ['121.796204', '31.502855'], ['121.796394', '31.502546'], ['121.796478', '31.502382'], ['121.796555', '31.502205'], ['121.796623', '31.502031'], ['121.796669', '31.501858'], ['121.7967', '31.501675'], ['121.79673', '31.501493'], ['121.796745', '31.50131'], ['121.796745', '31.50112'], ['121.796738', '31.500933'], ['121.796722', '31.500751'], ['121.796684', '31.500568'], ['121.796638', '31.500391'], ['121.796577', '31.500214'], ['121.796501', '31.500044'], ['121.795998', '31.499044'], ['121.7957', '31.498619'], ['121.795486', '31.498333'], ['121.795242', '31.498016'], ['121.795082', '31.497801'], ['121.794434', '31.496941'], ['121.793434', '31.495611'], ['121.78981', '31.490791'], ['121.78923', '31.489996'], ['121.786835', '31.486813'], ['121.78656', '31.486458'], ['121.785522', '31.485064'], ['121.778984', '31.476358'], ['121.778633', '31.475885'], ['121.778587', '31.475828'], ['121.777306', '31.474112'], ['121.775452', '31.471632'], ['121.774857', '31.470764'], ['121.774231', '31.469809'], ['121.773834', '31.469152'], ['121.773399', '31.468397'], ['121.772461', '31.466675'], ['121.771469', '31.464844'], ['121.770309', '31.462717'], ['121.767174', '31.456888'], ['121.765526', '31.453854'], ['121.765129', '31.453119'], ['121.76432', '31.451736'], ['121.763573', '31.450512'], ['121.7631', '31.449787'], ['121.762527', '31.448902'], ['121.76165', '31.447645'], ['121.760155', '31.445639'], ['121.759109', '31.44434'], ['121.758415', '31.44352'], ['121.757858', '31.442869'], ['121.757004', '31.441904'], ['121.754395', '31.439116'], ['121.750488', '31.434944'], ['121.747597', '31.431885'], ['121.74279', '31.426758'], ['121.74115', '31.424931'], ['121.74057', '31.424257'], ['121.739883', '31.423447'], ['121.738899', '31.422232'], ['121.738113', '31.421228'], ['121.737869', '31.420898'], ['121.737251', '31.420073'], ['121.73613', '31.418507'], ['121.735199', '31.417171'], ['121.733521', '31.414686'], ['121.730415', '31.410133'], ['121.730255', '31.409908'], ['121.728516', '31.407345'], ['121.72831', '31.407045'], ['121.726555', '31.404449'], ['121.725929', '31.403475'], ['121.725075', '31.402061'], ['121.724297', '31.400711'], ['121.72377', '31.399736'], ['121.723358', '31.398924'], ['121.723122', '31.398451'], ['121.723122', '31.398451'], ['121.722984', '31.398312'], ['121.722702', '31.397928'], ['121.722549', '31.397747'], ['121.722473', '31.397678'], ['121.722336', '31.397591'], ['121.722099', '31.397522'], ['121.722008', '31.397509'], ['121.721825', '31.397499'], ['121.721504', '31.397535'], ['121.721504', '31.397535'], ['121.721313', '31.397577'], ['121.721252', '31.397564'], ['121.721161', '31.397499'], ['121.721077', '31.397335']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>