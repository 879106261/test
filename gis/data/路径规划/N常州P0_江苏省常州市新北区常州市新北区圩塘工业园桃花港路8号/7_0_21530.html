<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.883583', '31.850716'], ['119.883064', '31.84984'], ['119.883011', '31.849726'], ['119.882874', '31.849422'], ['119.882843', '31.849361'], ['119.882812', '31.849306'], ['119.882523', '31.848772'], ['119.882362', '31.848446'], ['119.882286', '31.848333'], ['119.882286', '31.848333'], ['119.882362', '31.848446'], ['119.882561', '31.848751'], ['119.882812', '31.849197'], ['119.882919', '31.849361'], ['119.884094', '31.851353'], ['119.88485', '31.8526'], ['119.885506', '31.853703'], ['119.885536', '31.853771'], ['119.886009', '31.854557'], ['119.88623', '31.854914'], ['119.886993', '31.856197'], ['119.887299', '31.856684'], ['119.888412', '31.858494'], ['119.88903', '31.859549'], ['119.889061', '31.859596'], ['119.88945', '31.860273'], ['119.889496', '31.860352'], ['119.890297', '31.861662'], ['119.890533', '31.862045'], ['119.891296', '31.863325'], ['119.891655', '31.863924'], ['119.892036', '31.864536'], ['119.892647', '31.865582'], ['119.892647', '31.865582'], ['119.894325', '31.864704'], ['119.894684', '31.864517'], ['119.89653', '31.86355'], ['119.897438', '31.863083'], ['119.899162', '31.862204'], ['119.899239', '31.862177'], ['119.899559', '31.862019'], ['119.900864', '31.861435'], ['119.902168', '31.860865'], ['119.903313', '31.860359'], ['119.903343', '31.860352'], ['119.904785', '31.859709'], ['119.904877', '31.859671'], ['119.906082', '31.85914'], ['119.907555', '31.858494'], ['119.908432', '31.858107'], ['119.909424', '31.857677'], ['119.910187', '31.85734'], ['119.911072', '31.856945'], ['119.912247', '31.856432'], ['119.912598', '31.856289'], ['119.912682', '31.856245'], ['119.913086', '31.856071'], ['119.915787', '31.854887'], ['119.917641', '31.854084'], ['119.918709', '31.853607'], ['119.919846', '31.853128'], ['119.92038', '31.852928'], ['119.920532', '31.852987'], ['119.920807', '31.853519'], ['119.921028', '31.853945'], ['119.921341', '31.854605'], ['119.921539', '31.855082'], ['119.922089', '31.856785'], ['119.922523', '31.858164'], ['119.922928', '31.859476'], ['119.923195', '31.860352'], ['119.923241', '31.860519'], ['119.923607', '31.861679'], ['119.92382', '31.862383'], ['119.924736', '31.865343'], ['119.924995', '31.866188'], ['119.925545', '31.86796'], ['119.925919', '31.869217'], ['119.926033', '31.869617'], ['119.926376', '31.870655'], ['119.926407', '31.870773'], ['119.926598', '31.871338'], ['119.926758', '31.871826'], ['119.926788', '31.871927'], ['119.927086', '31.872896'], ['119.927505', '31.874258'], ['119.927505', '31.874258'], ['119.930862', '31.873333'], ['119.93338', '31.872641'], ['119.934586', '31.872305'], ['119.937111', '31.871622'], ['119.938171', '31.871338'], ['119.938744', '31.871176'], ['119.939209', '31.871052'], ['119.939339', '31.87112'], ['119.939407', '31.871338'], ['119.940895', '31.876814'], ['119.94117', '31.877838'], ['119.941299', '31.87826'], ['119.941315', '31.878361'], ['119.941429', '31.878756'], ['119.942009', '31.88088'], ['119.942398', '31.882322'], ['119.942543', '31.882832'], ['119.94278', '31.883711'], ['119.943336', '31.885706'], ['119.943573', '31.886618'], ['119.944283', '31.889214'], ['119.945091', '31.892159'], ['119.945206', '31.892572'], ['119.945328', '31.893009'], ['119.945404', '31.893307'], ['119.945793', '31.894745'], ['119.945976', '31.895391'], ['119.946968', '31.899031'], ['119.947388', '31.900524'], ['119.948395', '31.904198'], ['119.948425', '31.904297'], ['119.94873', '31.905434'], ['119.948891', '31.906006'], ['119.949211', '31.90723'], ['119.949623', '31.908724'], ['119.949905', '31.909714'], ['119.950043', '31.910236'], ['119.950172', '31.910698'], ['119.950645', '31.912449'], ['119.950645', '31.912449'], ['119.950775', '31.912552'], ['119.950859', '31.912605'], ['119.950981', '31.912651'], ['119.951157', '31.912695'], ['119.95266', '31.912336'], ['119.95401', '31.911995'], ['119.958', '31.911007'], ['119.958', '31.911007'], ['119.95829', '31.911085'], ['119.960243', '31.910608'], ['119.963402', '31.909826'], ['119.970703', '31.90803'], ['119.973083', '31.90744'], ['119.978157', '31.906189'], ['119.980087', '31.90571'], ['119.980087', '31.90571'], ['119.980331', '31.905504'], ['119.981194', '31.905291'], ['119.981308', '31.905256'], ['119.984016', '31.9046'], ['119.98526', '31.904297'], ['119.986534', '31.903984'], ['119.987022', '31.903872'], ['119.988892', '31.903412'], ['119.989395', '31.903282'], ['119.989998', '31.90313'], ['119.992043', '31.902651'], ['119.992676', '31.902504'], ['119.993126', '31.902395'], ['119.993126', '31.902395'], ['119.993324', '31.902378'], ['119.993439', '31.902391'], ['119.993927', '31.902517'], ['119.993965', '31.902664'], ['119.994041', '31.903082'], ['119.994286', '31.904297'], ['119.994499', '31.905422'], ['119.994789', '31.906927'], ['119.995041', '31.908237'], ['119.995148', '31.908815'], ['119.995392', '31.910078'], ['119.995476', '31.910528'], ['119.995636', '31.91144'], ['119.996033', '31.913351'], ['119.996101', '31.913671'], ['119.996109', '31.913746'], ['119.99617', '31.914062'], ['119.996284', '31.914671'], ['119.996399', '31.915281'], ['119.996521', '31.915916'], ['119.99662', '31.916403'], ['119.996811', '31.917387'], ['119.996979', '31.918428'], ['119.997078', '31.919193'], ['119.997208', '31.920511'], ['119.997253', '31.921316'], ['119.997269', '31.922031'], ['119.997292', '31.922947'], ['119.997292', '31.92322'], ['119.997292', '31.92359'], ['119.997292', '31.92359'], ['119.998268', '31.923542'], ['119.998817', '31.923512'], ['119.999603', '31.923464'], ['120.002808', '31.92325'], ['120.004814', '31.923124'], ['120.005402', '31.923086'], ['120.006721', '31.923'], ['120.006798', '31.923065'], ['120.006821', '31.923433'], ['120.006783', '31.924572'], ['120.006783', '31.924572'], ['120.006523', '31.924572'], ['120.005379', '31.924578'], ['120.005379', '31.924578'], ['120.005386', '31.924849']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>