<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.214119', '38.056614'], ['117.214333', '38.055466'], ['117.214729', '38.053379'], ['117.214729', '38.053379'], ['117.214806', '38.053391'], ['117.214203', '38.056641'], ['117.213974', '38.057804'], ['117.213974', '38.057854'], ['117.213539', '38.060081'], ['117.21344', '38.060585'], ['117.213394', '38.06086'], ['117.213005', '38.062828'], ['117.212906', '38.063236'], ['117.212837', '38.063431'], ['117.212616', '38.063812'], ['117.212906', '38.063808'], ['117.212364', '38.064312'], ['117.212364', '38.064312'], ['117.212395', '38.064342'], ['117.21241', '38.064377'], ['117.212425', '38.064445'], ['117.212418', '38.064487'], ['117.212395', '38.064552'], ['117.212349', '38.064602'], ['117.212296', '38.064632'], ['117.212219', '38.064651'], ['117.212151', '38.064663'], ['117.212082', '38.064651'], ['117.212021', '38.064632'], ['117.212021', '38.064632'], ['117.211861', '38.06477'], ['117.211357', '38.065182'], ['117.210655', '38.065804'], ['117.209984', '38.066353'], ['117.209312', '38.066849'], ['117.208412', '38.06749'], ['117.208176', '38.067627'], ['117.207359', '38.06813'], ['117.206337', '38.068764'], ['117.205727', '38.069153'], ['117.205482', '38.069294'], ['117.205368', '38.069359'], ['117.204941', '38.069626'], ['117.204453', '38.069927'], ['117.204033', '38.07019'], ['117.203247', '38.070675'], ['117.202148', '38.071362'], ['117.20166', '38.071663'], ['117.201172', '38.071968'], ['117.200455', '38.072414'], ['117.20034', '38.072491'], ['117.19767', '38.074142'], ['117.197357', '38.074341'], ['117.197014', '38.074547'], ['117.196701', '38.074741'], ['117.195999', '38.075172'], ['117.194969', '38.075821'], ['117.191505', '38.077969'], ['117.190979', '38.078289'], ['117.190468', '38.078613'], ['117.190117', '38.078823'], ['117.189812', '38.079014'], ['117.189133', '38.079445'], ['117.188423', '38.079872'], ['117.188026', '38.080116'], ['117.186981', '38.080769'], ['117.185883', '38.081448'], ['117.18409', '38.082573'], ['117.183479', '38.082954'], ['117.183037', '38.083233'], ['117.182533', '38.083538'], ['117.182266', '38.083698'], ['117.181686', '38.084057'], ['117.181557', '38.084141'], ['117.180176', '38.085022'], ['117.17997', '38.085152'], ['117.179123', '38.08567'], ['117.17849', '38.086048'], ['117.177383', '38.086723'], ['117.17675', '38.08712'], ['117.175804', '38.087704'], ['117.175125', '38.088135'], ['117.174469', '38.088539'], ['117.172768', '38.089596'], ['117.171425', '38.090439'], ['117.170425', '38.091045'], ['117.169518', '38.09161'], ['117.168579', '38.09219'], ['117.167923', '38.092594'], ['117.16655', '38.093449'], ['117.166145', '38.093708'], ['117.165634', '38.094021'], ['117.165176', '38.094315'], ['117.162842', '38.095795'], ['117.16214', '38.09623'], ['117.16169', '38.096535'], ['117.160278', '38.097431'], ['117.159157', '38.098137'], ['117.158203', '38.09874'], ['117.157982', '38.098877'], ['117.157341', '38.099274'], ['117.157188', '38.09935'], ['117.156708', '38.099602'], ['117.156601', '38.099659'], ['117.156219', '38.099827'], ['117.155022', '38.100292'], ['117.154282', '38.100563'], ['117.154228', '38.100586'], ['117.153229', '38.100952'], ['117.152206', '38.10133'], ['117.151749', '38.101498'], ['117.150612', '38.101917'], ['117.149803', '38.102215'], ['117.149315', '38.102409'], ['117.148972', '38.102566'], ['117.148682', '38.102707'], ['117.148338', '38.102894'], ['117.147789', '38.103252'], ['117.147385', '38.103561'], ['117.14698', '38.103916'], ['117.144783', '38.106026'], ['117.143204', '38.107552'], ['117.142097', '38.108627'], ['117.141914', '38.108818'], ['117.140541', '38.110138'], ['117.140251', '38.110413'], ['117.139061', '38.111572'], ['117.137772', '38.112827'], ['117.136963', '38.113609'], ['117.13623', '38.114323'], ['117.134438', '38.116058'], ['117.133286', '38.117165'], ['117.133247', '38.11721'], ['117.132675', '38.117764'], ['117.132195', '38.118237'], ['117.131401', '38.118988'], ['117.131294', '38.119102'], ['117.129768', '38.120586'], ['117.128792', '38.121536'], ['117.128426', '38.121914'], ['117.128059', '38.122334'], ['117.127892', '38.122555'], ['117.127716', '38.122787'], ['117.127304', '38.123417'], ['117.127014', '38.123951'], ['117.126205', '38.125629'], ['117.125946', '38.12619'], ['117.125298', '38.127579'], ['117.124748', '38.128712'], ['117.124413', '38.129414'], ['117.123909', '38.130302'], ['117.123573', '38.130859'], ['117.123146', '38.131496'], ['117.122803', '38.131966'], ['117.122345', '38.132557'], ['117.121925', '38.133045'], ['117.121475', '38.133541'], ['117.121384', '38.133633'], ['117.120766', '38.134304'], ['117.120079', '38.13501'], ['117.119606', '38.135498'], ['117.118187', '38.136997'], ['117.117126', '38.138107'], ['117.11689', '38.138355'], ['117.11586', '38.139427'], ['117.114258', '38.141106'], ['117.113335', '38.142071'], ['117.113121', '38.142311'], ['117.112854', '38.142582'], ['117.112358', '38.143089'], ['117.111992', '38.143475'], ['117.11145', '38.144043'], ['117.110985', '38.144535'], ['117.110512', '38.145023'], ['117.110359', '38.145195'], ['117.109581', '38.146'], ['117.107758', '38.147903'], ['117.106659', '38.149044'], ['117.10585', '38.149834'], ['117.104912', '38.150707'], ['117.104034', '38.15147'], ['117.103851', '38.151627'], ['117.10334', '38.15205'], ['117.098984', '38.155514'], ['117.098633', '38.155796'], ['117.094757', '38.159039'], ['117.092285', '38.161095'], ['117.091789', '38.161514'], ['117.091248', '38.161938'], ['117.090736', '38.162312'], ['117.09024', '38.16264'], ['117.089508', '38.163074'], ['117.088989', '38.163338'], ['117.088593', '38.163517'], ['117.088181', '38.163677'], ['117.08757', '38.163895'], ['117.087021', '38.16407'], ['117.086227', '38.164299'], ['117.085892', '38.164391'], ['117.084091', '38.164894'], ['117.083534', '38.165039'], ['117.082077', '38.165447'], ['117.080139', '38.165997'], ['117.078781', '38.166382'], ['117.078339', '38.166504'], ['117.076553', '38.167004'], ['117.075722', '38.167271'], ['117.07547', '38.167355'], ['117.075211', '38.167454'], ['117.074577', '38.167725'], ['117.074142', '38.16795'], ['117.073616', '38.16827'], ['117.073334', '38.168472'], ['117.073006', '38.168732'], ['117.070808', '38.170666'], ['117.070312', '38.171116'], ['117.06955', '38.17178'], ['117.068703', '38.172523'], ['117.068108', '38.17305'], ['117.066933', '38.17408'], ['117.066406', '38.174564'], ['117.066086', '38.174885'], ['117.065514', '38.175457'], ['117.064705', '38.176292'], ['117.06398', '38.177078'], ['117.063644', '38.17749'], ['117.062965', '38.178299'], ['117.062424', '38.178986'], ['117.061813', '38.179817'], ['117.06115', '38.180714'], ['117.060005', '38.182274'], ['117.05957', '38.182858'], ['117.059341', '38.183186'], ['117.058388', '38.184471'], ['117.057899', '38.185093'], ['117.057671', '38.185375'], ['117.057243', '38.18589'], ['117.05632', '38.186943'], ['117.055679', '38.187645'], ['117.054878', '38.188477'], ['117.054802', '38.18856'], ['117.053909', '38.189487'], ['117.05159', '38.191948'], ['117.051155', '38.192402'], ['117.049904', '38.193722'], ['117.049599', '38.194031'], ['117.048409', '38.19529'], ['117.04834', '38.195374'], ['117.045593', '38.198265'], ['117.045341', '38.198563'], ['117.045052', '38.198929'], ['117.044724', '38.199352'], ['117.044647', '38.199463'], ['117.044266', '38.200005'], ['117.043922', '38.200565'], ['117.043358', '38.201385'], ['117.04287', '38.202068'], ['117.042427', '38.202606'], ['117.041924', '38.203133'], ['117.041527', '38.20351'], ['117.040474', '38.204464'], ['117.040237', '38.204666'], ['117.039719', '38.205105'], ['117.03933', '38.205395'], ['117.038979', '38.205643'], ['117.03849', '38.205948'], ['117.038132', '38.206142'], ['117.037659', '38.206383'], ['117.037437', '38.206486'], ['117.037094', '38.206631'], ['117.036667', '38.206783'], ['117.035568', '38.207146'], ['117.034195', '38.20752'], ['117.03331', '38.207756'], ['117.032349', '38.208019'], ['117.031487', '38.208263'], ['117.031357', '38.208305'], ['117.030739', '38.20853'], ['117.030411', '38.208668'], ['117.02993', '38.2089'], ['117.029572', '38.209087'], ['117.029144', '38.209312'], ['117.028412', '38.209686'], ['117.026924', '38.210449'], ['117.026367', '38.210739'], ['117.026222', '38.210812'], ['117.025917', '38.210968'], ['117.025154', '38.211365'], ['117.02433', '38.211781'], ['117.023849', '38.212032'], ['117.023674', '38.212124'], ['117.020782', '38.2136'], ['117.019707', '38.214111'], ['117.018883', '38.214481'], ['117.017693', '38.214993'], ['117.015755', '38.21579'], ['117.014076', '38.216465'], ['117.013885', '38.216557'], ['117.013458', '38.216747'], ['117.012901', '38.217018'], ['117.012589', '38.21719'], ['117.012268', '38.217381'], ['117.011772', '38.217728'], ['117.011467', '38.217964'], ['117.010948', '38.218449'], ['117.010651', '38.218788'], ['117.010277', '38.219223'], ['117.009911', '38.21965'], ['117.0084', '38.221432'], ['117.008255', '38.2216'], ['117.007057', '38.222996'], ['117.006912', '38.22316'], ['117.00621', '38.223988'], ['117.00602', '38.224224'], ['117.005417', '38.22493'], ['117.005188', '38.225166'], ['117.005058', '38.225113'], ['117.004395', '38.224865'], ['117.002159', '38.224045'], ['117.001709', '38.223881'], ['117.001709', '38.223881'], ['117.001709', '38.223202'], ['117.001709', '38.222034'], ['117.001709', '38.221649'], ['117.001709', '38.221432'], ['117.001686', '38.219677'], ['117.001678', '38.218723'], ['117.001671', '38.218014'], ['117.001648', '38.217365'], ['117.001648', '38.217365'], ['117.002625', '38.216747'], ['117.002625', '38.216747'], ['117.002876', '38.216858'], ['117.003464', '38.217072'], ['117.004074', '38.217262'], ['117.004395', '38.217361'], ['117.004799', '38.217487'], ['117.004799', '38.217487'], ['117.004753', '38.217583'], ['117.00473', '38.217632'], ['117.004692', '38.217636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>