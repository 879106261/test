<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580193', '30.612909'], ['120.580605', '30.61289'], ['120.582512', '30.612883'], ['120.583618', '30.612877'], ['120.584251', '30.612877'], ['120.585182', '30.612869'], ['120.585182', '30.612869'], ['120.585182', '30.611298'], ['120.58522', '30.611143'], ['120.585938', '30.61112'], ['120.586075', '30.61112'], ['120.59008', '30.611097'], ['120.59066', '30.611084'], ['120.592178', '30.61109'], ['120.592293', '30.611164'], ['120.592361', '30.612019'], ['120.592484', '30.613907'], ['120.592545', '30.614935'], ['120.592773', '30.618893'], ['120.592796', '30.619392'], ['120.592865', '30.620319'], ['120.592865', '30.620455'], ['120.593155', '30.625374'], ['120.593163', '30.625565'], ['120.593376', '30.629007'], ['120.59343', '30.629883'], ['120.593475', '30.630693'], ['120.59359', '30.632755'], ['120.593597', '30.632887'], ['120.59375', '30.635477'], ['120.593788', '30.636137'], ['120.593849', '30.637136'], ['120.593864', '30.637392'], ['120.594009', '30.639832'], ['120.594055', '30.640547'], ['120.59407', '30.640869'], ['120.594116', '30.641615'], ['120.594124', '30.641768'], ['120.594223', '30.64333'], ['120.594368', '30.645693'], ['120.594368', '30.645943'], ['120.594368', '30.646015'], ['120.594429', '30.647018'], ['120.594437', '30.647804'], ['120.594421', '30.648169'], ['120.594368', '30.648733'], ['120.59433', '30.648998'], ['120.594223', '30.649599'], ['120.594078', '30.650196'], ['120.593994', '30.650511'], ['120.593796', '30.651072'], ['120.593582', '30.651598'], ['120.593529', '30.651693'], ['120.59346', '30.651854'], ['120.593407', '30.651966'], ['120.593132', '30.65251'], ['120.591759', '30.655022'], ['120.591553', '30.655418'], ['120.590675', '30.657013'], ['120.590126', '30.658037'], ['120.588997', '30.660105'], ['120.58847', '30.66106'], ['120.587784', '30.662287'], ['120.587463', '30.662838'], ['120.587433', '30.662905'], ['120.587273', '30.663155'], ['120.586922', '30.663706'], ['120.586578', '30.664213'], ['120.586136', '30.664818'], ['120.585938', '30.66507'], ['120.585663', '30.665422'], ['120.585159', '30.666012'], ['120.585106', '30.666075'], ['120.584602', '30.666616'], ['120.583839', '30.667381'], ['120.5821', '30.669022'], ['120.578865', '30.67198'], ['120.576935', '30.673788'], ['120.576897', '30.673828'], ['120.576187', '30.674566'], ['120.575768', '30.675045'], ['120.575363', '30.67557'], ['120.575005', '30.676062'], ['120.574852', '30.676285'], ['120.574852', '30.676285'], ['120.57473', '30.676636'], ['120.574577', '30.677027'], ['120.574516', '30.6772'], ['120.574509', '30.677319'], ['120.574532', '30.677517'], ['120.574623', '30.677677'], ['120.574738', '30.677813'], ['120.574875', '30.6779'], ['120.575096', '30.67802'], ['120.575272', '30.678082'], ['120.576469', '30.678471'], ['120.577393', '30.678833'], ['120.577644', '30.678957'], ['120.577789', '30.679049'], ['120.577873', '30.679111'], ['120.577972', '30.679218'], ['120.579033', '30.679701'], ['120.579758', '30.680065'], ['120.582336', '30.681498'], ['120.584038', '30.68244'], ['120.585938', '30.683502'], ['120.58609', '30.683588'], ['120.588287', '30.684813'], ['120.588699', '30.685049'], ['120.591324', '30.686525'], ['120.595726', '30.68898'], ['120.595558', '30.689039'], ['120.593201', '30.689955'], ['120.592812', '30.690123'], ['120.592125', '30.690456'], ['120.591606', '30.69079'], ['120.591072', '30.691206'], ['120.590599', '30.691658'], ['120.590034', '30.692257'], ['120.588715', '30.693647'], ['120.587608', '30.694796'], ['120.586647', '30.695791'], ['120.586639', '30.695797'], ['120.586021', '30.696457'], ['120.585938', '30.696548'], ['120.584221', '30.698351'], ['120.583221', '30.699413'], ['120.582764', '30.699869'], ['120.582397', '30.700218'], ['120.582283', '30.700373'], ['120.579857', '30.702959'], ['120.578705', '30.704193'], ['120.57811', '30.704844'], ['120.577988', '30.704964'], ['120.577393', '30.705601'], ['120.576508', '30.706535'], ['120.576279', '30.706785'], ['120.575752', '30.70734'], ['120.575653', '30.707439'], ['120.575485', '30.707605'], ['120.575279', '30.707842'], ['120.57518', '30.707916'], ['120.574722', '30.708374'], ['120.574356', '30.708679'], ['120.574158', '30.708824'], ['120.57383', '30.709036'], ['120.573448', '30.709249'], ['120.572945', '30.709463'], ['120.572418', '30.709635'], ['120.57193', '30.709749'], ['120.571091', '30.709867'], ['120.566048', '30.710438'], ['120.5653', '30.71055'], ['120.564766', '30.710661'], ['120.564133', '30.710852'], ['120.563965', '30.710911'], ['120.563774', '30.710985'], ['120.563469', '30.711124'], ['120.563004', '30.71137'], ['120.562492', '30.711706'], ['120.561989', '30.712095'], ['120.561707', '30.712387'], ['120.561348', '30.712778'], ['120.561005', '30.713274'], ['120.559998', '30.714926'], ['120.559448', '30.715874'], ['120.558853', '30.716898'], ['120.558327', '30.717773'], ['120.558144', '30.718107'], ['120.557327', '30.719509'], ['120.557121', '30.719835'], ['120.554024', '30.7251'], ['120.552734', '30.727304'], ['120.551971', '30.728601'], ['120.551888', '30.728758'], ['120.550957', '30.73033'], ['120.550255', '30.731562'], ['120.550095', '30.731863'], ['120.549911', '30.732262'], ['120.549744', '30.7327'], ['120.549591', '30.733183'], ['120.549461', '30.733742'], ['120.549339', '30.734404'], ['120.549286', '30.735044'], ['120.549271', '30.73513'], ['120.549278', '30.735605'], ['120.549316', '30.735977'], ['120.549461', '30.736902'], ['120.549591', '30.737751'], ['120.549629', '30.738001'], ['120.549637', '30.738138'], ['120.549644', '30.738199'], ['120.549683', '30.738533'], ['120.549683', '30.738581'], ['120.549248', '30.738729'], ['120.548569', '30.738976'], ['120.547943', '30.739199'], ['120.547943', '30.739199'], ['120.547119', '30.739454'], ['120.546188', '30.739744'], ['120.544685', '30.740227'], ['120.544685', '30.740227'], ['120.542953', '30.740768'], ['120.541992', '30.741085'], ['120.541496', '30.741241'], ['120.541367', '30.741266'], ['120.541183', '30.741299'], ['120.541069', '30.741312'], ['120.540871', '30.741299'], ['120.540695', '30.741259'], ['120.540611', '30.74122'], ['120.54055', '30.741184'], ['120.540459', '30.741102'], ['120.540405', '30.741047'], ['120.540375', '30.74099'], ['120.540344', '30.740929'], ['120.540298', '30.740797'], ['120.540298', '30.740747'], ['120.540298', '30.740669'], ['120.540321', '30.740507'], ['120.540398', '30.740131'], ['120.540451', '30.739895'], ['120.540459', '30.739744'], ['120.540459', '30.739582'], ['120.540451', '30.739449'], ['120.540382', '30.739145'], ['120.540344', '30.739035'], ['120.540108', '30.738472'], ['120.539467', '30.737831'], ['120.53791', '30.736307'], ['120.530701', '30.729931'], ['120.529381', '30.728758'], ['120.528412', '30.727909'], ['120.527267', '30.72695'], ['120.525505', '30.725565'], ['120.523087', '30.723854'], ['120.521118', '30.722595'], ['120.52002', '30.721949'], ['120.519279', '30.721516'], ['120.517189', '30.7204'], ['120.514328', '30.719015'], ['120.512863', '30.718403'], ['120.511612', '30.717905'], ['120.511253', '30.717773'], ['120.510696', '30.71756'], ['120.509789', '30.717222'], ['120.508827', '30.716888'], ['120.507851', '30.716579'], ['120.50769', '30.716536'], ['120.506912', '30.716307'], ['120.504753', '30.715677'], ['120.504364', '30.715578'], ['120.50312', '30.715273'], ['120.502098', '30.71505'], ['120.50058', '30.714741'], ['120.498169', '30.714323'], ['120.498047', '30.714306'], ['120.496613', '30.714115'], ['120.495422', '30.713957'], ['120.493736', '30.713799'], ['120.492691', '30.71372'], ['120.49131', '30.713642'], ['120.489807', '30.713593'], ['120.487183', '30.713572'], ['120.485443', '30.713629'], ['120.483948', '30.713717'], ['120.482521', '30.713829'], ['120.480843', '30.714003'], ['120.47966', '30.714153'], ['120.478287', '30.714327'], ['120.47699', '30.714558'], ['120.476616', '30.714613'], ['120.476074', '30.714718'], ['120.475914', '30.714754'], ['120.474274', '30.715073'], ['120.472588', '30.715464'], ['120.468445', '30.716602'], ['120.465523', '30.717331'], ['120.464447', '30.7176'], ['120.4636', '30.717773'], ['120.462578', '30.717981'], ['120.461609', '30.718168'], ['120.461128', '30.71826'], ['120.460411', '30.718393'], ['120.459503', '30.718552'], ['120.458313', '30.718729'], ['120.456795', '30.718943'], ['120.456192', '30.719011'], ['120.456047', '30.719027'], ['120.454102', '30.719236'], ['120.453659', '30.71928'], ['120.45269', '30.719379'], ['120.450363', '30.719536'], ['120.449448', '30.719587'], ['120.449104', '30.719601'], ['120.447952', '30.719654'], ['120.446152', '30.71974'], ['120.443474', '30.719965'], ['120.442047', '30.720139'], ['120.44091', '30.720287'], ['120.439232', '30.720516'], ['120.438721', '30.72061'], ['120.436333', '30.721037'], ['120.434692', '30.721367'], ['120.433678', '30.721584'], ['120.433464', '30.721632'], ['120.432121', '30.721949'], ['120.431839', '30.722017'], ['120.430374', '30.722404'], ['120.429993', '30.722509'], ['120.428711', '30.722895'], ['120.425911', '30.723755'], ['120.422722', '30.724905'], ['120.421761', '30.725313'], ['120.42083', '30.725702'], ['120.41819', '30.726835'], ['120.417961', '30.726936'], ['120.415894', '30.727947'], ['120.414337', '30.728758'], ['120.413681', '30.729103'], ['120.411232', '30.730469'], ['120.410156', '30.731155'], ['120.408562', '30.732166'], ['120.406647', '30.733387'], ['120.405006', '30.73444'], ['120.403519', '30.735418'], ['120.401848', '30.73654'], ['120.401848', '30.73654'], ['120.400948', '30.737295'], ['120.400887', '30.73736'], ['120.400803', '30.737457'], ['120.400749', '30.737535'], ['120.400658', '30.737692'], ['120.40062', '30.737782'], ['120.400597', '30.737877'], ['120.400581', '30.737978'], ['120.400566', '30.738129'], ['120.400589', '30.738237'], ['120.400589', '30.738289'], ['120.400635', '30.738441'], ['120.400711', '30.738588'], ['120.40078', '30.738689'], ['120.400887', '30.738806'], ['120.40107', '30.738945'], ['120.401199', '30.739021'], ['120.401344', '30.739088'], ['120.401634', '30.739199'], ['120.401932', '30.739244'], ['120.402145', '30.739271'], ['120.402534', '30.739288'], ['120.402901', '30.739275'], ['120.403496', '30.739241'], ['120.403839', '30.739206'], ['120.404739', '30.739115'], ['120.405052', '30.739094'], ['120.405052', '30.739094'], ['120.40551', '30.739067'], ['120.405891', '30.739058'], ['120.409111', '30.738832'], ['120.409363', '30.738819'], ['120.409805', '30.738806'], ['120.409897', '30.73889'], ['120.409897', '30.739132'], ['120.409874', '30.739553'], ['120.409859', '30.739744'], ['120.409813', '30.740286'], ['120.409592', '30.743055'], ['120.409439', '30.744617'], ['120.40934', '30.746012'], ['120.409279', '30.746672'], ['120.409271', '30.746876'], ['120.409203', '30.747822'], ['120.40905', '30.749762'], ['120.408951', '30.750729'], ['120.40889', '30.751316'], ['120.408798', '30.752178'], ['120.408783', '30.752331'], ['120.408775', '30.752636'], ['120.40873', '30.753229'], ['120.408714', '30.753529'], ['120.408714', '30.753984'], ['120.408783', '30.754353'], ['120.408875', '30.754608'], ['120.408936', '30.75474'], ['120.409096', '30.755013'], ['120.409439', '30.75539'], ['120.409706', '30.755642'], ['120.410156', '30.756046'], ['120.411217', '30.757023'], ['120.412354', '30.758038'], ['120.413383', '30.758984'], ['120.415108', '30.760546'], ['120.416039', '30.761402'], ['120.416389', '30.761721'], ['120.417191', '30.762409'], ['120.417488', '30.762691'], ['120.417938', '30.763203'], ['120.418098', '30.763456'], ['120.418213', '30.763641'], ['120.418465', '30.764145'], ['120.418648', '30.764582'], ['120.419411', '30.76623'], ['120.41983', '30.767145'], ['120.420837', '30.769344'], ['120.421005', '30.769722'], ['120.421074', '30.769896'], ['120.421494', '30.771284'], ['120.421944', '30.772705'], ['120.422462', '30.774376'], ['120.422577', '30.774773'], ['120.422623', '30.775026'], ['120.422668', '30.775499'], ['120.422668', '30.775738'], ['120.42263', '30.77603'], ['120.422592', '30.776234'], ['120.422516', '30.776506'], ['120.422401', '30.776779'], ['120.422157', '30.777309'], ['120.421242', '30.779158'], ['120.421066', '30.779566'], ['120.420975', '30.779818'], ['120.420914', '30.780077'], ['120.420883', '30.780304'], ['120.420845', '30.780756'], ['120.420807', '30.78116'], ['120.420723', '30.783689'], ['120.420723', '30.783693'], ['120.420677', '30.784945'], ['120.42067', '30.785456'], ['120.420708', '30.785885'], ['120.420761', '30.786171'], ['120.420837', '30.786421'], ['120.420914', '30.786663'], ['120.421028', '30.786932'], ['120.421165', '30.787182'], ['120.421638', '30.787924'], ['120.421852', '30.788229'], ['120.422012', '30.788437'], ['120.423096', '30.789917'], ['120.423988', '30.791124'], ['120.425194', '30.792782'], ['120.42659', '30.794676'], ['120.426735', '30.794882'], ['120.427147', '30.79545'], ['120.427307', '30.795715'], ['120.427513', '30.796164'], ['120.427628', '30.796497'], ['120.427727', '30.796904'], ['120.427757', '30.797144'], ['120.427773', '30.797474'], ['120.427742', '30.797951'], ['120.427689', '30.798233'], ['120.427399', '30.799498'], ['120.427147', '30.800543'], ['120.426994', '30.801155'], ['120.426758', '30.802197'], ['120.426308', '30.804111'], ['120.426216', '30.804514'], ['120.425941', '30.805664'], ['120.425919', '30.805719'], ['120.425621', '30.807039'], ['120.425575', '30.807226'], ['120.425446', '30.807692'], ['120.42527', '30.808556'], ['120.42514', '30.809422'], ['120.425102', '30.809818'], ['120.425095', '30.810383'], ['120.425117', '30.81185'], ['120.42514', '30.813465'], ['120.425148', '30.815409'], ['120.425125', '30.815725'], ['120.425064', '30.816206'], ['120.425003', '30.816648'], ['120.424606', '30.819527'], ['120.4244', '30.820959'], ['120.424347', '30.82147'], ['120.424126', '30.822681'], ['120.424065', '30.822924'], ['120.423958', '30.823215'], ['120.423737', '30.823721'], ['120.423019', '30.825209'], ['120.422691', '30.825897'], ['120.422485', '30.826302'], ['120.421906', '30.827526'], ['120.421852', '30.827635'], ['120.421265', '30.828876'], ['120.421074', '30.829298'], ['120.420853', '30.829863'], ['120.4207', '30.830299'], ['120.420433', '30.831188'], ['120.420311', '30.83164'], ['120.419624', '30.834084'], ['120.419464', '30.834641'], ['120.419456', '30.834686'], ['120.419395', '30.83489'], ['120.419121', '30.835884'], ['120.418793', '30.837095'], ['120.418579', '30.83787'], ['120.418488', '30.838211'], ['120.418472', '30.838261'], ['120.418373', '30.838619'], ['120.418327', '30.83882'], ['120.418152', '30.839476'], ['120.418068', '30.839754'], ['120.417526', '30.841658'], ['120.417313', '30.842369'], ['120.417297', '30.842426'], ['120.416801', '30.844223'], ['120.416649', '30.844801'], ['120.416435', '30.845655'], ['120.416412', '30.845707'], ['120.415794', '30.847847'], ['120.415558', '30.848694'], ['120.415504', '30.848845'], ['120.415283', '30.849609'], ['120.415131', '30.850147'], ['120.414948', '30.850752'], ['120.414726', '30.851534'], ['120.414482', '30.852331'], ['120.414391', '30.852547'], ['120.414169', '30.852982'], ['120.414154', '30.85302'], ['120.414116', '30.853077'], ['120.413841', '30.853559'], ['120.413185', '30.854527'], ['120.413162', '30.854553'], ['120.413116', '30.854622'], ['120.412971', '30.854839'], ['120.411545', '30.856922'], ['120.411522', '30.856966'], ['120.411446', '30.857096'], ['120.411354', '30.857304'], ['120.411217', '30.85766'], ['120.411064', '30.858047'], ['120.410774', '30.858829'], ['120.410606', '30.859289'], ['120.410156', '30.860512'], ['120.410126', '30.860596'], ['120.410042', '30.860802'], ['120.409752', '30.861607'], ['120.409477', '30.862328'], ['120.409203', '30.863083'], ['120.409126', '30.86327'], ['120.408928', '30.863857'], ['120.408905', '30.86392'], ['120.408287', '30.865551'], ['120.407997', '30.866302'], ['120.407646', '30.86729'], ['120.407219', '30.868484'], ['120.406776', '30.869644'], ['120.406387', '30.870724'], ['120.406372', '30.870777'], ['120.406075', '30.87158'], ['120.405602', '30.872808'], ['120.405334', '30.873533'], ['120.405182', '30.873941'], ['120.405159', '30.874035'], ['120.405144', '30.87417'], ['120.40519', '30.87438'], ['120.405251', '30.874504'], ['120.405327', '30.874605'], ['120.405502', '30.874777'], ['120.406105', '30.875242'], ['120.406242', '30.875328'], ['120.406586', '30.875465'], ['120.406906', '30.875578'], ['120.407112', '30.875687'], ['120.407707', '30.87586'], ['120.408356', '30.876055'], ['120.409149', '30.87628'], ['120.410156', '30.876558'], ['120.411438', '30.876917'], ['120.412491', '30.877209'], ['120.413216', '30.877432'], ['120.41394', '30.877714'], ['120.414436', '30.877924'], ['120.414986', '30.878202'], ['120.415771', '30.878689'], ['120.418037', '30.880274'], ['120.418388', '30.880533'], ['120.419304', '30.881197'], ['120.42054', '30.882076'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421371', '30.88266'], ['120.422127', '30.8832'], ['120.422592', '30.883493'], ['120.423012', '30.88372'], ['120.423225', '30.883806'], ['120.423691', '30.883942'], ['120.424393', '30.884081'], ['120.425896', '30.884331'], ['120.426216', '30.884384'], ['120.426575', '30.884445'], ['120.426552', '30.884541'], ['120.426224', '30.885637'], ['120.426224', '30.885637'], ['120.425858', '30.885834'], ['120.425674', '30.885952'], ['120.425598', '30.886011'], ['120.425484', '30.886202'], ['120.425392', '30.886467'], ['120.425392', '30.886467'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>