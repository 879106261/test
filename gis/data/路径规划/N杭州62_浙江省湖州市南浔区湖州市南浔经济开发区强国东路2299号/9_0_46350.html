<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580132', '30.613283'], ['120.580055', '30.613499'], ['120.580002', '30.613588'], ['120.579803', '30.613758'], ['120.579803', '30.613758'], ['120.579628', '30.613979'], ['120.57959', '30.614048'], ['120.579544', '30.614317'], ['120.579597', '30.61451'], ['120.579636', '30.614691'], ['120.579681', '30.614986'], ['120.579712', '30.615383'], ['120.579735', '30.615755'], ['120.579735', '30.615911'], ['120.579742', '30.616299'], ['120.579735', '30.6171'], ['120.579742', '30.617205'], ['120.579727', '30.618893'], ['120.579735', '30.619413'], ['120.579735', '30.620419'], ['120.579735', '30.620543'], ['120.579727', '30.621672'], ['120.579727', '30.621798'], ['120.579712', '30.623411'], ['120.579712', '30.626284'], ['120.579712', '30.62776'], ['120.579712', '30.628794'], ['120.579704', '30.628876'], ['120.579697', '30.629271'], ['120.579697', '30.629883'], ['120.579697', '30.630816'], ['120.579697', '30.632851'], ['120.579697', '30.632938'], ['120.579689', '30.634899'], ['120.579689', '30.636889'], ['120.579689', '30.637596'], ['120.579697', '30.640373'], ['120.579689', '30.640869'], ['120.579689', '30.641085'], ['120.579689', '30.641167'], ['120.579689', '30.641376'], ['120.579674', '30.643255'], ['120.579681', '30.643888'], ['120.579689', '30.645525'], ['120.579689', '30.646393'], ['120.579544', '30.646521'], ['120.579269', '30.646557'], ['120.578201', '30.646723'], ['120.577599', '30.646832'], ['120.577316', '30.646879'], ['120.575874', '30.647131'], ['120.575043', '30.647278'], ['120.573654', '30.647518'], ['120.573105', '30.647627'], ['120.572922', '30.647673'], ['120.572845', '30.647741'], ['120.572464', '30.647831'], ['120.572052', '30.647896'], ['120.571869', '30.647921'], ['120.571304', '30.647991'], ['120.571175', '30.647991'], ['120.570923', '30.647961'], ['120.570763', '30.647991'], ['120.569878', '30.648151'], ['120.569283', '30.64826'], ['120.568504', '30.648394'], ['120.568047', '30.648472'], ['120.567757', '30.648529'], ['120.56749', '30.648571'], ['120.566238', '30.648788'], ['120.566132', '30.648808'], ['120.564957', '30.649012'], ['120.564766', '30.64905'], ['120.564003', '30.649176'], ['120.563965', '30.649179'], ['120.562752', '30.649395'], ['120.56205', '30.649517'], ['120.561615', '30.649578'], ['120.561615', '30.649578'], ['120.561501', '30.650707'], ['120.561378', '30.651854'], ['120.561272', '30.652874'], ['120.561241', '30.653307'], ['120.561119', '30.654467'], ['120.561073', '30.654657'], ['120.561043', '30.654739'], ['120.559441', '30.657331'], ['120.558899', '30.658211'], ['120.55883', '30.658306'], ['120.557808', '30.659927'], ['120.557472', '30.660452'], ['120.557121', '30.661034'], ['120.55661', '30.661793'], ['120.555931', '30.662838'], ['120.555008', '30.664257'], ['120.554932', '30.664362'], ['120.554436', '30.665123'], ['120.553528', '30.666502'], ['120.55143', '30.669653'], ['120.55101', '30.670273'], ['120.550934', '30.670387'], ['120.550629', '30.67082'], ['120.550125', '30.671524'], ['120.550072', '30.671589'], ['120.549179', '30.672737'], ['120.548363', '30.673828'], ['120.54821', '30.674026'], ['120.547546', '30.674995'], ['120.547066', '30.675678'], ['120.545952', '30.677378'], ['120.54541', '30.678265'], ['120.545372', '30.678337'], ['120.544579', '30.679558'], ['120.541992', '30.683607'], ['120.541237', '30.684778'], ['120.541214', '30.684813'], ['120.538834', '30.688538'], ['120.538246', '30.689518'], ['120.537636', '30.690634'], ['120.537407', '30.690702'], ['120.536873', '30.690573'], ['120.536194', '30.690413'], ['120.534546', '30.690008'], ['120.532669', '30.689562'], ['120.530655', '30.689072'], ['120.528412', '30.688541'], ['120.527893', '30.688429'], ['120.526924', '30.688229'], ['120.526154', '30.688091'], ['120.524498', '30.687841'], ['120.520927', '30.687391'], ['120.52002', '30.687277'], ['120.515877', '30.686749'], ['120.51503', '30.686653'], ['120.513672', '30.686499'], ['120.513145', '30.686462'], ['120.512932', '30.686476'], ['120.512932', '30.686476'], ['120.512604', '30.686516'], ['120.512459', '30.686544'], ['120.51226', '30.686598'], ['120.511932', '30.686707'], ['120.511772', '30.686771'], ['120.51162', '30.68684'], ['120.511322', '30.686985'], ['120.510704', '30.687313'], ['120.509888', '30.687674'], ['120.509438', '30.687916'], ['120.509171', '30.688068'], ['120.508171', '30.688633'], ['120.508064', '30.688684'], ['120.507195', '30.689175'], ['120.506668', '30.689463'], ['120.506226', '30.689705'], ['120.504913', '30.690437'], ['120.504662', '30.690565'], ['120.504364', '30.690681'], ['120.503899', '30.690802'], ['120.503815', '30.690794'], ['120.5037', '30.690821'], ['120.503403', '30.690847'], ['120.503105', '30.690838'], ['120.502777', '30.690802'], ['120.502419', '30.690739'], ['120.501869', '30.690592'], ['120.501511', '30.690474'], ['120.499626', '30.689791'], ['120.499138', '30.689623'], ['120.498833', '30.689562'], ['120.498611', '30.689528'], ['120.498535', '30.689548'], ['120.498047', '30.689583'], ['120.497917', '30.689596'], ['120.496986', '30.689749'], ['120.496208', '30.689873'], ['120.495171', '30.690054'], ['120.494926', '30.69009'], ['120.493011', '30.690413'], ['120.491989', '30.690634'], ['120.491508', '30.690752'], ['120.490738', '30.69096'], ['120.48777', '30.691805'], ['120.486824', '30.692053'], ['120.486008', '30.692226'], ['120.485077', '30.692404'], ['120.4841', '30.692551'], ['120.483467', '30.692631'], ['120.482552', '30.692709'], ['120.482086', '30.692713'], ['120.481674', '30.692682'], ['120.481277', '30.69261'], ['120.480125', '30.692373'], ['120.478676', '30.692076'], ['120.477989', '30.691936'], ['120.476784', '30.691681'], ['120.476242', '30.69157'], ['120.476074', '30.691534'], ['120.475075', '30.691324'], ['120.473389', '30.69096'], ['120.472595', '30.690821'], ['120.47226', '30.690794'], ['120.471832', '30.690802'], ['120.471519', '30.690861'], ['120.471237', '30.690937'], ['120.470764', '30.691133'], ['120.470497', '30.691267'], ['120.46936', '30.691931'], ['120.468842', '30.692226'], ['120.468071', '30.692682'], ['120.467484', '30.693016'], ['120.466293', '30.693697'], ['120.465584', '30.694101'], ['120.465149', '30.694357'], ['120.464897', '30.694504'], ['120.464142', '30.694941'], ['120.463402', '30.69537'], ['120.462952', '30.695625'], ['120.462654', '30.695797'], ['120.460426', '30.697092'], ['120.459366', '30.697714'], ['120.459045', '30.697891'], ['120.455139', '30.700138'], ['120.454567', '30.70046'], ['120.454102', '30.700733'], ['120.453789', '30.700911'], ['120.453323', '30.701189'], ['120.452782', '30.701475'], ['120.452545', '30.701576'], ['120.451973', '30.701757'], ['120.451042', '30.702013'], ['120.449814', '30.702339'], ['120.449585', '30.702396'], ['120.449234', '30.702492'], ['120.448921', '30.702568'], ['120.448296', '30.702713'], ['120.448082', '30.702774'], ['120.447128', '30.70302'], ['120.4459', '30.703342'], ['120.445496', '30.703421'], ['120.445099', '30.703466'], ['120.444489', '30.703497'], ['120.443726', '30.703476'], ['120.438942', '30.703316'], ['120.436401', '30.703224'], ['120.435768', '30.703238'], ['120.435379', '30.703293'], ['120.434998', '30.703407'], ['120.434494', '30.703621'], ['120.434494', '30.703621'], ['120.434242', '30.703779'], ['120.43399', '30.703989'], ['120.433563', '30.704523'], ['120.433395', '30.704748'], ['120.432701', '30.705803'], ['120.432121', '30.70669'], ['120.43206', '30.706785'], ['120.432037', '30.706831'], ['120.431885', '30.707054'], ['120.431694', '30.707296'], ['120.431511', '30.7075'], ['120.43119', '30.707823'], ['120.431015', '30.707987'], ['120.430763', '30.708168'], ['120.430145', '30.708555'], ['120.429787', '30.708729'], ['120.42942', '30.708876'], ['120.427361', '30.709545'], ['120.42617', '30.709917'], ['120.423752', '30.710682'], ['120.423416', '30.710783'], ['120.421402', '30.71142'], ['120.419052', '30.712166'], ['120.418701', '30.712276'], ['120.418648', '30.712296'], ['120.415604', '30.713255'], ['120.414604', '30.71357'], ['120.41317', '30.71401'], ['120.412575', '30.714197'], ['120.410156', '30.714956'], ['120.408737', '30.715401'], ['120.408432', '30.715511'], ['120.40789', '30.715742'], ['120.407509', '30.715925'], ['120.406921', '30.716267'], ['120.406387', '30.716631'], ['120.406189', '30.716784'], ['120.404953', '30.717773'], ['120.404892', '30.717823'], ['120.403404', '30.719007'], ['120.402176', '30.719973'], ['120.401611', '30.720434'], ['120.400917', '30.72098'], ['120.399384', '30.722191'], ['120.398872', '30.722601'], ['120.398666', '30.722755'], ['120.398666', '30.722755'], ['120.398598', '30.723238'], ['120.398598', '30.723402'], ['120.398659', '30.723747'], ['120.399139', '30.724293'], ['120.400192', '30.725586'], ['120.401512', '30.727213'], ['120.40197', '30.727747'], ['120.402802', '30.728758'], ['120.403847', '30.730036'], ['120.403893', '30.730087'], ['120.404663', '30.73106'], ['120.40641', '30.733177'], ['120.406494', '30.73329'], ['120.406738', '30.73358'], ['120.406883', '30.733767'], ['120.407219', '30.73418'], ['120.407753', '30.73484'], ['120.408852', '30.736189'], ['120.409203', '30.736666'], ['120.40934', '30.736889'], ['120.409554', '30.737341'], ['120.409767', '30.737925'], ['120.409843', '30.738224'], ['120.409882', '30.738625'], ['120.409897', '30.738806'], ['120.409897', '30.73889'], ['120.409897', '30.739132'], ['120.409874', '30.739553'], ['120.409859', '30.739744'], ['120.409813', '30.740286'], ['120.409592', '30.743055'], ['120.409439', '30.744617'], ['120.40934', '30.746012'], ['120.409279', '30.746672'], ['120.409271', '30.746876'], ['120.409203', '30.747822'], ['120.40905', '30.749762'], ['120.408951', '30.750729'], ['120.40889', '30.751316'], ['120.408798', '30.752178'], ['120.408783', '30.752331'], ['120.408775', '30.752636'], ['120.40873', '30.753229'], ['120.408714', '30.753529'], ['120.408714', '30.753984'], ['120.408783', '30.754353'], ['120.408875', '30.754608'], ['120.408936', '30.75474'], ['120.409096', '30.755013'], ['120.409439', '30.75539'], ['120.409706', '30.755642'], ['120.410156', '30.756046'], ['120.411217', '30.757023'], ['120.412354', '30.758038'], ['120.413383', '30.758984'], ['120.415108', '30.760546'], ['120.416039', '30.761402'], ['120.416389', '30.761721'], ['120.417191', '30.762409'], ['120.417488', '30.762691'], ['120.417938', '30.763203'], ['120.418098', '30.763456'], ['120.418213', '30.763641'], ['120.418465', '30.764145'], ['120.418648', '30.764582'], ['120.419411', '30.76623'], ['120.41983', '30.767145'], ['120.420837', '30.769344'], ['120.421005', '30.769722'], ['120.421074', '30.769896'], ['120.421494', '30.771284'], ['120.421944', '30.772705'], ['120.422462', '30.774376'], ['120.422577', '30.774773'], ['120.422623', '30.775026'], ['120.422668', '30.775499'], ['120.422668', '30.775738'], ['120.42263', '30.77603'], ['120.422592', '30.776234'], ['120.422516', '30.776506'], ['120.422401', '30.776779'], ['120.422157', '30.777309'], ['120.421242', '30.779158'], ['120.421066', '30.779566'], ['120.420975', '30.779818'], ['120.420914', '30.780077'], ['120.420883', '30.780304'], ['120.420845', '30.780756'], ['120.420807', '30.78116'], ['120.420723', '30.783689'], ['120.420723', '30.783693'], ['120.420677', '30.784945'], ['120.42067', '30.785456'], ['120.420708', '30.785885'], ['120.420761', '30.786171'], ['120.420837', '30.786421'], ['120.420914', '30.786663'], ['120.421028', '30.786932'], ['120.421165', '30.787182'], ['120.421638', '30.787924'], ['120.421852', '30.788229'], ['120.422012', '30.788437'], ['120.423096', '30.789917'], ['120.423988', '30.791124'], ['120.425194', '30.792782'], ['120.42659', '30.794676'], ['120.426735', '30.794882'], ['120.427147', '30.79545'], ['120.427307', '30.795715'], ['120.427513', '30.796164'], ['120.427628', '30.796497'], ['120.427727', '30.796904'], ['120.427757', '30.797144'], ['120.427773', '30.797474'], ['120.427742', '30.797951'], ['120.427689', '30.798233'], ['120.427399', '30.799498'], ['120.427147', '30.800543'], ['120.426994', '30.801155'], ['120.426758', '30.802197'], ['120.426308', '30.804111'], ['120.426216', '30.804514'], ['120.425941', '30.805664'], ['120.425919', '30.805719'], ['120.425621', '30.807039'], ['120.425575', '30.807226'], ['120.425446', '30.807692'], ['120.42527', '30.808556'], ['120.42514', '30.809422'], ['120.425102', '30.809818'], ['120.425095', '30.810383'], ['120.425117', '30.81185'], ['120.42514', '30.813465'], ['120.425148', '30.815409'], ['120.425125', '30.815725'], ['120.425064', '30.816206'], ['120.425003', '30.816648'], ['120.424606', '30.819527'], ['120.4244', '30.820959'], ['120.424347', '30.82147'], ['120.424126', '30.822681'], ['120.424065', '30.822924'], ['120.423958', '30.823215'], ['120.423737', '30.823721'], ['120.423019', '30.825209'], ['120.422691', '30.825897'], ['120.422485', '30.826302'], ['120.421906', '30.827526'], ['120.421852', '30.827635'], ['120.421265', '30.828876'], ['120.421074', '30.829298'], ['120.420853', '30.829863'], ['120.4207', '30.830299'], ['120.420433', '30.831188'], ['120.420311', '30.83164'], ['120.419624', '30.834084'], ['120.419464', '30.834641'], ['120.419456', '30.834686'], ['120.419395', '30.83489'], ['120.419121', '30.835884'], ['120.418793', '30.837095'], ['120.418579', '30.83787'], ['120.418488', '30.838211'], ['120.418472', '30.838261'], ['120.418373', '30.838619'], ['120.418327', '30.83882'], ['120.418152', '30.839476'], ['120.418068', '30.839754'], ['120.417526', '30.841658'], ['120.417313', '30.842369'], ['120.417297', '30.842426'], ['120.416801', '30.844223'], ['120.416649', '30.844801'], ['120.416435', '30.845655'], ['120.416412', '30.845707'], ['120.415794', '30.847847'], ['120.415558', '30.848694'], ['120.415504', '30.848845'], ['120.415283', '30.849609'], ['120.415131', '30.850147'], ['120.414948', '30.850752'], ['120.414726', '30.851534'], ['120.414482', '30.852331'], ['120.414391', '30.852547'], ['120.414169', '30.852982'], ['120.414154', '30.85302'], ['120.414116', '30.853077'], ['120.413841', '30.853559'], ['120.413185', '30.854527'], ['120.413162', '30.854553'], ['120.413116', '30.854622'], ['120.412971', '30.854839'], ['120.411545', '30.856922'], ['120.411522', '30.856966'], ['120.411446', '30.857096'], ['120.411354', '30.857304'], ['120.411217', '30.85766'], ['120.411064', '30.858047'], ['120.410774', '30.858829'], ['120.410606', '30.859289'], ['120.410156', '30.860512'], ['120.410126', '30.860596'], ['120.410042', '30.860802'], ['120.409752', '30.861607'], ['120.409477', '30.862328'], ['120.409203', '30.863083'], ['120.409126', '30.86327'], ['120.408928', '30.863857'], ['120.408905', '30.86392'], ['120.408287', '30.865551'], ['120.407997', '30.866302'], ['120.407646', '30.86729'], ['120.407219', '30.868484'], ['120.406776', '30.869644'], ['120.406387', '30.870724'], ['120.406372', '30.870777'], ['120.406075', '30.87158'], ['120.405602', '30.872808'], ['120.405334', '30.873533'], ['120.405182', '30.873941'], ['120.405159', '30.874035'], ['120.405144', '30.87417'], ['120.40519', '30.87438'], ['120.405251', '30.874504'], ['120.405327', '30.874605'], ['120.405502', '30.874777'], ['120.406105', '30.875242'], ['120.406242', '30.875328'], ['120.406586', '30.875465'], ['120.406906', '30.875578'], ['120.407112', '30.875687'], ['120.407707', '30.87586'], ['120.408356', '30.876055'], ['120.409149', '30.87628'], ['120.410156', '30.876558'], ['120.411438', '30.876917'], ['120.412491', '30.877209'], ['120.413216', '30.877432'], ['120.41394', '30.877714'], ['120.414436', '30.877924'], ['120.414986', '30.878202'], ['120.415771', '30.878689'], ['120.418037', '30.880274'], ['120.418388', '30.880533'], ['120.419304', '30.881197'], ['120.42054', '30.882076'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421371', '30.88266'], ['120.422127', '30.8832'], ['120.422592', '30.883493'], ['120.423012', '30.88372'], ['120.423225', '30.883806'], ['120.423691', '30.883942'], ['120.424393', '30.884081'], ['120.425896', '30.884331'], ['120.426216', '30.884384'], ['120.426575', '30.884445'], ['120.426552', '30.884541'], ['120.426224', '30.885637'], ['120.426224', '30.885637'], ['120.425858', '30.885834'], ['120.425674', '30.885952'], ['120.425598', '30.886011'], ['120.425484', '30.886202'], ['120.425392', '30.886467'], ['120.425392', '30.886467'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>