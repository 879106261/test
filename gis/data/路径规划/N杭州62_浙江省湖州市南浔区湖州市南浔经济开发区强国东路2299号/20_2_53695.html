<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580193', '30.612909'], ['120.580605', '30.61289'], ['120.582512', '30.612883'], ['120.583618', '30.612877'], ['120.584251', '30.612877'], ['120.585182', '30.612869'], ['120.585182', '30.612869'], ['120.585182', '30.611298'], ['120.58522', '30.611143'], ['120.585938', '30.61112'], ['120.586075', '30.61112'], ['120.59008', '30.611097'], ['120.59066', '30.611084'], ['120.592178', '30.61109'], ['120.592293', '30.611164'], ['120.592361', '30.612019'], ['120.592484', '30.613907'], ['120.592545', '30.614935'], ['120.592773', '30.618893'], ['120.592796', '30.619392'], ['120.592865', '30.620319'], ['120.592865', '30.620455'], ['120.593155', '30.625374'], ['120.593163', '30.625565'], ['120.593376', '30.629007'], ['120.59343', '30.629883'], ['120.593475', '30.630693'], ['120.59359', '30.632755'], ['120.593597', '30.632887'], ['120.59375', '30.635477'], ['120.593788', '30.636137'], ['120.593849', '30.637136'], ['120.593864', '30.637392'], ['120.594009', '30.639832'], ['120.594055', '30.640547'], ['120.59407', '30.640869'], ['120.594116', '30.641615'], ['120.594124', '30.641768'], ['120.594223', '30.64333'], ['120.594368', '30.645693'], ['120.594368', '30.645943'], ['120.594368', '30.646015'], ['120.594429', '30.647018'], ['120.594437', '30.647804'], ['120.594421', '30.648169'], ['120.594368', '30.648733'], ['120.59433', '30.648998'], ['120.594223', '30.649599'], ['120.594078', '30.650196'], ['120.593994', '30.650511'], ['120.593796', '30.651072'], ['120.593582', '30.651598'], ['120.593529', '30.651693'], ['120.59346', '30.651854'], ['120.593407', '30.651966'], ['120.593132', '30.65251'], ['120.591759', '30.655022'], ['120.591553', '30.655418'], ['120.590675', '30.657013'], ['120.590126', '30.658037'], ['120.588997', '30.660105'], ['120.58847', '30.66106'], ['120.587784', '30.662287'], ['120.587463', '30.662838'], ['120.587433', '30.662905'], ['120.587273', '30.663155'], ['120.586922', '30.663706'], ['120.586578', '30.664213'], ['120.586136', '30.664818'], ['120.585938', '30.66507'], ['120.585663', '30.665422'], ['120.585159', '30.666012'], ['120.585106', '30.666075'], ['120.584602', '30.666616'], ['120.583839', '30.667381'], ['120.5821', '30.669022'], ['120.578865', '30.67198'], ['120.576935', '30.673788'], ['120.576897', '30.673828'], ['120.576187', '30.674566'], ['120.575768', '30.675045'], ['120.575363', '30.67557'], ['120.575005', '30.676062'], ['120.574852', '30.676285'], ['120.574852', '30.676285'], ['120.57473', '30.676636'], ['120.574577', '30.677027'], ['120.574516', '30.6772'], ['120.574509', '30.677319'], ['120.574532', '30.677517'], ['120.574623', '30.677677'], ['120.574738', '30.677813'], ['120.574875', '30.6779'], ['120.575096', '30.67802'], ['120.575272', '30.678082'], ['120.576469', '30.678471'], ['120.577393', '30.678833'], ['120.577644', '30.678957'], ['120.577789', '30.679049'], ['120.577873', '30.679111'], ['120.577972', '30.679218'], ['120.579033', '30.679701'], ['120.579758', '30.680065'], ['120.582336', '30.681498'], ['120.584038', '30.68244'], ['120.585938', '30.683502'], ['120.58609', '30.683588'], ['120.588287', '30.684813'], ['120.588699', '30.685049'], ['120.591324', '30.686525'], ['120.595726', '30.68898'], ['120.595558', '30.689039'], ['120.593201', '30.689955'], ['120.592812', '30.690123'], ['120.592125', '30.690456'], ['120.591606', '30.69079'], ['120.591072', '30.691206'], ['120.590599', '30.691658'], ['120.590034', '30.692257'], ['120.588715', '30.693647'], ['120.587608', '30.694796'], ['120.586647', '30.695791'], ['120.586639', '30.695797'], ['120.586021', '30.696457'], ['120.585938', '30.696548'], ['120.584221', '30.698351'], ['120.583221', '30.699413'], ['120.582764', '30.699869'], ['120.582397', '30.700218'], ['120.582283', '30.700373'], ['120.579857', '30.702959'], ['120.578705', '30.704193'], ['120.57811', '30.704844'], ['120.577988', '30.704964'], ['120.577393', '30.705601'], ['120.576508', '30.706535'], ['120.576279', '30.706785'], ['120.575752', '30.70734'], ['120.575653', '30.707439'], ['120.575485', '30.707605'], ['120.575279', '30.707842'], ['120.57518', '30.707916'], ['120.574722', '30.708374'], ['120.574356', '30.708679'], ['120.574158', '30.708824'], ['120.57383', '30.709036'], ['120.573448', '30.709249'], ['120.572945', '30.709463'], ['120.572418', '30.709635'], ['120.57193', '30.709749'], ['120.571091', '30.709867'], ['120.566048', '30.710438'], ['120.5653', '30.71055'], ['120.564766', '30.710661'], ['120.564133', '30.710852'], ['120.563965', '30.710911'], ['120.563774', '30.710985'], ['120.563469', '30.711124'], ['120.563004', '30.71137'], ['120.562492', '30.711706'], ['120.561989', '30.712095'], ['120.561707', '30.712387'], ['120.561348', '30.712778'], ['120.561005', '30.713274'], ['120.559998', '30.714926'], ['120.559448', '30.715874'], ['120.558853', '30.716898'], ['120.558327', '30.717773'], ['120.558144', '30.718107'], ['120.557327', '30.719509'], ['120.557121', '30.719835'], ['120.554024', '30.7251'], ['120.552734', '30.727304'], ['120.551971', '30.728601'], ['120.551888', '30.728758'], ['120.550957', '30.73033'], ['120.550255', '30.731562'], ['120.550095', '30.731863'], ['120.549911', '30.732262'], ['120.549744', '30.7327'], ['120.549591', '30.733183'], ['120.549461', '30.733742'], ['120.549339', '30.734404'], ['120.549286', '30.735044'], ['120.549271', '30.73513'], ['120.549278', '30.735605'], ['120.549316', '30.735977'], ['120.549461', '30.736902'], ['120.549591', '30.737751'], ['120.549629', '30.738001'], ['120.549637', '30.738138'], ['120.549644', '30.738199'], ['120.549683', '30.738533'], ['120.549683', '30.738581'], ['120.549248', '30.738729'], ['120.548569', '30.738976'], ['120.547943', '30.739199'], ['120.547943', '30.739199'], ['120.547119', '30.739454'], ['120.546188', '30.739744'], ['120.544685', '30.740227'], ['120.544685', '30.740227'], ['120.544212', '30.740469'], ['120.544052', '30.740582'], ['120.543953', '30.740669'], ['120.543877', '30.740765'], ['120.543739', '30.740925'], ['120.543686', '30.741037'], ['120.543625', '30.74118'], ['120.543594', '30.741272'], ['120.543564', '30.741463'], ['120.543564', '30.741653'], ['120.543571', '30.741789'], ['120.543602', '30.741888'], ['120.543648', '30.742001'], ['120.5439', '30.742582'], ['120.544891', '30.743889'], ['120.545441', '30.744692'], ['120.546043', '30.745556'], ['120.546974', '30.747036'], ['120.547348', '30.747641'], ['120.548553', '30.749777'], ['120.548775', '30.750238'], ['120.549011', '30.750729'], ['120.549553', '30.751858'], ['120.550232', '30.753382'], ['120.550453', '30.753933'], ['120.551552', '30.75684'], ['120.551994', '30.757904'], ['120.552727', '30.759617'], ['120.553482', '30.761221'], ['120.553726', '30.761721'], ['120.554459', '30.763168'], ['120.555527', '30.765091'], ['120.556496', '30.766727'], ['120.55909', '30.770815'], ['120.55999', '30.772131'], ['120.560364', '30.772705'], ['120.561562', '30.774553'], ['120.562096', '30.775373'], ['120.562416', '30.775921'], ['120.562912', '30.776707'], ['120.56369', '30.77791'], ['120.563965', '30.778303'], ['120.564323', '30.778803'], ['120.565369', '30.780422'], ['120.566025', '30.781511'], ['120.567451', '30.783689'], ['120.56749', '30.783756'], ['120.568169', '30.784809'], ['120.569038', '30.78606'], ['120.570442', '30.787937'], ['120.571075', '30.788729'], ['120.571877', '30.789686'], ['120.572853', '30.790812'], ['120.573166', '30.791147'], ['120.573799', '30.791809'], ['120.574432', '30.792492'], ['120.575386', '30.793415'], ['120.576675', '30.794632'], ['120.576721', '30.794676'], ['120.578468', '30.796257'], ['120.58461', '30.801884'], ['120.585938', '30.803087'], ['120.586548', '30.803654'], ['120.587105', '30.804153'], ['120.588837', '30.805664'], ['120.58947', '30.806211'], ['120.589928', '30.806618'], ['120.590439', '30.807009'], ['120.591339', '30.807682'], ['120.59259', '30.808588'], ['120.592957', '30.808849'], ['120.594566', '30.809948'], ['120.596169', '30.810934'], ['120.597672', '30.811831'], ['120.59832', '30.812181'], ['120.599312', '30.812723'], ['120.599312', '30.812723'], ['120.599968', '30.812946'], ['120.600624', '30.813219'], ['120.600807', '30.813269'], ['120.600967', '30.813293'], ['120.601128', '30.813303'], ['120.601295', '30.81329'], ['120.60141', '30.813265'], ['120.60154', '30.813215'], ['120.601654', '30.813147'], ['120.601776', '30.813015'], ['120.60183', '30.812925'], ['120.60186', '30.812773'], ['120.601837', '30.812586'], ['120.601807', '30.81249'], ['120.601746', '30.812405'], ['120.601646', '30.812317'], ['120.60154', '30.812254'], ['120.601433', '30.812218'], ['120.601219', '30.812195'], ['120.601067', '30.812214'], ['120.600952', '30.812248'], ['120.600746', '30.812355'], ['120.600433', '30.812582'], ['120.599075', '30.813766'], ['120.598854', '30.813932'], ['120.598587', '30.814093'], ['120.598083', '30.814331'], ['120.597641', '30.814501'], ['120.597404', '30.814577'], ['120.596992', '30.814671'], ['120.596695', '30.814692'], ['120.596695', '30.814692'], ['120.596397', '30.81468'], ['120.595932', '30.814627'], ['120.594673', '30.814548'], ['120.59446', '30.814535'], ['120.59446', '30.814535'], ['120.59433', '30.814587'], ['120.594246', '30.814644'], ['120.594124', '30.814753'], ['120.594009', '30.814926'], ['120.593979', '30.815077'], ['120.593834', '30.816229'], ['120.593788', '30.816525'], ['120.593788', '30.816525'], ['120.593887', '30.816603'], ['120.593895', '30.816648'], ['120.593895', '30.816671'], ['120.593887', '30.816818'], ['120.593796', '30.817131'], ['120.593651', '30.81743'], ['120.593613', '30.81756'], ['120.593506', '30.818247'], ['120.59346', '30.818525'], ['120.593407', '30.81868'], ['120.593246', '30.81908'], ['120.593086', '30.81955'], ['120.592934', '30.819878'], ['120.592361', '30.820633'], ['120.592361', '30.820633'], ['120.592163', '30.820612'], ['120.592072', '30.820591'], ['120.591957', '30.820564'], ['120.591621', '30.820568'], ['120.590408', '30.820478'], ['120.590027', '30.820446'], ['120.590027', '30.820446'], ['120.588943', '30.821051'], ['120.587807', '30.821711'], ['120.585938', '30.8228'], ['120.585182', '30.823238'], ['120.584488', '30.823637'], ['120.582619', '30.824722'], ['120.579918', '30.826298'], ['120.579041', '30.826809'], ['120.578712', '30.826967'], ['120.578491', '30.827057'], ['120.578148', '30.827162'], ['120.577736', '30.827276'], ['120.577423', '30.827335'], ['120.576988', '30.827404'], ['120.576401', '30.827469'], ['120.57605', '30.827505'], ['120.574898', '30.827618'], ['120.574753', '30.827635'], ['120.573128', '30.827808'], ['120.572632', '30.827869'], ['120.571686', '30.828051'], ['120.571014', '30.828228'], ['120.570206', '30.82847'], ['120.568962', '30.828844'], ['120.567848', '30.829184'], ['120.56665', '30.829576'], ['120.56646', '30.829639'], ['120.56646', '30.829639'], ['120.566223', '30.829626'], ['120.566002', '30.829666'], ['120.564011', '30.830252'], ['120.563965', '30.830269'], ['120.563446', '30.830446'], ['120.562935', '30.830643'], ['120.562576', '30.830793'], ['120.562332', '30.830929'], ['120.562202', '30.830997'], ['120.560196', '30.832249'], ['120.558739', '30.833178'], ['120.557785', '30.833733'], ['120.557594', '30.833849'], ['120.557419', '30.833981'], ['120.557297', '30.834093'], ['120.556709', '30.834385'], ['120.555832', '30.834867'], ['120.555321', '30.835155'], ['120.555122', '30.835199'], ['120.553886', '30.835665'], ['120.553162', '30.835964'], ['120.55294', '30.836088'], ['120.552605', '30.836258'], ['120.552605', '30.836258'], ['120.552193', '30.836632'], ['120.551888', '30.836931'], ['120.551704', '30.837135'], ['120.551552', '30.837349'], ['120.551422', '30.837568'], ['120.551308', '30.837799'], ['120.551163', '30.83812'], ['120.55098', '30.838619'], ['120.55014', '30.840847'], ['120.54911', '30.843594'], ['120.548737', '30.844595'], ['120.54863', '30.844866'], ['120.547958', '30.846659'], ['120.54734', '30.848251'], ['120.547211', '30.848572'], ['120.547058', '30.848845'], ['120.546936', '30.849045'], ['120.546738', '30.849318'], ['120.546539', '30.849545'], ['120.546471', '30.849609'], ['120.546341', '30.849731'], ['120.546112', '30.849918'], ['120.545837', '30.850122'], ['120.545547', '30.850309'], ['120.545349', '30.850414'], ['120.545113', '30.850512'], ['120.544701', '30.850643'], ['120.544479', '30.850693'], ['120.543861', '30.850801'], ['120.543472', '30.850855'], ['120.541992', '30.851025'], ['120.541801', '30.851048'], ['120.539986', '30.851233'], ['120.538933', '30.851343'], ['120.538048', '30.851431'], ['120.536469', '30.851622'], ['120.536324', '30.851662'], ['120.534912', '30.851839'], ['120.532318', '30.852171'], ['120.531563', '30.852259'], ['120.531105', '30.852287'], ['120.530563', '30.852348'], ['120.530403', '30.852331'], ['120.529808', '30.852396'], ['120.527245', '30.852583'], ['120.526566', '30.85264'], ['120.525284', '30.852747'], ['120.524208', '30.852831'], ['120.523911', '30.852852'], ['120.522919', '30.852921'], ['120.522354', '30.852928'], ['120.521866', '30.852915'], ['120.521385', '30.852886'], ['120.52079', '30.852818'], ['120.520355', '30.852747'], ['120.52002', '30.852673'], ['120.519806', '30.852627'], ['120.519318', '30.852509'], ['120.517876', '30.852089'], ['120.517014', '30.851822'], ['120.515915', '30.851498'], ['120.515388', '30.851349'], ['120.51506', '30.851271'], ['120.514709', '30.851212'], ['120.514221', '30.851164'], ['120.513794', '30.851147'], ['120.51358', '30.851171'], ['120.512337', '30.851147'], ['120.510628', '30.851103'], ['120.507034', '30.850998'], ['120.506401', '30.850981'], ['120.505333', '30.850946'], ['120.504913', '30.850943'], ['120.504372', '30.850929'], ['120.504219', '30.850929'], ['120.503693', '30.85091'], ['120.502602', '30.850876'], ['120.502228', '30.850838'], ['120.502228', '30.850838'], ['120.50161', '30.850624'], ['120.50042', '30.850187'], ['120.500023', '30.850048'], ['120.499626', '30.849899'], ['120.49897', '30.849663'], ['120.498825', '30.849609'], ['120.498215', '30.849388'], ['120.498047', '30.849327'], ['120.497757', '30.849232'], ['120.49733', '30.849075'], ['120.496162', '30.848652'], ['120.495995', '30.848589'], ['120.49469', '30.848124'], ['120.494019', '30.847874'], ['120.493172', '30.847588'], ['120.492264', '30.847254'], ['120.49131', '30.846889'], ['120.489624', '30.846252'], ['120.488693', '30.845907'], ['120.488518', '30.845865'], ['120.488327', '30.845846'], ['120.488228', '30.845846'], ['120.488159', '30.845819'], ['120.485947', '30.845787'], ['120.485535', '30.845781'], ['120.484276', '30.845778'], ['120.48391', '30.845787'], ['120.483582', '30.845819'], ['120.483131', '30.845898'], ['120.483131', '30.845898'], ['120.482758', '30.846062'], ['120.482536', '30.84618'], ['120.482307', '30.846325'], ['120.482025', '30.846567'], ['120.481873', '30.846727'], ['120.481735', '30.846909'], ['120.481628', '30.84709'], ['120.481117', '30.848124'], ['120.480461', '30.849567'], ['120.480438', '30.849609'], ['120.480385', '30.849731'], ['120.479233', '30.852219'], ['120.479164', '30.85236'], ['120.477638', '30.855639'], ['120.47731', '30.856258'], ['120.477066', '30.856667'], ['120.476852', '30.857'], ['120.47641', '30.857592'], ['120.476074', '30.858'], ['120.476006', '30.858068'], ['120.475601', '30.858528'], ['120.474861', '30.859388'], ['120.474571', '30.859695'], ['120.474327', '30.859964'], ['120.473999', '30.860346'], ['120.473778', '30.860596'], ['120.473396', '30.861032'], ['120.473068', '30.861431'], ['120.472862', '30.861731'], ['120.472664', '30.862022'], ['120.472496', '30.862349'], ['120.472389', '30.862608'], ['120.472183', '30.863346'], ['120.471954', '30.864489'], ['120.471825', '30.865095'], ['120.471748', '30.865347'], ['120.471664', '30.865604'], ['120.471321', '30.86628'], ['120.470901', '30.866901'], ['120.470291', '30.867695'], ['120.468033', '30.870716'], ['120.46743', '30.87158'], ['120.467041', '30.872131'], ['120.466927', '30.872356'], ['120.466682', '30.872856'], ['120.466568', '30.873119'], ['120.466385', '30.873611'], ['120.466164', '30.874371'], ['120.466087', '30.874701'], ['120.465973', '30.875313'], ['120.465637', '30.87746'], ['120.465614', '30.877583'], ['120.465485', '30.878489'], ['120.46537', '30.879217'], ['120.465233', '30.879765'], ['120.465111', '30.880192'], ['120.464981', '30.880583'], ['120.464836', '30.88092'], ['120.464622', '30.881363'], ['120.464417', '30.881744'], ['120.464188', '30.882122'], ['120.463936', '30.88249'], ['120.46389', '30.882565'], ['120.463654', '30.882896'], ['120.462395', '30.884405'], ['120.461914', '30.885014'], ['120.461761', '30.885214'], ['120.461159', '30.885969'], ['120.460953', '30.886189'], ['120.460709', '30.886454'], ['120.460266', '30.886995'], ['120.460083', '30.887253'], ['120.459717', '30.887823'], ['120.459572', '30.888098'], ['120.459435', '30.888407'], ['120.459167', '30.889124'], ['120.458466', '30.89142'], ['120.458107', '30.892569'], ['120.457802', '30.893555'], ['120.457802', '30.89356'], ['120.45771', '30.89382'], ['120.45771', '30.89382'], ['120.45768', '30.893555'], ['120.457672', '30.893534'], ['120.45784', '30.892929'], ['120.458099', '30.892113'], ['120.45816', '30.891867'], ['120.458176', '30.891762'], ['120.458176', '30.891703'], ['120.458092', '30.891439'], ['120.458092', '30.891439'], ['120.457268', '30.89106'], ['120.456009', '30.890491'], ['120.45475', '30.889936'], ['120.454681', '30.88991'], ['120.454102', '30.889654'], ['120.45369', '30.889467'], ['120.451653', '30.888588'], ['120.451073', '30.888351'], ['120.450874', '30.888264'], ['120.450516', '30.888111'], ['120.449562', '30.887722'], ['120.448792', '30.887386'], ['120.447502', '30.886858'], ['120.446167', '30.88632'], ['120.446053', '30.886271'], ['120.445656', '30.88611'], ['120.445259', '30.885973'], ['120.444092', '30.885647'], ['120.4431', '30.885515'], ['120.442245', '30.885469'], ['120.441582', '30.885469'], ['120.440781', '30.885508'], ['120.439201', '30.885582'], ['120.439201', '30.885582'], ['120.438171', '30.88562'], ['120.437469', '30.88563'], ['120.436523', '30.88566'], ['120.435783', '30.885683'], ['120.4356', '30.885689'], ['120.435242', '30.885689'], ['120.434784', '30.885683'], ['120.434235', '30.885656'], ['120.433266', '30.885592'], ['120.432121', '30.885464'], ['120.431938', '30.885433'], ['120.431313', '30.885338'], ['120.430634', '30.885227'], ['120.42984', '30.885092'], ['120.428604', '30.884882'], ['120.428169', '30.884813'], ['120.427147', '30.884644'], ['120.426552', '30.884541'], ['120.426193', '30.884489'], ['120.425873', '30.884426'], ['120.425087', '30.884298'], ['120.424355', '30.884171'], ['120.424355', '30.884171'], ['120.423958', '30.885134'], ['120.423897', '30.885342'], ['120.423737', '30.88628'], ['120.423737', '30.88628'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>