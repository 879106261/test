<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580132', '30.613283'], ['120.580055', '30.613499'], ['120.580002', '30.613588'], ['120.579803', '30.613758'], ['120.579803', '30.613758'], ['120.579628', '30.613979'], ['120.57959', '30.614048'], ['120.579544', '30.614317'], ['120.579597', '30.61451'], ['120.579636', '30.614691'], ['120.579681', '30.614986'], ['120.579712', '30.615383'], ['120.579735', '30.615755'], ['120.579735', '30.615911'], ['120.579742', '30.616299'], ['120.579735', '30.6171'], ['120.579742', '30.617205'], ['120.579727', '30.618893'], ['120.579735', '30.619413'], ['120.579735', '30.620419'], ['120.579735', '30.620543'], ['120.579727', '30.621672'], ['120.579727', '30.621798'], ['120.579712', '30.623411'], ['120.579712', '30.626284'], ['120.579712', '30.62776'], ['120.579712', '30.628794'], ['120.579704', '30.628876'], ['120.579697', '30.629271'], ['120.579697', '30.629883'], ['120.579697', '30.630816'], ['120.579697', '30.632851'], ['120.579697', '30.632938'], ['120.579689', '30.634899'], ['120.579689', '30.636889'], ['120.579689', '30.637596'], ['120.579697', '30.640373'], ['120.579689', '30.640869'], ['120.579689', '30.641085'], ['120.579689', '30.641167'], ['120.579689', '30.641376'], ['120.579674', '30.643255'], ['120.579681', '30.643888'], ['120.579689', '30.645525'], ['120.579689', '30.646393'], ['120.579544', '30.646521'], ['120.579269', '30.646557'], ['120.578201', '30.646723'], ['120.577599', '30.646832'], ['120.577316', '30.646879'], ['120.575874', '30.647131'], ['120.575043', '30.647278'], ['120.573654', '30.647518'], ['120.573105', '30.647627'], ['120.572922', '30.647673'], ['120.572845', '30.647741'], ['120.572464', '30.647831'], ['120.572052', '30.647896'], ['120.571869', '30.647921'], ['120.571304', '30.647991'], ['120.571175', '30.647991'], ['120.570923', '30.647961'], ['120.570763', '30.647991'], ['120.569878', '30.648151'], ['120.569283', '30.64826'], ['120.568504', '30.648394'], ['120.568047', '30.648472'], ['120.567757', '30.648529'], ['120.56749', '30.648571'], ['120.566238', '30.648788'], ['120.566132', '30.648808'], ['120.564957', '30.649012'], ['120.564766', '30.64905'], ['120.564003', '30.649176'], ['120.563965', '30.649179'], ['120.562752', '30.649395'], ['120.56205', '30.649517'], ['120.561615', '30.649578'], ['120.561615', '30.649578'], ['120.561501', '30.650707'], ['120.561378', '30.651854'], ['120.561272', '30.652874'], ['120.561241', '30.653307'], ['120.561119', '30.654467'], ['120.561073', '30.654657'], ['120.561043', '30.654739'], ['120.559441', '30.657331'], ['120.558899', '30.658211'], ['120.55883', '30.658306'], ['120.557808', '30.659927'], ['120.557472', '30.660452'], ['120.557121', '30.661034'], ['120.55661', '30.661793'], ['120.555931', '30.662838'], ['120.555008', '30.664257'], ['120.554932', '30.664362'], ['120.554436', '30.665123'], ['120.553528', '30.666502'], ['120.55143', '30.669653'], ['120.55101', '30.670273'], ['120.550934', '30.670387'], ['120.550629', '30.67082'], ['120.550125', '30.671524'], ['120.550072', '30.671589'], ['120.549179', '30.672737'], ['120.548363', '30.673828'], ['120.54821', '30.674026'], ['120.547546', '30.674995'], ['120.547066', '30.675678'], ['120.545952', '30.677378'], ['120.54541', '30.678265'], ['120.545372', '30.678337'], ['120.544579', '30.679558'], ['120.541992', '30.683607'], ['120.541237', '30.684778'], ['120.541214', '30.684813'], ['120.538834', '30.688538'], ['120.538246', '30.689518'], ['120.537636', '30.690634'], ['120.537582', '30.690746'], ['120.537041', '30.691767'], ['120.53688', '30.692108'], ['120.536362', '30.693247'], ['120.536095', '30.693884'], ['120.535522', '30.695442'], ['120.535385', '30.695797'], ['120.535248', '30.696224'], ['120.535004', '30.697048'], ['120.534767', '30.69796'], ['120.5345', '30.699072'], ['120.533417', '30.704523'], ['120.532974', '30.706785'], ['120.532509', '30.709213'], ['120.532257', '30.710413'], ['120.532211', '30.710625'], ['120.532188', '30.710737'], ['120.532036', '30.711462'], ['120.531799', '30.712408'], ['120.531563', '30.713234'], ['120.53112', '30.714582'], ['120.530495', '30.716238'], ['120.529991', '30.717527'], ['120.529892', '30.717773'], ['120.52935', '30.719149'], ['120.528748', '30.720615'], ['120.528282', '30.721823'], ['120.527725', '30.723383'], ['120.52739', '30.724358'], ['120.527008', '30.725586'], ['120.526772', '30.726334'], ['120.526459', '30.727468'], ['120.52623', '30.728338'], ['120.526131', '30.728758'], ['120.526108', '30.728863'], ['120.525375', '30.731897'], ['120.52533', '30.732132'], ['120.5252', '30.7327'], ['120.525177', '30.732826'], ['120.525017', '30.733465'], ['120.524979', '30.73365'], ['120.524887', '30.733929'], ['120.52475', '30.734552'], ['120.523926', '30.737965'], ['120.523514', '30.739744'], ['120.522446', '30.744202'], ['120.522293', '30.744175'], ['120.521866', '30.744112'], ['120.521172', '30.74404'], ['120.520645', '30.744015'], ['120.520226', '30.744011'], ['120.52002', '30.744015'], ['120.519814', '30.74402'], ['120.518341', '30.744127'], ['120.512863', '30.744497'], ['120.512024', '30.744566'], ['120.511177', '30.744682'], ['120.509651', '30.744955'], ['120.509056', '30.74507'], ['120.508148', '30.745243'], ['120.507271', '30.745409'], ['120.506989', '30.745455'], ['120.506279', '30.745586'], ['120.506104', '30.745625'], ['120.505669', '30.745707'], ['120.504372', '30.74597'], ['120.503891', '30.746061'], ['120.503006', '30.746243'], ['120.502541', '30.746315'], ['120.502464', '30.746321'], ['120.502213', '30.746311'], ['120.501732', '30.746254'], ['120.501366', '30.746225'], ['120.500992', '30.746216'], ['120.500328', '30.746225'], ['120.499855', '30.746262'], ['120.49942', '30.746315'], ['120.498985', '30.746397'], ['120.498299', '30.746563'], ['120.498047', '30.746635'], ['120.497955', '30.746658'], ['120.497314', '30.746904'], ['120.49691', '30.747089'], ['120.49659', '30.747253'], ['120.49633', '30.74741'], ['120.49614', '30.747541'], ['120.495949', '30.747709'], ['120.495438', '30.748178'], ['120.495247', '30.748333'], ['120.494957', '30.74852'], ['120.494621', '30.748707'], ['120.494331', '30.748838'], ['120.492889', '30.749405'], ['120.492081', '30.749762'], ['120.491875', '30.749857'], ['120.490646', '30.750446'], ['120.490051', '30.750729'], ['120.48967', '30.750912'], ['120.488739', '30.751354'], ['120.487823', '30.751793'], ['120.487457', '30.751966'], ['120.486465', '30.752445'], ['120.484886', '30.753178'], ['120.484825', '30.753206'], ['120.484825', '30.753206'], ['120.485107', '30.753729'], ['120.485909', '30.755209'], ['120.486443', '30.75621'], ['120.486641', '30.756567'], ['120.486824', '30.756903'], ['120.486931', '30.757113'], ['120.487045', '30.757326'], ['120.487175', '30.757551'], ['120.487297', '30.757769'], ['120.487457', '30.758099'], ['120.487457', '30.758099'], ['120.487251', '30.758192'], ['120.486771', '30.758408'], ['120.486259', '30.758638'], ['120.48587', '30.75882'], ['120.485748', '30.758871'], ['120.485176', '30.759153'], ['120.482841', '30.760283'], ['120.482628', '30.760405'], ['120.482483', '30.760546'], ['120.482414', '30.760651'], ['120.482269', '30.761076'], ['120.48214', '30.76145'], ['120.482025', '30.761721'], ['120.482018', '30.761744'], ['120.481812', '30.761999'], ['120.481812', '30.761999'], ['120.481224', '30.762569'], ['120.481033', '30.762783'], ['120.480774', '30.763096'], ['120.480309', '30.763767'], ['120.480202', '30.76388'], ['120.480072', '30.763994'], ['120.479698', '30.764223'], ['120.479591', '30.764271'], ['120.479156', '30.764345'], ['120.477394', '30.764481'], ['120.477394', '30.764481'], ['120.477379', '30.764635'], ['120.477318', '30.764887'], ['120.477112', '30.765438'], ['120.477005', '30.765734'], ['120.476837', '30.766302'], ['120.476364', '30.767729'], ['120.476234', '30.768042'], ['120.476151', '30.768164'], ['120.476074', '30.768307'], ['120.47583', '30.768738'], ['120.475304', '30.769587'], ['120.474709', '30.770418'], ['120.474487', '30.770634'], ['120.47374', '30.771631'], ['120.473564', '30.771893'], ['120.473442', '30.772079'], ['120.473389', '30.772226'], ['120.473335', '30.772551'], ['120.473328', '30.772705'], ['120.473328', '30.772778'], ['120.473312', '30.772928'], ['120.473358', '30.773476'], ['120.473351', '30.773594'], ['120.472687', '30.775688'], ['120.472572', '30.776011'], ['120.472214', '30.77672'], ['120.471283', '30.778561'], ['120.47113', '30.778852'], ['120.470528', '30.78006'], ['120.470123', '30.78071'], ['120.470085', '30.780851'], ['120.470139', '30.781658'], ['120.470184', '30.782352'], ['120.470184', '30.782604'], ['120.470169', '30.783098'], ['120.470139', '30.783689'], ['120.470131', '30.783958'], ['120.47007', '30.785131'], ['120.470024', '30.785965'], ['120.469864', '30.78931'], ['120.469856', '30.789526'], ['120.469841', '30.789753'], ['120.469704', '30.791124'], ['120.46962', '30.792152'], ['120.469475', '30.79353'], ['120.46946', '30.793652'], ['120.469254', '30.794676'], ['120.468544', '30.798151'], ['120.468498', '30.798325'], ['120.468483', '30.798416'], ['120.468513', '30.798565'], ['120.468513', '30.798565'], ['120.468483', '30.798824'], ['120.468513', '30.799171'], ['120.468613', '30.799717'], ['120.468567', '30.799992'], ['120.468338', '30.800884'], ['120.467857', '30.802919'], ['120.467857', '30.802919'], ['120.467735', '30.803028'], ['120.467575', '30.803156'], ['120.467384', '30.803242'], ['120.467155', '30.803268'], ['120.466881', '30.803238'], ['120.464905', '30.802856'], ['120.463707', '30.802656'], ['120.460869', '30.802126'], ['120.460869', '30.802126'], ['120.460632', '30.802938'], ['120.460426', '30.80353'], ['120.460381', '30.80368'], ['120.460274', '30.804218'], ['120.460098', '30.805239'], ['120.460007', '30.805609'], ['120.459999', '30.805664'], ['120.459946', '30.805794'], ['120.459572', '30.806767'], ['120.459167', '30.807737'], ['120.459099', '30.807909'], ['120.459015', '30.808203'], ['120.458954', '30.808716'], ['120.458908', '30.80904'], ['120.458832', '30.809349'], ['120.458145', '30.811512'], ['120.458', '30.811926'], ['120.457573', '30.813021'], ['120.457161', '30.814175'], ['120.457085', '30.814417'], ['120.456795', '30.815269'], ['120.45649', '30.816147'], ['120.456314', '30.816648'], ['120.45575', '30.818247'], ['120.455383', '30.819384'], ['120.455162', '30.820087'], ['120.455116', '30.820387'], ['120.455254', '30.821703'], ['120.455223', '30.822021'], ['120.455109', '30.822701'], ['120.454773', '30.824726'], ['120.454735', '30.825035'], ['120.454468', '30.827608'], ['120.454468', '30.827635'], ['120.45446', '30.827864'], ['120.454498', '30.829067'], ['120.454498', '30.829514'], ['120.454453', '30.830053'], ['120.454338', '30.831142'], ['120.454285', '30.831566'], ['120.454109', '30.833097'], ['120.454102', '30.83312'], ['120.454048', '30.833282'], ['120.453957', '30.833416'], ['120.453766', '30.833576'], ['120.453621', '30.833662'], ['120.452988', '30.833971'], ['120.452789', '30.834089'], ['120.45269', '30.834175'], ['120.45266', '30.834223'], ['120.452583', '30.834427'], ['120.452362', '30.835392'], ['120.452293', '30.835564'], ['120.452118', '30.835756'], ['120.451988', '30.835825'], ['120.451881', '30.835833'], ['120.450317', '30.835546'], ['120.449379', '30.835369'], ['120.44709', '30.835032'], ['120.445625', '30.834801'], ['120.44281', '30.834393'], ['120.442001', '30.834267'], ['120.441719', '30.834267'], ['120.44149', '30.834293'], ['120.438034', '30.834841'], ['120.437279', '30.834936'], ['120.436852', '30.835073'], ['120.436478', '30.835213'], ['120.436287', '30.835325'], ['120.43618', '30.835419'], ['120.436104', '30.835506'], ['120.436089', '30.8356'], ['120.436081', '30.835707'], ['120.436089', '30.835852'], ['120.436333', '30.836863'], ['120.436562', '30.837755'], ['120.436699', '30.838619'], ['120.436775', '30.839054'], ['120.436943', '30.840023'], ['120.437088', '30.840706'], ['120.437202', '30.841084'], ['120.437263', '30.841303'], ['120.437263', '30.841303'], ['120.437279', '30.841431'], ['120.437263', '30.841618'], ['120.438126', '30.842527'], ['120.438095', '30.842587'], ['120.437759', '30.842678'], ['120.436607', '30.842995'], ['120.434723', '30.84346'], ['120.433266', '30.843767'], ['120.432915', '30.843784'], ['120.432915', '30.843784'], ['120.43248', '30.844519'], ['120.432121', '30.845078'], ['120.431358', '30.846302'], ['120.430779', '30.847208'], ['120.430756', '30.847258'], ['120.43013', '30.848274'], ['120.429993', '30.848511'], ['120.429802', '30.848871'], ['120.429611', '30.849321'], ['120.429482', '30.849609'], ['120.429482', '30.849623'], ['120.429192', '30.850422'], ['120.429085', '30.850821'], ['120.429054', '30.850956'], ['120.428925', '30.851412'], ['120.428535', '30.852846'], ['120.427917', '30.855009'], ['120.427246', '30.857491'], ['120.427147', '30.857908'], ['120.427063', '30.858284'], ['120.426994', '30.858797'], ['120.426971', '30.859076'], ['120.426941', '30.859795'], ['120.426933', '30.860596'], ['120.426926', '30.861284'], ['120.426918', '30.861341'], ['120.426834', '30.862236'], ['120.426811', '30.862631'], ['120.426765', '30.863312'], ['120.426628', '30.86412'], ['120.426575', '30.864311'], ['120.426498', '30.864609'], ['120.426361', '30.865088'], ['120.426125', '30.866024'], ['120.425888', '30.866995'], ['120.425743', '30.867579'], ['120.425728', '30.867647'], ['120.425591', '30.868246'], ['120.425301', '30.869423'], ['120.425095', '30.870247'], ['120.424843', '30.871284'], ['120.424767', '30.87158'], ['120.424713', '30.871735'], ['120.424583', '30.872131'], ['120.423775', '30.873894'], ['120.422935', '30.875673'], ['120.422577', '30.876471'], ['120.422188', '30.877239'], ['120.420891', '30.879608'], ['120.420784', '30.879808'], ['120.420746', '30.879858'], ['120.420746', '30.879858'], ['120.420639', '30.880114'], ['120.420326', '30.880747'], ['120.420265', '30.880907'], ['120.420242', '30.881138'], ['120.420242', '30.881262'], ['120.420265', '30.88143'], ['120.420303', '30.881557'], ['120.420372', '30.881702'], ['120.420525', '30.881931'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421371', '30.88266'], ['120.422127', '30.8832'], ['120.422592', '30.883493'], ['120.423012', '30.88372'], ['120.423225', '30.883806'], ['120.423691', '30.883942'], ['120.424393', '30.884081'], ['120.425896', '30.884331'], ['120.426216', '30.884384'], ['120.426575', '30.884445'], ['120.426552', '30.884541'], ['120.426224', '30.885637'], ['120.426224', '30.885637'], ['120.425858', '30.885834'], ['120.425674', '30.885952'], ['120.425598', '30.886011'], ['120.425484', '30.886202'], ['120.425392', '30.886467'], ['120.425392', '30.886467'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>