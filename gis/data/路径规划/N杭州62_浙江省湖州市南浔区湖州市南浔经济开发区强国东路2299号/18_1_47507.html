<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580193', '30.612909'], ['120.580605', '30.61289'], ['120.582512', '30.612883'], ['120.583618', '30.612877'], ['120.584251', '30.612877'], ['120.585182', '30.612869'], ['120.585182', '30.612869'], ['120.585182', '30.611298'], ['120.58522', '30.611143'], ['120.585938', '30.61112'], ['120.586075', '30.61112'], ['120.59008', '30.611097'], ['120.59066', '30.611084'], ['120.592178', '30.61109'], ['120.592293', '30.611164'], ['120.592361', '30.612019'], ['120.592484', '30.613907'], ['120.592545', '30.614935'], ['120.592773', '30.618893'], ['120.592796', '30.619392'], ['120.592865', '30.620319'], ['120.592865', '30.620455'], ['120.593155', '30.625374'], ['120.593163', '30.625565'], ['120.593376', '30.629007'], ['120.59343', '30.629883'], ['120.593475', '30.630693'], ['120.59359', '30.632755'], ['120.593597', '30.632887'], ['120.59375', '30.635477'], ['120.593788', '30.636137'], ['120.593849', '30.637136'], ['120.593864', '30.637392'], ['120.594009', '30.639832'], ['120.594055', '30.640547'], ['120.59407', '30.640869'], ['120.594116', '30.641615'], ['120.594124', '30.641768'], ['120.594223', '30.64333'], ['120.594368', '30.645693'], ['120.594368', '30.645943'], ['120.594368', '30.646015'], ['120.594429', '30.647018'], ['120.594437', '30.647804'], ['120.594421', '30.648169'], ['120.594368', '30.648733'], ['120.59433', '30.648998'], ['120.594223', '30.649599'], ['120.594078', '30.650196'], ['120.593994', '30.650511'], ['120.593796', '30.651072'], ['120.593582', '30.651598'], ['120.593529', '30.651693'], ['120.59346', '30.651854'], ['120.593407', '30.651966'], ['120.593132', '30.65251'], ['120.591759', '30.655022'], ['120.591553', '30.655418'], ['120.590675', '30.657013'], ['120.590126', '30.658037'], ['120.588997', '30.660105'], ['120.58847', '30.66106'], ['120.587784', '30.662287'], ['120.587463', '30.662838'], ['120.587433', '30.662905'], ['120.587273', '30.663155'], ['120.586922', '30.663706'], ['120.586578', '30.664213'], ['120.586136', '30.664818'], ['120.585938', '30.66507'], ['120.585663', '30.665422'], ['120.585159', '30.666012'], ['120.585106', '30.666075'], ['120.584602', '30.666616'], ['120.583839', '30.667381'], ['120.5821', '30.669022'], ['120.578865', '30.67198'], ['120.576935', '30.673788'], ['120.576897', '30.673828'], ['120.576187', '30.674566'], ['120.575768', '30.675045'], ['120.575363', '30.67557'], ['120.575005', '30.676062'], ['120.574852', '30.676285'], ['120.574852', '30.676285'], ['120.57473', '30.676636'], ['120.574577', '30.677027'], ['120.574516', '30.6772'], ['120.574509', '30.677319'], ['120.574532', '30.677517'], ['120.574623', '30.677677'], ['120.574738', '30.677813'], ['120.574875', '30.6779'], ['120.575096', '30.67802'], ['120.575272', '30.678082'], ['120.576469', '30.678471'], ['120.577393', '30.678833'], ['120.577644', '30.678957'], ['120.577789', '30.679049'], ['120.577873', '30.679111'], ['120.577972', '30.679218'], ['120.579033', '30.679701'], ['120.579758', '30.680065'], ['120.582336', '30.681498'], ['120.584038', '30.68244'], ['120.585938', '30.683502'], ['120.58609', '30.683588'], ['120.588287', '30.684813'], ['120.588699', '30.685049'], ['120.591324', '30.686525'], ['120.595726', '30.68898'], ['120.595558', '30.689039'], ['120.593201', '30.689955'], ['120.592812', '30.690123'], ['120.592125', '30.690456'], ['120.591606', '30.69079'], ['120.591072', '30.691206'], ['120.590599', '30.691658'], ['120.590034', '30.692257'], ['120.588715', '30.693647'], ['120.587608', '30.694796'], ['120.586647', '30.695791'], ['120.586639', '30.695797'], ['120.586021', '30.696457'], ['120.585938', '30.696548'], ['120.584221', '30.698351'], ['120.583221', '30.699413'], ['120.582764', '30.699869'], ['120.582397', '30.700218'], ['120.582283', '30.700373'], ['120.579857', '30.702959'], ['120.578705', '30.704193'], ['120.57811', '30.704844'], ['120.577988', '30.704964'], ['120.577393', '30.705601'], ['120.576508', '30.706535'], ['120.576279', '30.706785'], ['120.575752', '30.70734'], ['120.575653', '30.707439'], ['120.575485', '30.707605'], ['120.575279', '30.707842'], ['120.57518', '30.707916'], ['120.574722', '30.708374'], ['120.574356', '30.708679'], ['120.574158', '30.708824'], ['120.57383', '30.709036'], ['120.573448', '30.709249'], ['120.572945', '30.709463'], ['120.572418', '30.709635'], ['120.57193', '30.709749'], ['120.571091', '30.709867'], ['120.566048', '30.710438'], ['120.5653', '30.71055'], ['120.564766', '30.710661'], ['120.564133', '30.710852'], ['120.563965', '30.710911'], ['120.563774', '30.710985'], ['120.563469', '30.711124'], ['120.563004', '30.71137'], ['120.562492', '30.711706'], ['120.561989', '30.712095'], ['120.561707', '30.712387'], ['120.561348', '30.712778'], ['120.561005', '30.713274'], ['120.559998', '30.714926'], ['120.559448', '30.715874'], ['120.558853', '30.716898'], ['120.558327', '30.717773'], ['120.558144', '30.718107'], ['120.557327', '30.719509'], ['120.557121', '30.719835'], ['120.554024', '30.7251'], ['120.552734', '30.727304'], ['120.551971', '30.728601'], ['120.551888', '30.728758'], ['120.550957', '30.73033'], ['120.550255', '30.731562'], ['120.550095', '30.731863'], ['120.549911', '30.732262'], ['120.549744', '30.7327'], ['120.549591', '30.733183'], ['120.549461', '30.733742'], ['120.549339', '30.734404'], ['120.549286', '30.735044'], ['120.549271', '30.73513'], ['120.549278', '30.735605'], ['120.549316', '30.735977'], ['120.549461', '30.736902'], ['120.549591', '30.737751'], ['120.549629', '30.738001'], ['120.549637', '30.738138'], ['120.549644', '30.738199'], ['120.549683', '30.738533'], ['120.549683', '30.738581'], ['120.549721', '30.738972'], ['120.549759', '30.739744'], ['120.549767', '30.739832'], ['120.549759', '30.740204'], ['120.549751', '30.740833'], ['120.549698', '30.741776'], ['120.549576', '30.742996'], ['120.549393', '30.744036'], ['120.549355', '30.744318'], ['120.549141', '30.745251'], ['120.549057', '30.745512'], ['120.549057', '30.745512'], ['120.548828', '30.746342'], ['120.548454', '30.747635'], ['120.548302', '30.748356'], ['120.547806', '30.750729'], ['120.547783', '30.750837'], ['120.547554', '30.751949'], ['120.54744', '30.752399'], ['120.547325', '30.752909'], ['120.54715', '30.753471'], ['120.547119', '30.753529'], ['120.546951', '30.754318'], ['120.546738', '30.755232'], ['120.546722', '30.755356'], ['120.546722', '30.755356'], ['120.545403', '30.755173'], ['120.545219', '30.755142'], ['120.544472', '30.755026'], ['120.54335', '30.754848'], ['120.542084', '30.754608'], ['120.541992', '30.754591'], ['120.541458', '30.754498'], ['120.540703', '30.754322'], ['120.540565', '30.754303'], ['120.540565', '30.754303'], ['120.540543', '30.754389'], ['120.540497', '30.754423'], ['120.540443', '30.754436'], ['120.540443', '30.754436'], ['120.540688', '30.755417'], ['120.54071', '30.755573'], ['120.540756', '30.755934'], ['120.540764', '30.756128'], ['120.540756', '30.756529'], ['120.540726', '30.756958'], ['120.540634', '30.757732'], ['120.540543', '30.75812'], ['120.540047', '30.759745'], ['120.539787', '30.760551'], ['120.539383', '30.761721'], ['120.539024', '30.762764'], ['120.538567', '30.764063'], ['120.538391', '30.764662'], ['120.5383', '30.76516'], ['120.538246', '30.765682'], ['120.538177', '30.767178'], ['120.538162', '30.767586'], ['120.538116', '30.76882'], ['120.538078', '30.769814'], ['120.538017', '30.771681'], ['120.537971', '30.772705'], ['120.537956', '30.773069'], ['120.537926', '30.774323'], ['120.537941', '30.774714'], ['120.537979', '30.775343'], ['120.538101', '30.776066'], ['120.53846', '30.778433'], ['120.53846', '30.778433'], ['120.538567', '30.779219'], ['120.538567', '30.779219'], ['120.538383', '30.779226'], ['120.535927', '30.779413'], ['120.534142', '30.779596'], ['120.533813', '30.779604'], ['120.532181', '30.779718'], ['120.530319', '30.779867'], ['120.527306', '30.780182'], ['120.527306', '30.780182'], ['120.52742', '30.780724'], ['120.527565', '30.781576'], ['120.527885', '30.78355'], ['120.527885', '30.78355'], ['120.527634', '30.783588'], ['120.527374', '30.783689'], ['120.527313', '30.78371'], ['120.526428', '30.784084'], ['120.525772', '30.784357'], ['120.524162', '30.785027'], ['120.524025', '30.785049'], ['120.523582', '30.785095'], ['120.523361', '30.785095'], ['120.523026', '30.785053'], ['120.521713', '30.785027'], ['120.521461', '30.785036'], ['120.521019', '30.785105'], ['120.520195', '30.785273'], ['120.52002', '30.785313'], ['120.519661', '30.7854'], ['120.519318', '30.785505'], ['120.517746', '30.786034'], ['120.515793', '30.786694'], ['120.514786', '30.787062'], ['120.514633', '30.787113'], ['120.514198', '30.787191'], ['120.51339', '30.78731'], ['120.5121', '30.787481'], ['120.509758', '30.7878'], ['120.50946', '30.787851'], ['120.50753', '30.788311'], ['120.506874', '30.788456'], ['120.504662', '30.789076'], ['120.504372', '30.789154'], ['120.504189', '30.789213'], ['120.50383', '30.789257'], ['120.50383', '30.789257'], ['120.499962', '30.789667'], ['120.499962', '30.789667'], ['120.5', '30.790152'], ['120.500038', '30.790583'], ['120.500122', '30.791243'], ['120.500259', '30.792063'], ['120.500374', '30.792587'], ['120.500542', '30.793329'], ['120.50071', '30.793966'], ['120.500908', '30.794605'], ['120.500923', '30.794676'], ['120.501305', '30.795811'], ['120.501335', '30.795893'], ['120.502403', '30.79911'], ['120.502518', '30.799505'], ['120.502678', '30.800131'], ['120.50296', '30.801311'], ['120.503197', '30.802517'], ['120.503326', '30.803265'], ['120.503433', '30.803997'], ['120.503532', '30.804857'], ['120.503601', '30.805664'], ['120.503624', '30.805939'], ['120.503654', '30.806488'], ['120.503716', '30.807154'], ['120.503815', '30.808584'], ['120.50399', '30.811329'], ['120.504074', '30.813374'], ['120.504105', '30.814289'], ['120.504166', '30.815264'], ['120.504265', '30.816275'], ['120.504326', '30.816648'], ['120.504372', '30.817013'], ['120.504478', '30.818169'], ['120.504562', '30.818775'], ['120.504791', '30.821541'], ['120.504837', '30.82198'], ['120.505127', '30.825773'], ['120.505188', '30.827131'], ['120.505188', '30.827635'], ['120.505188', '30.828407'], ['120.505157', '30.829367'], ['120.505112', '30.830109'], ['120.50502', '30.831072'], ['120.504906', '30.832067'], ['120.504372', '30.835791'], ['120.504059', '30.838024'], ['120.50399', '30.838619'], ['120.503899', '30.839222'], ['120.503761', '30.839272'], ['120.503242', '30.839275'], ['120.500595', '30.839327'], ['120.498047', '30.83938'], ['120.492943', '30.839476'], ['120.491913', '30.8395'], ['120.490829', '30.839518'], ['120.490349', '30.839527'], ['120.489922', '30.839544'], ['120.489616', '30.839544'], ['120.488815', '30.839548'], ['120.488487', '30.839489'], ['120.488487', '30.839489'], ['120.488464', '30.841124'], ['120.488434', '30.841726'], ['120.488426', '30.842262'], ['120.488403', '30.843328'], ['120.488403', '30.843702'], ['120.488388', '30.844297'], ['120.488373', '30.844931'], ['120.488365', '30.845238'], ['120.48835', '30.845798'], ['120.488327', '30.845846'], ['120.488228', '30.845846'], ['120.488159', '30.845819'], ['120.485947', '30.845787'], ['120.485535', '30.845781'], ['120.484276', '30.845778'], ['120.48391', '30.845787'], ['120.483582', '30.845819'], ['120.483131', '30.845898'], ['120.483131', '30.845898'], ['120.482758', '30.846062'], ['120.482536', '30.84618'], ['120.482307', '30.846325'], ['120.482025', '30.846567'], ['120.481873', '30.846727'], ['120.481735', '30.846909'], ['120.481628', '30.84709'], ['120.481117', '30.848124'], ['120.480461', '30.849567'], ['120.480438', '30.849609'], ['120.480385', '30.849731'], ['120.479233', '30.852219'], ['120.479164', '30.85236'], ['120.477638', '30.855639'], ['120.47731', '30.856258'], ['120.477066', '30.856667'], ['120.476852', '30.857'], ['120.47641', '30.857592'], ['120.476074', '30.858'], ['120.476006', '30.858068'], ['120.475601', '30.858528'], ['120.474861', '30.859388'], ['120.474571', '30.859695'], ['120.474327', '30.859964'], ['120.473999', '30.860346'], ['120.473778', '30.860596'], ['120.473396', '30.861032'], ['120.473068', '30.861431'], ['120.472862', '30.861731'], ['120.472664', '30.862022'], ['120.472496', '30.862349'], ['120.472496', '30.862349'], ['120.472168', '30.862278'], ['120.471954', '30.86224'], ['120.471771', '30.862204'], ['120.470856', '30.862026'], ['120.469543', '30.861799'], ['120.468727', '30.861662'], ['120.467888', '30.861507'], ['120.467728', '30.861481'], ['120.467323', '30.861403'], ['120.466881', '30.861328'], ['120.466194', '30.861206'], ['120.465736', '30.861124'], ['120.465485', '30.86108'], ['120.464851', '30.86097'], ['120.464699', '30.860943'], ['120.464142', '30.860847'], ['120.463875', '30.86079'], ['120.463081', '30.860647'], ['120.462776', '30.860596'], ['120.46257', '30.860556'], ['120.461655', '30.860342'], ['120.46109', '30.860191'], ['120.460686', '30.860083'], ['120.459702', '30.859808'], ['120.459351', '30.859713'], ['120.458763', '30.859545'], ['120.45829', '30.859409'], ['120.457581', '30.859213'], ['120.45575', '30.858711'], ['120.454102', '30.858255'], ['120.454048', '30.858238'], ['120.453735', '30.858191'], ['120.453514', '30.858173'], ['120.4533', '30.858183'], ['120.453026', '30.858206'], ['120.452087', '30.858343'], ['120.451797', '30.858356'], ['120.451553', '30.858347'], ['120.451141', '30.858284'], ['120.449722', '30.858004'], ['120.447845', '30.857613'], ['120.447227', '30.857513'], ['120.446861', '30.857504'], ['120.446274', '30.857569'], ['120.44593', '30.857622'], ['120.445564', '30.85767'], ['120.445198', '30.857718'], ['120.444878', '30.857765'], ['120.44384', '30.857933'], ['120.44313', '30.858034'], ['120.442451', '30.85813'], ['120.44162', '30.858265'], ['120.441299', '30.858324'], ['120.441208', '30.858334'], ['120.440079', '30.858515'], ['120.439697', '30.858599'], ['120.439697', '30.858599'], ['120.439232', '30.860596'], ['120.439224', '30.86062'], ['120.439034', '30.861467'], ['120.438942', '30.861849'], ['120.438713', '30.862833'], ['120.438629', '30.863125'], ['120.438576', '30.863195'], ['120.438286', '30.863138'], ['120.437363', '30.862991'], ['120.436554', '30.86285'], ['120.435944', '30.862761'], ['120.435318', '30.862665'], ['120.434601', '30.862547'], ['120.434029', '30.862465'], ['120.432121', '30.862167'], ['120.429901', '30.861818'], ['120.428513', '30.861593'], ['120.427727', '30.861467'], ['120.426918', '30.861341'], ['120.426918', '30.861341'], ['120.426834', '30.862236'], ['120.426811', '30.862631'], ['120.426765', '30.863312'], ['120.426628', '30.86412'], ['120.426575', '30.864311'], ['120.426498', '30.864609'], ['120.426361', '30.865088'], ['120.426125', '30.866024'], ['120.425888', '30.866995'], ['120.425743', '30.867579'], ['120.425728', '30.867647'], ['120.425591', '30.868246'], ['120.425301', '30.869423'], ['120.425095', '30.870247'], ['120.424843', '30.871284'], ['120.424767', '30.87158'], ['120.424713', '30.871735'], ['120.424583', '30.872131'], ['120.423775', '30.873894'], ['120.422935', '30.875673'], ['120.422577', '30.876471'], ['120.422188', '30.877239'], ['120.420891', '30.879608'], ['120.420784', '30.879808'], ['120.420746', '30.879858'], ['120.420746', '30.879858'], ['120.420639', '30.880114'], ['120.420326', '30.880747'], ['120.420265', '30.880907'], ['120.420242', '30.881138'], ['120.420242', '30.881262'], ['120.420265', '30.88143'], ['120.420303', '30.881557'], ['120.420372', '30.881702'], ['120.420525', '30.881931'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421371', '30.88266'], ['120.422127', '30.8832'], ['120.422592', '30.883493'], ['120.423012', '30.88372'], ['120.423225', '30.883806'], ['120.423691', '30.883942'], ['120.424393', '30.884081'], ['120.425896', '30.884331'], ['120.426216', '30.884384'], ['120.426575', '30.884445'], ['120.426552', '30.884541'], ['120.426224', '30.885637'], ['120.426224', '30.885637'], ['120.425858', '30.885834'], ['120.425674', '30.885952'], ['120.425598', '30.886011'], ['120.425484', '30.886202'], ['120.425392', '30.886467'], ['120.425392', '30.886467'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>