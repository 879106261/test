<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580132', '30.613283'], ['120.580055', '30.613499'], ['120.580002', '30.613588'], ['120.579803', '30.613758'], ['120.579803', '30.613758'], ['120.579628', '30.613979'], ['120.57959', '30.614048'], ['120.579544', '30.614317'], ['120.579597', '30.61451'], ['120.579636', '30.614691'], ['120.579681', '30.614986'], ['120.579712', '30.615383'], ['120.579735', '30.615755'], ['120.579735', '30.615911'], ['120.579742', '30.616299'], ['120.579735', '30.6171'], ['120.579742', '30.617205'], ['120.579727', '30.618893'], ['120.579735', '30.619413'], ['120.579735', '30.620419'], ['120.579735', '30.620543'], ['120.579727', '30.621672'], ['120.579727', '30.621798'], ['120.579712', '30.623411'], ['120.579712', '30.626284'], ['120.579712', '30.62776'], ['120.579712', '30.628794'], ['120.579567', '30.628876'], ['120.579033', '30.628872'], ['120.578163', '30.628839'], ['120.577202', '30.628824'], ['120.575645', '30.628784'], ['120.575508', '30.628784'], ['120.575363', '30.62878'], ['120.573875', '30.628756'], ['120.573601', '30.628752'], ['120.57235', '30.628729'], ['120.571594', '30.628729'], ['120.571594', '30.628729'], ['120.571243', '30.628849'], ['120.571121', '30.628939'], ['120.571014', '30.629089'], ['120.570847', '30.629362'], ['120.570816', '30.629618'], ['120.570793', '30.629883'], ['120.570702', '30.630829'], ['120.570679', '30.63106'], ['120.57058', '30.632027'], ['120.570526', '30.632555'], ['120.570435', '30.632959'], ['120.570305', '30.633284'], ['120.570198', '30.633467'], ['120.570038', '30.633688'], ['120.569847', '30.633924'], ['120.569138', '30.634758'], ['120.568161', '30.635864'], ['120.567192', '30.636984'], ['120.566925', '30.637295'], ['120.56559', '30.63891'], ['120.56543', '30.639116'], ['120.564957', '30.639709'], ['120.564888', '30.639805'], ['120.564377', '30.640812'], ['120.564339', '30.640869'], ['120.564011', '30.641626'], ['120.563965', '30.641716'], ['120.563759', '30.642118'], ['120.563736', '30.642181'], ['120.563545', '30.642578'], ['120.563034', '30.643845'], ['120.562668', '30.644676'], ['120.562393', '30.645391'], ['120.562042', '30.646284'], ['120.561935', '30.646645'], ['120.561867', '30.647005'], ['120.561829', '30.647314'], ['120.561737', '30.648256'], ['120.561615', '30.649578'], ['120.561501', '30.650707'], ['120.561378', '30.651854'], ['120.561272', '30.652874'], ['120.561241', '30.653307'], ['120.561119', '30.654467'], ['120.561073', '30.654657'], ['120.561043', '30.654739'], ['120.559441', '30.657331'], ['120.558899', '30.658211'], ['120.55883', '30.658306'], ['120.557808', '30.659927'], ['120.557472', '30.660452'], ['120.557121', '30.661034'], ['120.55661', '30.661793'], ['120.555931', '30.662838'], ['120.555008', '30.664257'], ['120.554932', '30.664362'], ['120.554436', '30.665123'], ['120.553528', '30.666502'], ['120.55143', '30.669653'], ['120.55101', '30.670273'], ['120.550934', '30.670387'], ['120.550629', '30.67082'], ['120.550125', '30.671524'], ['120.550072', '30.671589'], ['120.549179', '30.672737'], ['120.548363', '30.673828'], ['120.54821', '30.674026'], ['120.547546', '30.674995'], ['120.547066', '30.675678'], ['120.545952', '30.677378'], ['120.54541', '30.678265'], ['120.545372', '30.678337'], ['120.544579', '30.679558'], ['120.541992', '30.683607'], ['120.541237', '30.684778'], ['120.541214', '30.684813'], ['120.538834', '30.688538'], ['120.538246', '30.689518'], ['120.537636', '30.690634'], ['120.537407', '30.690702'], ['120.536873', '30.690573'], ['120.536194', '30.690413'], ['120.534546', '30.690008'], ['120.532669', '30.689562'], ['120.530655', '30.689072'], ['120.528412', '30.688541'], ['120.527893', '30.688429'], ['120.526924', '30.688229'], ['120.526154', '30.688091'], ['120.524498', '30.687841'], ['120.520927', '30.687391'], ['120.52002', '30.687277'], ['120.515877', '30.686749'], ['120.51503', '30.686653'], ['120.513672', '30.686499'], ['120.513145', '30.686462'], ['120.512932', '30.686476'], ['120.512932', '30.686476'], ['120.512604', '30.686516'], ['120.512459', '30.686544'], ['120.51226', '30.686598'], ['120.511932', '30.686707'], ['120.511772', '30.686771'], ['120.51162', '30.68684'], ['120.511322', '30.686985'], ['120.510704', '30.687313'], ['120.509888', '30.687674'], ['120.509438', '30.687916'], ['120.509171', '30.688068'], ['120.508171', '30.688633'], ['120.508171', '30.688633'], ['120.508018', '30.689259'], ['120.507866', '30.689861'], ['120.50782', '30.690041'], ['120.507713', '30.690504'], ['120.507484', '30.691494'], ['120.507248', '30.692459'], ['120.506493', '30.695665'], ['120.506454', '30.695797'], ['120.506104', '30.697296'], ['120.505829', '30.698465'], ['120.505699', '30.699066'], ['120.505653', '30.699236'], ['120.505539', '30.699768'], ['120.505188', '30.701393'], ['120.504898', '30.702738'], ['120.504791', '30.703098'], ['120.50457', '30.703724'], ['120.504364', '30.704231'], ['120.504295', '30.704395'], ['120.503952', '30.705231'], ['120.503654', '30.705946'], ['120.503532', '30.706238'], ['120.503372', '30.706644'], ['120.503319', '30.706785'], ['120.503288', '30.706848'], ['120.503166', '30.707296'], ['120.503067', '30.70764'], ['120.502953', '30.707977'], ['120.502953', '30.707977'], ['120.50293', '30.708187'], ['120.502838', '30.708685'], ['120.502808', '30.708845'], ['120.5028', '30.708994'], ['120.5028', '30.709145'], ['120.502808', '30.709276'], ['120.502838', '30.709414'], ['120.502914', '30.709713'], ['120.50296', '30.709841'], ['120.503029', '30.709991'], ['120.503113', '30.710146'], ['120.503227', '30.710318'], ['120.503326', '30.710442'], ['120.503464', '30.710596'], ['120.503609', '30.71072'], ['120.503761', '30.710842'], ['120.503998', '30.711012'], ['120.504181', '30.711115'], ['120.504364', '30.71121'], ['120.505264', '30.711649'], ['120.505936', '30.711967'], ['120.506065', '30.712023'], ['120.506348', '30.712135'], ['120.506477', '30.712227'], ['120.506638', '30.712349'], ['120.506638', '30.712349'], ['120.506714', '30.7124'], ['120.50679', '30.712469'], ['120.506996', '30.712717'], ['120.507072', '30.712812'], ['120.507317', '30.713186'], ['120.507423', '30.713377'], ['120.507492', '30.713533'], ['120.507584', '30.713776'], ['120.507607', '30.713871'], ['120.50766', '30.71414'], ['120.507683', '30.714312'], ['120.507683', '30.714312'], ['120.507668', '30.714561'], ['120.507614', '30.715321'], ['120.507484', '30.7171'], ['120.507484', '30.717239'], ['120.507484', '30.717344'], ['120.5075', '30.717468'], ['120.507523', '30.717546'], ['120.507576', '30.717688'], ['120.507614', '30.717773'], ['120.507637', '30.717791'], ['120.507706', '30.717869'], ['120.50779', '30.717924'], ['120.50782', '30.717955'], ['120.507965', '30.718008'], ['120.50811', '30.718033'], ['120.508194', '30.718033'], ['120.508278', '30.718029'], ['120.508408', '30.717995'], ['120.508499', '30.717955'], ['120.508583', '30.717892'], ['120.508682', '30.717804'], ['120.508713', '30.717773'], ['120.508736', '30.717722'], ['120.508766', '30.717651'], ['120.508789', '30.717535'], ['120.508789', '30.717413'], ['120.508759', '30.717281'], ['120.508705', '30.717171'], ['120.508659', '30.717104'], ['120.508606', '30.717049'], ['120.508522', '30.71697'], ['120.508415', '30.716898'], ['120.507851', '30.716579'], ['120.50769', '30.716536'], ['120.506912', '30.716307'], ['120.504753', '30.715677'], ['120.504364', '30.715578'], ['120.50312', '30.715273'], ['120.502098', '30.71505'], ['120.50058', '30.714741'], ['120.498169', '30.714323'], ['120.498047', '30.714306'], ['120.496613', '30.714115'], ['120.495422', '30.713957'], ['120.493736', '30.713799'], ['120.492691', '30.71372'], ['120.49131', '30.713642'], ['120.489807', '30.713593'], ['120.487183', '30.713572'], ['120.485443', '30.713629'], ['120.483948', '30.713717'], ['120.482521', '30.713829'], ['120.480843', '30.714003'], ['120.47966', '30.714153'], ['120.478287', '30.714327'], ['120.47699', '30.714558'], ['120.476616', '30.714613'], ['120.476074', '30.714718'], ['120.475914', '30.714754'], ['120.474274', '30.715073'], ['120.472588', '30.715464'], ['120.468445', '30.716602'], ['120.465523', '30.717331'], ['120.464447', '30.7176'], ['120.4636', '30.717773'], ['120.462578', '30.717981'], ['120.461609', '30.718168'], ['120.461128', '30.71826'], ['120.460411', '30.718393'], ['120.459503', '30.718552'], ['120.458313', '30.718729'], ['120.456795', '30.718943'], ['120.456192', '30.719011'], ['120.456047', '30.719027'], ['120.454102', '30.719236'], ['120.453659', '30.71928'], ['120.45269', '30.719379'], ['120.450363', '30.719536'], ['120.449448', '30.719587'], ['120.449104', '30.719601'], ['120.447952', '30.719654'], ['120.446152', '30.71974'], ['120.443474', '30.719965'], ['120.442047', '30.720139'], ['120.44091', '30.720287'], ['120.439232', '30.720516'], ['120.438721', '30.72061'], ['120.436333', '30.721037'], ['120.434692', '30.721367'], ['120.433678', '30.721584'], ['120.433464', '30.721632'], ['120.432121', '30.721949'], ['120.431839', '30.722017'], ['120.430374', '30.722404'], ['120.429993', '30.722509'], ['120.428711', '30.722895'], ['120.425911', '30.723755'], ['120.422722', '30.724905'], ['120.421761', '30.725313'], ['120.42083', '30.725702'], ['120.41819', '30.726835'], ['120.417961', '30.726936'], ['120.415894', '30.727947'], ['120.414337', '30.728758'], ['120.413681', '30.729103'], ['120.411232', '30.730469'], ['120.410156', '30.731155'], ['120.408562', '30.732166'], ['120.406647', '30.733387'], ['120.405006', '30.73444'], ['120.403519', '30.735418'], ['120.401848', '30.73654'], ['120.401848', '30.73654'], ['120.400948', '30.737295'], ['120.400887', '30.73736'], ['120.400803', '30.737457'], ['120.400749', '30.737535'], ['120.400658', '30.737692'], ['120.40062', '30.737782'], ['120.400597', '30.737877'], ['120.400581', '30.737978'], ['120.400566', '30.738129'], ['120.400589', '30.738237'], ['120.400589', '30.738289'], ['120.400635', '30.738441'], ['120.400711', '30.738588'], ['120.40078', '30.738689'], ['120.400887', '30.738806'], ['120.40107', '30.738945'], ['120.401199', '30.739021'], ['120.401344', '30.739088'], ['120.401634', '30.739199'], ['120.401932', '30.739244'], ['120.402145', '30.739271'], ['120.402534', '30.739288'], ['120.402901', '30.739275'], ['120.403496', '30.739241'], ['120.403839', '30.739206'], ['120.404739', '30.739115'], ['120.405052', '30.739094'], ['120.405052', '30.739094'], ['120.40551', '30.739067'], ['120.405891', '30.739058'], ['120.409111', '30.738832'], ['120.409363', '30.738819'], ['120.409805', '30.738806'], ['120.409897', '30.73889'], ['120.409897', '30.739132'], ['120.409874', '30.739553'], ['120.409859', '30.739744'], ['120.409813', '30.740286'], ['120.409592', '30.743055'], ['120.409439', '30.744617'], ['120.40934', '30.746012'], ['120.409279', '30.746672'], ['120.409271', '30.746876'], ['120.409203', '30.747822'], ['120.40905', '30.749762'], ['120.408951', '30.750729'], ['120.40889', '30.751316'], ['120.408798', '30.752178'], ['120.408783', '30.752331'], ['120.408775', '30.752636'], ['120.40873', '30.753229'], ['120.408714', '30.753529'], ['120.408714', '30.753984'], ['120.408783', '30.754353'], ['120.408875', '30.754608'], ['120.408936', '30.75474'], ['120.409096', '30.755013'], ['120.409439', '30.75539'], ['120.409706', '30.755642'], ['120.410156', '30.756046'], ['120.411217', '30.757023'], ['120.412354', '30.758038'], ['120.413383', '30.758984'], ['120.415108', '30.760546'], ['120.416039', '30.761402'], ['120.416389', '30.761721'], ['120.417191', '30.762409'], ['120.417488', '30.762691'], ['120.417938', '30.763203'], ['120.418098', '30.763456'], ['120.418213', '30.763641'], ['120.418465', '30.764145'], ['120.418648', '30.764582'], ['120.419411', '30.76623'], ['120.41983', '30.767145'], ['120.420837', '30.769344'], ['120.421005', '30.769722'], ['120.421074', '30.769896'], ['120.421494', '30.771284'], ['120.421944', '30.772705'], ['120.422462', '30.774376'], ['120.422577', '30.774773'], ['120.422623', '30.775026'], ['120.422668', '30.775499'], ['120.422668', '30.775738'], ['120.42263', '30.77603'], ['120.422592', '30.776234'], ['120.422516', '30.776506'], ['120.422401', '30.776779'], ['120.422157', '30.777309'], ['120.421242', '30.779158'], ['120.421066', '30.779566'], ['120.420975', '30.779818'], ['120.420914', '30.780077'], ['120.420883', '30.780304'], ['120.420845', '30.780756'], ['120.420807', '30.78116'], ['120.420723', '30.783689'], ['120.420723', '30.783693'], ['120.420677', '30.784945'], ['120.42067', '30.785456'], ['120.420708', '30.785885'], ['120.420761', '30.786171'], ['120.420837', '30.786421'], ['120.420914', '30.786663'], ['120.421028', '30.786932'], ['120.421165', '30.787182'], ['120.421638', '30.787924'], ['120.421852', '30.788229'], ['120.422012', '30.788437'], ['120.423096', '30.789917'], ['120.423988', '30.791124'], ['120.425194', '30.792782'], ['120.42659', '30.794676'], ['120.426735', '30.794882'], ['120.427147', '30.79545'], ['120.427307', '30.795715'], ['120.427513', '30.796164'], ['120.427628', '30.796497'], ['120.427727', '30.796904'], ['120.427757', '30.797144'], ['120.427773', '30.797474'], ['120.427742', '30.797951'], ['120.427689', '30.798233'], ['120.427399', '30.799498'], ['120.427147', '30.800543'], ['120.426994', '30.801155'], ['120.426758', '30.802197'], ['120.426308', '30.804111'], ['120.426216', '30.804514'], ['120.425941', '30.805664'], ['120.425919', '30.805719'], ['120.425621', '30.807039'], ['120.425575', '30.807226'], ['120.425446', '30.807692'], ['120.42527', '30.808556'], ['120.42514', '30.809422'], ['120.425102', '30.809818'], ['120.425095', '30.810383'], ['120.425117', '30.81185'], ['120.42514', '30.813465'], ['120.425148', '30.815409'], ['120.425125', '30.815725'], ['120.425064', '30.816206'], ['120.425003', '30.816648'], ['120.424606', '30.819527'], ['120.4244', '30.820959'], ['120.424347', '30.82147'], ['120.424126', '30.822681'], ['120.424065', '30.822924'], ['120.423958', '30.823215'], ['120.423737', '30.823721'], ['120.423019', '30.825209'], ['120.422691', '30.825897'], ['120.422485', '30.826302'], ['120.421906', '30.827526'], ['120.421852', '30.827635'], ['120.421265', '30.828876'], ['120.421074', '30.829298'], ['120.420853', '30.829863'], ['120.4207', '30.830299'], ['120.420433', '30.831188'], ['120.420311', '30.83164'], ['120.419624', '30.834084'], ['120.419464', '30.834641'], ['120.419456', '30.834686'], ['120.419395', '30.83489'], ['120.419121', '30.835884'], ['120.418793', '30.837095'], ['120.418579', '30.83787'], ['120.418488', '30.838211'], ['120.418472', '30.838261'], ['120.418373', '30.838619'], ['120.418327', '30.83882'], ['120.418152', '30.839476'], ['120.418068', '30.839754'], ['120.417526', '30.841658'], ['120.417313', '30.842369'], ['120.417297', '30.842426'], ['120.416801', '30.844223'], ['120.416649', '30.844801'], ['120.416435', '30.845655'], ['120.416412', '30.845707'], ['120.415794', '30.847847'], ['120.415558', '30.848694'], ['120.415504', '30.848845'], ['120.415283', '30.849609'], ['120.415131', '30.850147'], ['120.414948', '30.850752'], ['120.414726', '30.851534'], ['120.414482', '30.852331'], ['120.414391', '30.852547'], ['120.414169', '30.852982'], ['120.414154', '30.85302'], ['120.414116', '30.853077'], ['120.413841', '30.853559'], ['120.413185', '30.854527'], ['120.413162', '30.854553'], ['120.413116', '30.854622'], ['120.412971', '30.854839'], ['120.411545', '30.856922'], ['120.411522', '30.856966'], ['120.411446', '30.857096'], ['120.411354', '30.857304'], ['120.411217', '30.85766'], ['120.411064', '30.858047'], ['120.410774', '30.858829'], ['120.410606', '30.859289'], ['120.410156', '30.860512'], ['120.410126', '30.860596'], ['120.410042', '30.860802'], ['120.409752', '30.861607'], ['120.409477', '30.862328'], ['120.409203', '30.863083'], ['120.409126', '30.86327'], ['120.408928', '30.863857'], ['120.408905', '30.86392'], ['120.408287', '30.865551'], ['120.407997', '30.866302'], ['120.407646', '30.86729'], ['120.407219', '30.868484'], ['120.406776', '30.869644'], ['120.406387', '30.870724'], ['120.406372', '30.870777'], ['120.406075', '30.87158'], ['120.405602', '30.872808'], ['120.405334', '30.873533'], ['120.405182', '30.873941'], ['120.405159', '30.874035'], ['120.405144', '30.87417'], ['120.40519', '30.87438'], ['120.405251', '30.874504'], ['120.405327', '30.874605'], ['120.405502', '30.874777'], ['120.406105', '30.875242'], ['120.406242', '30.875328'], ['120.406586', '30.875465'], ['120.406906', '30.875578'], ['120.407112', '30.875687'], ['120.407707', '30.87586'], ['120.408356', '30.876055'], ['120.409149', '30.87628'], ['120.410156', '30.876558'], ['120.411438', '30.876917'], ['120.412491', '30.877209'], ['120.413216', '30.877432'], ['120.41394', '30.877714'], ['120.414436', '30.877924'], ['120.414986', '30.878202'], ['120.415771', '30.878689'], ['120.418037', '30.880274'], ['120.418388', '30.880533'], ['120.419304', '30.881197'], ['120.42054', '30.882076'], ['120.420891', '30.882318'], ['120.421158', '30.882517'], ['120.421227', '30.882565'], ['120.421333', '30.882645'], ['120.421371', '30.88266'], ['120.422127', '30.8832'], ['120.422592', '30.883493'], ['120.423012', '30.88372'], ['120.423225', '30.883806'], ['120.423691', '30.883942'], ['120.424393', '30.884081'], ['120.425896', '30.884331'], ['120.426216', '30.884384'], ['120.426575', '30.884445'], ['120.426552', '30.884541'], ['120.426224', '30.885637'], ['120.426224', '30.885637'], ['120.425858', '30.885834'], ['120.425674', '30.885952'], ['120.425598', '30.886011'], ['120.425484', '30.886202'], ['120.425392', '30.886467'], ['120.425392', '30.886467'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>