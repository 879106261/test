<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.57943', '30.612961'], ['120.579468', '30.612469'], ['120.579483', '30.612278'], ['120.579857', '30.612305'], ['120.580124', '30.612341'], ['120.580269', '30.61245'], ['120.580193', '30.612909'], ['120.580132', '30.613283'], ['120.580055', '30.613499'], ['120.580002', '30.613588'], ['120.579803', '30.613758'], ['120.579803', '30.613758'], ['120.579628', '30.613979'], ['120.57959', '30.614048'], ['120.579544', '30.614317'], ['120.579597', '30.61451'], ['120.579636', '30.614691'], ['120.579681', '30.614986'], ['120.579712', '30.615383'], ['120.579735', '30.615755'], ['120.579735', '30.615911'], ['120.579742', '30.616299'], ['120.579735', '30.6171'], ['120.579742', '30.617205'], ['120.579727', '30.618893'], ['120.579735', '30.619413'], ['120.579735', '30.620419'], ['120.579735', '30.620543'], ['120.579727', '30.621672'], ['120.579727', '30.621798'], ['120.579712', '30.623411'], ['120.579712', '30.626284'], ['120.579712', '30.62776'], ['120.579712', '30.628794'], ['120.579567', '30.628876'], ['120.579033', '30.628872'], ['120.578163', '30.628839'], ['120.577202', '30.628824'], ['120.575645', '30.628784'], ['120.575508', '30.628784'], ['120.575363', '30.62878'], ['120.573875', '30.628756'], ['120.573601', '30.628752'], ['120.57235', '30.628729'], ['120.571594', '30.628729'], ['120.571594', '30.628729'], ['120.571243', '30.628849'], ['120.571121', '30.628939'], ['120.571014', '30.629089'], ['120.570847', '30.629362'], ['120.570816', '30.629618'], ['120.570793', '30.629883'], ['120.570702', '30.630829'], ['120.570679', '30.63106'], ['120.57058', '30.632027'], ['120.570526', '30.632555'], ['120.570435', '30.632959'], ['120.570305', '30.633284'], ['120.570198', '30.633467'], ['120.570038', '30.633688'], ['120.569847', '30.633924'], ['120.569138', '30.634758'], ['120.568161', '30.635864'], ['120.567192', '30.636984'], ['120.566925', '30.637295'], ['120.56559', '30.63891'], ['120.56543', '30.639116'], ['120.564957', '30.639709'], ['120.564888', '30.639805'], ['120.564377', '30.640812'], ['120.564339', '30.640869'], ['120.564011', '30.641626'], ['120.563965', '30.641716'], ['120.563759', '30.642118'], ['120.563736', '30.642181'], ['120.563545', '30.642578'], ['120.563034', '30.643845'], ['120.562668', '30.644676'], ['120.562393', '30.645391'], ['120.562042', '30.646284'], ['120.561935', '30.646645'], ['120.561867', '30.647005'], ['120.561829', '30.647314'], ['120.561737', '30.648256'], ['120.561615', '30.649578'], ['120.561501', '30.650707'], ['120.561378', '30.651854'], ['120.561272', '30.652874'], ['120.561241', '30.653307'], ['120.561119', '30.654467'], ['120.561073', '30.654657'], ['120.561043', '30.654739'], ['120.559441', '30.657331'], ['120.558899', '30.658211'], ['120.55883', '30.658306'], ['120.557808', '30.659927'], ['120.557472', '30.660452'], ['120.557121', '30.661034'], ['120.55661', '30.661793'], ['120.555931', '30.662838'], ['120.555008', '30.664257'], ['120.554932', '30.664362'], ['120.554436', '30.665123'], ['120.553528', '30.666502'], ['120.55143', '30.669653'], ['120.55101', '30.670273'], ['120.550934', '30.670387'], ['120.550629', '30.67082'], ['120.550125', '30.671524'], ['120.550072', '30.671589'], ['120.549179', '30.672737'], ['120.548363', '30.673828'], ['120.54821', '30.674026'], ['120.547546', '30.674995'], ['120.547066', '30.675678'], ['120.545952', '30.677378'], ['120.54541', '30.678265'], ['120.545372', '30.678337'], ['120.544579', '30.679558'], ['120.541992', '30.683607'], ['120.541237', '30.684778'], ['120.541214', '30.684813'], ['120.538834', '30.688538'], ['120.538246', '30.689518'], ['120.537636', '30.690634'], ['120.537582', '30.690746'], ['120.537041', '30.691767'], ['120.53688', '30.692108'], ['120.536362', '30.693247'], ['120.536095', '30.693884'], ['120.535522', '30.695442'], ['120.535385', '30.695797'], ['120.535248', '30.696224'], ['120.535004', '30.697048'], ['120.534767', '30.69796'], ['120.5345', '30.699072'], ['120.533417', '30.704523'], ['120.532974', '30.706785'], ['120.532509', '30.709213'], ['120.532257', '30.710413'], ['120.532211', '30.710625'], ['120.532188', '30.710737'], ['120.532036', '30.711462'], ['120.531799', '30.712408'], ['120.531563', '30.713234'], ['120.53112', '30.714582'], ['120.530495', '30.716238'], ['120.529991', '30.717527'], ['120.529892', '30.717773'], ['120.52935', '30.719149'], ['120.528748', '30.720615'], ['120.528282', '30.721823'], ['120.527725', '30.723383'], ['120.52739', '30.724358'], ['120.527008', '30.725586'], ['120.526772', '30.726334'], ['120.526459', '30.727468'], ['120.52623', '30.728338'], ['120.526131', '30.728758'], ['120.526108', '30.728863'], ['120.525375', '30.731897'], ['120.52533', '30.732132'], ['120.5252', '30.7327'], ['120.525177', '30.732826'], ['120.525017', '30.733465'], ['120.524979', '30.73365'], ['120.524887', '30.733929'], ['120.52475', '30.734552'], ['120.523926', '30.737965'], ['120.523514', '30.739744'], ['120.522446', '30.744202'], ['120.521881', '30.746529'], ['120.521629', '30.747673'], ['120.520981', '30.750299'], ['120.520882', '30.750729'], ['120.520851', '30.750875'], ['120.520737', '30.751347'], ['120.520195', '30.753672'], ['120.52002', '30.7544'], ['120.519745', '30.755583'], ['120.519264', '30.757561'], ['120.519073', '30.758265'], ['120.518913', '30.75878'], ['120.518585', '30.75968'], ['120.518181', '30.760578'], ['120.517975', '30.760981'], ['120.517723', '30.761402'], ['120.517517', '30.761721'], ['120.51741', '30.761889'], ['120.516899', '30.762617'], ['120.516586', '30.763004'], ['120.51593', '30.763752'], ['120.515236', '30.764418'], ['120.514839', '30.764769'], ['120.514587', '30.764973'], ['120.514069', '30.765387'], ['120.512497', '30.766567'], ['120.510933', '30.767746'], ['120.510567', '30.768047'], ['120.510223', '30.768351'], ['120.509689', '30.768881'], ['120.509346', '30.769253'], ['120.508942', '30.769712'], ['120.508705', '30.769987'], ['120.507797', '30.771189'], ['120.507355', '30.77178'], ['120.507355', '30.77178'], ['120.506859', '30.772369'], ['120.506584', '30.772705'], ['120.505371', '30.774172'], ['120.504372', '30.775377'], ['120.504105', '30.775774'], ['120.503502', '30.776649'], ['120.503036', '30.777369'], ['120.502678', '30.777987'], ['120.502007', '30.77927'], ['120.501633', '30.780077'], ['120.501137', '30.781366'], ['120.50071', '30.782696'], ['120.500549', '30.783255'], ['120.50045', '30.783689'], ['120.500267', '30.784527'], ['120.500175', '30.785053'], ['120.500069', '30.785774'], ['120.500008', '30.786371'], ['120.499931', '30.787569'], ['120.499908', '30.788593'], ['120.499962', '30.789667'], ['120.5', '30.790152'], ['120.500038', '30.790583'], ['120.500122', '30.791243'], ['120.500259', '30.792063'], ['120.500374', '30.792587'], ['120.500542', '30.793329'], ['120.50071', '30.793966'], ['120.500908', '30.794605'], ['120.500923', '30.794676'], ['120.501305', '30.795811'], ['120.501335', '30.795893'], ['120.502403', '30.79911'], ['120.502518', '30.799505'], ['120.502678', '30.800131'], ['120.50296', '30.801311'], ['120.503197', '30.802517'], ['120.503326', '30.803265'], ['120.503433', '30.803997'], ['120.503532', '30.804857'], ['120.503601', '30.805664'], ['120.503624', '30.805939'], ['120.503654', '30.806488'], ['120.503716', '30.807154'], ['120.503815', '30.808584'], ['120.50399', '30.811329'], ['120.504074', '30.813374'], ['120.504105', '30.814289'], ['120.504166', '30.815264'], ['120.504265', '30.816275'], ['120.504326', '30.816648'], ['120.504372', '30.817013'], ['120.504478', '30.818169'], ['120.504562', '30.818775'], ['120.504791', '30.821541'], ['120.504837', '30.82198'], ['120.505127', '30.825773'], ['120.505188', '30.827131'], ['120.505188', '30.827635'], ['120.505188', '30.828407'], ['120.505157', '30.829367'], ['120.505112', '30.830109'], ['120.50502', '30.831072'], ['120.504906', '30.832067'], ['120.504372', '30.835791'], ['120.504059', '30.838024'], ['120.50399', '30.838619'], ['120.503899', '30.839222'], ['120.503891', '30.839298'], ['120.503777', '30.840231'], ['120.503761', '30.840504'], ['120.503723', '30.841415'], ['120.503731', '30.842022'], ['120.503822', '30.843229'], ['120.503883', '30.843712'], ['120.503967', '30.844193'], ['120.504036', '30.844618'], ['120.50415', '30.845156'], ['120.504372', '30.846062'], ['120.505112', '30.848921'], ['120.50528', '30.849609'], ['120.505348', '30.849899'], ['120.505508', '30.85066'], ['120.505692', '30.851635'], ['120.505775', '30.852322'], ['120.505852', '30.85309'], ['120.505882', '30.853624'], ['120.50589', '30.854158'], ['120.505882', '30.854696'], ['120.505836', '30.855742'], ['120.505775', '30.856375'], ['120.505707', '30.856939'], ['120.505508', '30.858034'], ['120.505447', '30.85832'], ['120.50528', '30.859032'], ['120.505013', '30.859945'], ['120.504791', '30.860596'], ['120.504753', '30.860682'], ['120.504379', '30.861618'], ['120.504005', '30.862427'], ['120.503487', '30.863441'], ['120.503235', '30.863871'], ['120.502724', '30.864683'], ['120.502434', '30.865105'], ['120.501648', '30.866198'], ['120.500687', '30.867439'], ['120.498756', '30.870028'], ['120.498444', '30.870451'], ['120.498047', '30.871059'], ['120.498009', '30.87112'], ['120.497719', '30.87158'], ['120.497597', '30.871758'], ['120.496979', '30.872801'], ['120.496597', '30.873461'], ['120.496193', '30.874197'], ['120.495819', '30.874945'], ['120.495377', '30.87587'], ['120.494736', '30.877354'], ['120.494026', '30.879303'], ['120.493736', '30.880182'], ['120.493317', '30.881716'], ['120.493111', '30.882565'], ['120.493103', '30.882608'], ['120.492943', '30.883364'], ['120.492783', '30.884218'], ['120.492645', '30.885054'], ['120.492447', '30.886736'], ['120.492393', '30.887304'], ['120.492355', '30.887817'], ['120.49221', '30.891155'], ['120.492188', '30.891745'], ['120.492134', '30.892704'], ['120.491989', '30.892765'], ['120.490707', '30.892729'], ['120.490608', '30.892704'], ['120.488899', '30.892738'], ['120.488487', '30.892742'], ['120.486641', '30.892773'], ['120.485825', '30.892786'], ['120.485039', '30.892773'], ['120.484375', '30.892742'], ['120.483543', '30.892696'], ['120.482918', '30.892639'], ['120.481941', '30.892523'], ['120.481079', '30.892408'], ['120.48037', '30.892286'], ['120.479797', '30.892172'], ['120.478935', '30.891987'], ['120.47831', '30.891817'], ['120.477402', '30.891558'], ['120.476524', '30.891293'], ['120.476074', '30.891151'], ['120.474968', '30.890791'], ['120.474174', '30.890533'], ['120.473183', '30.890205'], ['120.470871', '30.889444'], ['120.46727', '30.88825'], ['120.464409', '30.887314'], ['120.463264', '30.886927'], ['120.462845', '30.886784'], ['120.461937', '30.886494'], ['120.461227', '30.886267'], ['120.460953', '30.886189'], ['120.460953', '30.886189'], ['120.460709', '30.886454'], ['120.460266', '30.886995'], ['120.460083', '30.887253'], ['120.459717', '30.887823'], ['120.459572', '30.888098'], ['120.459435', '30.888407'], ['120.459167', '30.889124'], ['120.458466', '30.89142'], ['120.458107', '30.892569'], ['120.457802', '30.893555'], ['120.457802', '30.89356'], ['120.45771', '30.89382'], ['120.45771', '30.89382'], ['120.45768', '30.893555'], ['120.457672', '30.893534'], ['120.45784', '30.892929'], ['120.458099', '30.892113'], ['120.45816', '30.891867'], ['120.458176', '30.891762'], ['120.458176', '30.891703'], ['120.458092', '30.891439'], ['120.458092', '30.891439'], ['120.457268', '30.89106'], ['120.456009', '30.890491'], ['120.45475', '30.889936'], ['120.454681', '30.88991'], ['120.454102', '30.889654'], ['120.45369', '30.889467'], ['120.451653', '30.888588'], ['120.451073', '30.888351'], ['120.450874', '30.888264'], ['120.450516', '30.888111'], ['120.449562', '30.887722'], ['120.448792', '30.887386'], ['120.447502', '30.886858'], ['120.446167', '30.88632'], ['120.446053', '30.886271'], ['120.445656', '30.88611'], ['120.445259', '30.885973'], ['120.444092', '30.885647'], ['120.4431', '30.885515'], ['120.442245', '30.885469'], ['120.441582', '30.885469'], ['120.440781', '30.885508'], ['120.439201', '30.885582'], ['120.439201', '30.885582'], ['120.438171', '30.88562'], ['120.437469', '30.88563'], ['120.436523', '30.88566'], ['120.435783', '30.885683'], ['120.4356', '30.885689'], ['120.435242', '30.885689'], ['120.434784', '30.885683'], ['120.434235', '30.885656'], ['120.433266', '30.885592'], ['120.432121', '30.885464'], ['120.431938', '30.885433'], ['120.431313', '30.885338'], ['120.430634', '30.885227'], ['120.42984', '30.885092'], ['120.428604', '30.884882'], ['120.428169', '30.884813'], ['120.427147', '30.884644'], ['120.426552', '30.884541'], ['120.426193', '30.884489'], ['120.425873', '30.884426'], ['120.425087', '30.884298'], ['120.424355', '30.884171'], ['120.424355', '30.884171'], ['120.423958', '30.885134'], ['120.423897', '30.885342'], ['120.423737', '30.88628'], ['120.423737', '30.88628'], ['120.424576', '30.886362'], ['120.424576', '30.886362'], ['120.424561', '30.886471'], ['120.424286', '30.887852']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>