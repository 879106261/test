<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['114.367828', '36.38562'], ['114.367805', '36.38546'], ['114.367805', '36.38546'], ['114.368507', '36.385365'], ['114.369354', '36.385246'], ['114.369606', '36.385208'], ['114.372078', '36.384857'], ['114.372154', '36.384846'], ['114.372101', '36.385578'], ['114.372017', '36.386719'], ['114.371971', '36.387249'], ['114.371857', '36.388866'], ['114.371719', '36.390965'], ['114.371719', '36.390965'], ['114.371788', '36.39109'], ['114.371849', '36.391148'], ['114.371948', '36.391201'], ['114.372124', '36.391239'], ['114.381111', '36.390347'], ['114.382065', '36.390251'], ['114.382118', '36.390339'], ['114.382202', '36.391029'], ['114.382584', '36.393963'], ['114.382584', '36.394024'], ['114.382927', '36.397446'], ['114.38295', '36.397705'], ['114.383011', '36.398476'], ['114.383148', '36.399651'], ['114.383415', '36.402054'], ['114.383591', '36.403652'], ['114.383743', '36.405136'], ['114.383957', '36.407448'], ['114.384079', '36.408688'], ['114.384117', '36.409126'], ['114.384277', '36.410763'], ['114.384331', '36.411079'], ['114.384499', '36.412113'], ['114.384499', '36.412113'], ['114.384644', '36.412281'], ['114.38475', '36.412357'], ['114.384872', '36.412426'], ['114.385201', '36.41254'], ['114.386818', '36.412346'], ['114.389641', '36.411991'], ['114.390999', '36.411827'], ['114.393082', '36.411572'], ['114.393456', '36.41153'], ['114.393806', '36.41153'], ['114.394798', '36.411545'], ['114.394943', '36.411652'], ['114.395241', '36.414722'], ['114.395447', '36.416897'], ['114.395683', '36.419674'], ['114.396057', '36.424057'], ['114.396225', '36.426033'], ['114.396393', '36.427898'], ['114.396614', '36.430241'], ['114.396637', '36.430599'], ['114.396637', '36.430664'], ['114.396736', '36.432213'], ['114.396851', '36.433968'], ['114.396996', '36.436165'], ['114.397003', '36.436832'], ['114.397034', '36.437763'], ['114.396919', '36.43943'], ['114.396851', '36.44035'], ['114.396767', '36.44165'], ['114.39666', '36.443176'], ['114.396454', '36.446354'], ['114.396454', '36.446354'], ['114.396523', '36.447517'], ['114.396515', '36.447834'], ['114.396439', '36.448284'], ['114.396347', '36.448719'], ['114.396088', '36.449528'], ['114.395775', '36.450199'], ['114.395042', '36.45158'], ['114.394753', '36.452248'], ['114.394646', '36.452614'], ['114.394638', '36.452637'], ['114.394608', '36.452785'], ['114.394485', '36.453644'], ['114.394432', '36.454723'], ['114.394455', '36.455364'], ['114.394516', '36.457005'], ['114.394524', '36.457062'], ['114.394539', '36.460445'], ['114.394554', '36.460964'], ['114.394562', '36.462502'], ['114.394554', '36.463619'], ['114.394554', '36.464489'], ['114.394554', '36.46468'], ['114.394623', '36.467888'], ['114.394623', '36.467972'], ['114.394608', '36.469376'], ['114.394608', '36.469433'], ['114.394592', '36.469982'], ['114.394615', '36.470707'], ['114.39463', '36.471893'], ['114.394623', '36.472'], ['114.394623', '36.472366'], ['114.394623', '36.472748'], ['114.394608', '36.473045'], ['114.394569', '36.473316'], ['114.394485', '36.473671'], ['114.394424', '36.473942'], ['114.394287', '36.474331'], ['114.39418', '36.474586'], ['114.394173', '36.474609'], ['114.393913', '36.475063'], ['114.393707', '36.475372'], ['114.393539', '36.475605'], ['114.393112', '36.476089'], ['114.39286', '36.476326'], ['114.392632', '36.476521'], ['114.392334', '36.476742'], ['114.392059', '36.476917'], ['114.391579', '36.477215'], ['114.390808', '36.477634'], ['114.389641', '36.478271'], ['114.389313', '36.478474'], ['114.388954', '36.478737'], ['114.388588', '36.479023'], ['114.388359', '36.479218'], ['114.388046', '36.47953'], ['114.387772', '36.479832'], ['114.387581', '36.480061'], ['114.387367', '36.480354'], ['114.387161', '36.480686'], ['114.387032', '36.480934'], ['114.386879', '36.481232'], ['114.386726', '36.481598'], ['114.386642', '36.481876'], ['114.386497', '36.482487'], ['114.386452', '36.482807'], ['114.386429', '36.483212'], ['114.386421', '36.484783'], ['114.386436', '36.485596'], ['114.386444', '36.486141'], ['114.386497', '36.487328'], ['114.386673', '36.48822'], ['114.386787', '36.488598'], ['114.386948', '36.488983'], ['114.387131', '36.48938'], ['114.387344', '36.489807'], ['114.387749', '36.490494'], ['114.388016', '36.490868'], ['114.388519', '36.491467'], ['114.389091', '36.492054'], ['114.389435', '36.492352'], ['114.389641', '36.492531'], ['114.389832', '36.49268'], ['114.39032', '36.493031'], ['114.390747', '36.49332'], ['114.391129', '36.493542'], ['114.391609', '36.493801'], ['114.392006', '36.493992'], ['114.392517', '36.494213'], ['114.392967', '36.494392'], ['114.393326', '36.494514'], ['114.393501', '36.494572'], ['114.393768', '36.494648'], ['114.39463', '36.494869'], ['114.395279', '36.495003'], ['114.401367', '36.496197'], ['114.403305', '36.496578'], ['114.408661', '36.497631'], ['114.411621', '36.498215'], ['114.420372', '36.499931'], ['114.421913', '36.500237'], ['114.424294', '36.500698'], ['114.42701', '36.501225'], ['114.42775', '36.501381'], ['114.42823', '36.501499'], ['114.428658', '36.501625'], ['114.429039', '36.501762'], ['114.429375', '36.501904'], ['114.429741', '36.502075'], ['114.430115', '36.502281'], ['114.43042', '36.502464'], ['114.43074', '36.502689'], ['114.431068', '36.502937'], ['114.431351', '36.503178'], ['114.431557', '36.503384'], ['114.431984', '36.50388'], ['114.432259', '36.504257'], ['114.432404', '36.504486'], ['114.432747', '36.505165'], ['114.432869', '36.505447'], ['114.432961', '36.505699'], ['114.43351', '36.507565'], ['114.43351', '36.507591'], ['114.433594', '36.507874'], ['114.434059', '36.509499'], ['114.434189', '36.509964'], ['114.434052', '36.509945'], ['114.433998', '36.509769']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>