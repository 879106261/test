<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.644714', '31.393694'], ['120.644806', '31.393702'], ['120.644958', '31.393789'], ['120.644958', '31.393789'], ['120.644821', '31.392946'], ['120.644684', '31.392244'], ['120.644402', '31.390646'], ['120.644241', '31.389671'], ['120.644356', '31.389648'], ['120.644623', '31.391125'], ['120.644783', '31.392014'], ['120.644943', '31.39292'], ['120.645096', '31.393766'], ['120.64537', '31.395409'], ['120.645386', '31.3955'], ['120.645775', '31.397665'], ['120.645859', '31.398125'], ['120.645988', '31.398924'], ['120.646149', '31.399818'], ['120.646347', '31.401043'], ['120.646355', '31.401133'], ['120.646362', '31.403488'], ['120.646347', '31.405077'], ['120.646332', '31.406244'], ['120.646309', '31.407495'], ['120.646309', '31.40806'], ['120.646301', '31.40868'], ['120.646294', '31.40888'], ['120.646294', '31.409452'], ['120.64621', '31.409836'], ['120.646065', '31.409882'], ['120.646065', '31.409882'], ['120.646011', '31.409908'], ['120.645958', '31.409935'], ['120.645088', '31.410204'], ['120.643265', '31.410765'], ['120.642624', '31.410933'], ['120.641472', '31.411156'], ['120.641212', '31.411106'], ['120.640823', '31.41116'], ['120.640442', '31.411194'], ['120.640205', '31.411207'], ['120.639664', '31.411215'], ['120.638908', '31.411201'], ['120.63578', '31.411129'], ['120.633545', '31.411066'], ['120.631859', '31.411034'], ['120.629883', '31.41098'], ['120.629189', '31.410973'], ['120.628815', '31.410969'], ['120.628143', '31.410955'], ['120.626305', '31.41099'], ['120.625717', '31.411003'], ['120.624496', '31.411016'], ['120.622055', '31.41099'], ['120.621117', '31.411047'], ['120.620491', '31.411125'], ['120.619759', '31.411242'], ['120.612541', '31.412535'], ['120.611641', '31.412701'], ['120.609146', '31.413111'], ['120.608734', '31.413164'], ['120.60791', '31.413269'], ['120.607819', '31.413279'], ['120.606377', '31.413406'], ['120.605972', '31.413446'], ['120.605659', '31.413471'], ['120.604599', '31.413534'], ['120.603485', '31.41357'], ['120.60218', '31.41358'], ['120.600632', '31.413548'], ['120.598923', '31.413456'], ['120.597404', '31.413321'], ['120.596832', '31.413273'], ['120.593925', '31.412977'], ['120.590576', '31.41264'], ['120.587662', '31.412344'], ['120.585938', '31.41217'], ['120.584747', '31.412045'], ['120.583923', '31.411966'], ['120.583511', '31.411922'], ['120.582817', '31.411854'], ['120.582542', '31.411821'], ['120.581734', '31.411749'], ['120.580925', '31.41168'], ['120.580826', '31.411671'], ['120.579239', '31.411516'], ['120.577621', '31.411333'], ['120.577232', '31.411293'], ['120.575157', '31.411079'], ['120.573486', '31.410912'], ['120.569939', '31.410561'], ['120.568016', '31.410374'], ['120.567467', '31.410337'], ['120.566734', '31.410334'], ['120.566429', '31.410343'], ['120.565926', '31.410374'], ['120.565414', '31.410425'], ['120.564903', '31.4105'], ['120.564125', '31.410656'], ['120.563965', '31.410698'], ['120.563416', '31.410851'], ['120.560738', '31.41164'], ['120.559967', '31.411854'], ['120.553665', '31.413742'], ['120.553139', '31.413898'], ['120.55175', '31.414293'], ['120.550949', '31.414549'], ['120.550667', '31.414635'], ['120.549812', '31.41489'], ['120.548126', '31.4154'], ['120.547813', '31.415491'], ['120.547394', '31.415611'], ['120.546074', '31.416012'], ['120.544998', '31.416315'], ['120.544571', '31.41643'], ['120.543983', '31.41655'], ['120.543343', '31.416672'], ['120.542732', '31.416748'], ['120.542152', '31.416809'], ['120.541992', '31.416819'], ['120.541367', '31.416845'], ['120.540878', '31.416859'], ['120.538979', '31.416822'], ['120.538383', '31.416809'], ['120.532974', '31.416685'], ['120.531883', '31.416653'], ['120.531708', '31.416649'], ['120.529617', '31.416594'], ['120.524078', '31.416452'], ['120.522408', '31.41641'], ['120.520943', '31.416384'], ['120.52002', '31.416363'], ['120.518318', '31.416338'], ['120.51638', '31.416353'], ['120.513512', '31.416435'], ['120.511375', '31.416502'], ['120.504761', '31.416698'], ['120.504539', '31.416706'], ['120.504425', '31.416706'], ['120.498047', '31.416904'], ['120.496597', '31.416948'], ['120.496002', '31.416967'], ['120.493469', '31.41704'], ['120.491585', '31.417095'], ['120.490189', '31.417162'], ['120.489456', '31.417217'], ['120.488823', '31.417292'], ['120.488121', '31.417391'], ['120.487259', '31.417547'], ['120.486588', '31.417686'], ['120.485886', '31.417864'], ['120.484192', '31.418364'], ['120.483673', '31.418547'], ['120.483238', '31.418724'], ['120.482628', '31.418985'], ['120.482056', '31.419271'], ['120.481148', '31.419744'], ['120.480568', '31.420065'], ['120.480026', '31.420391'], ['120.479439', '31.420773'], ['120.479256', '31.420898'], ['120.478996', '31.42108'], ['120.478485', '31.421453'], ['120.477913', '31.421923'], ['120.477806', '31.422005'], ['120.47744', '31.422331'], ['120.476944', '31.422787'], ['120.476524', '31.423201'], ['120.476074', '31.423676'], ['120.476028', '31.423719'], ['120.475182', '31.424654'], ['120.471016', '31.429266'], ['120.469086', '31.431406'], ['120.468674', '31.431885'], ['120.468613', '31.431953'], ['120.468323', '31.432327'], ['120.468048', '31.432713'], ['120.467781', '31.433134'], ['120.467529', '31.433569'], ['120.4673', '31.433998'], ['120.46711', '31.434404'], ['120.466919', '31.434866'], ['120.466743', '31.435324'], ['120.466614', '31.435778'], ['120.466507', '31.436193'], ['120.466423', '31.43664'], ['120.466339', '31.437178'], ['120.466141', '31.43898'], ['120.465843', '31.441885'], ['120.46582', '31.442045'], ['120.465744', '31.442734'], ['120.465736', '31.442869'], ['120.46566', '31.443529'], ['120.465561', '31.444366'], ['120.465431', '31.445499'], ['120.465401', '31.445793'], ['120.465385', '31.445875'], ['120.465324', '31.447136'], ['120.465302', '31.448294'], ['120.46537', '31.449753'], ['120.46537', '31.449753'], ['120.466621', '31.449762'], ['120.467789', '31.449795'], ['120.469109', '31.449896'], ['120.470528', '31.450069'], ['120.471619', '31.450251'], ['120.472885', '31.450504'], ['120.472961', '31.450516'], ['120.474213', '31.450834'], ['120.474838', '31.451015'], ['120.475754', '31.451311'], ['120.476074', '31.451424'], ['120.476479', '31.451563'], ['120.477135', '31.451818'], ['120.482086', '31.453854'], ['120.48275', '31.454124'], ['120.488045', '31.456367'], ['120.491104', '31.457701'], ['120.492081', '31.458147'], ['120.493599', '31.458893'], ['120.494423', '31.459332'], ['120.495323', '31.459831'], ['120.496231', '31.460356'], ['120.497292', '31.46102'], ['120.498047', '31.461519'], ['120.498856', '31.462053'], ['120.498917', '31.462105'], ['120.499237', '31.462326'], ['120.499237', '31.462326'], ['120.5009', '31.463629'], ['120.501816', '31.464384'], ['120.502335', '31.464844'], ['120.502434', '31.464926'], ['120.502731', '31.4652'], ['120.503242', '31.465725'], ['120.503807', '31.466349'], ['120.504425', '31.467171'], ['120.504684', '31.467541'], ['120.504951', '31.467964'], ['120.505241', '31.468466'], ['120.505447', '31.468859'], ['120.505875', '31.469791'], ['120.50605', '31.470278'], ['120.506256', '31.470875'], ['120.506493', '31.471716'], ['120.506561', '31.472136'], ['120.506645', '31.472691'], ['120.506721', '31.473398'], ['120.506737', '31.473862'], ['120.506752', '31.475712'], ['120.506752', '31.475828'], ['120.506767', '31.476648'], ['120.506752', '31.477774'], ['120.506767', '31.481289'], ['120.506775', '31.482178'], ['120.506767', '31.482231'], ['120.506767', '31.485746'], ['120.506767', '31.486206'], ['120.506767', '31.486813'], ['120.506783', '31.487482'], ['120.506783', '31.487535'], ['120.506775', '31.488138'], ['120.506775', '31.488585'], ['120.506767', '31.488676'], ['120.506767', '31.49036'], ['120.506775', '31.492491'], ['120.50679', '31.49345'], ['120.50679', '31.49345'], ['120.506668', '31.493456'], ['120.506668', '31.493073']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>