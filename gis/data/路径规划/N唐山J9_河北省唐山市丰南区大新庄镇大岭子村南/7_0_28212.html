<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.41346', '39.266205'], ['118.415207', '39.26627'], ['118.415718', '39.266304'], ['118.416039', '39.266319'], ['118.416435', '39.266335'], ['118.416542', '39.266338'], ['118.418373', '39.266422'], ['118.420692', '39.266529'], ['118.422852', '39.266628'], ['118.423065', '39.266724'], ['118.423599', '39.267765'], ['118.423744', '39.268085'], ['118.423904', '39.268559'], ['118.423988', '39.268951'], ['118.424072', '39.269413'], ['118.42408', '39.269688'], ['118.424088', '39.27005'], ['118.424057', '39.270721'], ['118.424011', '39.271317'], ['118.423981', '39.271626'], ['118.423965', '39.271812'], ['118.423935', '39.272213'], ['118.423912', '39.272598'], ['118.423866', '39.273243'], ['118.423828', '39.273632'], ['118.423805', '39.274063'], ['118.423798', '39.274246'], ['118.423759', '39.274666'], ['118.423744', '39.274857'], ['118.423737', '39.274952'], ['118.423721', '39.275166'], ['118.423691', '39.275661'], ['118.423668', '39.276119'], ['118.423653', '39.276417'], ['118.423653', '39.276474'], ['118.423584', '39.277184'], ['118.423531', '39.277775'], ['118.423508', '39.278114'], ['118.423485', '39.278431'], ['118.423454', '39.278759'], ['118.423424', '39.279221'], ['118.423393', '39.279617'], ['118.423332', '39.280499'], ['118.423325', '39.280556'], ['118.423256', '39.281532'], ['118.423256', '39.281586'], ['118.423218', '39.281963'], ['118.42321', '39.282227'], ['118.42318', '39.282597'], ['118.423164', '39.282852'], ['118.423149', '39.283161'], ['118.423103', '39.283897'], ['118.423073', '39.284252'], ['118.423065', '39.284397'], ['118.423042', '39.284794'], ['118.423035', '39.284908'], ['118.42289', '39.286839'], ['118.422882', '39.286957'], ['118.422874', '39.287109'], ['118.422806', '39.287884'], ['118.422615', '39.291298'], ['118.422523', '39.292461'], ['118.422501', '39.293026'], ['118.422134', '39.298092'], ['118.421982', '39.300369'], ['118.421913', '39.301147'], ['118.421806', '39.302933'], ['118.421692', '39.304173'], ['118.42141', '39.307995'], ['118.421333', '39.309078'], ['118.421272', '39.310032'], ['118.420959', '39.314178'], ['118.420898', '39.315102'], ['118.420868', '39.315586'], ['118.420853', '39.315773'], ['118.420685', '39.317978'], ['118.420654', '39.318329'], ['118.420593', '39.319267'], ['118.42054', '39.320068'], ['118.420242', '39.324162'], ['118.420158', '39.325542'], ['118.420135', '39.326038'], ['118.420105', '39.326469'], ['118.419998', '39.32745'], ['118.419968', '39.328186'], ['118.419937', '39.328487'], ['118.419914', '39.329079'], ['118.419922', '39.329426'], ['118.419937', '39.3297'], ['118.419983', '39.330059'], ['118.420044', '39.330334'], ['118.420135', '39.330639'], ['118.420242', '39.330956'], ['118.420288', '39.331055'], ['118.420601', '39.331718'], ['118.422073', '39.334579'], ['118.42337', '39.337074'], ['118.423485', '39.337227'], ['118.42366', '39.33757'], ['118.423912', '39.338028'], ['118.42408', '39.338364'], ['118.424622', '39.339436'], ['118.424759', '39.339752'], ['118.424881', '39.340107'], ['118.424988', '39.340469'], ['118.425049', '39.340755'], ['118.425102', '39.341087'], ['118.425117', '39.341358'], ['118.425125', '39.341751'], ['118.425102', '39.342041'], ['118.425064', '39.342346'], ['118.424927', '39.343342'], ['118.424385', '39.34639'], ['118.424118', '39.347729'], ['118.423561', '39.3508'], ['118.423378', '39.351746'], ['118.423218', '39.352406'], ['118.423096', '39.352886'], ['118.42305', '39.353027'], ['118.422935', '39.353413'], ['118.422302', '39.355255'], ['118.422073', '39.355999'], ['118.421753', '39.357143'], ['118.421661', '39.357624'], ['118.421585', '39.358181'], ['118.421532', '39.358643'], ['118.421478', '39.359406'], ['118.42144', '39.360783'], ['118.421425', '39.361462'], ['118.421349', '39.362431'], ['118.421242', '39.363407'], ['118.421135', '39.36401'], ['118.421104', '39.364254'], ['118.420372', '39.368214'], ['118.420082', '39.369942'], ['118.419518', '39.373016'], ['118.419426', '39.373589'], ['118.419388', '39.373791'], ['118.419319', '39.374161'], ['118.419296', '39.374298'], ['118.419167', '39.375'], ['118.419144', '39.375038'], ['118.419106', '39.375305'], ['118.419006', '39.375786'], ['118.418945', '39.375973'], ['118.418762', '39.376438'], ['118.418625', '39.376785'], ['118.418358', '39.377304'], ['118.418175', '39.377583'], ['118.417503', '39.378574'], ['118.417221', '39.378937'], ['118.416595', '39.379715'], ['118.416206', '39.380188'], ['118.415733', '39.380707'], ['118.415466', '39.380974'], ['118.415077', '39.381317'], ['118.414818', '39.381496'], ['118.414581', '39.381649'], ['118.414284', '39.381809'], ['118.413864', '39.382004'], ['118.413544', '39.382126'], ['118.412758', '39.382397'], ['118.412216', '39.382565'], ['118.411034', '39.382889'], ['118.410637', '39.382988'], ['118.409866', '39.383156'], ['118.409233', '39.383255'], ['118.408859', '39.383266'], ['118.408417', '39.383274'], ['118.407867', '39.383244'], ['118.406204', '39.383007'], ['118.40435', '39.382683'], ['118.40287', '39.38245'], ['118.401939', '39.382294'], ['118.40123', '39.382198'], ['118.400826', '39.382168'], ['118.400406', '39.38216'], ['118.400055', '39.382168'], ['118.399673', '39.382198'], ['118.399254', '39.382267'], ['118.398682', '39.382378'], ['118.398178', '39.382507'], ['118.397377', '39.382744'], ['118.396729', '39.382938'], ['118.3965', '39.383018'], ['118.395866', '39.383289'], ['118.394951', '39.383701'], ['118.394348', '39.383995'], ['118.393814', '39.384285'], ['118.393219', '39.384609'], ['118.392799', '39.384872'], ['118.392303', '39.385166'], ['118.390976', '39.385986'], ['118.3909', '39.386032'], ['118.390472', '39.386288'], ['118.388672', '39.38739'], ['118.388062', '39.38776'], ['118.387299', '39.388199'], ['118.386429', '39.388676'], ['118.383301', '39.390285'], ['118.381653', '39.39119'], ['118.381279', '39.391399'], ['118.380417', '39.391926'], ['118.378807', '39.392883'], ['118.378166', '39.393265'], ['118.377495', '39.393658'], ['118.375534', '39.394859'], ['118.374565', '39.395458'], ['118.374008', '39.395809'], ['118.373672', '39.396042'], ['118.373215', '39.396381'], ['118.372856', '39.396725'], ['118.37262', '39.396969'], ['118.372124', '39.397511'], ['118.371567', '39.398159'], ['118.371056', '39.398682'], ['118.370697', '39.398968'], ['118.370285', '39.399212'], ['118.369675', '39.399525'], ['118.369339', '39.399658'], ['118.36834', '39.400009'], ['118.367584', '39.400249'], ['118.366806', '39.400497'], ['118.366692', '39.400532'], ['118.36467', '39.401184'], ['118.363297', '39.401623'], ['118.362946', '39.401745'], ['118.362656', '39.401863'], ['118.362091', '39.402134'], ['118.361839', '39.402283'], ['118.361565', '39.40247'], ['118.36129', '39.402695'], ['118.360962', '39.403023'], ['118.360558', '39.403431'], ['118.360199', '39.403809'], ['118.35952', '39.40453'], ['118.358543', '39.405525'], ['118.357483', '39.406616'], ['118.356895', '39.407227'], ['118.356468', '39.407673'], ['118.356224', '39.407955'], ['118.35614', '39.408054'], ['118.355843', '39.408432'], ['118.355606', '39.408764'], ['118.355209', '39.409451'], ['118.35453', '39.410664'], ['118.353905', '39.411812'], ['118.353615', '39.412312'], ['118.353119', '39.41309'], ['118.352791', '39.413551'], ['118.35218', '39.414471'], ['118.351746', '39.415066'], ['118.351532', '39.415356'], ['118.351044', '39.416027'], ['118.350777', '39.416401'], ['118.350052', '39.417427'], ['118.34967', '39.417957'], ['118.349625', '39.418022'], ['118.349487', '39.418205'], ['118.349213', '39.418522'], ['118.348862', '39.418835'], ['118.348732', '39.418945'], ['118.348572', '39.419064'], ['118.34819', '39.419296'], ['118.347801', '39.419483'], ['118.347588', '39.419567'], ['118.347176', '39.419716'], ['118.346954', '39.419769'], ['118.345749', '39.420021'], ['118.344727', '39.420231'], ['118.343803', '39.420414'], ['118.342918', '39.420609'], ['118.341492', '39.420902'], ['118.34127', '39.420952'], ['118.34008', '39.4212'], ['118.33918', '39.421421'], ['118.338593', '39.421619'], ['118.338257', '39.421761'], ['118.338127', '39.421822'], ['118.337585', '39.422157'], ['118.337341', '39.42234'], ['118.336647', '39.422924'], ['118.33567', '39.423862'], ['118.333527', '39.425884'], ['118.332542', '39.426861'], ['118.331001', '39.428352'], ['118.329353', '39.429928'], ['118.329262', '39.430019'], ['118.328766', '39.430496'], ['118.328651', '39.430431'], ['118.328842', '39.430225'], ['118.329163', '39.429928'], ['118.329575', '39.42952'], ['118.330818', '39.428326'], ['118.331543', '39.427666'], ['118.333344', '39.425957'], ['118.336029', '39.423416'], ['118.336029', '39.423416'], ['118.335876', '39.423412'], ['118.33567', '39.423382'], ['118.334061', '39.423244'], ['118.330009', '39.422901'], ['118.322754', '39.422302'], ['118.32209', '39.422249'], ['118.31366', '39.421551'], ['118.31366', '39.421551'], ['118.313622', '39.421368'], ['118.313408', '39.420464'], ['118.313324', '39.420223'], ['118.313324', '39.420223'], ['118.312347', '39.420559'], ['118.311821', '39.420773'], ['118.310913', '39.421227'], ['118.310638', '39.421333'], ['118.309227', '39.421745'], ['118.308884', '39.421864'], ['118.307869', '39.422215'], ['118.304855', '39.423191'], ['118.304855', '39.423191'], ['118.304901', '39.423347'], ['118.304955', '39.423504'], ['118.305176', '39.42421'], ['118.305611', '39.425541'], ['118.305611', '39.425541'], ['118.304405', '39.425884'], ['118.30368', '39.426155'], ['118.303421', '39.42627'], ['118.3032', '39.426392'], ['118.302711', '39.426693'], ['118.302368', '39.426861'], ['118.302063', '39.426956'], ['118.301888', '39.426998'], ['118.301476', '39.427048'], ['118.301476', '39.427048'], ['118.301453', '39.426754'], ['118.301308', '39.426098'], ['118.301308', '39.426098'], ['118.301804', '39.425957']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>