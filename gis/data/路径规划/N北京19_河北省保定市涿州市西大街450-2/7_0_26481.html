<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.359589', '39.665165'], ['116.35952', '39.665417'], ['116.35952', '39.665417'], ['116.358421', '39.665302'], ['116.358017', '39.665257'], ['116.357147', '39.665169'], ['116.356819', '39.665138'], ['116.35643', '39.665104'], ['116.355499', '39.665012'], ['116.3535', '39.664803'], ['116.35305', '39.664757'], ['116.351173', '39.664597'], ['116.351173', '39.664597'], ['116.351006', '39.665081'], ['116.350632', '39.666058'], ['116.350464', '39.666504'], ['116.349915', '39.667988'], ['116.349869', '39.668129'], ['116.349258', '39.669647'], ['116.349236', '39.66975'], ['116.348305', '39.66959'], ['116.347122', '39.669392'], ['116.34626', '39.669262'], ['116.345932', '39.669216'], ['116.345207', '39.669136'], ['116.345192', '39.669136'], ['116.34375', '39.668968'], ['116.343117', '39.6689'], ['116.342361', '39.668819'], ['116.341873', '39.668758'], ['116.340935', '39.668648'], ['116.339149', '39.668453'], ['116.338913', '39.668427'], ['116.337646', '39.66827'], ['116.336884', '39.668194'], ['116.335388', '39.668053'], ['116.334503', '39.667965'], ['116.333893', '39.667904'], ['116.332184', '39.667717'], ['116.330734', '39.667561'], ['116.330101', '39.667492'], ['116.329453', '39.667423'], ['116.32872', '39.667332'], ['116.327774', '39.667233'], ['116.326622', '39.667103'], ['116.32505', '39.666943'], ['116.32457', '39.666901'], ['116.323921', '39.666843'], ['116.323242', '39.666763'], ['116.32312', '39.666756'], ['116.322571', '39.666695'], ['116.321678', '39.666622'], ['116.320595', '39.666546'], ['116.319984', '39.666504'], ['116.319847', '39.666489'], ['116.319458', '39.666458'], ['116.318176', '39.666374'], ['116.3181', '39.666363'], ['116.315979', '39.666183'], ['116.311287', '39.665886'], ['116.310715', '39.665844'], ['116.30864', '39.66571'], ['116.3069', '39.665619'], ['116.30674', '39.6656'], ['116.306313', '39.665569'], ['116.304062', '39.665428'], ['116.302109', '39.665314'], ['116.30127', '39.665268'], ['116.296539', '39.664982'], ['116.29538', '39.664906'], ['116.291954', '39.664688'], ['116.288986', '39.664516'], ['116.2855', '39.664288'], ['116.283119', '39.664143'], ['116.279297', '39.663902'], ['116.274651', '39.663624'], ['116.272514', '39.663509'], ['116.27002', '39.66338'], ['116.269402', '39.663342'], ['116.268669', '39.6633'], ['116.267029', '39.663204'], ['116.265038', '39.663078'], ['116.264977', '39.663074'], ['116.262886', '39.662945'], ['116.261024', '39.66283'], ['116.260704', '39.662807'], ['116.257324', '39.662601'], ['116.255989', '39.66251'], ['116.255119', '39.66246'], ['116.252068', '39.662281'], ['116.246429', '39.661938'], ['116.245087', '39.661854'], ['116.244659', '39.661827'], ['116.243744', '39.661781'], ['116.243576', '39.661739'], ['116.242203', '39.661728'], ['116.238861', '39.661533'], ['116.23774', '39.661461'], ['116.235352', '39.661312'], ['116.234764', '39.661274'], ['116.232819', '39.661137'], ['116.232819', '39.661137'], ['116.23317', '39.660645'], ['116.233223', '39.660557'], ['116.233635', '39.659897'], ['116.233772', '39.659641'], ['116.234406', '39.65789'], ['116.234581', '39.657475'], ['116.23465', '39.657227'], ['116.234688', '39.657013'], ['116.234726', '39.656601'], ['116.234802', '39.655861'], ['116.234932', '39.653984'], ['116.235023', '39.653008'], ['116.235069', '39.652279'], ['116.235268', '39.649658'], ['116.235352', '39.648621'], ['116.235474', '39.647049'], ['116.23558', '39.645523'], ['116.235558', '39.645348'], ['116.235504', '39.645142'], ['116.235405', '39.644997'], ['116.235352', '39.644905'], ['116.2351', '39.644547'], ['116.234612', '39.643845'], ['116.23336', '39.64241'], ['116.230789', '39.639439'], ['116.230064', '39.638672'], ['116.229752', '39.638332'], ['116.229103', '39.637772'], ['116.228996', '39.637661'], ['116.228928', '39.637566'], ['116.227943', '39.635803'], ['116.227882', '39.635658'], ['116.227173', '39.633022'], ['116.226974', '39.631954'], ['116.226898', '39.631432'], ['116.226891', '39.631229'], ['116.226913', '39.629971'], ['116.226906', '39.629715'], ['116.226891', '39.629498'], ['116.226845', '39.629265'], ['116.226776', '39.629021'], ['116.226585', '39.628597'], ['116.226082', '39.627682'], ['116.224854', '39.625542'], ['116.222984', '39.623314'], ['116.222382', '39.622467'], ['116.222092', '39.622066'], ['116.221191', '39.620773'], ['116.221138', '39.620655'], ['116.2211', '39.620541'], ['116.2211', '39.620426'], ['116.221138', '39.620266'], ['116.221451', '39.619652'], ['116.222', '39.61845'], ['116.222168', '39.618034'], ['116.222168', '39.618034'], ['116.219727', '39.617462'], ['116.218918', '39.617271'], ['116.217834', '39.61702'], ['116.216393', '39.616699'], ['116.215263', '39.616447'], ['116.214561', '39.616261'], ['116.213547', '39.616028'], ['116.213379', '39.615986'], ['116.211922', '39.615643'], ['116.211136', '39.615471'], ['116.210716', '39.615406'], ['116.210655', '39.615372'], ['116.209923', '39.61533'], ['116.207283', '39.61517'], ['116.206169', '39.615112'], ['116.205742', '39.615082'], ['116.205193', '39.615067'], ['116.204842', '39.615067'], ['116.203888', '39.615055'], ['116.202766', '39.614994'], ['116.202766', '39.614994'], ['116.202759', '39.61422'], ['116.202759', '39.613781'], ['116.202728', '39.61356'], ['116.202682', '39.6134'], ['116.202507', '39.612991'], ['116.202278', '39.612514'], ['116.201897', '39.611809'], ['116.201286', '39.610645'], ['116.20118', '39.610451'], ['116.200745', '39.609619'], ['116.200226', '39.608612'], ['116.199669', '39.607555'], ['116.199532', '39.607281'], ['116.199402', '39.607048'], ['116.199234', '39.606735'], ['116.199005', '39.606266'], ['116.198708', '39.605721'], ['116.1987', '39.605713'], ['116.198235', '39.604805'], ['116.197731', '39.603836'], ['116.197304', '39.603031'], ['116.197105', '39.602627'], ['116.196915', '39.602253'], ['116.196854', '39.602097'], ['116.196823', '39.601936'], ['116.196808', '39.601765'], ['116.196808', '39.601555'], ['116.196892', '39.600506'], ['116.19696', '39.599781'], ['116.197243', '39.59639'], ['116.19738', '39.59499'], ['116.19738', '39.594917'], ['116.197395', '39.59473'], ['116.197411', '39.594513'], ['116.197464', '39.593716'], ['116.197601', '39.592075'], ['116.197701', '39.590961'], ['116.197685', '39.590912'], ['116.197716', '39.590641'], ['116.197784', '39.590008'], ['116.197807', '39.589966'], ['116.197807', '39.589966'], ['116.197578', '39.588932'], ['116.19738', '39.587898'], ['116.197029', '39.586071'], ['116.197006', '39.58593'], ['116.196953', '39.58567'], ['116.196899', '39.585445'], ['116.196846', '39.585121'], ['116.196739', '39.584587'], ['116.196655', '39.584148'], ['116.196579', '39.583736'], ['116.196434', '39.583004'], ['116.196373', '39.582806'], ['116.196297', '39.582577'], ['116.195946', '39.581974'], ['116.195709', '39.581596'], ['116.195648', '39.581478'], ['116.195572', '39.581245'], ['116.195389', '39.580009'], ['116.194847', '39.576569'], ['116.194756', '39.575943'], ['116.194633', '39.575119'], ['116.194572', '39.574631'], ['116.194412', '39.573433'], ['116.194328', '39.572845'], ['116.194336', '39.57275'], ['116.194366', '39.572636'], ['116.19455', '39.572124'], ['116.19471', '39.571663'], ['116.194733', '39.571541'], ['116.194733', '39.570942'], ['116.194695', '39.570114'], ['116.194656', '39.568409'], ['116.194557', '39.566597'], ['116.194557', '39.566597'], ['116.195763', '39.566586'], ['116.199333', '39.566528'], ['116.204872', '39.566425'], ['116.206688', '39.56641'], ['116.207588', '39.566414'], ['116.208237', '39.566433'], ['116.209442', '39.566452'], ['116.209442', '39.566452'], ['116.209404', '39.565338'], ['116.209404', '39.565338'], ['116.210587', '39.565426'], ['116.211807', '39.565502'], ['116.213203', '39.565575'], ['116.213379', '39.565586'], ['116.213936', '39.565636'], ['116.214081', '39.565674'], ['116.214195', '39.565735'], ['116.21447', '39.565907'], ['116.214645', '39.565956'], ['116.214951', '39.566002'], ['116.216293', '39.566086'], ['116.216293', '39.566086'], ['116.216438', '39.566006'], ['116.216469', '39.56596'], ['116.216545', '39.565769'], ['116.216606', '39.565479'], ['116.216652', '39.565414'], ['116.216721', '39.565376'], ['116.216721', '39.565376'], ['116.21685', '39.565346'], ['116.21727', '39.565334'], ['116.217819', '39.565346'], ['116.218506', '39.565392'], ['116.21981', '39.565552'], ['116.21981', '39.565552'], ['116.220177', '39.564594'], ['116.220375', '39.564201'], ['116.221764', '39.562099'], ['116.221764', '39.562099'], ['116.221558', '39.562061']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>