<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.217026', '39.599777'], ['118.217194', '39.599594'], ['118.217194', '39.599594'], ['118.217102', '39.599575'], ['118.216827', '39.599472'], ['118.216827', '39.599472'], ['118.216415', '39.600178'], ['118.216293', '39.600403'], ['118.216003', '39.600937'], ['118.215881', '39.601208'], ['118.215881', '39.601208'], ['118.215645', '39.601093'], ['118.215057', '39.6008'], ['118.214874', '39.600697'], ['118.214355', '39.600445'], ['118.213707', '39.600117'], ['118.213188', '39.599854'], ['118.212891', '39.599701'], ['118.212296', '39.599396'], ['118.211838', '39.599163'], ['118.211403', '39.598972'], ['118.210876', '39.598698'], ['118.21064', '39.598606'], ['118.210388', '39.598534'], ['118.209816', '39.598431'], ['118.209625', '39.5984'], ['118.209167', '39.59832'], ['118.208641', '39.598236'], ['118.208153', '39.598152'], ['118.207672', '39.598072'], ['118.207191', '39.597996'], ['118.206696', '39.597912'], ['118.206032', '39.597801'], ['118.205727', '39.597752'], ['118.20533', '39.597691'], ['118.204826', '39.597622'], ['118.204613', '39.597584'], ['118.203941', '39.597485'], ['118.203255', '39.597366'], ['118.202248', '39.597218'], ['118.201576', '39.597126'], ['118.200783', '39.597004'], ['118.199944', '39.596874'], ['118.199623', '39.596828'], ['118.199234', '39.596828'], ['118.199028', '39.596855'], ['118.198471', '39.596943'], ['118.198074', '39.597054'], ['118.197983', '39.59716'], ['118.197601', '39.595989'], ['118.197372', '39.595299'], ['118.197281', '39.595028'], ['118.197182', '39.59473'], ['118.197113', '39.594524'], ['118.196869', '39.593796'], ['118.196861', '39.593769'], ['118.196419', '39.592731'], ['118.196365', '39.59264'], ['118.195595', '39.5909'], ['118.195396', '39.590317'], ['118.195206', '39.589554'], ['118.195091', '39.589058'], ['118.195023', '39.588757'], ['118.194885', '39.588142'], ['118.194763', '39.587555'], ['118.194664', '39.586941'], ['118.194656', '39.586685'], ['118.194664', '39.586231'], ['118.194771', '39.585052'], ['118.194771', '39.584869'], ['118.194778', '39.584637'], ['118.194763', '39.584385'], ['118.19474', '39.58403'], ['118.19471', '39.583736'], ['118.19471', '39.583729'], ['118.194687', '39.583481'], ['118.194641', '39.583111'], ['118.194519', '39.581875'], ['118.194496', '39.581673'], ['118.194389', '39.5802'], ['118.194374', '39.579861'], ['118.194374', '39.579147'], ['118.194374', '39.578995'], ['118.194328', '39.578373'], ['118.19426', '39.577866'], ['118.194145', '39.577129'], ['118.193962', '39.575905'], ['118.193825', '39.574799'], ['118.193764', '39.574413'], ['118.193733', '39.574284'], ['118.193611', '39.573772'], ['118.193481', '39.573353'], ['118.193283', '39.57275'], ['118.193184', '39.572491'], ['118.19294', '39.571766'], ['118.192802', '39.571255'], ['118.192726', '39.570892'], ['118.192696', '39.570679'], ['118.192665', '39.570354'], ['118.192665', '39.569912'], ['118.192696', '39.56955'], ['118.192795', '39.568336'], ['118.192818', '39.567791'], ['118.19278', '39.567333'], ['118.192665', '39.56657'], ['118.192589', '39.566246'], ['118.192444', '39.56575'], ['118.192322', '39.565395'], ['118.191978', '39.564522'], ['118.191643', '39.563641'], ['118.191505', '39.563271'], ['118.191307', '39.562702'], ['118.1912', '39.562347'], ['118.191162', '39.562164'], ['118.191109', '39.561813'], ['118.191109', '39.561764'], ['118.191109', '39.561455'], ['118.191139', '39.561111'], ['118.191139', '39.561111'], ['118.191216', '39.560658'], ['118.191368', '39.560226'], ['118.191742', '39.559452'], ['118.19194', '39.559048'], ['118.192345', '39.55825'], ['118.193016', '39.556915'], ['118.193336', '39.55632'], ['118.193481', '39.556034'], ['118.193695', '39.555618'], ['118.194061', '39.554905'], ['118.194366', '39.554306'], ['118.19458', '39.553898'], ['118.19503', '39.55299'], ['118.19603', '39.551037'], ['118.196152', '39.550781'], ['118.196243', '39.550594'], ['118.196564', '39.549812'], ['118.196976', '39.548775'], ['118.196976', '39.548775'], ['118.197441', '39.547527'], ['118.19799', '39.546005'], ['118.198326', '39.545013'], ['118.198631', '39.54417'], ['118.19899', '39.543049'], ['118.199051', '39.542854'], ['118.199333', '39.541962'], ['118.199661', '39.540966'], ['118.199814', '39.540421'], ['118.199921', '39.540062'], ['118.199997', '39.539791'], ['118.200081', '39.539497'], ['118.200371', '39.538448'], ['118.200806', '39.537075'], ['118.200882', '39.536835'], ['118.200981', '39.536514'], ['118.201576', '39.534763'], ['118.201645', '39.534534'], ['118.201866', '39.533848'], ['118.202187', '39.532894'], ['118.202286', '39.532581'], ['118.202614', '39.531582'], ['118.203217', '39.529675'], ['118.203491', '39.528805'], ['118.203522', '39.528721'], ['118.203712', '39.528709'], ['118.20369', '39.528805'], ['118.203484', '39.529366'], ['118.202759', '39.531582'], ['118.202759', '39.531582'], ['118.203789', '39.531345'], ['118.204201', '39.531235'], ['118.204468', '39.53117'], ['118.205681', '39.530834'], ['118.206001', '39.530743'], ['118.206604', '39.530533'], ['118.209068', '39.529537'], ['118.210983', '39.528805'], ['118.211006', '39.528801'], ['118.212891', '39.528042'], ['118.215576', '39.526951'], ['118.21611', '39.526676'], ['118.217941', '39.525654'], ['118.217941', '39.525654'], ['118.220917', '39.524948'], ['118.22242', '39.524597'], ['118.224091', '39.52417'], ['118.226631', '39.523556'], ['118.233292', '39.521984'], ['118.234863', '39.521614'], ['118.234901', '39.521599'], ['118.235298', '39.521515'], ['118.235779', '39.521378'], ['118.236046', '39.521305'], ['118.237473', '39.521152'], ['118.237473', '39.521152'], ['118.237411', '39.520821'], ['118.237358', '39.520485'], ['118.237289', '39.520298'], ['118.237236', '39.520161'], ['118.237114', '39.519825'], ['118.236977', '39.519482'], ['118.236855', '39.519161'], ['118.236641', '39.518612'], ['118.236397', '39.518036'], ['118.236305', '39.517822'], ['118.235909', '39.516956'], ['118.235565', '39.516174'], ['118.235413', '39.515827'], ['118.234909', '39.51469'], ['118.234863', '39.514576'], ['118.233887', '39.512402'], ['118.2332', '39.510921'], ['118.232216', '39.508739'], ['118.232063', '39.508343'], ['118.231949', '39.507915'], ['118.231766', '39.506836'], ['118.231651', '39.506077'], ['118.23159', '39.505692'], ['118.231483', '39.504974'], ['118.23127', '39.503822'], ['118.231247', '39.503685'], ['118.231224', '39.503384'], ['118.231255', '39.503132'], ['118.231316', '39.502617'], ['118.231483', '39.501884'], ['118.231628', '39.501228'], ['118.231949', '39.499813'], ['118.231949', '39.499813'], ['118.229248', '39.499542'], ['118.228317', '39.499451'], ['118.226883', '39.499302'], ['118.224709', '39.499084'], ['118.22345', '39.498955'], ['118.221519', '39.498768'], ['118.220848', '39.498657'], ['118.219376', '39.498432'], ['118.217361', '39.498127'], ['118.215424', '39.497852'], ['118.215279', '39.497814'], ['118.21537', '39.497593'], ['118.215652', '39.496933'], ['118.216095', '39.495846'], ['118.21637', '39.495178'], ['118.216797', '39.494133'], ['118.217209', '39.493134'], ['118.217514', '39.492401'], ['118.217781', '39.491734'], ['118.218033', '39.491108'], ['118.218285', '39.490498'], ['118.21846', '39.490086'], ['118.219017', '39.488743'], ['118.219513', '39.487564'], ['118.219727', '39.487148'], ['118.219948', '39.486816'], ['118.220192', '39.486515'], ['118.220329', '39.48637'], ['118.220818', '39.48597'], ['118.221024', '39.485802'], ['118.221443', '39.485573'], ['118.222198', '39.485249'], ['118.223328', '39.484863'], ['118.224419', '39.484474'], ['118.224693', '39.484364'], ['118.225616', '39.484016'], ['118.228226', '39.482929'], ['118.228683', '39.482738'], ['118.229813', '39.482227'], ['118.230385', '39.481987'], ['118.231888', '39.481339'], ['118.233688', '39.480541'], ['118.234863', '39.480026'], ['118.236328', '39.479382'], ['118.237953', '39.478661'], ['118.238838', '39.478344'], ['118.239624', '39.478085'], ['118.240288', '39.477905'], ['118.241272', '39.477688'], ['118.24157', '39.477627'], ['118.242439', '39.477413'], ['118.24305', '39.477245'], ['118.243683', '39.477039'], ['118.244133', '39.476868'], ['118.244957', '39.476532'], ['118.245522', '39.476284'], ['118.246223', '39.475941'], ['118.247223', '39.475449'], ['118.247688', '39.475227'], ['118.248184', '39.474987'], ['118.248589', '39.474819'], ['118.248993', '39.47467'], ['118.249428', '39.474533'], ['118.249954', '39.474422'], ['118.250427', '39.474339'], ['118.251633', '39.474346'], ['118.252571', '39.474377'], ['118.255493', '39.474533'], ['118.256119', '39.474564'], ['118.256836', '39.47459'], ['118.257019', '39.474602'], ['118.257797', '39.474583'], ['118.258148', '39.474548'], ['118.25885', '39.474449'], ['118.259598', '39.47427'], ['118.259972', '39.474159'], ['118.260681', '39.473942'], ['118.260872', '39.473877'], ['118.263908', '39.472862'], ['118.265739', '39.472248'], ['118.266327', '39.472046'], ['118.267387', '39.471684'], ['118.268463', '39.471291'], ['118.269287', '39.470932'], ['118.269875', '39.470631'], ['118.270157', '39.470463'], ['118.271744', '39.469521'], ['118.272034', '39.46936'], ['118.272636', '39.469074'], ['118.273582', '39.468681'], ['118.274185', '39.468468'], ['118.274841', '39.468227'], ['118.275124', '39.468124'], ['118.275185', '39.468102'], ['118.275558', '39.467964'], ['118.277145', '39.46735'], ['118.277191', '39.467449'], ['118.276703', '39.467648'], ['118.276062', '39.467884'], ['118.275597', '39.468063'], ['118.275597', '39.468063'], ['118.275673', '39.468155'], ['118.275696', '39.468227'], ['118.275719', '39.468342'], ['118.275681', '39.468517'], ['118.275681', '39.468517'], ['118.275726', '39.468544'], ['118.275734', '39.468605'], ['118.275734', '39.468605'], ['118.275902', '39.468643'], ['118.27594', '39.468666'], ['118.275948', '39.468689'], ['118.275963', '39.468899'], ['118.275917', '39.46891'], ['118.275688', '39.46891']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>