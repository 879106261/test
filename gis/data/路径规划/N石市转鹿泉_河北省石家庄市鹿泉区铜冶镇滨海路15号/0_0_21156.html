<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['114.333694', '38.06179'], ['114.333694', '38.061687'], ['114.333771', '38.060936'], ['114.333771', '38.060936'], ['114.336243', '38.061123'], ['114.336243', '38.061123'], ['114.336205', '38.062057'], ['114.336189', '38.062519'], ['114.336205', '38.062653'], ['114.336243', '38.062767'], ['114.336243', '38.062767'], ['114.338509', '38.065453'], ['114.338509', '38.065453'], ['114.34021', '38.064175'], ['114.34082', '38.063728'], ['114.340981', '38.06361'], ['114.342728', '38.062294'], ['114.343353', '38.061848'], ['114.343735', '38.061623'], ['114.343895', '38.061554'], ['114.344292', '38.061222'], ['114.345268', '38.060608'], ['114.345703', '38.060333'], ['114.346939', '38.059536'], ['114.34861', '38.058464'], ['114.350349', '38.057316'], ['114.351303', '38.056641'], ['114.351448', '38.056541'], ['114.352211', '38.055996'], ['114.353188', '38.055271'], ['114.353989', '38.054646'], ['114.355179', '38.053692'], ['114.356064', '38.05299'], ['114.35643', '38.052692'], ['114.357506', '38.051834'], ['114.357994', '38.051468'], ['114.358536', '38.051132'], ['114.358818', '38.050972'], ['114.359444', '38.05069'], ['114.362152', '38.049732'], ['114.365425', '38.048576'], ['114.366264', '38.048298'], ['114.366516', '38.048214'], ['114.366783', '38.048115'], ['114.367584', '38.047836'], ['114.367668', '38.047791'], ['114.36779', '38.047741'], ['114.368156', '38.047535'], ['114.368492', '38.047287'], ['114.369354', '38.046513'], ['114.3703', '38.045654'], ['114.370811', '38.045197'], ['114.373138', '38.043083'], ['114.373192', '38.043037'], ['114.374741', '38.041618'], ['114.374847', '38.041512'], ['114.375137', '38.041153'], ['114.375237', '38.040993'], ['114.375534', '38.040462'], ['114.376015', '38.039577'], ['114.376366', '38.03899'], ['114.377022', '38.037899'], ['114.37722', '38.037594'], ['114.377419', '38.037262'], ['114.377724', '38.036755'], ['114.377892', '38.036476'], ['114.378357', '38.035671'], ['114.378471', '38.035378'], ['114.378494', '38.035278'], ['114.378647', '38.034668'], ['114.378746', '38.03421'], ['114.378922', '38.033352'], ['114.379128', '38.032433'], ['114.37915', '38.032341'], ['114.379265', '38.031799'], ['114.379539', '38.030399'], ['114.379974', '38.028034'], ['114.380104', '38.027271'], ['114.380142', '38.026913'], ['114.380127', '38.026634'], ['114.38002', '38.02626'], ['114.379723', '38.025444'], ['114.379662', '38.02528'], ['114.379066', '38.023682'], ['114.378952', '38.023373'], ['114.378464', '38.022099'], ['114.378212', '38.021435'], ['114.37738', '38.019203'], ['114.377281', '38.018978'], ['114.376358', '38.016499'], ['114.376167', '38.01585'], ['114.376106', '38.015568'], ['114.376045', '38.015236'], ['114.376038', '38.015022'], ['114.376038', '38.014572'], ['114.376083', '38.014042'], ['114.376144', '38.013676'], ['114.376335', '38.012901'], ['114.376404', '38.012691'], ['114.376801', '38.011292'], ['114.376961', '38.010777'], ['114.377342', '38.009457'], ['114.377548', '38.00877'], ['114.377777', '38.007969'], ['114.378105', '38.006844'], ['114.378319', '38.006138'], ['114.378624', '38.005024'], ['114.378906', '38.003983'], ['114.379166', '38.002991'], ['114.379433', '38.001945'], ['114.379494', '38.001705'], ['114.379593', '38.001354'], ['114.379723', '38.000835'], ['114.379753', '38.000725'], ['114.379829', '38.000469'], ['114.379852', '38.000408'], ['114.379913', '38.000217'], ['114.380241', '37.998901'], ['114.380341', '37.998566'], ['114.380646', '37.997379'], ['114.380989', '37.996132'], ['114.381294', '37.995213'], ['114.381416', '37.994831'], ['114.381477', '37.994633'], ['114.381821', '37.993504'], ['114.382103', '37.992489'], ['114.382545', '37.990921'], ['114.382607', '37.990719'], ['114.38279', '37.990036'], ['114.38311', '37.988941'], ['114.383232', '37.988499'], ['114.383362', '37.987968'], ['114.383499', '37.987267'], ['114.383644', '37.986507'], ['114.38414', '37.982719'], ['114.384346', '37.980988'], ['114.384384', '37.980614'], ['114.384399', '37.980259'], ['114.38459', '37.980141'], ['114.385223', '37.979733'], ['114.38533', '37.979671'], ['114.386353', '37.979053'], ['114.388115', '37.977982'], ['114.389587', '37.977089'], ['114.389641', '37.977055'], ['114.390053', '37.976791'], ['114.390366', '37.976578'], ['114.390869', '37.976185'], ['114.392006', '37.975258'], ['114.392105', '37.975189'], ['114.392265', '37.97506'], ['114.39241', '37.974915'], ['114.39257', '37.974693'], ['114.392624', '37.97456'], ['114.392677', '37.974396'], ['114.392754', '37.973717'], ['114.39283', '37.973583'], ['114.392891', '37.973492'], ['114.392967', '37.973419'], ['114.393066', '37.973331'], ['114.393204', '37.973263'], ['114.393456', '37.973179'], ['114.393723', '37.973152'], ['114.393852', '37.973164'], ['114.394287', '37.973236'], ['114.394585', '37.973244'], ['114.394753', '37.973217'], ['114.39489', '37.973175'], ['114.395042', '37.973114'], ['114.395149', '37.973049'], ['114.395424', '37.972836'], ['114.397514', '37.971165'], ['114.397514', '37.971165'], ['114.397835', '37.97073'], ['114.398018', '37.970379'], ['114.398079', '37.970085'], ['114.398033', '37.969856'], ['114.397926', '37.969551'], ['114.397606', '37.969368'], ['114.397301', '37.969231'], ['114.396744', '37.969013'], ['114.396248', '37.968876'], ['114.396278', '37.968777'], ['114.396286', '37.96875'], ['114.396545', '37.966431'], ['114.396629', '37.965515'], ['114.39679', '37.963741'], ['114.397057', '37.960983'], ['114.397194', '37.959759'], ['114.397163', '37.959663'], ['114.397224', '37.95776'], ['114.397224', '37.957737'], ['114.397263', '37.956871'], ['114.397263', '37.956757'], ['114.397484', '37.950264'], ['114.397491', '37.950203'], ['114.397514', '37.949806'], ['114.397568', '37.948299'], ['114.397606', '37.946774'], ['114.397896', '37.938705'], ['114.397987', '37.935791'], ['114.39801', '37.935326'], ['114.398094', '37.932819'], ['114.398132', '37.932312'], ['114.398186', '37.931671'], ['114.398308', '37.930794'], ['114.398552', '37.929253'], ['114.399094', '37.926037'], ['114.399239', '37.925243'], ['114.3993', '37.924805'], ['114.399345', '37.924564'], ['114.399704', '37.922401'], ['114.399857', '37.92149'], ['114.39991', '37.921169'], ['114.399956', '37.920876'], ['114.400047', '37.920364'], ['114.400101', '37.919998'], ['114.400192', '37.919422'], ['114.400452', '37.917877'], ['114.400528', '37.917492'], ['114.400551', '37.917267'], ['114.400864', '37.915592'], ['114.400917', '37.915241'], ['114.400909', '37.914112'], ['114.400909', '37.913815'], ['114.400887', '37.912262'], ['114.400909', '37.911961'], ['114.400887', '37.911453'], ['114.400856', '37.90913'], ['114.400856', '37.90913'], ['114.397102', '37.908852'], ['114.397102', '37.908852'], ['114.397087', '37.908939'], ['114.397064', '37.908985'], ['114.397034', '37.908985'], ['114.396461', '37.90897'], ['114.396393', '37.908985'], ['114.396362', '37.909008'], ['114.396301', '37.909489'], ['114.396225', '37.910061'], ['114.396225', '37.910061'], ['114.396721', '37.910099']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>