<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.789314', '30.759071'], ['120.789536', '30.759089'], ['120.789536', '30.759089'], ['120.789589', '30.758432'], ['120.789665', '30.757565'], ['120.789833', '30.757568'], ['120.789772', '30.758446'], ['120.789665', '30.759804'], ['120.789452', '30.761471'], ['120.789398', '30.761534'], ['120.788864', '30.761606'], ['120.788345', '30.761644'], ['120.787743', '30.761658'], ['120.786598', '30.761654'], ['120.786491', '30.761644'], ['120.78566', '30.761621'], ['120.785263', '30.761616'], ['120.783691', '30.761576'], ['120.783501', '30.761572'], ['120.782799', '30.761585'], ['120.781517', '30.761721'], ['120.781265', '30.761744'], ['120.780952', '30.761776'], ['120.779793', '30.761889'], ['120.779297', '30.761936'], ['120.77887', '30.76198'], ['120.778381', '30.762005'], ['120.77784', '30.761984'], ['120.777046', '30.76195'], ['120.776321', '30.761957'], ['120.775734', '30.762018'], ['120.775352', '30.762066'], ['120.774071', '30.762245'], ['120.773674', '30.762295'], ['120.773209', '30.762335'], ['120.772163', '30.762365'], ['120.771652', '30.762344'], ['120.770851', '30.762278'], ['120.769699', '30.762186'], ['120.769432', '30.762173'], ['120.768234', '30.762178'], ['120.767273', '30.762178'], ['120.766495', '30.762182'], ['120.766411', '30.762182'], ['120.765167', '30.762178'], ['120.763786', '30.762167'], ['120.763428', '30.762144'], ['120.762833', '30.762075'], ['120.762314', '30.761999'], ['120.762093', '30.761936'], ['120.761719', '30.761721'], ['120.761314', '30.761471'], ['120.761208', '30.761425'], ['120.761024', '30.761379'], ['120.760925', '30.761379'], ['120.76075', '30.761436'], ['120.76059', '30.761534'], ['120.760406', '30.761658'], ['120.760353', '30.761721'], ['120.760216', '30.761885'], ['120.760078', '30.7621'], ['120.759964', '30.762417'], ['120.759789', '30.763069'], ['120.759735', '30.763134'], ['120.759346', '30.763111'], ['120.758553', '30.763069'], ['120.75808', '30.763042'], ['120.756607', '30.762909'], ['120.75589', '30.762856'], ['120.755287', '30.762804'], ['120.754318', '30.762733'], ['120.754135', '30.762712'], ['120.754089', '30.762709'], ['120.75309', '30.76255'], ['120.752243', '30.762413'], ['120.751656', '30.762321'], ['120.750389', '30.762123'], ['120.749207', '30.761957'], ['120.74913', '30.76194'], ['120.748016', '30.76177'], ['120.747681', '30.761721'], ['120.747307', '30.761658'], ['120.745995', '30.761454'], ['120.743584', '30.761084'], ['120.74334', '30.761047'], ['120.743042', '30.760998'], ['120.742722', '30.760952'], ['120.741859', '30.76082'], ['120.740761', '30.76066'], ['120.739838', '30.760515'], ['120.739738', '30.760504'], ['120.739342', '30.76045'], ['120.738487', '30.760324'], ['120.737724', '30.760204'], ['120.736908', '30.760069'], ['120.736633', '30.760027'], ['120.736099', '30.759949'], ['120.73333', '30.759527'], ['120.733246', '30.759518'], ['120.732834', '30.759462'], ['120.732559', '30.759426'], ['120.732399', '30.759399'], ['120.731651', '30.759275'], ['120.731056', '30.75919'], ['120.730438', '30.759098'], ['120.730171', '30.759054'], ['120.729324', '30.758915'], ['120.728134', '30.758741'], ['120.727287', '30.758612'], ['120.726936', '30.758551'], ['120.726242', '30.758467'], ['120.726242', '30.758467'], ['120.726273', '30.759115'], ['120.726265', '30.760283'], ['120.72625', '30.760756'], ['120.726219', '30.761585'], ['120.726212', '30.761662'], ['120.726212', '30.761721'], ['120.726166', '30.763008'], ['120.726143', '30.763529'], ['120.726128', '30.764111'], ['120.725937', '30.764185'], ['120.725304', '30.764158'], ['120.724983', '30.764153'], ['120.724838', '30.764145'], ['120.724716', '30.764139'], ['120.723419', '30.764097'], ['120.722336', '30.764053'], ['120.72142', '30.764023'], ['120.720428', '30.763998'], ['120.720177', '30.763985'], ['120.719086', '30.763948'], ['120.717873', '30.763903'], ['120.717781', '30.763903'], ['120.717224', '30.763889'], ['120.716667', '30.763866'], ['120.71627', '30.763863'], ['120.715561', '30.763857'], ['120.715477', '30.763857'], ['120.713074', '30.763828'], ['120.71241', '30.763824'], ['120.711563', '30.763815'], ['120.71109', '30.763811'], ['120.7099', '30.763798'], ['120.709145', '30.763733'], ['120.708626', '30.763641'], ['120.70755', '30.763393'], ['120.70694', '30.76325'], ['120.706612', '30.763191'], ['120.70562', '30.763111'], ['120.704826', '30.763052'], ['120.700874', '30.762751'], ['120.699554', '30.762651'], ['120.698975', '30.762609'], ['120.698143', '30.762541'], ['120.69799', '30.76244'], ['120.697952', '30.761858'], ['120.697937', '30.761721'], ['120.697922', '30.761425'], ['120.697914', '30.761303'], ['120.697838', '30.760122'], ['120.697807', '30.759459'], ['120.697762', '30.758728'], ['120.697739', '30.758471'], ['120.697678', '30.757595'], ['120.697647', '30.757'], ['120.697632', '30.756903'], ['120.697594', '30.756046'], ['120.697502', '30.75493'], ['120.697479', '30.754654'], ['120.697433', '30.754404'], ['120.697372', '30.754208'], ['120.697289', '30.754021'], ['120.697182', '30.753834'], ['120.697075', '30.753679'], ['120.696915', '30.753494'], ['120.69677', '30.753355'], ['120.696617', '30.753225'], ['120.696335', '30.753046'], ['120.695793', '30.752743'], ['120.695732', '30.752705'], ['120.694374', '30.751944'], ['120.693527', '30.751476'], ['120.692863', '30.751102'], ['120.692932', '30.750994'], ['120.69313', '30.750729'], ['120.694221', '30.749262'], ['120.694221', '30.749262'], ['120.692772', '30.748602'], ['120.691322', '30.747952'], ['120.691048', '30.747801'], ['120.690781', '30.747614'], ['120.689995', '30.747026'], ['120.688438', '30.745859'], ['120.688148', '30.745661'], ['120.687737', '30.745373'], ['120.68734', '30.745132'], ['120.686668', '30.744713'], ['120.686256', '30.74448'], ['120.685822', '30.744249'], ['120.685822', '30.744249'], ['120.685287', '30.744944'], ['120.684807', '30.745564'], ['120.684235', '30.746284'], ['120.683228', '30.747604'], ['120.682808', '30.748133'], ['120.681953', '30.749262'], ['120.681633', '30.749722'], ['120.681633', '30.749722'], ['120.681183', '30.74954'], ['120.680443', '30.749222'], ['120.680443', '30.749222'], ['120.680367', '30.749353']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>