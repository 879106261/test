<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['111.926865', '36.270073'], ['111.925949', '36.270645'], ['111.924973', '36.271252'], ['111.924904', '36.27129'], ['111.923752', '36.271996'], ['111.923477', '36.272171'], ['111.923447', '36.272186'], ['111.922478', '36.272785'], ['111.922424', '36.272823'], ['111.920998', '36.271812'], ['111.920723', '36.271622'], ['111.920166', '36.271244'], ['111.919304', '36.270653'], ['111.918945', '36.270355'], ['111.918472', '36.270004'], ['111.917839', '36.269459'], ['111.91777', '36.269402'], ['111.917297', '36.269012'], ['111.916359', '36.268196'], ['111.9161', '36.267948'], ['111.915901', '36.267735'], ['111.915855', '36.26767'], ['111.915855', '36.267609'], ['111.915848', '36.267265'], ['111.915833', '36.266312'], ['111.915833', '36.266312'], ['111.91497', '36.266319'], ['111.914742', '36.266323'], ['111.914444', '36.266296'], ['111.913116', '36.266308'], ['111.913116', '36.266308'], ['111.912865', '36.2659'], ['111.912842', '36.265869'], ['111.912697', '36.265629'], ['111.912514', '36.265423'], ['111.91243', '36.265343'], ['111.912064', '36.26506'], ['111.911621', '36.264709'], ['111.911476', '36.264557'], ['111.911438', '36.264507'], ['111.911415', '36.264397'], ['111.911385', '36.264191'], ['111.911369', '36.263653'], ['111.911278', '36.262737'], ['111.911247', '36.262524'], ['111.911034', '36.261688'], ['111.910988', '36.261368'], ['111.910995', '36.261181'], ['111.911095', '36.260666'], ['111.91111', '36.260502'], ['111.91111', '36.260345'], ['111.911087', '36.260185'], ['111.911041', '36.260036'], ['111.910957', '36.259846'], ['111.910667', '36.259197'], ['111.910614', '36.259068'], ['111.910553', '36.258835'], ['111.910263', '36.257008'], ['111.91021', '36.256779'], ['111.910172', '36.256668'], ['111.909981', '36.256332'], ['111.909821', '36.25613'], ['111.909599', '36.255894'], ['111.909264', '36.2556'], ['111.908905', '36.255295'], ['111.908638', '36.255074'], ['111.908432', '36.254921'], ['111.908371', '36.254883'], ['111.908188', '36.254757'], ['111.906998', '36.254089'], ['111.906837', '36.254002'], ['111.906792', '36.253944'], ['111.906738', '36.253922'], ['111.906319', '36.253704'], ['111.906044', '36.253597'], ['111.905602', '36.25349'], ['111.905441', '36.253437'], ['111.905319', '36.253365'], ['111.904854', '36.253033'], ['111.904625', '36.252831'], ['111.904381', '36.252522'], ['111.904083', '36.252071'], ['111.903687', '36.251476'], ['111.903587', '36.251385'], ['111.902702', '36.250858'], ['111.901413', '36.250126'], ['111.901192', '36.249977'], ['111.901039', '36.249844'], ['111.900543', '36.249207'], ['111.90049', '36.249142'], ['111.899979', '36.24855'], ['111.899666', '36.248272'], ['111.899292', '36.248043'], ['111.898361', '36.247566'], ['111.898117', '36.247406'], ['111.897873', '36.247227'], ['111.897224', '36.246506'], ['111.896019', '36.245068'], ['111.895981', '36.245022'], ['111.895798', '36.244804'], ['111.895691', '36.244709'], ['111.895439', '36.244545'], ['111.895164', '36.244427'], ['111.894402', '36.244175'], ['111.893539', '36.243893'], ['111.893051', '36.243732'], ['111.889015', '36.242386'], ['111.887993', '36.242027'], ['111.887245', '36.241837'], ['111.887093', '36.241779'], ['111.886833', '36.241634'], ['111.886169', '36.241093'], ['111.885963', '36.240894'], ['111.885696', '36.240574'], ['111.885597', '36.240479'], ['111.885483', '36.240391'], ['111.885345', '36.240334'], ['111.885201', '36.240295'], ['111.884766', '36.240204'], ['111.883751', '36.239986'], ['111.883522', '36.23991'], ['111.883385', '36.239834'], ['111.882446', '36.239162'], ['111.881584', '36.238598'], ['111.881149', '36.238342'], ['111.880844', '36.238106'], ['111.880447', '36.237701'], ['111.880127', '36.237419'], ['111.879219', '36.236382'], ['111.879066', '36.236156'], ['111.878922', '36.235916'], ['111.878708', '36.235432'], ['111.878639', '36.235176'], ['111.878624', '36.23505'], ['111.878632', '36.234791'], ['111.878654', '36.234661'], ['111.878731', '36.234409'], ['111.878838', '36.234165'], ['111.879387', '36.233097'], ['111.879456', '36.23299'], ['111.879532', '36.23291'], ['111.879555', '36.232887'], ['111.880081', '36.232403'], ['111.880249', '36.232185'], ['111.88031', '36.232071'], ['111.880348', '36.231949'], ['111.880371', '36.231819'], ['111.880371', '36.231564'], ['111.880348', '36.231312'], ['111.880318', '36.231186'], ['111.880264', '36.231064'], ['111.880196', '36.230949'], ['111.880104', '36.230846'], ['111.879478', '36.230289'], ['111.879227', '36.230129'], ['111.878677', '36.229885'], ['111.87738', '36.229401'], ['111.877106', '36.229279'], ['111.875359', '36.228413'], ['111.87455', '36.227997'], ['111.874435', '36.227909'], ['111.874321', '36.227814'], ['111.873878', '36.22728'], ['111.873589', '36.226974'], ['111.87336', '36.226799'], ['111.872993', '36.226562'], ['111.872314', '36.226261'], ['111.871727', '36.226051'], ['111.871429', '36.225975'], ['111.871109', '36.225933'], ['111.870255', '36.225903'], ['111.868744', '36.225861'], ['111.868126', '36.225868'], ['111.866539', '36.225948'], ['111.866234', '36.225979'], ['111.866089', '36.226017'], ['111.865784', '36.226109'], ['111.864357', '36.226677'], ['111.864082', '36.226776'], ['111.863792', '36.226845'], ['111.863686', '36.226864'], ['111.863297', '36.226894'], ['111.862793', '36.226921'], ['111.862518', '36.226925'], ['111.861404', '36.226822'], ['111.860931', '36.226814'], ['111.860619', '36.226852'], ['111.859703', '36.227043'], ['111.85955', '36.227066'], ['111.85907', '36.227066'], ['111.858437', '36.227039'], ['111.858223', '36.227043'], ['111.858131', '36.227081'], ['111.858063', '36.227127'], ['111.85759', '36.227547'], ['111.857346', '36.227699'], ['111.857079', '36.227833'], ['111.856796', '36.227955'], ['111.856651', '36.228004'], ['111.856491', '36.228035'], ['111.855858', '36.228081'], ['111.855225', '36.228081'], ['111.854912', '36.228046'], ['111.854454', '36.227959'], ['111.854301', '36.227921'], ['111.854156', '36.227863'], ['111.853897', '36.227711'], ['111.853554', '36.227444'], ['111.853394', '36.227341'], ['111.853394', '36.227341'], ['111.85331', '36.227299'], ['111.853157', '36.227268'], ['111.852997', '36.227253'], ['111.852852', '36.227272'], ['111.852715', '36.227322'], ['111.852585', '36.227406'], ['111.852509', '36.227505'], ['111.852463', '36.227627'], ['111.852448', '36.227745'], ['111.852463', '36.229164'], ['111.852417', '36.229298'], ['111.852371', '36.229362'], ['111.852341', '36.229408'], ['111.852211', '36.229492'], ['111.851967', '36.229576'], ['111.850838', '36.229862'], ['111.850281', '36.230003'], ['111.849998', '36.230114'], ['111.849762', '36.230274'], ['111.849174', '36.230721'], ['111.84903', '36.230793'], ['111.848877', '36.230824'], ['111.848717', '36.230843'], ['111.848419', '36.230839'], ['111.847466', '36.230808'], ['111.847153', '36.23082'], ['111.846695', '36.230911'], ['111.845795', '36.231136'], ['111.845337', '36.231232'], ['111.844864', '36.2313'], ['111.844543', '36.231293'], ['111.84391', '36.231205'], ['111.843758', '36.231201'], ['111.843201', '36.231255'], ['111.842949', '36.231243'], ['111.842659', '36.231171'], ['111.842514', '36.23111'], ['111.841583', '36.230614'], ['111.841316', '36.230484'], ['111.841171', '36.230431'], ['111.84082', '36.23032'], ['111.838669', '36.229652'], ['111.838516', '36.229618'], ['111.838264', '36.229595'], ['111.837906', '36.229618'], ['111.835922', '36.229885'], ['111.835716', '36.229931'], ['111.835411', '36.230026'], ['111.83474', '36.2304'], ['111.83387', '36.230808'], ['111.833145', '36.23106'], ['111.832848', '36.231129'], ['111.832542', '36.231171'], ['111.831291', '36.231312'], ['111.830963', '36.231335'], ['111.830811', '36.231335'], ['111.830505', '36.231293'], ['111.830032', '36.231186'], ['111.82975', '36.231094'], ['111.82946', '36.230988'], ['111.829323', '36.230923'], ['111.829079', '36.230751'], ['111.8284', '36.230228'], ['111.827904', '36.229904'], ['111.827232', '36.229549'], ['111.827103', '36.229485'], ['111.826889', '36.229412'], ['111.826744', '36.229404'], ['111.826508', '36.229435'], ['111.82505', '36.229927'], ['111.824738', '36.230019'], ['111.824432', '36.230068'], ['111.823647', '36.230103'], ['111.821739', '36.230114'], ['111.821419', '36.23011'], ['111.821106', '36.230083'], ['111.820488', '36.229954'], ['111.820198', '36.229862'], ['111.819931', '36.229721'], ['111.818985', '36.229046'], ['111.818848', '36.228977'], ['111.818703', '36.228924'], ['111.81694', '36.228222'], ['111.816711', '36.228165'], ['111.816551', '36.228165'], ['111.816391', '36.228195'], ['111.81617', '36.228268'], ['111.811134', '36.229954'], ['111.809517', '36.230492'], ['111.808365', '36.230797'], ['111.80777', '36.230934'], ['111.806679', '36.231213'], ['111.805267', '36.231583'], ['111.804932', '36.231686'], ['111.803993', '36.231991'], ['111.802887', '36.232357'], ['111.802032', '36.232658'], ['111.801239', '36.23288'], ['111.800949', '36.23291'], ['111.800018', '36.233017'], ['111.79969', '36.233059'], ['111.798401', '36.233219'], ['111.797562', '36.233318'], ['111.796867', '36.233406'], ['111.795898', '36.233528'], ['111.793243', '36.233902'], ['111.793037', '36.233917'], ['111.792603', '36.233925'], ['111.791069', '36.233868'], ['111.789597', '36.233768'], ['111.789085', '36.233746'], ['111.78878', '36.233749'], ['111.786301', '36.233822'], ['111.784851', '36.233868'], ['111.783173', '36.233952'], ['111.781372', '36.234062'], ['111.77903', '36.23423'], ['111.778229', '36.234303'], ['111.77607', '36.234486'], ['111.774895', '36.234577'], ['111.774872', '36.234577'], ['111.772888', '36.23473'], ['111.771805', '36.234814'], ['111.770546', '36.234867'], ['111.768944', '36.234917'], ['111.76593', '36.235008'], ['111.765564', '36.235023'], ['111.764397', '36.235172'], ['111.761894', '36.235516'], ['111.761505', '36.235569'], ['111.758377', '36.236023'], ['111.758072', '36.236084'], ['111.757767', '36.23616'], ['111.756851', '36.236431'], ['111.756363', '36.236561'], ['111.755058', '36.236958'], ['111.754913', '36.237'], ['111.753616', '36.237431'], ['111.75293', '36.237713'], ['111.752625', '36.237839'], ['111.751328', '36.238411'], ['111.747559', '36.240044'], ['111.744171', '36.241524'], ['111.742287', '36.242317'], ['111.742012', '36.242409'], ['111.741852', '36.242439'], ['111.740616', '36.242657'], ['111.740257', '36.242714'], ['111.739967', '36.24276'], ['111.739281', '36.242882'], ['111.738579', '36.243004'], ['111.734665', '36.243656'], ['111.733185', '36.243893'], ['111.730949', '36.244259'], ['111.729561', '36.24448'], ['111.728951', '36.244549'], ['111.7285', '36.244579'], ['111.727753', '36.244621'], ['111.725166', '36.244762'], ['111.724922', '36.244793'], ['111.723763', '36.244835'], ['111.72097', '36.244976'], ['111.716682', '36.245186'], ['111.712677', '36.245365'], ['111.709946', '36.245495'], ['111.709305', '36.245525'], ['111.708992', '36.245556'], ['111.708984', '36.245556'], ['111.708206', '36.245686'], ['111.706154', '36.246071'], ['111.703514', '36.246567'], ['111.703041', '36.246624'], ['111.702652', '36.24667'], ['111.702225', '36.246704'], ['111.701736', '36.246681'], ['111.701736', '36.246681'], ['111.701927', '36.248165'], ['111.702019', '36.248753'], ['111.70208', '36.249302'], ['111.702171', '36.249908'], ['111.702194', '36.250137'], ['111.702599', '36.253124'], ['111.702629', '36.253387'], ['111.702682', '36.253784'], ['111.702827', '36.254875'], ['111.702835', '36.254974'], ['111.70295', '36.255802'], ['111.703026', '36.256348'], ['111.703049', '36.256546'], ['111.703308', '36.258511'], ['111.703362', '36.258968'], ['111.703407', '36.259346'], ['111.703468', '36.25975'], ['111.703491', '36.259876'], ['111.703529', '36.260151'], ['111.70385', '36.2626'], ['111.703918', '36.26313'], ['111.703964', '36.263443'], ['111.704079', '36.264328'], ['111.704239', '36.265354'], ['111.704338', '36.265869'], ['111.704346', '36.265903'], ['111.704544', '36.266663'], ['111.70475', '36.267353'], ['111.704895', '36.267845'], ['111.706017', '36.271103'], ['111.706688', '36.272984'], ['111.706718', '36.273083'], ['111.706863', '36.273521'], ['111.707367', '36.274975'], ['111.707611', '36.275604'], ['111.708046', '36.276852'], ['111.708252', '36.277451'], ['111.708984', '36.279518'], ['111.708992', '36.279564'], ['111.710014', '36.282497'], ['111.71019', '36.283058'], ['111.710358', '36.283859'], ['111.710434', '36.284561'], ['111.710457', '36.285084'], ['111.710495', '36.287762'], ['111.710495', '36.287838'], ['111.710495', '36.288242'], ['111.710518', '36.288544'], ['111.710564', '36.28904'], ['111.710632', '36.289478'], ['111.71067', '36.289715'], ['111.710899', '36.290524'], ['111.710999', '36.290806'], ['111.711082', '36.291065'], ['111.711334', '36.291607'], ['111.71154', '36.291992'], ['111.711937', '36.292652'], ['111.712204', '36.293041'], ['111.715485', '36.297859'], ['111.716072', '36.298752'], ['111.716118', '36.298828'], ['111.717133', '36.300308'], ['111.717415', '36.300766'], ['111.717972', '36.301796'], ['111.718399', '36.302742'], ['111.718704', '36.303429'], ['111.718895', '36.303974'], ['111.719109', '36.304539'], ['111.719521', '36.305729'], ['111.72007', '36.307312'], ['111.720177', '36.307594'], ['111.72097', '36.309814'], ['111.722427', '36.313908'], ['111.722717', '36.314751'], ['111.723328', '36.316448'], ['111.723618', '36.317249'], ['111.724014', '36.318218'], ['111.724205', '36.318584'], ['111.724312', '36.318817'], ['111.724693', '36.3195'], ['111.724945', '36.319893'], ['111.725601', '36.320797'], ['111.725723', '36.320972'], ['111.726654', '36.322144'], ['111.728096', '36.324028'], ['111.728737', '36.324905'], ['111.728928', '36.325165'], ['111.72937', '36.325893'], ['111.729813', '36.32674'], ['111.72998', '36.327156'], ['111.730202', '36.327759'], ['111.730362', '36.328308'], ['111.730515', '36.329067'], ['111.730598', '36.329617'], ['111.730682', '36.330387'], ['111.730728', '36.330681'], ['111.730789', '36.331402'], ['111.730835', '36.331783'], ['111.730873', '36.332203'], ['111.730949', '36.333046'], ['111.730957', '36.33316'], ['111.73098', '36.333302'], ['111.731026', '36.333839'], ['111.731049', '36.333946'], ['111.731087', '36.334343'], ['111.731133', '36.334614'], ['111.731133', '36.33469'], ['111.731155', '36.334919'], ['111.731216', '36.335499'], ['111.73127', '36.336033'], ['111.731285', '36.336666'], ['111.731262', '36.337063'], ['111.731209', '36.337444'], ['111.731133', '36.337761'], ['111.730995', '36.33815'], ['111.730949', '36.338242'], ['111.730927', '36.33831'], ['111.730835', '36.338505'], ['111.730675', '36.338776'], ['111.730499', '36.339031'], ['111.73024', '36.339359'], ['111.729858', '36.339764'], ['111.72953', '36.340038'], ['111.72934', '36.340183'], ['111.728844', '36.340488'], ['111.728439', '36.340691'], ['111.728073', '36.340847'], ['111.727432', '36.341057'], ['111.727219', '36.341106'], ['111.726639', '36.341209'], ['111.726212', '36.341263'], ['111.725716', '36.341286'], ['111.72509', '36.341267'], ['111.724579', '36.341209'], ['111.723686', '36.341061'], ['111.718018', '36.339928'], ['111.717445', '36.339836'], ['111.71656', '36.339756'], ['111.716064', '36.339741'], ['111.715668', '36.339745'], ['111.715302', '36.339764'], ['111.714699', '36.339809'], ['111.713928', '36.339912'], ['111.711357', '36.340332'], ['111.709061', '36.340729'], ['111.708984', '36.340736'], ['111.706863', '36.341084'], ['111.705826', '36.341259'], ['111.704491', '36.341484'], ['111.703606', '36.341652'], ['111.702957', '36.341812'], ['111.702606', '36.341934'], ['111.70224', '36.342079'], ['111.702026', '36.342182'], ['111.701607', '36.342403'], ['111.701111', '36.342743'], ['111.701073', '36.342773'], ['111.700615', '36.343151'], ['111.699661', '36.344059'], ['111.695518', '36.348038'], ['111.694962', '36.348629'], ['111.694588', '36.34911'], ['111.694374', '36.349468'], ['111.694145', '36.34996'], ['111.694008', '36.350403'], ['111.693916', '36.350857'], ['111.693657', '36.352581'], ['111.693497', '36.353756'], ['111.693321', '36.354897'], ['111.692551', '36.360088'], ['111.692535', '36.360203'], ['111.692513', '36.360264'], ['111.692474', '36.360607'], ['111.692383', '36.361191'], ['111.692268', '36.361977'], ['111.692215', '36.362335'], ['111.692078', '36.363354'], ['111.692047', '36.363819'], ['111.692032', '36.364292'], ['111.692032', '36.364746'], ['111.692055', '36.365314'], ['111.692261', '36.368511'], ['111.692322', '36.369362'], ['111.692383', '36.370281'], ['111.692398', '36.370979'], ['111.692398', '36.371239'], ['111.692421', '36.372089'], ['111.692383', '36.373928'], ['111.692268', '36.373928'], ['111.691994', '36.373943'], ['111.687965', '36.374176'], ['111.687767', '36.374184'], ['111.687012', '36.374229'], ['111.684402', '36.374401'], ['111.683182', '36.374477'], ['111.680962', '36.374615'], ['111.680161', '36.374683'], ['111.679893', '36.374725'], ['111.67762', '36.375183'], ['111.677162', '36.375317'], ['111.676964', '36.375477'], ['111.676811', '36.375702'], ['111.676804', '36.375729'], ['111.676735', '36.375908'], ['111.676567', '36.376904'], ['111.676117', '36.379475'], ['111.676056', '36.379997'], ['111.676071', '36.380295'], ['111.676079', '36.380436'], ['111.676605', '36.383812'], ['111.676659', '36.38438'], ['111.676651', '36.384495'], ['111.676605', '36.384827'], ['111.676605', '36.384827'], ['111.678421', '36.384659'], ['111.678551', '36.384644'], ['111.678551', '36.384644'], ['111.678703', '36.385475'], ['111.678703', '36.385475'], ['111.678009', '36.38559']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>