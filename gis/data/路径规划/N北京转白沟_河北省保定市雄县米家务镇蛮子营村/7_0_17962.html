<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.034241', '39.103104'], ['116.034363', '39.103058'], ['116.034363', '39.103058'], ['116.034523', '39.103321'], ['116.034523', '39.103321'], ['116.034714', '39.103279'], ['116.035225', '39.103176'], ['116.035278', '39.103184'], ['116.035378', '39.10323'], ['116.035591', '39.103352'], ['116.035645', '39.103222'], ['116.036613', '39.104023'], ['116.036797', '39.104195'], ['116.037598', '39.104813'], ['116.037735', '39.104923'], ['116.038704', '39.105652'], ['116.039085', '39.105995'], ['116.039345', '39.106251'], ['116.039589', '39.10659'], ['116.039665', '39.106724'], ['116.039726', '39.106853'], ['116.039841', '39.107151'], ['116.039909', '39.107471'], ['116.03994', '39.107689'], ['116.039955', '39.108021'], ['116.03994', '39.108173'], ['116.03994', '39.108173'], ['116.040115', '39.108494'], ['116.040222', '39.10865'], ['116.040642', '39.108898'], ['116.040833', '39.108921'], ['116.041122', '39.108952'], ['116.042038', '39.109051'], ['116.042252', '39.10907'], ['116.042801', '39.109135'], ['116.043053', '39.109154'], ['116.044388', '39.109306'], ['116.044792', '39.109348'], ['116.046089', '39.109482'], ['116.046356', '39.109516'], ['116.047256', '39.109608'], ['116.047485', '39.109631'], ['116.048096', '39.109699'], ['116.048798', '39.109753'], ['116.049545', '39.10981'], ['116.049622', '39.109814'], ['116.0513', '39.109978'], ['116.051514', '39.110001'], ['116.051765', '39.110027'], ['116.052711', '39.110115'], ['116.053085', '39.110146'], ['116.053909', '39.110218'], ['116.054581', '39.110275'], ['116.054825', '39.110298'], ['116.05526', '39.110352'], ['116.05574', '39.110401'], ['116.056786', '39.110497'], ['116.057381', '39.110561'], ['116.058899', '39.110706'], ['116.05957', '39.110779'], ['116.059944', '39.110817'], ['116.060646', '39.110886'], ['116.061081', '39.110928'], ['116.062035', '39.111023'], ['116.062874', '39.111107'], ['116.063332', '39.111172'], ['116.063477', '39.111141'], ['116.065048', '39.111298'], ['116.065331', '39.111328'], ['116.066673', '39.111454'], ['116.068314', '39.11161'], ['116.072762', '39.112072'], ['116.077171', '39.112507'], ['116.07901', '39.112686'], ['116.079559', '39.112728'], ['116.080078', '39.112785'], ['116.080513', '39.112831'], ['116.080612', '39.112835'], ['116.081535', '39.112923'], ['116.083519', '39.11311'], ['116.084015', '39.113159'], ['116.084953', '39.113255'], ['116.086433', '39.113407'], ['116.087662', '39.113537'], ['116.089226', '39.113674'], ['116.090385', '39.113796'], ['116.090775', '39.113831'], ['116.094177', '39.114159'], ['116.094437', '39.114182'], ['116.094963', '39.114239'], ['116.096916', '39.114429'], ['116.097504', '39.114494'], ['116.09761', '39.114544'], ['116.098701', '39.114655'], ['116.100967', '39.11488'], ['116.10144', '39.114922'], ['116.103523', '39.115116'], ['116.106361', '39.115406'], ['116.10984', '39.115734'], ['116.111763', '39.115925'], ['116.113159', '39.116039'], ['116.113976', '39.116138'], ['116.116089', '39.116341'], ['116.116615', '39.11639'], ['116.116982', '39.116428'], ['116.121048', '39.116817'], ['116.125076', '39.117203'], ['116.125481', '39.117249'], ['116.125885', '39.117294'], ['116.127716', '39.117455'], ['116.128708', '39.117546'], ['116.129929', '39.117668'], ['116.131187', '39.11779'], ['116.134834', '39.118137'], ['116.135193', '39.118172'], ['116.13678', '39.118317'], ['116.140541', '39.11869'], ['116.141502', '39.118801'], ['116.143456', '39.118977'], ['116.144173', '39.119034'], ['116.147461', '39.11935'], ['116.148575', '39.119476'], ['116.149696', '39.119667'], ['116.150154', '39.119755'], ['116.150833', '39.119968'], ['116.151375', '39.120144'], ['116.153786', '39.120945'], ['116.155914', '39.121666'], ['116.157768', '39.122311'], ['116.159241', '39.122818'], ['116.16095', '39.123432'], ['116.161499', '39.123627'], ['116.164513', '39.12463'], ['116.164688', '39.124699'], ['116.165398', '39.12495'], ['116.169434', '39.126343'], ['116.172615', '39.127434'], ['116.17337', '39.127708'], ['116.175034', '39.128265'], ['116.180611', '39.130188'], ['116.183113', '39.131046'], ['116.184204', '39.131428'], ['116.184738', '39.131615'], ['116.185097', '39.131725'], ['116.185692', '39.131939'], ['116.189629', '39.133297'], ['116.191406', '39.133915'], ['116.192101', '39.134148'], ['116.192924', '39.134445'], ['116.193947', '39.134804'], ['116.199776', '39.136803'], ['116.200737', '39.137146'], ['116.2015', '39.137409'], ['116.201805', '39.137501'], ['116.203438', '39.138062'], ['116.205147', '39.138645'], ['116.206505', '39.139114'], ['116.206848', '39.139225'], ['116.208801', '39.139893'], ['116.209671', '39.140186'], ['116.210327', '39.140419'], ['116.211235', '39.140728'], ['116.212112', '39.141026'], ['116.213203', '39.141365'], ['116.213379', '39.141415'], ['116.214035', '39.141621'], ['116.214035', '39.141621'], ['116.214806', '39.141476'], ['116.215401', '39.141369'], ['116.216476', '39.141174'], ['116.21685', '39.141098'], ['116.217079', '39.141037'], ['116.217316', '39.140945'], ['116.217705', '39.140785'], ['116.218483', '39.140434'], ['116.219421', '39.139988'], ['116.219421', '39.139988'], ['116.21933', '39.13641'], ['116.219299', '39.135193'], ['116.219299', '39.135193'], ['116.218246', '39.135132'], ['116.218246', '39.135132'], ['116.218307', '39.134098'], ['116.218307', '39.133812'], ['116.218269', '39.133461'], ['116.218102', '39.133297'], ['116.217972', '39.133179'], ['116.217232', '39.132721'], ['116.217194', '39.132664'], ['116.21714', '39.132622'], ['116.216835', '39.132488'], ['116.216835', '39.132488'], ['116.216881', '39.13232']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>