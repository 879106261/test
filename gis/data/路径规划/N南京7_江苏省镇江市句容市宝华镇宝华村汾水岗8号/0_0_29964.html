<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.372406', '32.171898'], ['119.372635', '32.171906'], ['119.372673', '32.17189'], ['119.372734', '32.171795'], ['119.372734', '32.171795'], ['119.373901', '32.171986'], ['119.373901', '32.171986'], ['119.373955', '32.171963'], ['119.374023', '32.171959'], ['119.374123', '32.172005'], ['119.374161', '32.172043'], ['119.374176', '32.172092'], ['119.374168', '32.172146'], ['119.374153', '32.172188'], ['119.374153', '32.172188'], ['119.374435', '32.172253'], ['119.374672', '32.172268'], ['119.374962', '32.172337'], ['119.374962', '32.172337'], ['119.375038', '32.171974'], ['119.375175', '32.171383'], ['119.375175', '32.171303'], ['119.375122', '32.17107'], ['119.375122', '32.17107'], ['119.375031', '32.171005'], ['119.374969', '32.170929'], ['119.374931', '32.170853'], ['119.374931', '32.170853'], ['119.374329', '32.170757'], ['119.374001', '32.170712'], ['119.373337', '32.17062'], ['119.372772', '32.170555'], ['119.372269', '32.170502'], ['119.369637', '32.170132'], ['119.367897', '32.169868'], ['119.366959', '32.169704'], ['119.366112', '32.16954'], ['119.365402', '32.169384'], ['119.363815', '32.169006'], ['119.362442', '32.168644'], ['119.361153', '32.168255'], ['119.360275', '32.167969'], ['119.35968', '32.167755'], ['119.358948', '32.1675'], ['119.358131', '32.167183'], ['119.357521', '32.166935'], ['119.356407', '32.166462'], ['119.355469', '32.166039'], ['119.355309', '32.165958'], ['119.354515', '32.165577'], ['119.353363', '32.164989'], ['119.353134', '32.164867'], ['119.352913', '32.164749'], ['119.351059', '32.163734'], ['119.350853', '32.163616'], ['119.348282', '32.162205'], ['119.348137', '32.162128'], ['119.34581', '32.160877'], ['119.345352', '32.160641'], ['119.344482', '32.160252'], ['119.344025', '32.160065'], ['119.343132', '32.159744'], ['119.342499', '32.15955'], ['119.34182', '32.159363'], ['119.341309', '32.159241'], ['119.34082', '32.159134'], ['119.340424', '32.159061'], ['119.339592', '32.158932'], ['119.339157', '32.158878'], ['119.338249', '32.158802'], ['119.337349', '32.158768'], ['119.336105', '32.158775'], ['119.33493', '32.15884'], ['119.334251', '32.158878'], ['119.333496', '32.158886'], ['119.333191', '32.158878'], ['119.33313', '32.158875'], ['119.332176', '32.158817'], ['119.331291', '32.158703'], ['119.330696', '32.158592'], ['119.330215', '32.158497'], ['119.329147', '32.158218'], ['119.328674', '32.158073'], ['119.328018', '32.157837'], ['119.327385', '32.157581'], ['119.326996', '32.157413'], ['119.325989', '32.156979'], ['119.324677', '32.156399'], ['119.323029', '32.155678'], ['119.318047', '32.153511'], ['119.317619', '32.153351'], ['119.316628', '32.153038'], ['119.316422', '32.152977'], ['119.315804', '32.152863'], ['119.315208', '32.152775'], ['119.314636', '32.15271'], ['119.31414', '32.152672'], ['119.313354', '32.15266'], ['119.31208', '32.152729'], ['119.312019', '32.152737'], ['119.311546', '32.152779'], ['119.311523', '32.152779'], ['119.309547', '32.152943'], ['119.309105', '32.152969'], ['119.308807', '32.152992'], ['119.307671', '32.153072'], ['119.307381', '32.153091'], ['119.304825', '32.153206'], ['119.30378', '32.153244'], ['119.302299', '32.153294'], ['119.29821', '32.153446'], ['119.295326', '32.153553'], ['119.295158', '32.153561'], ['119.293839', '32.153606'], ['119.289841', '32.153755'], ['119.289543', '32.153767'], ['119.289047', '32.15379'], ['119.286842', '32.153866'], ['119.285843', '32.153885'], ['119.284676', '32.153904'], ['119.284554', '32.153904'], ['119.282677', '32.153866'], ['119.280067', '32.153755'], ['119.279732', '32.153744'], ['119.277946', '32.153633'], ['119.275002', '32.153481'], ['119.271248', '32.153271'], ['119.267838', '32.153088'], ['119.267586', '32.153069'], ['119.266853', '32.153019'], ['119.266151', '32.152973'], ['119.262978', '32.152699'], ['119.262177', '32.15263'], ['119.258133', '32.152264'], ['119.257767', '32.152225'], ['119.256523', '32.152115'], ['119.255714', '32.152046'], ['119.255272', '32.152008'], ['119.251038', '32.151615'], ['119.250145', '32.151535'], ['119.248344', '32.151379'], ['119.247375', '32.151287'], ['119.246605', '32.151218'], ['119.245598', '32.151131'], ['119.24456', '32.151043'], ['119.244179', '32.150997'], ['119.243599', '32.150951'], ['119.242462', '32.150856'], ['119.242119', '32.150833'], ['119.241386', '32.150814'], ['119.240349', '32.150829'], ['119.239975', '32.150852'], ['119.237762', '32.151016'], ['119.23687', '32.151085'], ['119.236099', '32.15115'], ['119.235764', '32.151176'], ['119.235199', '32.151226'], ['119.234489', '32.151283'], ['119.231079', '32.151558'], ['119.229263', '32.151703'], ['119.229065', '32.151722'], ['119.228439', '32.151783'], ['119.226318', '32.151955'], ['119.223686', '32.152172'], ['119.223633', '32.152172'], ['119.218597', '32.152584'], ['119.218521', '32.152588'], ['119.21833', '32.152603'], ['119.211494', '32.153156'], ['119.210838', '32.153198'], ['119.209679', '32.153244'], ['119.209229', '32.153248'], ['119.20826', '32.153221'], ['119.207321', '32.15316'], ['119.206642', '32.153095'], ['119.2061', '32.153023'], ['119.204948', '32.152851'], ['119.203972', '32.152653'], ['119.203011', '32.152412'], ['119.201859', '32.152084'], ['119.20166', '32.15202'], ['119.200607', '32.151691'], ['119.19606', '32.150269'], ['119.195183', '32.150021'], ['119.194496', '32.149845'], ['119.192993', '32.149475'], ['119.191681', '32.149197'], ['119.182709', '32.147541'], ['119.181976', '32.147408'], ['119.181343', '32.147289'], ['119.180748', '32.147182'], ['119.179688', '32.146988'], ['119.179146', '32.146889'], ['119.178673', '32.146797'], ['119.178047', '32.146683'], ['119.177223', '32.146534'], ['119.17495', '32.146114'], ['119.174301', '32.145992'], ['119.167076', '32.144676'], ['119.158417', '32.143082'], ['119.157715', '32.142952'], ['119.156181', '32.142681'], ['119.155121', '32.142521'], ['119.15403', '32.142387'], ['119.152863', '32.142288'], ['119.152168', '32.142246'], ['119.151306', '32.142204'], ['119.149529', '32.142197'], ['119.148788', '32.14222'], ['119.147194', '32.142262'], ['119.14328', '32.142387'], ['119.142563', '32.142395'], ['119.141411', '32.142357'], ['119.140862', '32.14233'], ['119.139763', '32.142223'], ['119.139252', '32.142166'], ['119.138077', '32.141968'], ['119.137398', '32.141827'], ['119.136703', '32.141666'], ['119.136116', '32.141502'], ['119.135742', '32.141399'], ['119.135246', '32.141243'], ['119.131851', '32.140133'], ['119.131287', '32.139965'], ['119.13047', '32.139763'], ['119.129753', '32.13961'], ['119.128815', '32.139488'], ['119.127983', '32.13942'], ['119.127403', '32.139404'], ['119.126663', '32.139404'], ['119.125778', '32.139477'], ['119.125221', '32.139542'], ['119.124641', '32.139637'], ['119.123894', '32.13979'], ['119.122879', '32.140064'], ['119.122353', '32.140244'], ['119.121582', '32.140556'], ['119.121063', '32.140781'], ['119.119652', '32.141445'], ['119.119034', '32.141743'], ['119.11853', '32.141987'], ['119.118301', '32.14209'], ['119.116692', '32.142864'], ['119.115639', '32.143379'], ['119.11377', '32.144268'], ['119.112656', '32.144794'], ['119.112045', '32.145092'], ['119.110153', '32.145992'], ['119.110146', '32.145996'], ['119.106201', '32.147881'], ['119.105286', '32.148296'], ['119.104813', '32.148487'], ['119.103935', '32.148769'], ['119.103508', '32.148888'], ['119.103081', '32.148979'], ['119.102257', '32.149128'], ['119.10199', '32.149147'], ['119.101593', '32.149197'], ['119.100937', '32.149239'], ['119.100372', '32.149246'], ['119.099655', '32.149235'], ['119.092567', '32.14901'], ['119.092621', '32.148911'], ['119.098785', '32.149105'], ['119.100243', '32.149143'], ['119.100677', '32.149143'], ['119.101585', '32.149101'], ['119.101982', '32.149059'], ['119.102776', '32.148945'], ['119.103485', '32.148785'], ['119.104355', '32.14854'], ['119.105034', '32.148289'], ['119.106148', '32.147793'], ['119.109917', '32.145992'], ['119.111877', '32.145054'], ['119.111877', '32.145054'], ['119.111725', '32.144722'], ['119.111725', '32.144722'], ['119.111259', '32.144718']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>