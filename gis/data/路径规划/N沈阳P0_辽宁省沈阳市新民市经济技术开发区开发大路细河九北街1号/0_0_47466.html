<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['123.568542', '41.887566'], ['123.568527', '41.887917'], ['123.568527', '41.887917'], ['123.568268', '41.888008'], ['123.567856', '41.888123'], ['123.567543', '41.88821'], ['123.567299', '41.888252'], ['123.566948', '41.88829'], ['123.566353', '41.88829'], ['123.565063', '41.888298'], ['123.564819', '41.888298'], ['123.563545', '41.888302'], ['123.562912', '41.888325'], ['123.562462', '41.888355'], ['123.561378', '41.888462'], ['123.560638', '41.888535'], ['123.560349', '41.888569'], ['123.55912', '41.888668'], ['123.557259', '41.888783'], ['123.55722', '41.888821'], ['123.556656', '41.889015'], ['123.555031', '41.889511'], ['123.55455', '41.889645'], ['123.554184', '41.889744'], ['123.55378', '41.889866'], ['123.552834', '41.890152'], ['123.552422', '41.890285'], ['123.552238', '41.890343'], ['123.552139', '41.890373'], ['123.550865', '41.890774'], ['123.550507', '41.890862'], ['123.550484', '41.890865'], ['123.550224', '41.890915'], ['123.549797', '41.890965'], ['123.549446', '41.890984'], ['123.547813', '41.890923'], ['123.54744', '41.890945'], ['123.547127', '41.890987'], ['123.546326', '41.891148'], ['123.545807', '41.891258'], ['123.545715', '41.891277'], ['123.543976', '41.89164'], ['123.543816', '41.891674'], ['123.543144', '41.891846'], ['123.54277', '41.891945'], ['123.542358', '41.892105'], ['123.541977', '41.892262'], ['123.540283', '41.893063'], ['123.540215', '41.893097'], ['123.537903', '41.894203'], ['123.537674', '41.89431'], ['123.535645', '41.895283'], ['123.535362', '41.895397'], ['123.535278', '41.895439'], ['123.534927', '41.895576'], ['123.534035', '41.895889'], ['123.532852', '41.896259'], ['123.531342', '41.896755'], ['123.530273', '41.89711'], ['123.529411', '41.897392'], ['123.528122', '41.897758'], ['123.527451', '41.897945'], ['123.526909', '41.898106'], ['123.52681', '41.898144'], ['123.522415', '41.899364'], ['123.521614', '41.899616'], ['123.521614', '41.899616'], ['123.522346', '41.901142'], ['123.522224', '41.901196'], ['123.521477', '41.901508'], ['123.520828', '41.901737'], ['123.520737', '41.901783'], ['123.520645', '41.901852'], ['123.520576', '41.901939'], ['123.520195', '41.902485'], ['123.520042', '41.902588'], ['123.519913', '41.902649'], ['123.516914', '41.90361'], ['123.516228', '41.903824'], ['123.514862', '41.90427'], ['123.513985', '41.904484'], ['123.513245', '41.904587'], ['123.512474', '41.904671'], ['123.510658', '41.9049'], ['123.509277', '41.905083'], ['123.50872', '41.905178'], ['123.508301', '41.905289'], ['123.508011', '41.905373'], ['123.507637', '41.905499'], ['123.507195', '41.905697'], ['123.506981', '41.905819'], ['123.506638', '41.905979'], ['123.506302', '41.90609'], ['123.505959', '41.906193'], ['123.505493', '41.906303'], ['123.504417', '41.906506'], ['123.503166', '41.906746'], ['123.502579', '41.906872'], ['123.501404', '41.907219'], ['123.500633', '41.907475'], ['123.500023', '41.907646'], ['123.499344', '41.907883'], ['123.499199', '41.90799'], ['123.49807', '41.907013'], ['123.496758', '41.90588'], ['123.493378', '41.902847'], ['123.492592', '41.902168'], ['123.492241', '41.901852'], ['123.491936', '41.901581'], ['123.491402', '41.901089'], ['123.49054', '41.900326'], ['123.49054', '41.900326'], ['123.490364', '41.900303'], ['123.49025', '41.900257'], ['123.490089', '41.900223'], ['123.489967', '41.900223'], ['123.489845', '41.900242'], ['123.489761', '41.900276'], ['123.489655', '41.900333'], ['123.489594', '41.900391'], ['123.489517', '41.900463'], ['123.489464', '41.900558'], ['123.489433', '41.900665'], ['123.489403', '41.900787'], ['123.489395', '41.900925'], ['123.48941', '41.901054'], ['123.489456', '41.901199'], ['123.489563', '41.901447'], ['123.489754', '41.901844'], ['123.489761', '41.901852'], ['123.489975', '41.902199'], ['123.489975', '41.902309'], ['123.490074', '41.90247'], ['123.490189', '41.90263'], ['123.49057', '41.903'], ['123.490807', '41.903206'], ['123.491081', '41.903423'], ['123.491081', '41.903423'], ['123.491257', '41.903564'], ['123.491707', '41.903896'], ['123.491867', '41.904003'], ['123.492302', '41.904263'], ['123.492737', '41.904476'], ['123.493286', '41.904701'], ['123.493286', '41.904701'], ['123.493591', '41.904831'], ['123.493858', '41.904942'], ['123.494415', '41.905243'], ['123.494621', '41.905369'], ['123.494919', '41.905563'], ['123.495102', '41.905712'], ['123.495384', '41.905945'], ['123.495674', '41.906204'], ['123.495811', '41.906364'], ['123.495888', '41.906483'], ['123.495956', '41.906654'], ['123.495979', '41.906738'], ['123.495979', '41.906849'], ['123.495972', '41.906975'], ['123.495956', '41.90704'], ['123.495903', '41.907146'], ['123.495857', '41.907219'], ['123.495819', '41.907269'], ['123.495735', '41.907356'], ['123.495682', '41.90741'], ['123.495552', '41.90749'], ['123.495338', '41.907585'], ['123.49527', '41.907608'], ['123.495079', '41.907654'], ['123.494896', '41.907673'], ['123.494637', '41.907658'], ['123.494293', '41.907608'], ['123.49369', '41.907505'], ['123.493393', '41.907486'], ['123.493156', '41.907471'], ['123.492859', '41.907486'], ['123.492584', '41.907513'], ['123.492249', '41.907566'], ['123.491966', '41.907646'], ['123.49118', '41.907875'], ['123.48877', '41.908852'], ['123.486328', '41.909847'], ['123.485817', '41.910046'], ['123.482391', '41.911388'], ['123.4823', '41.911396'], ['123.479805', '41.912388'], ['123.47921', '41.912621'], ['123.478561', '41.912842'], ['123.478241', '41.912941'], ['123.476807', '41.91333'], ['123.476295', '41.913429'], ['123.475494', '41.913555'], ['123.474907', '41.913609'], ['123.474106', '41.913666'], ['123.473679', '41.913681'], ['123.472588', '41.913658'], ['123.472061', '41.913616'], ['123.471291', '41.913525'], ['123.470612', '41.913422'], ['123.469505', '41.913204'], ['123.467964', '41.912842'], ['123.465881', '41.91235'], ['123.464355', '41.91198'], ['123.454826', '41.909695'], ['123.453789', '41.909439'], ['123.452972', '41.909241'], ['123.451332', '41.908848'], ['123.447899', '41.908031'], ['123.446159', '41.907585'], ['123.445351', '41.90736'], ['123.444992', '41.907272'], ['123.444656', '41.907169'], ['123.442383', '41.90649'], ['123.442123', '41.906403'], ['123.440842', '41.905991'], ['123.439629', '41.905575'], ['123.43885', '41.905304'], ['123.437645', '41.904854'], ['123.435974', '41.90419'], ['123.434593', '41.903622'], ['123.43029', '41.901852'], ['123.428177', '41.900974'], ['123.427704', '41.900784'], ['123.426399', '41.900242'], ['123.425797', '41.899963'], ['123.425407', '41.899799'], ['123.424034', '41.899193'], ['123.423042', '41.898769'], ['123.42041', '41.897675'], ['123.420006', '41.897507'], ['123.4188', '41.897018'], ['123.417343', '41.896458'], ['123.414375', '41.895351'], ['123.406563', '41.892494'], ['123.404121', '41.891613'], ['123.403358', '41.891357'], ['123.401962', '41.890865'], ['123.401672', '41.890766'], ['123.398705', '41.889683'], ['123.398438', '41.889584'], ['123.394905', '41.88829'], ['123.392967', '41.887569'], ['123.390656', '41.886635'], ['123.388283', '41.885616'], ['123.381577', '41.882591'], ['123.381126', '41.88242'], ['123.380608', '41.882164'], ['123.379822', '41.881817'], ['123.378761', '41.881378'], ['123.37664', '41.880527'], ['123.376465', '41.880463'], ['123.374863', '41.879894'], ['123.374825', '41.879883'], ['123.37326', '41.879345'], ['123.37278', '41.879192'], ['123.372314', '41.879047'], ['123.371513', '41.878803'], ['123.370728', '41.878574'], ['123.37011', '41.878414'], ['123.367485', '41.877708'], ['123.365837', '41.877331'], ['123.365028', '41.877144'], ['123.361855', '41.876434'], ['123.35994', '41.876003'], ['123.358627', '41.875656'], ['123.357666', '41.875374'], ['123.357155', '41.875214'], ['123.356277', '41.874886'], ['123.355042', '41.874359'], ['123.354492', '41.874092'], ['123.354263', '41.873981'], ['123.353134', '41.873375'], ['123.352379', '41.87291'], ['123.351913', '41.872608'], ['123.351196', '41.872101'], ['123.348869', '41.87038'], ['123.346931', '41.868916'], ['123.346909', '41.868893'], ['123.346451', '41.868549'], ['123.346207', '41.868359'], ['123.345947', '41.868164'], ['123.342651', '41.865688'], ['123.341591', '41.864933'], ['123.340782', '41.864376'], ['123.33783', '41.862335'], ['123.336197', '41.861111'], ['123.332512', '41.858284'], ['123.332024', '41.857906'], ['123.328827', '41.855453'], ['123.327568', '41.854496'], ['123.326805', '41.853958'], ['123.325974', '41.853432'], ['123.325317', '41.853065'], ['123.324059', '41.852486'], ['123.32354', '41.85228'], ['123.323036', '41.852108'], ['123.322296', '41.851879'], ['123.321716', '41.851723'], ['123.320755', '41.851505'], ['123.319832', '41.851341'], ['123.319061', '41.851223'], ['123.310555', '41.850113'], ['123.305099', '41.8494'], ['123.301888', '41.848961'], ['123.300179', '41.848637'], ['123.299774', '41.848545'], ['123.298729', '41.848286'], ['123.298126', '41.848095'], ['123.297295', '41.847813'], ['123.296371', '41.847412'], ['123.29567', '41.847065'], ['123.29541', '41.846924'], ['123.295334', '41.846874'], ['123.29438', '41.846252'], ['123.29409', '41.846039'], ['123.293457', '41.845539'], ['123.292389', '41.844582'], ['123.291641', '41.84383'], ['123.290962', '41.843079'], ['123.290131', '41.842064'], ['123.288567', '41.840023'], ['123.288261', '41.839607'], ['123.285461', '41.835938'], ['123.285408', '41.835873'], ['123.285225', '41.835636'], ['123.284454', '41.834595'], ['123.283325', '41.833111'], ['123.281815', '41.831146'], ['123.280792', '41.829762'], ['123.280014', '41.828644'], ['123.279678', '41.828102'], ['123.279251', '41.827316'], ['123.278809', '41.826378'], ['123.278503', '41.825645'], ['123.278305', '41.825039'], ['123.278275', '41.824947'], ['123.278175', '41.824619'], ['123.277885', '41.82349'], ['123.277802', '41.823006'], ['123.27774', '41.822495'], ['123.277618', '41.821106'], ['123.277565', '41.819351'], ['123.277504', '41.813965'], ['123.277504', '41.813782'], ['123.277473', '41.812492'], ['123.27742', '41.811539'], ['123.277344', '41.810841'], ['123.277199', '41.809933'], ['123.277077', '41.80941'], ['123.276932', '41.808849'], ['123.276367', '41.806984'], ['123.275322', '41.803646'], ['123.275124', '41.802979'], ['123.274994', '41.802547'], ['123.274895', '41.80225'], ['123.274704', '41.801609'], ['123.274506', '41.800972'], ['123.274078', '41.799591'], ['123.273354', '41.797295'], ['123.273224', '41.796841'], ['123.272835', '41.79557'], ['123.272491', '41.79443'], ['123.272377', '41.794029'], ['123.272026', '41.792805'], ['123.271935', '41.792381'], ['123.271881', '41.792004'], ['123.271873', '41.791992'], ['123.271858', '41.791908'], ['123.271851', '41.791737'], ['123.27182', '41.791164'], ['123.271843', '41.790722'], ['123.271904', '41.790211'], ['123.272018', '41.789597'], ['123.272247', '41.788857'], ['123.272392', '41.788521'], ['123.272392', '41.788521'], ['123.272446', '41.788185'], ['123.272453', '41.788052'], ['123.272606', '41.787682'], ['123.27317', '41.786381'], ['123.273247', '41.786209'], ['123.27327', '41.786045'], ['123.273293', '41.785931'], ['123.273293', '41.785782'], ['123.27327', '41.785652'], ['123.273224', '41.785488'], ['123.27301', '41.78492'], ['123.272934', '41.78463'], ['123.272888', '41.784485'], ['123.272881', '41.784332'], ['123.272888', '41.784023'], ['123.272919', '41.783836'], ['123.27301', '41.783386'], ['123.27301', '41.783386'], ['123.273079', '41.783226'], ['123.27317', '41.782982'], ['123.273315', '41.782703'], ['123.273331', '41.782604'], ['123.273422', '41.782173'], ['123.273422', '41.782173'], ['123.271698', '41.782204'], ['123.270554', '41.782303'], ['123.268799', '41.782585'], ['123.267403', '41.782791'], ['123.266602', '41.782898'], ['123.266563', '41.782902'], ['123.264275', '41.783184'], ['123.263687', '41.783276'], ['123.263481', '41.78331'], ['123.262291', '41.783497'], ['123.262207', '41.783432'], ['123.262207', '41.783043'], ['123.262207', '41.782295'], ['123.262192', '41.781639'], ['123.262207', '41.781063'], ['123.262207', '41.781006'], ['123.262207', '41.780937'], ['123.262192', '41.779758'], ['123.262192', '41.779705'], ['123.262192', '41.779263'], ['123.262192', '41.778805'], ['123.262192', '41.778545'], ['123.262184', '41.777908'], ['123.262177', '41.776764'], ['123.262177', '41.775467'], ['123.262169', '41.774479'], ['123.262169', '41.773937'], ['123.262169', '41.773148'], ['123.262161', '41.772839'], ['123.262161', '41.772499'], ['123.262161', '41.771614'], ['123.262161', '41.770649'], ['123.262154', '41.77002'], ['123.262154', '41.769772'], ['123.262154', '41.768467'], ['123.262154', '41.767822'], ['123.262146', '41.767124'], ['123.262131', '41.766743'], ['123.262115', '41.76545'], ['123.262115', '41.76545'], ['123.260979', '41.765453'], ['123.259499', '41.765453'], ['123.258202', '41.765457'], ['123.256836', '41.765465'], ['123.256714', '41.765465'], ['123.255814', '41.765465'], ['123.255524', '41.765465'], ['123.254707', '41.765465'], ['123.254044', '41.765465'], ['123.253395', '41.765465'], ['123.249413', '41.765476'], ['123.247154', '41.765476'], ['123.246445', '41.765491'], ['123.245796', '41.765556'], ['123.245796', '41.765556'], ['123.245735', '41.765644'], ['123.24559', '41.765766'], ['123.245476', '41.765804'], ['123.245277', '41.765839'], ['123.245079', '41.765831'], ['123.244896', '41.765793'], ['123.244766', '41.765701'], ['123.244652', '41.765614'], ['123.244652', '41.765614'], ['123.244621', '41.76561'], ['123.244331', '41.765537'], ['123.244034', '41.765488'], ['123.242371', '41.765491'], ['123.24205', '41.765491'], ['123.239967', '41.765507'], ['123.237526', '41.765507'], ['123.234718', '41.765511'], ['123.231644', '41.765514'], ['123.230362', '41.765514'], ['123.229561', '41.765518'], ['123.227859', '41.765526'], ['123.227547', '41.765526'], ['123.225601', '41.765537'], ['123.225487', '41.765537'], ['123.224686', '41.765533'], ['123.223549', '41.765511'], ['123.222656', '41.765484'], ['123.222183', '41.765465'], ['123.220871', '41.765381'], ['123.219307', '41.765247'], ['123.219208', '41.76524'], ['123.213181', '41.764717'], ['123.212364', '41.764645'], ['123.212212', '41.764626'], ['123.209785', '41.764423'], ['123.208878', '41.764343'], ['123.207993', '41.764267'], ['123.205574', '41.764'], ['123.20549', '41.763992'], ['123.204575', '41.763874'], ['123.203888', '41.763783'], ['123.203766', '41.763763'], ['123.202782', '41.763607'], ['123.2015', '41.763401'], ['123.200684', '41.763245'], ['123.200417', '41.763199'], ['123.197449', '41.762615'], ['123.196068', '41.762348'], ['123.194092', '41.761959'], ['123.189163', '41.76099'], ['123.186943', '41.760555'], ['123.186409', '41.760452'], ['123.185333', '41.760235'], ['123.184937', '41.760155'], ['123.182472', '41.759666'], ['123.180855', '41.759331'], ['123.180092', '41.759136'], ['123.179718', '41.759029'], ['123.179077', '41.758854'], ['123.178711', '41.758732'], ['123.177559', '41.758339'], ['123.176277', '41.757835'], ['123.175621', '41.757542'], ['123.17437', '41.756943'], ['123.173912', '41.75668'], ['123.173859', '41.756649'], ['123.173012', '41.756172'], ['123.172607', '41.755924'], ['123.171799', '41.755394'], ['123.170258', '41.754368'], ['123.16938', '41.753788'], ['123.169289', '41.753719'], ['123.167259', '41.752373'], ['123.166656', '41.751965'], ['123.166527', '41.751881'], ['123.16629', '41.751724'], ['123.164246', '41.750351'], ['123.164169', '41.750301'], ['123.16291', '41.749458'], ['123.162239', '41.749012'], ['123.160957', '41.748165'], ['123.160782', '41.748051'], ['123.158943', '41.746807'], ['123.158371', '41.746441'], ['123.158249', '41.746361'], ['123.158142', '41.746284'], ['123.15741', '41.745831']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>