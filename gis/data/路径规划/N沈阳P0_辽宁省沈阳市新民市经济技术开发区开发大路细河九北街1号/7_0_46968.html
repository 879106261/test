<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['123.568542', '41.887566'], ['123.568527', '41.887917'], ['123.568527', '41.887917'], ['123.568268', '41.888008'], ['123.567856', '41.888123'], ['123.567543', '41.88821'], ['123.567299', '41.888252'], ['123.566948', '41.88829'], ['123.566353', '41.88829'], ['123.565063', '41.888298'], ['123.564819', '41.888298'], ['123.563545', '41.888302'], ['123.562912', '41.888325'], ['123.562462', '41.888355'], ['123.561378', '41.888462'], ['123.560638', '41.888535'], ['123.560349', '41.888569'], ['123.55912', '41.888668'], ['123.557259', '41.888783'], ['123.55722', '41.888821'], ['123.556656', '41.889015'], ['123.555031', '41.889511'], ['123.55455', '41.889645'], ['123.554184', '41.889744'], ['123.55378', '41.889866'], ['123.552834', '41.890152'], ['123.552422', '41.890285'], ['123.552238', '41.890343'], ['123.552139', '41.890373'], ['123.550865', '41.890774'], ['123.550507', '41.890862'], ['123.550484', '41.890865'], ['123.550224', '41.890915'], ['123.549797', '41.890965'], ['123.549446', '41.890984'], ['123.547813', '41.890923'], ['123.54744', '41.890945'], ['123.547127', '41.890987'], ['123.546326', '41.891148'], ['123.545807', '41.891258'], ['123.545715', '41.891277'], ['123.543976', '41.89164'], ['123.543816', '41.891674'], ['123.543144', '41.891846'], ['123.54277', '41.891945'], ['123.542358', '41.892105'], ['123.541977', '41.892262'], ['123.540283', '41.893063'], ['123.540215', '41.893097'], ['123.537903', '41.894203'], ['123.537674', '41.89431'], ['123.535645', '41.895283'], ['123.535362', '41.895397'], ['123.535172', '41.895351'], ['123.534882', '41.895145'], ['123.534348', '41.894684'], ['123.533638', '41.893944'], ['123.53318', '41.893436'], ['123.532326', '41.892467'], ['123.531822', '41.891888'], ['123.531052', '41.89101'], ['123.530922', '41.890865'], ['123.53051', '41.890419'], ['123.530273', '41.890186'], ['123.52993', '41.889854'], ['123.529366', '41.889366'], ['123.529121', '41.889141'], ['123.528549', '41.88866'], ['123.528305', '41.888435'], ['123.527298', '41.88744'], ['123.527061', '41.88718'], ['123.526779', '41.886818'], ['123.52655', '41.886524'], ['123.526009', '41.885887'], ['123.525543', '41.885422'], ['123.524963', '41.884872'], ['123.524078', '41.884125'], ['123.523758', '41.883827'], ['123.523354', '41.883461'], ['123.522972', '41.883099'], ['123.522812', '41.882957'], ['123.522179', '41.882359'], ['123.520668', '41.880867'], ['123.519661', '41.879883'], ['123.519096', '41.879311'], ['123.51841', '41.878635'], ['123.518127', '41.878342'], ['123.517769', '41.87796'], ['123.517479', '41.877617'], ['123.517273', '41.877361'], ['123.516983', '41.87701'], ['123.515823', '41.875484'], ['123.513855', '41.872917'], ['123.513184', '41.871986'], ['123.512871', '41.871479'], ['123.512695', '41.871075'], ['123.512512', '41.870617'], ['123.512291', '41.869759'], ['123.512108', '41.868893'], ['123.511864', '41.867775'], ['123.511826', '41.867516'], ['123.511795', '41.867432'], ['123.511185', '41.864483'], ['123.511093', '41.864086'], ['123.511078', '41.864025'], ['123.510857', '41.863346'], ['123.510513', '41.862595'], ['123.510231', '41.862095'], ['123.510101', '41.8619'], ['123.508957', '41.860039'], ['123.508797', '41.859756'], ['123.508553', '41.859253'], ['123.508301', '41.858528'], ['123.508293', '41.858517'], ['123.50808', '41.857906'], ['123.508003', '41.857681'], ['123.50769', '41.85677'], ['123.507385', '41.855862'], ['123.507256', '41.855392'], ['123.507179', '41.854885'], ['123.507164', '41.854408'], ['123.507225', '41.853931'], ['123.50737', '41.852863'], ['123.507378', '41.852482'], ['123.507339', '41.852066'], ['123.507179', '41.851425'], ['123.506874', '41.850479'], ['123.506592', '41.849686'], ['123.506508', '41.849541'], ['123.506386', '41.849426'], ['123.505943', '41.849106'], ['123.505707', '41.848911'], ['123.505272', '41.848534'], ['123.504784', '41.848125'], ['123.503433', '41.846924'], ['123.502045', '41.84568'], ['123.501755', '41.845402'], ['123.501518', '41.845116'], ['123.501328', '41.844852'], ['123.501068', '41.84441'], ['123.500366', '41.84309'], ['123.500366', '41.84309'], ['123.498932', '41.843494'], ['123.497726', '41.843842'], ['123.497726', '41.843842'], ['123.497612', '41.843967'], ['123.495583', '41.844543'], ['123.493584', '41.845116'], ['123.493279', '41.845066'], ['123.489502', '41.846222'], ['123.487114', '41.846924'], ['123.486328', '41.847153'], ['123.484192', '41.847771'], ['123.482925', '41.848137'], ['123.480583', '41.848801'], ['123.478745', '41.849319'], ['123.478592', '41.849415'], ['123.478516', '41.849434'], ['123.478409', '41.849468'], ['123.477859', '41.849628'], ['123.476646', '41.849983'], ['123.475845', '41.850216'], ['123.474716', '41.850533'], ['123.474174', '41.850685'], ['123.4739', '41.850769'], ['123.473076', '41.851013'], ['123.472214', '41.851273'], ['123.471916', '41.851364'], ['123.470688', '41.851719'], ['123.470688', '41.851719'], ['123.468987', '41.8522'], ['123.468513', '41.852329'], ['123.468224', '41.85239'], ['123.467606', '41.852493'], ['123.467209', '41.852524'], ['123.466492', '41.852554'], ['123.465744', '41.852531'], ['123.464355', '41.85247'], ['123.446808', '41.851677'], ['123.446159', '41.85165'], ['123.4459', '41.851635'], ['123.442383', '41.851479'], ['123.44146', '41.851437'], ['123.440231', '41.851387'], ['123.439812', '41.851395'], ['123.439423', '41.851433'], ['123.438988', '41.85154'], ['123.438614', '41.851685'], ['123.438354', '41.851822'], ['123.43824', '41.851906'], ['123.43795', '41.852173'], ['123.437759', '41.852409'], ['123.43766', '41.852585'], ['123.437553', '41.852901'], ['123.437096', '41.854603'], ['123.436646', '41.8563'], ['123.436508', '41.856754'], ['123.436211', '41.857624'], ['123.436119', '41.857906'], ['123.43586', '41.858585'], ['123.435478', '41.85952'], ['123.434669', '41.861565'], ['123.434456', '41.862061'], ['123.434296', '41.862392'], ['123.434212', '41.862518'], ['123.434044', '41.862713'], ['123.433891', '41.862839'], ['123.433708', '41.862976'], ['123.433495', '41.863106'], ['123.43322', '41.863228'], ['123.432755', '41.863354'], ['123.432365', '41.863388'], ['123.431953', '41.863365'], ['123.431671', '41.863338'], ['123.42823', '41.862804'], ['123.428154', '41.862797'], ['123.427414', '41.862667'], ['123.425529', '41.862354'], ['123.423523', '41.862049'], ['123.423119', '41.861977'], ['123.422119', '41.861816'], ['123.420891', '41.861614'], ['123.420547', '41.861523'], ['123.42041', '41.861477'], ['123.420143', '41.86137'], ['123.419662', '41.861118'], ['123.419022', '41.860733'], ['123.418716', '41.860573'], ['123.418716', '41.860573'], ['123.41861', '41.860519'], ['123.41851', '41.860477'], ['123.418243', '41.860382'], ['123.417854', '41.860298'], ['123.417336', '41.860245'], ['123.415459', '41.860149'], ['123.415154', '41.860134'], ['123.414703', '41.860111'], ['123.414261', '41.860088'], ['123.412933', '41.860027'], ['123.41185', '41.859993'], ['123.410553', '41.85994'], ['123.410446', '41.859932'], ['123.410347', '41.859928'], ['123.410347', '41.859928'], ['123.410263', '41.859901'], ['123.407227', '41.859745'], ['123.401176', '41.859509'], ['123.398438', '41.859409'], ['123.396889', '41.85936'], ['123.391624', '41.8592'], ['123.389786', '41.85915'], ['123.388748', '41.859116'], ['123.387848', '41.859089'], ['123.387848', '41.859089'], ['123.386055', '41.859035'], ['123.38269', '41.858936'], ['123.381119', '41.858879'], ['123.380692', '41.858837'], ['123.380157', '41.858757'], ['123.379822', '41.858685'], ['123.379463', '41.858585'], ['123.378998', '41.858425'], ['123.377625', '41.857906'], ['123.376465', '41.857471'], ['123.375252', '41.857006'], ['123.373238', '41.856274'], ['123.371849', '41.855778'], ['123.371277', '41.855564'], ['123.368446', '41.854496'], ['123.357407', '41.850174'], ['123.355583', '41.849453'], ['123.355003', '41.849174'], ['123.354713', '41.84901'], ['123.354492', '41.848862'], ['123.354416', '41.848812'], ['123.354141', '41.848606'], ['123.353897', '41.848392'], ['123.353683', '41.848186'], ['123.353477', '41.847973'], ['123.353294', '41.847752'], ['123.352989', '41.847313'], ['123.352745', '41.846924'], ['123.351784', '41.845356'], ['123.349419', '41.841537'], ['123.348274', '41.839672'], ['123.348045', '41.83931'], ['123.347496', '41.838543'], ['123.347008', '41.837944'], ['123.346291', '41.837265'], ['123.345833', '41.836876'], ['123.345108', '41.836349'], ['123.34465', '41.836063'], ['123.344429', '41.835938'], ['123.344276', '41.835854'], ['123.344032', '41.835716'], ['123.343842', '41.835606'], ['123.340927', '41.834015'], ['123.340775', '41.833935'], ['123.340263', '41.833652'], ['123.339798', '41.833401'], ['123.339317', '41.833088'], ['123.338882', '41.832783'], ['123.338463', '41.832405'], ['123.338203', '41.832134'], ['123.337929', '41.831768'], ['123.337784', '41.83157'], ['123.337608', '41.831257'], ['123.337425', '41.830872'], ['123.337288', '41.830544'], ['123.337173', '41.830284'], ['123.337059', '41.83004'], ['123.336899', '41.829674'], ['123.336899', '41.829674'], ['123.336479', '41.828732'], ['123.335976', '41.827599'], ['123.335678', '41.826939'], ['123.334793', '41.824947'], ['123.332794', '41.820473'], ['123.332512', '41.819859'], ['123.332039', '41.818787'], ['123.32991', '41.814026'], ['123.329887', '41.813965'], ['123.329216', '41.812481'], ['123.328667', '41.811237'], ['123.32856', '41.811005'], ['123.3283', '41.810497'], ['123.328094', '41.810047'], ['123.327789', '41.809353'], ['123.327744', '41.809238'], ['123.327652', '41.809021'], ['123.327271', '41.808159'], ['123.327011', '41.807556'], ['123.326904', '41.807289'], ['123.326904', '41.807289'], ['123.326675', '41.807076'], ['123.326447', '41.806789'], ['123.326096', '41.806408'], ['123.326012', '41.806293'], ['123.325974', '41.80621'], ['123.325943', '41.806137'], ['123.325958', '41.805614'], ['123.325943', '41.805401'], ['123.32592', '41.805279'], ['123.325874', '41.805218'], ['123.325821', '41.805161'], ['123.325699', '41.80508'], ['123.32547', '41.804951'], ['123.324959', '41.804779'], ['123.324036', '41.804363'], ['123.322632', '41.803715'], ['123.321022', '41.802979'], ['123.320427', '41.802711'], ['123.319641', '41.802372'], ['123.319183', '41.802235'], ['123.318748', '41.802139'], ['123.318535', '41.802101'], ['123.318237', '41.802074'], ['123.317299', '41.802036'], ['123.316963', '41.802021'], ['123.314095', '41.801949'], ['123.313316', '41.801922'], ['123.312859', '41.801907'], ['123.312859', '41.801907'], ['123.311012', '41.801815'], ['123.310555', '41.801773'], ['123.309853', '41.801712'], ['123.309074', '41.80162'], ['123.30838', '41.801521'], ['123.307404', '41.80135'], ['123.305237', '41.800877'], ['123.301163', '41.799828'], ['123.288567', '41.796612'], ['123.284065', '41.795456'], ['123.281387', '41.794773'], ['123.279861', '41.794388'], ['123.279312', '41.79425'], ['123.276146', '41.793442'], ['123.275558', '41.793312'], ['123.275093', '41.793232'], ['123.274681', '41.793179'], ['123.274231', '41.793137'], ['123.273781', '41.793121'], ['123.27327', '41.793133'], ['123.272835', '41.793159'], ['123.272095', '41.793247'], ['123.271774', '41.79332'], ['123.271194', '41.793453'], ['123.270767', '41.793587'], ['123.270096', '41.793804'], ['123.266602', '41.795078'], ['123.263771', '41.796112'], ['123.262283', '41.796654'], ['123.261803', '41.796814'], ['123.261299', '41.796955'], ['123.26091', '41.797043'], ['123.260406', '41.797123'], ['123.259995', '41.797176'], ['123.259331', '41.797215'], ['123.258972', '41.797226'], ['123.258514', '41.797211'], ['123.257614', '41.797119'], ['123.255814', '41.796848'], ['123.251076', '41.796146'], ['123.250916', '41.795986'], ['123.250916', '41.79454'], ['123.250908', '41.793991'], ['123.2509', '41.793247'], ['123.250893', '41.792072'], ['123.250893', '41.791992'], ['123.25087', '41.789742'], ['123.25087', '41.789677'], ['123.250877', '41.78661'], ['123.25087', '41.784752'], ['123.25087', '41.784676'], ['123.250877', '41.784225'], ['123.250893', '41.783253'], ['123.2509', '41.782948'], ['123.250877', '41.782413'], ['123.250877', '41.782055'], ['123.250877', '41.781181'], ['123.250877', '41.781006'], ['123.250877', '41.780743'], ['123.25087', '41.78009'], ['123.250862', '41.779766'], ['123.250862', '41.779766'], ['123.248985', '41.779697'], ['123.248299', '41.779667'], ['123.248222', '41.779663'], ['123.246513', '41.779594'], ['123.245972', '41.779606'], ['123.245544', '41.77969'], ['123.245544', '41.77969'], ['123.245514', '41.779724'], ['123.245422', '41.779774'], ['123.245247', '41.779793'], ['123.245132', '41.779778'], ['123.24501', '41.779724'], ['123.244926', '41.77964'], ['123.244888', '41.779572'], ['123.244881', '41.779503'], ['123.244888', '41.779446'], ['123.244934', '41.779366'], ['123.245026', '41.779289'], ['123.245026', '41.779289'], ['123.245132', '41.779114'], ['123.245201', '41.778904'], ['123.245216', '41.778355'], ['123.245216', '41.777748'], ['123.245216', '41.776268'], ['123.245216', '41.77536'], ['123.245216', '41.775318'], ['123.245209', '41.773479'], ['123.245201', '41.772907'], ['123.245201', '41.771637'], ['123.245201', '41.77002'], ['123.245193', '41.768497'], ['123.245193', '41.766994'], ['123.245155', '41.766384'], ['123.244896', '41.765793'], ['123.244896', '41.765793'], ['123.244766', '41.765701'], ['123.244652', '41.765614'], ['123.244652', '41.765614'], ['123.244621', '41.76561'], ['123.244331', '41.765537'], ['123.244034', '41.765488'], ['123.242371', '41.765491'], ['123.24205', '41.765491'], ['123.239967', '41.765507'], ['123.237526', '41.765507'], ['123.234718', '41.765511'], ['123.231644', '41.765514'], ['123.230362', '41.765514'], ['123.229561', '41.765518'], ['123.227859', '41.765526'], ['123.227547', '41.765526'], ['123.225601', '41.765537'], ['123.225487', '41.765537'], ['123.224686', '41.765533'], ['123.223549', '41.765511'], ['123.222656', '41.765484'], ['123.222183', '41.765465'], ['123.220871', '41.765381'], ['123.219307', '41.765247'], ['123.219208', '41.76524'], ['123.213181', '41.764717'], ['123.212364', '41.764645'], ['123.212212', '41.764626'], ['123.209785', '41.764423'], ['123.208878', '41.764343'], ['123.207993', '41.764267'], ['123.205574', '41.764'], ['123.20549', '41.763992'], ['123.204575', '41.763874'], ['123.203888', '41.763783'], ['123.203766', '41.763763'], ['123.202782', '41.763607'], ['123.2015', '41.763401'], ['123.200684', '41.763245'], ['123.200417', '41.763199'], ['123.197449', '41.762615'], ['123.196068', '41.762348'], ['123.194092', '41.761959'], ['123.189163', '41.76099'], ['123.186943', '41.760555'], ['123.186409', '41.760452'], ['123.185333', '41.760235'], ['123.184937', '41.760155'], ['123.182472', '41.759666'], ['123.180855', '41.759331'], ['123.180092', '41.759136'], ['123.179718', '41.759029'], ['123.179077', '41.758854'], ['123.178711', '41.758732'], ['123.177559', '41.758339'], ['123.176277', '41.757835'], ['123.175621', '41.757542'], ['123.17437', '41.756943'], ['123.173912', '41.75668'], ['123.173859', '41.756649'], ['123.173012', '41.756172'], ['123.172607', '41.755924'], ['123.171799', '41.755394'], ['123.170258', '41.754368'], ['123.16938', '41.753788'], ['123.169289', '41.753719'], ['123.167259', '41.752373'], ['123.166656', '41.751965'], ['123.166527', '41.751881'], ['123.16629', '41.751724'], ['123.164246', '41.750351'], ['123.164169', '41.750301'], ['123.16291', '41.749458'], ['123.162239', '41.749012'], ['123.160957', '41.748165'], ['123.160782', '41.748051'], ['123.158943', '41.746807'], ['123.158371', '41.746441'], ['123.158249', '41.746361'], ['123.158142', '41.746284'], ['123.15741', '41.745831']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>