<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.160934', '36.035172'], ['120.161926', '36.035378'], ['120.162224', '36.035423'], ['120.162361', '36.035419'], ['120.162491', '36.035355'], ['120.162613', '36.035351'], ['120.162643', '36.035755'], ['120.162651', '36.036163'], ['120.162605', '36.036552'], ['120.162552', '36.036877'], ['120.162148', '36.038517'], ['120.162018', '36.039036'], ['120.161926', '36.039371'], ['120.161903', '36.039471'], ['120.16185', '36.039719'], ['120.161713', '36.040413'], ['120.16153', '36.041248'], ['120.161385', '36.041706'], ['120.161171', '36.042152'], ['120.16095', '36.042526'], ['120.160347', '36.043278'], ['120.160004', '36.043694'], ['120.159813', '36.0439'], ['120.159431', '36.044209'], ['120.159111', '36.044415'], ['120.158859', '36.044559'], ['120.158501', '36.044731'], ['120.157242', '36.045235'], ['120.156631', '36.045464'], ['120.15593', '36.04575'], ['120.155304', '36.046032'], ['120.155106', '36.046143'], ['120.154572', '36.046436'], ['120.153954', '36.046814'], ['120.153313', '36.047276'], ['120.153038', '36.047508'], ['120.152763', '36.047756'], ['120.152328', '36.048187'], ['120.152145', '36.048389'], ['120.151688', '36.048943'], ['120.151535', '36.049141'], ['120.1511', '36.049778'], ['120.149925', '36.051537'], ['120.149422', '36.052288'], ['120.148682', '36.053379'], ['120.14801', '36.054256'], ['120.14753', '36.054825'], ['120.14753', '36.054825'], ['120.14959', '36.055721'], ['120.150177', '36.055965'], ['120.150764', '36.056202'], ['120.151474', '36.056465'], ['120.152168', '36.056717'], ['120.152168', '36.056717'], ['120.152847', '36.056992'], ['120.152985', '36.057041'], ['120.153137', '36.057076'], ['120.153259', '36.057083'], ['120.153381', '36.057076'], ['120.153519', '36.057041'], ['120.153625', '36.056995'], ['120.153732', '36.056934'], ['120.15387', '36.056812'], ['120.154068', '36.056602'], ['120.155075', '36.055573'], ['120.155968', '36.054241'], ['120.156517', '36.053471'], ['120.15715', '36.052631'], ['120.157265', '36.052486'], ['120.157654', '36.052048'], ['120.157654', '36.052048'], ['120.157837', '36.051598'], ['120.158562', '36.050655'], ['120.158562', '36.050655'], ['120.158684', '36.050438'], ['120.159142', '36.049778'], ['120.159241', '36.049576'], ['120.159317', '36.049389'], ['120.159363', '36.049198'], ['120.159393', '36.048962'], ['120.159416', '36.048664'], ['120.159416', '36.048374'], ['120.159386', '36.048115'], ['120.15934', '36.047848'], ['120.159271', '36.047588'], ['120.159004', '36.046825'], ['120.158928', '36.046677'], ['120.158607', '36.046143'], ['120.158417', '36.045826'], ['120.15638', '36.042355'], ['120.155945', '36.041668'], ['120.15567', '36.041248'], ['120.155319', '36.040752'], ['120.154999', '36.04034'], ['120.154663', '36.039959'], ['120.154221', '36.039471'], ['120.153877', '36.03912'], ['120.153496', '36.038757'], ['120.153069', '36.038395'], ['120.152611', '36.038029'], ['120.152153', '36.037685'], ['120.151665', '36.03735'], ['120.151176', '36.037045'], ['120.150612', '36.03672'], ['120.150101', '36.036442'], ['120.149452', '36.036125'], ['120.148949', '36.035896'], ['120.148338', '36.035652'], ['120.147743', '36.035427'], ['120.147087', '36.03521'], ['120.146904', '36.035156'], ['120.146553', '36.035053'], ['120.146492', '36.035034'], ['120.145966', '36.034901'], ['120.145271', '36.03474'], ['120.144646', '36.034626'], ['120.143852', '36.034508'], ['120.143242', '36.034439'], ['120.142563', '36.034386'], ['120.141899', '36.034348'], ['120.141029', '36.034332'], ['120.140175', '36.03434'], ['120.131737', '36.034668'], ['120.13031', '36.034725'], ['120.128799', '36.034782'], ['120.124504', '36.034943'], ['120.118942', '36.035156'], ['120.111732', '36.035419'], ['120.110535', '36.035465'], ['120.109665', '36.035553'], ['120.108833', '36.035633'], ['120.108833', '36.035633'], ['120.108551', '36.035633'], ['120.107765', '36.035591'], ['120.104195', '36.03569'], ['120.102615', '36.035694'], ['120.102539', '36.035694'], ['120.101334', '36.03566'], ['120.100464', '36.035591'], ['120.100296', '36.035572'], ['120.100113', '36.035561'], ['120.099312', '36.035469'], ['120.09848', '36.035355'], ['120.097282', '36.035156'], ['120.097122', '36.035122'], ['120.096077', '36.034912'], ['120.095428', '36.03474'], ['120.093887', '36.034317'], ['120.093155', '36.034077'], ['120.092438', '36.033821'], ['120.091621', '36.033497'], ['120.090576', '36.033054'], ['120.08905', '36.032299'], ['120.088425', '36.031967'], ['120.087563', '36.031456'], ['120.086884', '36.031006'], ['120.086319', '36.030621'], ['120.085777', '36.030228'], ['120.085312', '36.029873'], ['120.084656', '36.02935'], ['120.084175', '36.028934'], ['120.082909', '36.02776'], ['120.082527', '36.027386'], ['120.080559', '36.025482'], ['120.079216', '36.024166'], ['120.076775', '36.021797'], ['120.075829', '36.020912'], ['120.075127', '36.020279'], ['120.074074', '36.019367'], ['120.073242', '36.018684'], ['120.072456', '36.018051'], ['120.071304', '36.017174'], ['120.070152', '36.016335'], ['120.069145', '36.015636'], ['120.068008', '36.014881'], ['120.067146', '36.014336'], ['120.066109', '36.013702'], ['120.065201', '36.013184'], ['120.063606', '36.012276'], ['120.062355', '36.011524'], ['120.061272', '36.010845'], ['120.06015', '36.010128'], ['120.059265', '36.009525'], ['120.058594', '36.009064'], ['120.058029', '36.008663'], ['120.056793', '36.007755'], ['120.055946', '36.007111'], ['120.054985', '36.006336'], ['120.054146', '36.005638'], ['120.053307', '36.00491'], ['120.052353', '36.004063'], ['120.051323', '36.003094'], ['120.050446', '36.002243'], ['120.0504', '36.002197'], ['120.04921', '36.000954'], ['120.048416', '36.000134'], ['120.048027', '35.999695'], ['120.047424', '35.998993'], ['120.04631', '35.997673'], ['120.045502', '35.996632'], ['120.044693', '35.995548'], ['120.044258', '35.99493'], ['120.043472', '35.99379'], ['120.04274', '35.992657'], ['120.042206', '35.991795'], ['120.04187', '35.991211'], ['120.041412', '35.99041'], ['120.040688', '35.989044'], ['120.040321', '35.988338'], ['120.039642', '35.986923'], ['120.039322', '35.986225'], ['120.039032', '35.985516'], ['120.038322', '35.983692'], ['120.038063', '35.982994'], ['120.037491', '35.98122'], ['120.037216', '35.980221'], ['120.037186', '35.980095'], ['120.036865', '35.978817'], ['120.036621', '35.977665'], ['120.036552', '35.977329'], ['120.036285', '35.975845'], ['120.03614', '35.974869'], ['120.036072', '35.974258'], ['120.035912', '35.972546'], ['120.03582', '35.971096'], ['120.035797', '35.970131'], ['120.035797', '35.969234'], ['120.035797', '35.969154'], ['120.035843', '35.96801']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>