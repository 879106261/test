<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.160934', '36.035172'], ['120.161926', '36.035378'], ['120.162224', '36.035423'], ['120.162361', '36.035419'], ['120.162491', '36.035355'], ['120.162613', '36.035351'], ['120.162643', '36.035755'], ['120.162651', '36.036163'], ['120.162605', '36.036552'], ['120.162552', '36.036877'], ['120.162148', '36.038517'], ['120.162018', '36.039036'], ['120.162018', '36.039036'], ['120.162041', '36.039101'], ['120.162247', '36.039349'], ['120.162376', '36.039433'], ['120.163116', '36.039551'], ['120.164352', '36.039726'], ['120.164932', '36.039803'], ['120.165894', '36.039936'], ['120.166634', '36.040051'], ['120.167038', '36.040237'], ['120.166962', '36.040646'], ['120.166931', '36.040737'], ['120.166763', '36.041416'], ['120.166672', '36.041706'], ['120.166275', '36.042515'], ['120.166161', '36.042824'], ['120.165932', '36.04319'], ['120.165657', '36.043625'], ['120.165298', '36.044098'], ['120.164886', '36.044613'], ['120.164886', '36.044613'], ['120.164642', '36.044868'], ['120.163513', '36.045986'], ['120.163513', '36.045986'], ['120.163452', '36.046124'], ['120.163429', '36.046143'], ['120.162064', '36.04763'], ['120.161865', '36.047855'], ['120.161865', '36.047855'], ['120.160812', '36.048916'], ['120.159958', '36.049881'], ['120.159439', '36.050468'], ['120.159439', '36.050468'], ['120.159393', '36.050621'], ['120.159386', '36.05069'], ['120.159401', '36.050808'], ['120.159431', '36.0509'], ['120.159485', '36.050987'], ['120.159546', '36.051064'], ['120.15963', '36.051132'], ['120.159737', '36.051197'], ['120.159866', '36.051254'], ['120.159981', '36.051285'], ['120.160133', '36.051308'], ['120.160278', '36.051308'], ['120.160408', '36.051285'], ['120.160545', '36.051243'], ['120.160675', '36.051186'], ['120.160767', '36.051125'], ['120.160843', '36.051052'], ['120.160934', '36.050945'], ['120.160988', '36.050861'], ['120.161026', '36.05077'], ['120.161049', '36.050674'], ['120.161057', '36.050579'], ['120.161049', '36.050449'], ['120.161011', '36.05032'], ['120.160934', '36.050148'], ['120.160812', '36.049881'], ['120.159653', '36.047905'], ['120.159256', '36.047218'], ['120.159004', '36.046825'], ['120.158928', '36.046677'], ['120.158607', '36.046143'], ['120.158417', '36.045826'], ['120.15638', '36.042355'], ['120.155945', '36.041668'], ['120.15567', '36.041248'], ['120.155319', '36.040752'], ['120.154999', '36.04034'], ['120.154663', '36.039959'], ['120.154221', '36.039471'], ['120.153877', '36.03912'], ['120.153496', '36.038757'], ['120.153069', '36.038395'], ['120.152611', '36.038029'], ['120.152153', '36.037685'], ['120.151665', '36.03735'], ['120.151176', '36.037045'], ['120.150612', '36.03672'], ['120.150101', '36.036442'], ['120.149452', '36.036125'], ['120.148949', '36.035896'], ['120.148338', '36.035652'], ['120.147743', '36.035427'], ['120.147087', '36.03521'], ['120.146904', '36.035156'], ['120.146553', '36.035053'], ['120.146492', '36.035034'], ['120.145966', '36.034901'], ['120.145271', '36.03474'], ['120.144646', '36.034626'], ['120.143852', '36.034508'], ['120.143242', '36.034439'], ['120.142563', '36.034386'], ['120.141899', '36.034348'], ['120.141029', '36.034332'], ['120.140175', '36.03434'], ['120.131737', '36.034668'], ['120.13031', '36.034725'], ['120.128799', '36.034782'], ['120.124504', '36.034943'], ['120.118942', '36.035156'], ['120.111732', '36.035419'], ['120.110535', '36.035465'], ['120.109665', '36.035553'], ['120.108833', '36.035633'], ['120.108833', '36.035633'], ['120.108551', '36.035633'], ['120.107765', '36.035591'], ['120.104195', '36.03569'], ['120.102615', '36.035694'], ['120.102539', '36.035694'], ['120.101334', '36.03566'], ['120.100464', '36.035591'], ['120.100296', '36.035572'], ['120.100113', '36.035561'], ['120.099312', '36.035469'], ['120.09848', '36.035355'], ['120.097282', '36.035156'], ['120.097122', '36.035122'], ['120.096077', '36.034912'], ['120.095428', '36.03474'], ['120.093887', '36.034317'], ['120.093155', '36.034077'], ['120.092438', '36.033821'], ['120.091621', '36.033497'], ['120.090576', '36.033054'], ['120.08905', '36.032299'], ['120.088425', '36.031967'], ['120.087563', '36.031456'], ['120.086884', '36.031006'], ['120.086319', '36.030621'], ['120.085777', '36.030228'], ['120.085312', '36.029873'], ['120.084656', '36.02935'], ['120.084175', '36.028934'], ['120.082909', '36.02776'], ['120.082527', '36.027386'], ['120.080559', '36.025482'], ['120.079216', '36.024166'], ['120.076775', '36.021797'], ['120.075829', '36.020912'], ['120.075127', '36.020279'], ['120.074074', '36.019367'], ['120.073242', '36.018684'], ['120.072456', '36.018051'], ['120.071304', '36.017174'], ['120.070152', '36.016335'], ['120.069145', '36.015636'], ['120.068008', '36.014881'], ['120.067146', '36.014336'], ['120.066109', '36.013702'], ['120.065201', '36.013184'], ['120.063606', '36.012276'], ['120.062355', '36.011524'], ['120.061272', '36.010845'], ['120.06015', '36.010128'], ['120.059265', '36.009525'], ['120.058594', '36.009064'], ['120.058029', '36.008663'], ['120.056793', '36.007755'], ['120.055946', '36.007111'], ['120.054985', '36.006336'], ['120.054146', '36.005638'], ['120.053307', '36.00491'], ['120.052353', '36.004063'], ['120.051323', '36.003094'], ['120.050446', '36.002243'], ['120.0504', '36.002197'], ['120.04921', '36.000954'], ['120.048416', '36.000134'], ['120.048027', '35.999695'], ['120.047424', '35.998993'], ['120.04631', '35.997673'], ['120.045502', '35.996632'], ['120.044693', '35.995548'], ['120.044258', '35.99493'], ['120.043472', '35.99379'], ['120.04274', '35.992657'], ['120.042206', '35.991795'], ['120.04187', '35.991211'], ['120.041412', '35.99041'], ['120.040688', '35.989044'], ['120.040321', '35.988338'], ['120.039642', '35.986923'], ['120.039322', '35.986225'], ['120.039032', '35.985516'], ['120.038322', '35.983692'], ['120.038063', '35.982994'], ['120.037491', '35.98122'], ['120.037216', '35.980221'], ['120.037186', '35.980095'], ['120.036865', '35.978817'], ['120.036621', '35.977665'], ['120.036552', '35.977329'], ['120.036285', '35.975845'], ['120.03614', '35.974869'], ['120.036072', '35.974258'], ['120.035912', '35.972546'], ['120.03582', '35.971096'], ['120.035797', '35.970131'], ['120.035797', '35.969234'], ['120.035797', '35.969154'], ['120.035843', '35.96801']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>