<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.160934', '36.035172'], ['120.161926', '36.035378'], ['120.162224', '36.035423'], ['120.162361', '36.035419'], ['120.162491', '36.035355'], ['120.162491', '36.035355'], ['120.162468', '36.035156'], ['120.162437', '36.034733'], ['120.162392', '36.033985'], ['120.162346', '36.033455'], ['120.162247', '36.032028'], ['120.162132', '36.030281'], ['120.162094', '36.029888'], ['120.16201', '36.028572'], ['120.161957', '36.027874'], ['120.16185', '36.026299'], ['120.16185', '36.026234'], ['120.161789', '36.025421'], ['120.161728', '36.024597'], ['120.161697', '36.024166'], ['120.161659', '36.023674'], ['120.161644', '36.023373'], ['120.161591', '36.022663'], ['120.161552', '36.022232'], ['120.161552', '36.022232'], ['120.161469', '36.02206'], ['120.161308', '36.021908'], ['120.160599', '36.021748'], ['120.159309', '36.021461'], ['120.158142', '36.021206'], ['120.157722', '36.021111'], ['120.157593', '36.021084'], ['120.155548', '36.020638'], ['120.154144', '36.020443'], ['120.15403', '36.020428'], ['120.153656', '36.020382'], ['120.152672', '36.020252'], ['120.150101', '36.019928'], ['120.148857', '36.019756'], ['120.147873', '36.01963'], ['120.146492', '36.019447'], ['120.146416', '36.019436'], ['120.146339', '36.019428'], ['120.14399', '36.019112'], ['120.14357', '36.01907'], ['120.142883', '36.018993'], ['120.14138', '36.018837'], ['120.140808', '36.018772'], ['120.139961', '36.018684'], ['120.138329', '36.01852'], ['120.137535', '36.018433'], ['120.136154', '36.018284'], ['120.135139', '36.018177'], ['120.133438', '36.018002'], ['120.133232', '36.017979'], ['120.13237', '36.017883'], ['120.131477', '36.017799'], ['120.130966', '36.017757'], ['120.130432', '36.017708'], ['120.13031', '36.0177'], ['120.129784', '36.017643'], ['120.127899', '36.017429'], ['120.127678', '36.017403'], ['120.127022', '36.017326'], ['120.126419', '36.017258'], ['120.124504', '36.017044'], ['120.124123', '36.016994'], ['120.123413', '36.016914'], ['120.122116', '36.016769'], ['120.121048', '36.016655'], ['120.119675', '36.016499'], ['120.117111', '36.01622'], ['120.116234', '36.016121'], ['120.115433', '36.016029'], ['120.112595', '36.015705'], ['120.110321', '36.015461'], ['120.110222', '36.01545'], ['120.109886', '36.015415'], ['120.108826', '36.015297'], ['120.107544', '36.01516'], ['120.107475', '36.015156'], ['120.106934', '36.015121'], ['120.105766', '36.01511'], ['120.105431', '36.01511'], ['120.104652', '36.015099'], ['120.103592', '36.015099'], ['120.103485', '36.015099'], ['120.102539', '36.015099'], ['120.100845', '36.015099'], ['120.099304', '36.01511'], ['120.098526', '36.015121'], ['120.09816', '36.015137'], ['120.097588', '36.01519'], ['120.097183', '36.015251'], ['120.096657', '36.015354'], ['120.096207', '36.015461'], ['120.095505', '36.015678'], ['120.09491', '36.015884'], ['120.094658', '36.015965'], ['120.094269', '36.016094'], ['120.093704', '36.016251'], ['120.093704', '36.016251'], ['120.093521', '36.01646'], ['120.093437', '36.01664'], ['120.093628', '36.017792'], ['120.09375', '36.018555'], ['120.093811', '36.018871'], ['120.093971', '36.019939'], ['120.093994', '36.020229'], ['120.093971', '36.020538'], ['120.093918', '36.020859'], ['120.093887', '36.021023'], ['120.093735', '36.021393'], ['120.093575', '36.021694'], ['120.093323', '36.022079'], ['120.093063', '36.022366'], ['120.092735', '36.022659'], ['120.09243', '36.022896'], ['120.091728', '36.023373'], ['120.091476', '36.023575'], ['120.091141', '36.023891'], ['120.090935', '36.024117'], ['120.090897', '36.024166'], ['120.090797', '36.024284'], ['120.09063', '36.024532'], ['120.090424', '36.024868'], ['120.09024', '36.025234'], ['120.089638', '36.026615'], ['120.089523', '36.026867'], ['120.089226', '36.027534'], ['120.089066', '36.027874'], ['120.088966', '36.02792'], ['120.088638', '36.027828'], ['120.088486', '36.027775'], ['120.088257', '36.027733'], ['120.088142', '36.027737'], ['120.08802', '36.027756'], ['120.087906', '36.02779'], ['120.087723', '36.027874'], ['120.087616', '36.027943'], ['120.087425', '36.028133'], ['120.087128', '36.028397'], ['120.087128', '36.028397'], ['120.08667', '36.028793'], ['120.08667', '36.028793'], ['120.085091', '36.030209'], ['120.084953', '36.030319'], ['120.084816', '36.030396'], ['120.084694', '36.030464'], ['120.084549', '36.03051'], ['120.084396', '36.030548'], ['120.084221', '36.030563'], ['120.084084', '36.030556'], ['120.083923', '36.030529'], ['120.083771', '36.030487'], ['120.083641', '36.030434'], ['120.083519', '36.03035'], ['120.083405', '36.030254'], ['120.083313', '36.030155'], ['120.083244', '36.030045'], ['120.083206', '36.029953'], ['120.083176', '36.029827'], ['120.083176', '36.02969'], ['120.083183', '36.029568'], ['120.083328', '36.02903'], ['120.083344', '36.02887'], ['120.083351', '36.028717'], ['120.083344', '36.02858'], ['120.083298', '36.028427'], ['120.083229', '36.028278'], ['120.083038', '36.027977'], ['120.082909', '36.02776'], ['120.082527', '36.027386'], ['120.080559', '36.025482'], ['120.079216', '36.024166'], ['120.076775', '36.021797'], ['120.075829', '36.020912'], ['120.075127', '36.020279'], ['120.074074', '36.019367'], ['120.073242', '36.018684'], ['120.072456', '36.018051'], ['120.071304', '36.017174'], ['120.070152', '36.016335'], ['120.069145', '36.015636'], ['120.068008', '36.014881'], ['120.067146', '36.014336'], ['120.066109', '36.013702'], ['120.065201', '36.013184'], ['120.063606', '36.012276'], ['120.062355', '36.011524'], ['120.061272', '36.010845'], ['120.06015', '36.010128'], ['120.059265', '36.009525'], ['120.058594', '36.009064'], ['120.058029', '36.008663'], ['120.056793', '36.007755'], ['120.055946', '36.007111'], ['120.054985', '36.006336'], ['120.054146', '36.005638'], ['120.053307', '36.00491'], ['120.052353', '36.004063'], ['120.051323', '36.003094'], ['120.050446', '36.002243'], ['120.0504', '36.002197'], ['120.04921', '36.000954'], ['120.048416', '36.000134'], ['120.048027', '35.999695'], ['120.047424', '35.998993'], ['120.04631', '35.997673'], ['120.045502', '35.996632'], ['120.044693', '35.995548'], ['120.044258', '35.99493'], ['120.043472', '35.99379'], ['120.04274', '35.992657'], ['120.042206', '35.991795'], ['120.04187', '35.991211'], ['120.041412', '35.99041'], ['120.040688', '35.989044'], ['120.040321', '35.988338'], ['120.039642', '35.986923'], ['120.039322', '35.986225'], ['120.039032', '35.985516'], ['120.038322', '35.983692'], ['120.038063', '35.982994'], ['120.037491', '35.98122'], ['120.037216', '35.980221'], ['120.037186', '35.980095'], ['120.036865', '35.978817'], ['120.036621', '35.977665'], ['120.036552', '35.977329'], ['120.036285', '35.975845'], ['120.03614', '35.974869'], ['120.036072', '35.974258'], ['120.035912', '35.972546'], ['120.03582', '35.971096'], ['120.035797', '35.970131'], ['120.035797', '35.969234'], ['120.035797', '35.969154'], ['120.035843', '35.96801']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>