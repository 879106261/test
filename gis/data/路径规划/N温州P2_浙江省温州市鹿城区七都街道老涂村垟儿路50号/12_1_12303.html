<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.712288', '28.08164'], ['120.711823', '28.081612'], ['120.711006', '28.081429'], ['120.710739', '28.081362'], ['120.710304', '28.081276'], ['120.71006', '28.081215'], ['120.709663', '28.081055'], ['120.709251', '28.080879'], ['120.708687', '28.080561'], ['120.708473', '28.080442'], ['120.708473', '28.080442'], ['120.707741', '28.081055'], ['120.707283', '28.08145'], ['120.706482', '28.082067'], ['120.706291', '28.082239'], ['120.706139', '28.082409'], ['120.706024', '28.082582'], ['120.705917', '28.082769'], ['120.705833', '28.082956'], ['120.705704', '28.083298'], ['120.705704', '28.083298'], ['120.705536', '28.083279'], ['120.705353', '28.083229'], ['120.705208', '28.083178'], ['120.705063', '28.083069'], ['120.704933', '28.082891'], ['120.704376', '28.082048'], ['120.704277', '28.081881'], ['120.704254', '28.081732'], ['120.704285', '28.081615'], ['120.704353', '28.081511'], ['120.704445', '28.081436'], ['120.704597', '28.081358'], ['120.705238', '28.081055'], ['120.705917', '28.080738'], ['120.706192', '28.080591'], ['120.706497', '28.080404'], ['120.707039', '28.080017'], ['120.709717', '28.077911'], ['120.709991', '28.077717'], ['120.710281', '28.077536'], ['120.71064', '28.077353'], ['120.712364', '28.076567'], ['120.712547', '28.076468'], ['120.712692', '28.07637'], ['120.71283', '28.076248'], ['120.712921', '28.076128'], ['120.713005', '28.075998'], ['120.713074', '28.075865'], ['120.71312', '28.075716'], ['120.713135', '28.075586'], ['120.713127', '28.075342'], ['120.713127', '28.075342'], ['120.713104', '28.075199'], ['120.713058', '28.075077'], ['120.712967', '28.074905'], ['120.71283', '28.074682'], ['120.711754', '28.0732'], ['120.711754', '28.0732'], ['120.711685', '28.073029'], ['120.711662', '28.072826'], ['120.711617', '28.072552'], ['120.711555', '28.072378'], ['120.711288', '28.071249'], ['120.711288', '28.071249'], ['120.711189', '28.070787'], ['120.711166', '28.070404'], ['120.711174', '28.070196'], ['120.711182', '28.070065'], ['120.711212', '28.069874'], ['120.711281', '28.069462'], ['120.711441', '28.068802'], ['120.711807', '28.067287'], ['120.711861', '28.067013'], ['120.711891', '28.066736'], ['120.711922', '28.066416'], ['120.711922', '28.066175'], ['120.711891', '28.065876'], ['120.711861', '28.065542'], ['120.711761', '28.065187'], ['120.71154', '28.064568'], ['120.70903', '28.059484'], ['120.708824', '28.05908'], ['120.708519', '28.058466'], ['120.708221', '28.057974'], ['120.707794', '28.057354'], ['120.707451', '28.056902'], ['120.707146', '28.056536'], ['120.706757', '28.056124'], ['120.706085', '28.055538'], ['120.705482', '28.055096'], ['120.704826', '28.054667'], ['120.704826', '28.054667'], ['120.704163', '28.054279'], ['120.703621', '28.054007'], ['120.700584', '28.052631'], ['120.699593', '28.052183'], ['120.69883', '28.051785'], ['120.698753', '28.051744'], ['120.698181', '28.051371'], ['120.697884', '28.051155'], ['120.697662', '28.050968'], ['120.697227', '28.050556'], ['120.696754', '28.050018'], ['120.696388', '28.049509'], ['120.696327', '28.049389'], ['120.696205', '28.049162'], ['120.695801', '28.048334'], ['120.695793', '28.048325'], ['120.695686', '28.048096'], ['120.695549', '28.047777'], ['120.695389', '28.047478'], ['120.695389', '28.047478'], ['120.695297', '28.047396'], ['120.695221', '28.0473'], ['120.694435', '28.04582'], ['120.694366', '28.045673'], ['120.694176', '28.045259'], ['120.693909', '28.044605'], ['120.693909', '28.044605'], ['120.693825', '28.044527'], ['120.693748', '28.044493'], ['120.69371', '28.044489'], ['120.693588', '28.044504'], ['120.6931', '28.045023'], ['120.693047', '28.045073'], ['120.692932', '28.045105'], ['120.692505', '28.045391'], ['120.69223', '28.045551'], ['120.691788', '28.045752'], ['120.690361', '28.046398'], ['120.689545', '28.046766'], ['120.688866', '28.047079'], ['120.687523', '28.047682'], ['120.68663', '28.048096'], ['120.685982', '28.048389'], ['120.685493', '28.048603'], ['120.684517', '28.049097'], ['120.684273', '28.049263'], ['120.684273', '28.049263'], ['120.683937', '28.049572'], ['120.683685', '28.049913'], ['120.683556', '28.050138'], ['120.683113', '28.051029'], ['120.682487', '28.052275'], ['120.682297', '28.052696'], ['120.682091', '28.053106'], ['120.681091', '28.055141'], ['120.679909', '28.05756'], ['120.679909', '28.05756'], ['120.679749', '28.057528'], ['120.679611', '28.057514'], ['120.679337', '28.057528'], ['120.679085', '28.05755'], ['120.678841', '28.0576'], ['120.678619', '28.057665'], ['120.678444', '28.057737'], ['120.678291', '28.057827'], ['120.678169', '28.057915'], ['120.677147', '28.058889'], ['120.677032', '28.058968'], ['120.676895', '28.059036'], ['120.676781', '28.059076'], ['120.676735', '28.05908'], ['120.67662', '28.059103'], ['120.676468', '28.059103'], ['120.676323', '28.05908'], ['120.676186', '28.05904'], ['120.675964', '28.058937'], ['120.675888', '28.058867'], ['120.675797', '28.058762'], ['120.675751', '28.058666'], ['120.675697', '28.058538'], ['120.675674', '28.05842'], ['120.675659', '28.058285'], ['120.67569', '28.058125'], ['120.675789', '28.057709'], ['120.675812', '28.057508'], ['120.675812', '28.057373'], ['120.675797', '28.057259'], ['120.675751', '28.05714'], ['120.675682', '28.057018'], ['120.675591', '28.056904'], ['120.675461', '28.056789'], ['120.674721', '28.056257'], ['120.674561', '28.056124'], ['120.674416', '28.055981'], ['120.67408', '28.055529'], ['120.673988', '28.055378'], ['120.673828', '28.055161'], ['120.673683', '28.054996'], ['120.673492', '28.054844'], ['120.673332', '28.054722'], ['120.672951', '28.054531'], ['120.672516', '28.054388'], ['120.671837', '28.054321'], ['120.670753', '28.054258'], ['120.670425', '28.054207'], ['120.670258', '28.054167'], ['120.670097', '28.054102'], ['120.669899', '28.053984'], ['120.669815', '28.053894'], ['120.669724', '28.053799'], ['120.669632', '28.053646'], ['120.669449', '28.05319'], ['120.669319', '28.052856'], ['120.669189', '28.052427'], ['120.668869', '28.05122'], ['120.668793', '28.05098'], ['120.668678', '28.050707'], ['120.668556', '28.050461'], ['120.668442', '28.050264'], ['120.668137', '28.049873'], ['120.668137', '28.049873'], ['120.667816', '28.049686'], ['120.667488', '28.049448'], ['120.667221', '28.049284'], ['120.666809', '28.04907'], ['120.66655', '28.048954'], ['120.666153', '28.048801'], ['120.665421', '28.048597'], ['120.664803', '28.048502'], ['120.664131', '28.048466'], ['120.663612', '28.048512'], ['120.663132', '28.048571'], ['120.662231', '28.048689'], ['120.661888', '28.048719'], ['120.661835', '28.048729'], ['120.661598', '28.048761'], ['120.661354', '28.048801'], ['120.660782', '28.04888'], ['120.660545', '28.048916'], ['120.660255', '28.048954'], ['120.659286', '28.049084'], ['120.656624', '28.049484'], ['120.656624', '28.049484'], ['120.656372', '28.048256'], ['120.656342', '28.048096'], ['120.656219', '28.04755'], ['120.656082', '28.046831'], ['120.655884', '28.045773'], ['120.655724', '28.04505'], ['120.655556', '28.044209'], ['120.655388', '28.043373'], ['120.655388', '28.043373'], ['120.654579', '28.043388']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>