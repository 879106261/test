<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.712288', '28.08164'], ['120.711823', '28.081612'], ['120.711006', '28.081429'], ['120.710739', '28.081362'], ['120.710304', '28.081276'], ['120.71006', '28.081215'], ['120.709663', '28.081055'], ['120.709251', '28.080879'], ['120.708687', '28.080561'], ['120.708473', '28.080442'], ['120.708473', '28.080442'], ['120.707741', '28.081055'], ['120.707283', '28.08145'], ['120.706482', '28.082067'], ['120.706291', '28.082239'], ['120.706139', '28.082409'], ['120.706024', '28.082582'], ['120.705917', '28.082769'], ['120.705833', '28.082956'], ['120.705704', '28.083298'], ['120.705704', '28.083298'], ['120.705536', '28.083279'], ['120.705353', '28.083229'], ['120.705208', '28.083178'], ['120.705063', '28.083069'], ['120.704933', '28.082891'], ['120.704376', '28.082048'], ['120.704277', '28.081881'], ['120.704254', '28.081732'], ['120.704285', '28.081615'], ['120.704353', '28.081511'], ['120.704445', '28.081436'], ['120.704597', '28.081358'], ['120.705238', '28.081055'], ['120.705917', '28.080738'], ['120.706192', '28.080591'], ['120.706497', '28.080404'], ['120.707039', '28.080017'], ['120.709717', '28.077911'], ['120.709991', '28.077717'], ['120.710281', '28.077536'], ['120.71064', '28.077353'], ['120.712364', '28.076567'], ['120.712547', '28.076468'], ['120.712692', '28.07637'], ['120.71283', '28.076248'], ['120.712921', '28.076128'], ['120.713005', '28.075998'], ['120.713074', '28.075865'], ['120.71312', '28.075716'], ['120.713135', '28.075586'], ['120.713127', '28.075342'], ['120.713127', '28.075342'], ['120.713104', '28.075199'], ['120.713058', '28.075077'], ['120.712967', '28.074905'], ['120.71283', '28.074682'], ['120.711754', '28.0732'], ['120.711754', '28.0732'], ['120.711685', '28.073029'], ['120.711662', '28.072826'], ['120.711617', '28.072552'], ['120.711555', '28.072378'], ['120.711288', '28.071249'], ['120.711288', '28.071249'], ['120.711189', '28.070787'], ['120.711166', '28.070404'], ['120.711174', '28.070196'], ['120.711182', '28.070065'], ['120.711212', '28.069874'], ['120.711281', '28.069462'], ['120.711441', '28.068802'], ['120.711807', '28.067287'], ['120.711861', '28.067013'], ['120.711891', '28.066736'], ['120.711922', '28.066416'], ['120.711922', '28.066175'], ['120.711891', '28.065876'], ['120.711861', '28.065542'], ['120.711761', '28.065187'], ['120.71154', '28.064568'], ['120.70903', '28.059484'], ['120.708824', '28.05908'], ['120.708519', '28.058466'], ['120.708221', '28.057974'], ['120.707794', '28.057354'], ['120.707451', '28.056902'], ['120.707146', '28.056536'], ['120.706757', '28.056124'], ['120.706085', '28.055538'], ['120.705482', '28.055096'], ['120.704826', '28.054667'], ['120.704826', '28.054667'], ['120.704163', '28.054279'], ['120.703621', '28.054007'], ['120.700584', '28.052631'], ['120.699593', '28.052183'], ['120.69883', '28.051785'], ['120.698753', '28.051744'], ['120.698181', '28.051371'], ['120.697884', '28.051155'], ['120.697662', '28.050968'], ['120.697227', '28.050556'], ['120.696754', '28.050018'], ['120.696388', '28.049509'], ['120.696327', '28.049389'], ['120.696205', '28.049162'], ['120.695801', '28.048334'], ['120.695793', '28.048325'], ['120.695686', '28.048096'], ['120.695549', '28.047777'], ['120.695389', '28.047478'], ['120.695389', '28.047478'], ['120.695297', '28.047396'], ['120.695221', '28.0473'], ['120.694435', '28.04582'], ['120.694366', '28.045673'], ['120.694176', '28.045259'], ['120.693909', '28.044605'], ['120.693909', '28.044605'], ['120.693848', '28.044249'], ['120.693825', '28.04414'], ['120.693619', '28.043507'], ['120.693573', '28.04335'], ['120.693527', '28.043196'], ['120.693527', '28.043196'], ['120.693497', '28.043051'], ['120.693459', '28.04291'], ['120.693108', '28.041616'], ['120.693108', '28.041616'], ['120.692963', '28.041761'], ['120.692795', '28.041889'], ['120.69223', '28.042036'], ['120.691612', '28.042139'], ['120.690948', '28.042191'], ['120.689705', '28.042253'], ['120.687851', '28.042305'], ['120.687119', '28.042309'], ['120.686607', '28.042282'], ['120.686028', '28.042309'], ['120.685562', '28.042374'], ['120.685226', '28.042505'], ['120.685074', '28.042591'], ['120.684776', '28.042801'], ['120.684402', '28.042986'], ['120.684204', '28.043056'], ['120.683868', '28.043112'], ['120.683601', '28.043116'], ['120.68222', '28.043165'], ['120.681602', '28.043169'], ['120.680939', '28.043112'], ['120.680939', '28.043112'], ['120.680763', '28.043037'], ['120.680481', '28.042955'], ['120.680275', '28.042912'], ['120.680099', '28.042896'], ['120.679207', '28.04285'], ['120.679001', '28.0429'], ['120.67823', '28.042912'], ['120.67437', '28.042965'], ['120.673828', '28.042978'], ['120.671486', '28.043013'], ['120.671295', '28.043024'], ['120.67086', '28.043024'], ['120.669624', '28.04303'], ['120.669357', '28.043024'], ['120.669144', '28.042992'], ['120.668892', '28.04291'], ['120.6688', '28.04285'], ['120.668633', '28.042704'], ['120.668571', '28.042622'], ['120.668533', '28.042532'], ['120.668518', '28.04244'], ['120.668518', '28.042345'], ['120.668556', '28.042171'], ['120.668655', '28.041872'], ['120.668701', '28.041706'], ['120.668701', '28.04159'], ['120.668694', '28.041466'], ['120.668655', '28.041367'], ['120.668602', '28.041248'], ['120.668518', '28.041115'], ['120.668365', '28.040934'], ['120.667717', '28.040226'], ['120.667603', '28.039944'], ['120.667244', '28.039366'], ['120.667015', '28.038872'], ['120.666878', '28.038521'], ['120.666771', '28.038155'], ['120.66671', '28.037868'], ['120.666641', '28.037323'], ['120.666611', '28.037109'], ['120.666542', '28.036407'], ['120.666542', '28.036407'], ['120.666206', '28.036444'], ['120.665985', '28.036453'], ['120.664978', '28.03648'], ['120.664856', '28.036453'], ['120.664238', '28.036484'], ['120.663872', '28.036503'], ['120.663376', '28.036507'], ['120.662575', '28.03652'], ['120.662468', '28.036524'], ['120.662178', '28.03653'], ['120.661537', '28.036549'], ['120.661537', '28.036549'], ['120.661552', '28.037109'], ['120.661606', '28.038733'], ['120.661644', '28.040195'], ['120.66169', '28.041645'], ['120.661697', '28.042076'], ['120.661697', '28.042387'], ['120.661743', '28.043465'], ['120.661652', '28.043465'], ['120.660553', '28.043556'], ['120.659874', '28.043642'], ['120.658348', '28.043829'], ['120.658348', '28.043829'], ['120.657959', '28.043173'], ['120.657959', '28.043173'], ['120.657776', '28.043238'], ['120.657616', '28.043274'], ['120.656311', '28.04335'], ['120.655388', '28.043373'], ['120.654579', '28.043388']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>