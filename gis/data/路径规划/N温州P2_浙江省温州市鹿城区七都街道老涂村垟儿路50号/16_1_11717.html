<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.712288', '28.08164'], ['120.713158', '28.081701'], ['120.713158', '28.081701'], ['120.713234', '28.081055'], ['120.713371', '28.080023'], ['120.713379', '28.079857'], ['120.713394', '28.079819'], ['120.713394', '28.079819'], ['120.713692', '28.079866'], ['120.714035', '28.079878'], ['120.714783', '28.079773'], ['120.716972', '28.079435'], ['120.717545', '28.079336'], ['120.717781', '28.07933'], ['120.71862', '28.07934'], ['120.718857', '28.079311'], ['120.719048', '28.079254'], ['120.719246', '28.079184'], ['120.719559', '28.078949'], ['120.719917', '28.078648'], ['120.720314', '28.078224'], ['120.720436', '28.078064'], ['120.720512', '28.077942'], ['120.720596', '28.077747'], ['120.720604', '28.077656'], ['120.720642', '28.077465'], ['120.720612', '28.076271'], ['120.720619', '28.076056'], ['120.720657', '28.075865'], ['120.720772', '28.075491'], ['120.720879', '28.07527'], ['120.720985', '28.0751'], ['120.721123', '28.074926'], ['120.721245', '28.074795'], ['120.721474', '28.074572'], ['120.721764', '28.074385'], ['120.722488', '28.07402'], ['120.722992', '28.073771'], ['120.724052', '28.073215'], ['120.724052', '28.073215'], ['120.724113', '28.072908'], ['120.724121', '28.072783'], ['120.72406', '28.072283'], ['120.7239', '28.071533'], ['120.723854', '28.071133'], ['120.723801', '28.070955'], ['120.72361', '28.07056'], ['120.723518', '28.070429'], ['120.723328', '28.070065'], ['120.723305', '28.070023'], ['120.723206', '28.069736'], ['120.723175', '28.06938'], ['120.723129', '28.069235'], ['120.723061', '28.069115'], ['120.722977', '28.069054'], ['120.722443', '28.068853'], ['120.721764', '28.068747'], ['120.721207', '28.06868'], ['120.720154', '28.068493'], ['120.718765', '28.068325'], ['120.717972', '28.068195'], ['120.717781', '28.068125'], ['120.716522', '28.067692'], ['120.714783', '28.067005'], ['120.714355', '28.066799'], ['120.713943', '28.066576'], ['120.713783', '28.066448'], ['120.713486', '28.066212'], ['120.713242', '28.066038'], ['120.713242', '28.066038'], ['120.712975', '28.065855'], ['120.712616', '28.065605'], ['120.712616', '28.065605'], ['120.712273', '28.065304'], ['120.712097', '28.065096'], ['120.712036', '28.064974'], ['120.711868', '28.064667'], ['120.709785', '28.060465'], ['120.709312', '28.059444'], ['120.709137', '28.05908'], ['120.708641', '28.058107'], ['120.708092', '28.057219'], ['120.707397', '28.056267'], ['120.707146', '28.056015'], ['120.706566', '28.055511'], ['120.706123', '28.055141'], ['120.705421', '28.054604'], ['120.705421', '28.054604'], ['120.704071', '28.053598'], ['120.703415', '28.053015'], ['120.702583', '28.052313'], ['120.702347', '28.052149'], ['120.702232', '28.052071'], ['120.701759', '28.051798'], ['120.701263', '28.051554'], ['120.700607', '28.051367'], ['120.700333', '28.051319'], ['120.69986', '28.051262'], ['120.699211', '28.051142'], ['120.697479', '28.050934'], ['120.697113', '28.050873'], ['120.697014', '28.050869'], ['120.696648', '28.05088'], ['120.695793', '28.050915'], ['120.695732', '28.05092'], ['120.69558', '28.05092'], ['120.695465', '28.050898'], ['120.695297', '28.050875'], ['120.694992', '28.050961'], ['120.69445', '28.051107'], ['120.694168', '28.051245'], ['120.69368', '28.051394'], ['120.693474', '28.051432'], ['120.692566', '28.051548'], ['120.692406', '28.051571'], ['120.690376', '28.051844'], ['120.690063', '28.051857'], ['120.689819', '28.051853'], ['120.689651', '28.05187'], ['120.688667', '28.052031'], ['120.688515', '28.052053'], ['120.688293', '28.052057'], ['120.688072', '28.05204'], ['120.686981', '28.051817'], ['120.685883', '28.051561'], ['120.685387', '28.051449'], ['120.684349', '28.051266'], ['120.683113', '28.051029'], ['120.683113', '28.051029'], ['120.682487', '28.052275'], ['120.682297', '28.052696'], ['120.682091', '28.053106'], ['120.681091', '28.055141'], ['120.679909', '28.05756'], ['120.679909', '28.05756'], ['120.679749', '28.057528'], ['120.679611', '28.057514'], ['120.679337', '28.057528'], ['120.679085', '28.05755'], ['120.678841', '28.0576'], ['120.678619', '28.057665'], ['120.678444', '28.057737'], ['120.678291', '28.057827'], ['120.678169', '28.057915'], ['120.677147', '28.058889'], ['120.677032', '28.058968'], ['120.676895', '28.059036'], ['120.676781', '28.059076'], ['120.676735', '28.05908'], ['120.67662', '28.059103'], ['120.676468', '28.059103'], ['120.676323', '28.05908'], ['120.676186', '28.05904'], ['120.675964', '28.058937'], ['120.675888', '28.058867'], ['120.675797', '28.058762'], ['120.675751', '28.058666'], ['120.675697', '28.058538'], ['120.675674', '28.05842'], ['120.675659', '28.058285'], ['120.67569', '28.058125'], ['120.675789', '28.057709'], ['120.675812', '28.057508'], ['120.675812', '28.057373'], ['120.675797', '28.057259'], ['120.675751', '28.05714'], ['120.675682', '28.057018'], ['120.675591', '28.056904'], ['120.675461', '28.056789'], ['120.674721', '28.056257'], ['120.674561', '28.056124'], ['120.674416', '28.055981'], ['120.67408', '28.055529'], ['120.673988', '28.055378'], ['120.673828', '28.055161'], ['120.673683', '28.054996'], ['120.673492', '28.054844'], ['120.673332', '28.054722'], ['120.672951', '28.054531'], ['120.672516', '28.054388'], ['120.671837', '28.054321'], ['120.670753', '28.054258'], ['120.670425', '28.054207'], ['120.670258', '28.054167'], ['120.670097', '28.054102'], ['120.669899', '28.053984'], ['120.669815', '28.053894'], ['120.669724', '28.053799'], ['120.669632', '28.053646'], ['120.669449', '28.05319'], ['120.669319', '28.052856'], ['120.669189', '28.052427'], ['120.668869', '28.05122'], ['120.668793', '28.05098'], ['120.668678', '28.050707'], ['120.668556', '28.050461'], ['120.668442', '28.050264'], ['120.668137', '28.049873'], ['120.668137', '28.049873'], ['120.667816', '28.049686'], ['120.667488', '28.049448'], ['120.667221', '28.049284'], ['120.666809', '28.04907'], ['120.66655', '28.048954'], ['120.666153', '28.048801'], ['120.665421', '28.048597'], ['120.664803', '28.048502'], ['120.664131', '28.048466'], ['120.663612', '28.048512'], ['120.663132', '28.048571'], ['120.662231', '28.048689'], ['120.661888', '28.048719'], ['120.661835', '28.048729'], ['120.661598', '28.048761'], ['120.661354', '28.048801'], ['120.660782', '28.04888'], ['120.660545', '28.048916'], ['120.660255', '28.048954'], ['120.659286', '28.049084'], ['120.656624', '28.049484'], ['120.656624', '28.049484'], ['120.656372', '28.048256'], ['120.656342', '28.048096'], ['120.656219', '28.04755'], ['120.656082', '28.046831'], ['120.655884', '28.045773'], ['120.655724', '28.04505'], ['120.655556', '28.044209'], ['120.655388', '28.043373'], ['120.655388', '28.043373'], ['120.654579', '28.043388']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>