<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.356003', '41.176579'], ['121.355469', '41.176403'], ['121.355469', '41.176403'], ['121.355438', '41.176582'], ['121.355415', '41.176754'], ['121.355408', '41.176807'], ['121.355324', '41.177315'], ['121.355286', '41.177658'], ['121.355164', '41.178474'], ['121.355042', '41.178951'], ['121.35498', '41.17915'], ['121.354362', '41.181221'], ['121.354294', '41.181648'], ['121.35421', '41.182152'], ['121.354095', '41.182701'], ['121.354027', '41.182884'], ['121.353935', '41.183083'], ['121.353737', '41.183392'], ['121.353607', '41.18354'], ['121.353371', '41.183807'], ['121.353149', '41.184078'], ['121.353065', '41.18417'], ['121.352249', '41.185112'], ['121.352089', '41.185341'], ['121.351929', '41.185574'], ['121.351357', '41.186214'], ['121.350616', '41.18713'], ['121.350075', '41.18774'], ['121.349686', '41.188194'], ['121.349068', '41.188961'], ['121.348389', '41.189743'], ['121.347954', '41.190323'], ['121.347412', '41.190968'], ['121.347412', '41.190968'], ['121.347008', '41.191444'], ['121.346542', '41.19183'], ['121.34536', '41.192543'], ['121.345192', '41.192646'], ['121.344719', '41.192917'], ['121.344269', '41.193188'], ['121.342926', '41.19405'], ['121.34185', '41.194691'], ['121.340706', '41.195396'], ['121.339272', '41.196335'], ['121.339043', '41.196457'], ['121.338829', '41.196568'], ['121.337593', '41.197361'], ['121.337303', '41.197594'], ['121.337051', '41.197952'], ['121.336861', '41.19828'], ['121.336838', '41.198383'], ['121.336723', '41.198708'], ['121.336723', '41.19873'], ['121.336655', '41.19899'], ['121.336647', '41.199089'], ['121.336647', '41.199459'], ['121.336586', '41.200546'], ['121.336594', '41.201'], ['121.33654', '41.201614'], ['121.336464', '41.201843'], ['121.336334', '41.202045'], ['121.33593', '41.20248'], ['121.335358', '41.203125'], ['121.334045', '41.204655'], ['121.333176', '41.205627'], ['121.333076', '41.205856'], ['121.333023', '41.206112'], ['121.333015', '41.206635'], ['121.333008', '41.20713'], ['121.332993', '41.207619'], ['121.33297', '41.207878'], ['121.332932', '41.208046'], ['121.332802', '41.208344'], ['121.332039', '41.209717'], ['121.331848', '41.210159'], ['121.331703', '41.210621'], ['121.331429', '41.211636'], ['121.331337', '41.211937'], ['121.331245', '41.212181'], ['121.331192', '41.212254'], ['121.330894', '41.212551'], ['121.329437', '41.213634'], ['121.32814', '41.214622'], ['121.327904', '41.214893'], ['121.327194', '41.215961'], ['121.326797', '41.216454'], ['121.326355', '41.216949'], ['121.325905', '41.217461'], ['121.325722', '41.217621'], ['121.325584', '41.217705'], ['121.325111', '41.217937'], ['121.324211', '41.218185'], ['121.323425', '41.218395'], ['121.322327', '41.218616'], ['121.321175', '41.218803'], ['121.32077', '41.218899'], ['121.320419', '41.218987'], ['121.319641', '41.219212'], ['121.31778', '41.219822'], ['121.316963', '41.220074'], ['121.315811', '41.220448'], ['121.315208', '41.220703'], ['121.314934', '41.220814'], ['121.314331', '41.221004'], ['121.313667', '41.221138'], ['121.312798', '41.221199'], ['121.311028', '41.221382'], ['121.309456', '41.221535'], ['121.308884', '41.221573'], ['121.306534', '41.221729'], ['121.306534', '41.221729'], ['121.306068', '41.221794'], ['121.305954', '41.221832'], ['121.305748', '41.221893'], ['121.30545', '41.22205'], ['121.305298', '41.222137'], ['121.304985', '41.222332'], ['121.303909', '41.22308'], ['121.303192', '41.223488'], ['121.302139', '41.223984'], ['121.300705', '41.224632'], ['121.300079', '41.224957'], ['121.298683', '41.225716'], ['121.296661', '41.226795'], ['121.294495', '41.227943'], ['121.292908', '41.228802'], ['121.291748', '41.229412'], ['121.291344', '41.229603'], ['121.290756', '41.229828'], ['121.290642', '41.229851'], ['121.290504', '41.229874'], ['121.290009', '41.229885'], ['121.289673', '41.229912'], ['121.289314', '41.229965'], ['121.289207', '41.229988'], ['121.28907', '41.230042'], ['121.288986', '41.230076'], ['121.28891', '41.230122'], ['121.288727', '41.230263'], ['121.288727', '41.230263'], ['121.288803', '41.230625'], ['121.288986', '41.231354'], ['121.28907', '41.231575'], ['121.289101', '41.231689'], ['121.289299', '41.232208'], ['121.289406', '41.232601'], ['121.289635', '41.233921'], ['121.289703', '41.234272'], ['121.289749', '41.23465'], ['121.289726', '41.234886'], ['121.289413', '41.235813'], ['121.289124', '41.236576'], ['121.28907', '41.236801'], ['121.289017', '41.236965'], ['121.288841', '41.237453'], ['121.2883', '41.238972'], ['121.288208', '41.23933'], ['121.287796', '41.241104'], ['121.287422', '41.242676'], ['121.287346', '41.243'], ['121.286865', '41.244781'], ['121.286728', '41.245613'], ['121.286186', '41.249294'], ['121.28614', '41.249695'], ['121.28614', '41.249859'], ['121.286179', '41.250534'], ['121.286186', '41.250748'], ['121.286133', '41.251408'], ['121.286026', '41.252045'], ['121.286003', '41.252628'], ['121.286003', '41.252968'], ['121.286026', '41.253223'], ['121.286095', '41.253658'], ['121.286362', '41.255447'], ['121.286392', '41.255867'], ['121.286354', '41.256886'], ['121.286346', '41.257168'], ['121.286308', '41.257835'], ['121.286179', '41.260548'], ['121.286133', '41.261002'], ['121.285866', '41.263268'], ['121.285683', '41.264542'], ['121.285645', '41.264648'], ['121.285629', '41.264709'], ['121.285324', '41.265793'], ['121.285233', '41.266232'], ['121.285233', '41.266476'], ['121.285286', '41.266697'], ['121.28537', '41.266865'], ['121.285484', '41.266998'], ['121.285858', '41.267315'], ['121.286552', '41.267845'], ['121.286728', '41.268047'], ['121.286888', '41.268291'], ['121.287041', '41.2686'], ['121.287224', '41.269108'], ['121.287254', '41.269207'], ['121.2873', '41.26963'], ['121.287292', '41.270565'], ['121.28727', '41.270775'], ['121.287193', '41.271809'], ['121.287163', '41.271984'], ['121.287056', '41.272312'], ['121.286629', '41.273457'], ['121.286461', '41.273914'], ['121.286324', '41.274368'], ['121.286293', '41.274632'], ['121.286301', '41.274914'], ['121.286453', '41.275635'], ['121.28698', '41.278107'], ['121.287148', '41.278889'], ['121.287453', '41.280502'], ['121.287476', '41.280792'], ['121.287437', '41.28104'], ['121.287369', '41.281246'], ['121.287254', '41.281425'], ['121.286949', '41.281746'], ['121.286629', '41.282032'], ['121.28595', '41.2826'], ['121.28569', '41.282829'], ['121.285538', '41.283005'], ['121.285484', '41.283062'], ['121.285324', '41.283325'], ['121.285263', '41.283543'], ['121.28521', '41.28384'], ['121.284981', '41.286617'], ['121.28495', '41.287022'], ['121.284966', '41.287487'], ['121.285553', '41.29034'], ['121.285706', '41.291031'], ['121.286118', '41.292625'], ['121.286278', '41.293312'], ['121.286331', '41.293797'], ['121.286354', '41.294422'], ['121.28643', '41.296799'], ['121.28643', '41.296944'], ['121.286392', '41.297188'], ['121.286255', '41.297604'], ['121.286148', '41.297955'], ['121.286011', '41.298462'], ['121.285973', '41.298622'], ['121.285881', '41.29895'], ['121.285484', '41.300381'], ['121.285484', '41.300381'], ['121.284363', '41.300213'], ['121.283211', '41.300003'], ['121.282516', '41.299866'], ['121.280754', '41.299553'], ['121.280319', '41.299473'], ['121.279518', '41.299244'], ['121.278236', '41.298893'], ['121.277748', '41.298759'], ['121.275887', '41.298271'], ['121.274353', '41.297852'], ['121.274124', '41.297764'], ['121.27375', '41.297604'], ['121.273293', '41.29739'], ['121.272949', '41.297264'], ['121.272385', '41.297081'], ['121.268578', '41.296009'], ['121.267967', '41.295868'], ['121.267082', '41.295696'], ['121.265297', '41.29538'], ['121.263878', '41.295128'], ['121.261459', '41.294674'], ['121.260803', '41.294556'], ['121.260483', '41.294525'], ['121.260162', '41.294514'], ['121.259727', '41.294548'], ['121.258171', '41.294827'], ['121.257607', '41.294903'], ['121.256943', '41.294945'], ['121.255669', '41.294933'], ['121.25547', '41.294914'], ['121.254951', '41.294937'], ['121.254532', '41.294941'], ['121.254532', '41.294941'], ['121.254669', '41.295628'], ['121.254852', '41.296818'], ['121.254967', '41.297367'], ['121.255013', '41.297604'], ['121.255081', '41.297874'], ['121.255447', '41.299236'], ['121.25547', '41.299358'], ['121.255623', '41.299988'], ['121.255753', '41.300621'], ['121.255928', '41.302013'], ['121.256187', '41.304363'], ['121.256561', '41.306995'], ['121.256584', '41.307213'], ['121.256775', '41.308594'], ['121.256805', '41.3088'], ['121.257019', '41.310154'], ['121.257179', '41.311199'], ['121.257202', '41.311359'], ['121.257332', '41.312195'], ['121.257408', '41.312893'], ['121.257523', '41.314507'], ['121.257591', '41.31543'], ['121.257637', '41.315884'], ['121.257683', '41.316257'], ['121.257904', '41.317478'], ['121.258133', '41.318768'], ['121.25827', '41.319576'], ['121.258453', '41.320648'], ['121.258896', '41.323059'], ['121.259186', '41.324444'], ['121.259262', '41.324814'], ['121.259369', '41.324917'], ['121.259811', '41.326912'], ['121.259972', '41.32761'], ['121.260025', '41.327877'], ['121.260284', '41.329033'], ['121.26059', '41.3302'], ['121.260681', '41.330563'], ['121.26078', '41.330875']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>