<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.676888', '32.560085'], ['120.67691', '32.559872'], ['120.67691', '32.559872'], ['120.676643', '32.559853'], ['120.674309', '32.559711'], ['120.673912', '32.559689'], ['120.673828', '32.559681'], ['120.673607', '32.559669'], ['120.673538', '32.559666'], ['120.672806', '32.559624'], ['120.672081', '32.559574'], ['120.671509', '32.559544'], ['120.670723', '32.559494'], ['120.670036', '32.559456'], ['120.668411', '32.559353'], ['120.665466', '32.55917'], ['120.66449', '32.559105'], ['120.664276', '32.559071'], ['120.663902', '32.558956'], ['120.663506', '32.558781'], ['120.663307', '32.558666'], ['120.663109', '32.558533'], ['120.662888', '32.55835'], ['120.662727', '32.558182'], ['120.662537', '32.557911'], ['120.662399', '32.55769'], ['120.662277', '32.557407'], ['120.662201', '32.557117'], ['120.662186', '32.556931'], ['120.662193', '32.556705'], ['120.66227', '32.555908'], ['120.662346', '32.555168'], ['120.662407', '32.554512'], ['120.662437', '32.554173'], ['120.662498', '32.553658'], ['120.662544', '32.55302'], ['120.662598', '32.552486'], ['120.662643', '32.552135'], ['120.662697', '32.551617'], ['120.662926', '32.549343'], ['120.663193', '32.546707'], ['120.663246', '32.546162'], ['120.663322', '32.545391'], ['120.663368', '32.544941'], ['120.663475', '32.543839'], ['120.663582', '32.542843'], ['120.663628', '32.542542'], ['120.663719', '32.541504'], ['120.663734', '32.541294'], ['120.663788', '32.540771'], ['120.664032', '32.53841'], ['120.664101', '32.537701'], ['120.664154', '32.537106'], ['120.664177', '32.536697'], ['120.664154', '32.536186'], ['120.664062', '32.535702'], ['120.663895', '32.535198'], ['120.663727', '32.534828'], ['120.663567', '32.534538'], ['120.663422', '32.534336'], ['120.663193', '32.534035'], ['120.662628', '32.533466'], ['120.661903', '32.532715'], ['120.661285', '32.532131'], ['120.661285', '32.532131'], ['120.661011', '32.532001'], ['120.660156', '32.531559'], ['120.659332', '32.531254'], ['120.65873', '32.531063'], ['120.655945', '32.530937'], ['120.655388', '32.530914'], ['120.653442', '32.530842'], ['120.651855', '32.530777'], ['120.649757', '32.530682'], ['120.648247', '32.530621'], ['120.647865', '32.530609'], ['120.647552', '32.530594'], ['120.64653', '32.530552'], ['120.645546', '32.530514'], ['120.643257', '32.530426'], ['120.64225', '32.530411'], ['120.641685', '32.530399'], ['120.64093', '32.530388'], ['120.637535', '32.530346'], ['120.635025', '32.530319'], ['120.634079', '32.530308'], ['120.629883', '32.530266'], ['120.62928', '32.530254'], ['120.626999', '32.530231'], ['120.625885', '32.530224'], ['120.623863', '32.530201'], ['120.617661', '32.530132'], ['120.611282', '32.530064'], ['120.61013', '32.530052'], ['120.609085', '32.530045'], ['120.60791', '32.530025'], ['120.606514', '32.530014'], ['120.605659', '32.530003'], ['120.59903', '32.529945'], ['120.596992', '32.529881'], ['120.596275', '32.529846'], ['120.59565', '32.529793'], ['120.594727', '32.529697'], ['120.593216', '32.529514'], ['120.592384', '32.529388'], ['120.591423', '32.52927'], ['120.590363', '32.529133'], ['120.588974', '32.528954'], ['120.588219', '32.528877'], ['120.587013', '32.528774'], ['120.58606', '32.528744'], ['120.585938', '32.528744'], ['120.584999', '32.528732'], ['120.583359', '32.528709'], ['120.581917', '32.528702'], ['120.581856', '32.528702'], ['120.578285', '32.528664'], ['120.57589', '32.528641'], ['120.573196', '32.528629'], ['120.572922', '32.528629'], ['120.572281', '32.528622'], ['120.572006', '32.528622'], ['120.571075', '32.52861'], ['120.57032', '32.528606'], ['120.568642', '32.528595'], ['120.567894', '32.528587'], ['120.563965', '32.528561'], ['120.563629', '32.528561'], ['120.560204', '32.528538'], ['120.559776', '32.528538'], ['120.559662', '32.52853'], ['120.559128', '32.528526'], ['120.557899', '32.528515'], ['120.557602', '32.528515'], ['120.555687', '32.5285'], ['120.554428', '32.528488'], ['120.552925', '32.528481'], ['120.551186', '32.528465'], ['120.549515', '32.528454'], ['120.547737', '32.528439'], ['120.544899', '32.528416'], ['120.544777', '32.528305'], ['120.544785', '32.527855'], ['120.544785', '32.52734']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>