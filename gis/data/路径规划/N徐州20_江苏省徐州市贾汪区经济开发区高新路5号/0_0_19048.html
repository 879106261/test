<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.439079', '34.381401'], ['117.439621', '34.382153'], ['117.439537', '34.382206'], ['117.439377', '34.381985'], ['117.438873', '34.38129'], ['117.437531', '34.379478'], ['117.436615', '34.37825'], ['117.435127', '34.376221'], ['117.435112', '34.376183'], ['117.435066', '34.376125'], ['117.434158', '34.374912'], ['117.433525', '34.37405'], ['117.433273', '34.373699'], ['117.43177', '34.371639'], ['117.431435', '34.371193'], ['117.430771', '34.370296'], ['117.429794', '34.368965'], ['117.429527', '34.368614'], ['117.428635', '34.367397'], ['117.427032', '34.365234'], ['117.426682', '34.364765'], ['117.42627', '34.364197'], ['117.425537', '34.363197'], ['117.425537', '34.363197'], ['117.424797', '34.363136'], ['117.423897', '34.363064'], ['117.421875', '34.36293'], ['117.417465', '34.362633'], ['117.413574', '34.362358'], ['117.4077', '34.36195'], ['117.404518', '34.361736'], ['117.403786', '34.361668'], ['117.400551', '34.361179'], ['117.399902', '34.361103'], ['117.399323', '34.361042'], ['117.397606', '34.360886'], ['117.393532', '34.360538'], ['117.39315', '34.360508'], ['117.392815', '34.360477'], ['117.392647', '34.360466'], ['117.392578', '34.360184'], ['117.392136', '34.358971'], ['117.391602', '34.357651'], ['117.391327', '34.357059'], ['117.390823', '34.356007'], ['117.389992', '34.35445'], ['117.389877', '34.354244'], ['117.389671', '34.353897'], ['117.388954', '34.352745'], ['117.387863', '34.351166'], ['117.387527', '34.350712'], ['117.386917', '34.349941'], ['117.386299', '34.349194'], ['117.385834', '34.34864'], ['117.385162', '34.347897'], ['117.384285', '34.346992'], ['117.383301', '34.346016'], ['117.381752', '34.344627'], ['117.381393', '34.344326'], ['117.380981', '34.343994'], ['117.380028', '34.343262'], ['117.379372', '34.342766'], ['117.378593', '34.342209'], ['117.37793', '34.341759'], ['117.377663', '34.341576'], ['117.37693', '34.341106'], ['117.375633', '34.340324'], ['117.374802', '34.339855'], ['117.374023', '34.339436'], ['117.373077', '34.338943'], ['117.371941', '34.338398'], ['117.370789', '34.337879'], ['117.368187', '34.336758'], ['117.366074', '34.335819'], ['117.365486', '34.335522'], ['117.364845', '34.335163'], ['117.364372', '34.334877'], ['117.363716', '34.334465'], ['117.362862', '34.333866'], ['117.362366', '34.333477'], ['117.361824', '34.333031'], ['117.361412', '34.332657'], ['117.361023', '34.332275'], ['117.36097', '34.332218'], ['117.360466', '34.331684'], ['117.3601', '34.331276'], ['117.359741', '34.330837'], ['117.359398', '34.330379'], ['117.359032', '34.329868'], ['117.35878', '34.329468'], ['117.358421', '34.328854'], ['117.358238', '34.328533'], ['117.357765', '34.327587'], ['117.356956', '34.325928'], ['117.355957', '34.323803'], ['117.355515', '34.322872'], ['117.355309', '34.322453'], ['117.354744', '34.321289'], ['117.352341', '34.316265'], ['117.3508', '34.313049'], ['117.349808', '34.31089'], ['117.34951', '34.310299'], ['117.348907', '34.309074'], ['117.348907', '34.309074'], ['117.347519', '34.306179'], ['117.347244', '34.305573'], ['117.346809', '34.304588'], ['117.346199', '34.302982'], ['117.345886', '34.302078'], ['117.345535', '34.30098'], ['117.345299', '34.300133'], ['117.345093', '34.299313'], ['117.345001', '34.298965'], ['117.344788', '34.297947'], ['117.344612', '34.296967'], ['117.344475', '34.296093'], ['117.344315', '34.294724'], ['117.344261', '34.294132'], ['117.344231', '34.293743'], ['117.344185', '34.293091'], ['117.344154', '34.29224'], ['117.344139', '34.291565'], ['117.344154', '34.290443'], ['117.344246', '34.288666'], ['117.344276', '34.28833'], ['117.34433', '34.28767'], ['117.344452', '34.286636'], ['117.344856', '34.283947'], ['117.345161', '34.28244'], ['117.345451', '34.281223'], ['117.345566', '34.280769'], ['117.345596', '34.280632'], ['117.34565', '34.280178'], ['117.345665', '34.279293'], ['117.34568', '34.279079'], ['117.345726', '34.278355'], ['117.345825', '34.277805'], ['117.345917', '34.277344'], ['117.345985', '34.277065'], ['117.346283', '34.27599'], ['117.347183', '34.272717'], ['117.347183', '34.272717'], ['117.345322', '34.272484'], ['117.343536', '34.27224'], ['117.341019', '34.271893'], ['117.33963', '34.271698'], ['117.339546', '34.27169'], ['117.338821', '34.271584'], ['117.335686', '34.271198'], ['117.334427', '34.271038'], ['117.333984', '34.27095'], ['117.333069', '34.270782'], ['117.333069', '34.270782'], ['117.332985', '34.27103'], ['117.332222', '34.273098'], ['117.332207', '34.273151'], ['117.331841', '34.274143'], ['117.331627', '34.274719'], ['117.330704', '34.277195'], ['117.330704', '34.277195'], ['117.3311', '34.277256'], ['117.3311', '34.277256'], ['117.331268', '34.276993'], ['117.331322', '34.276913']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>