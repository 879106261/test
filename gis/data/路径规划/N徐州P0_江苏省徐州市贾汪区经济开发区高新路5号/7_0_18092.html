<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.221313', '34.200615'], ['117.220779', '34.200615'], ['117.220779', '34.200615'], ['117.220772', '34.200798'], ['117.220749', '34.201187'], ['117.220749', '34.201286'], ['117.220711', '34.202095'], ['117.220665', '34.202473'], ['117.220612', '34.202755'], ['117.220596', '34.202862'], ['117.220375', '34.203739'], ['117.220276', '34.204155'], ['117.220116', '34.204765'], ['117.219994', '34.205208'], ['117.219894', '34.205563'], ['117.219727', '34.206173'], ['117.21962', '34.206554'], ['117.219597', '34.206608'], ['117.21936', '34.207474'], ['117.219193', '34.208092'], ['117.219139', '34.208267'], ['117.21862', '34.210533'], ['117.218498', '34.211086'], ['117.218491', '34.21114'], ['117.21843', '34.211426'], ['117.217812', '34.214111'], ['117.217812', '34.214111'], ['117.220383', '34.214096'], ['117.222054', '34.214085'], ['117.222664', '34.214104'], ['117.223175', '34.214146'], ['117.223282', '34.214169'], ['117.22361', '34.214218'], ['117.224037', '34.214333'], ['117.224113', '34.214363'], ['117.22464', '34.214561'], ['117.225067', '34.214787'], ['117.225327', '34.214951'], ['117.225601', '34.21516'], ['117.225883', '34.215408'], ['117.226135', '34.21566'], ['117.226357', '34.215916'], ['117.226578', '34.216228'], ['117.22686', '34.216675'], ['117.227081', '34.217144'], ['117.227234', '34.217587'], ['117.227295', '34.217793'], ['117.227371', '34.218151'], ['117.227417', '34.218697'], ['117.227402', '34.219154'], ['117.227348', '34.219604'], ['117.227272', '34.219955'], ['117.227104', '34.220486'], ['117.226395', '34.222408'], ['117.226303', '34.222637'], ['117.226257', '34.222771'], ['117.225754', '34.224072'], ['117.225319', '34.225246'], ['117.225067', '34.225925'], ['117.224823', '34.226711'], ['117.224709', '34.227245'], ['117.224625', '34.227772'], ['117.224586', '34.228256'], ['117.224579', '34.228939'], ['117.224602', '34.229496'], ['117.224686', '34.230728'], ['117.224739', '34.231346'], ['117.224785', '34.231983'], ['117.224899', '34.233398'], ['117.22525', '34.23811'], ['117.225342', '34.239441'], ['117.225464', '34.240791'], ['117.225548', '34.241154'], ['117.225662', '34.241501'], ['117.225777', '34.241756'], ['117.226051', '34.242252'], ['117.226051', '34.242252'], ['117.226265', '34.242561'], ['117.226418', '34.242752'], ['117.22776', '34.244385'], ['117.227974', '34.244659'], ['117.228203', '34.244965'], ['117.228409', '34.245296'], ['117.228569', '34.245636'], ['117.228737', '34.246166'], ['117.228806', '34.246525'], ['117.228851', '34.247002'], ['117.228889', '34.247932'], ['117.228889', '34.247932'], ['117.229095', '34.248234'], ['117.229095', '34.248737'], ['117.229103', '34.249023'], ['117.229141', '34.249931'], ['117.229156', '34.250397'], ['117.229164', '34.250725'], ['117.229179', '34.251148'], ['117.22921', '34.251823'], ['117.22921', '34.251823'], ['117.230743', '34.251827'], ['117.231239', '34.251827'], ['117.231659', '34.251907'], ['117.232544', '34.251884'], ['117.233307', '34.251877'], ['117.234268', '34.251862'], ['117.235268', '34.251812'], ['117.235886', '34.251762'], ['117.237511', '34.25164'], ['117.238403', '34.25161'], ['117.238495', '34.251602'], ['117.239502', '34.25164'], ['117.242584', '34.251877'], ['117.243698', '34.251953'], ['117.243774', '34.251957'], ['117.246101', '34.252125'], ['117.247856', '34.252262'], ['117.248993', '34.252354'], ['117.249077', '34.252361'], ['117.251495', '34.252567'], ['117.252838', '34.252682'], ['117.25544', '34.252899'], ['117.255714', '34.252918'], ['117.256577', '34.252991'], ['117.260216', '34.253292'], ['117.261421', '34.253395'], ['117.261566', '34.25341'], ['117.265434', '34.253738'], ['117.266701', '34.253841'], ['117.268059', '34.25396'], ['117.269547', '34.254089'], ['117.270935', '34.254208'], ['117.271103', '34.254223'], ['117.27459', '34.254528'], ['117.275002', '34.254555'], ['117.276405', '34.254593'], ['117.276932', '34.254578'], ['117.277817', '34.254501'], ['117.278793', '34.254375'], ['117.282463', '34.25367'], ['117.283134', '34.253593'], ['117.283745', '34.253532'], ['117.284203', '34.253502'], ['117.285072', '34.253464'], ['117.286255', '34.253433'], ['117.287971', '34.25341'], ['117.288605', '34.253422'], ['117.290039', '34.253429'], ['117.290642', '34.253433'], ['117.290802', '34.253433'], ['117.294273', '34.253529'], ['117.294418', '34.253548'], ['117.297829', '34.254009'], ['117.29789', '34.254021'], ['117.299843', '34.254318'], ['117.299927', '34.254326'], ['117.302155', '34.254944'], ['117.303093', '34.255367'], ['117.304024', '34.255795'], ['117.308113', '34.256741'], ['117.309639', '34.257118'], ['117.310051', '34.257217'], ['117.311058', '34.257515'], ['117.312012', '34.257797'], ['117.312553', '34.257946'], ['117.31459', '34.258553'], ['117.315086', '34.258678'], ['117.316406', '34.259068'], ['117.316605', '34.259106'], ['117.316986', '34.259197'], ['117.31765', '34.259354'], ['117.319016', '34.259666'], ['117.319336', '34.259712'], ['117.320137', '34.259819'], ['117.320702', '34.259872'], ['117.32386', '34.260212'], ['117.32663', '34.260937'], ['117.327148', '34.261074'], ['117.328239', '34.261318'], ['117.329224', '34.261547'], ['117.332443', '34.26239'], ['117.333984', '34.262764'], ['117.334496', '34.26289'], ['117.334557', '34.263046'], ['117.33403', '34.265854'], ['117.333984', '34.266079'], ['117.333931', '34.266354'], ['117.333351', '34.269394'], ['117.333138', '34.270473'], ['117.333084', '34.270733'], ['117.333069', '34.270782'], ['117.332985', '34.27103'], ['117.332222', '34.273098'], ['117.332207', '34.273151'], ['117.331841', '34.274143'], ['117.331627', '34.274719'], ['117.330704', '34.277195'], ['117.330704', '34.277195'], ['117.3311', '34.277256'], ['117.3311', '34.277256'], ['117.331268', '34.276993'], ['117.331322', '34.276913']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>