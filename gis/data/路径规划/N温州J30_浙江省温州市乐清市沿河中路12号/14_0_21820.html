<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.987244', '28.074657'], ['120.986977', '28.074713'], ['120.98645', '28.074835'], ['120.985588', '28.075008'], ['120.984703', '28.075218'], ['120.984543', '28.075237'], ['120.984047', '28.07526'], ['120.983414', '28.07527'], ['120.98278', '28.075283'], ['120.982162', '28.075314'], ['120.981972', '28.075329'], ['120.981445', '28.075287'], ['120.981323', '28.07527'], ['120.981049', '28.075191'], ['120.980515', '28.075014'], ['120.980217', '28.07494'], ['120.980034', '28.074926'], ['120.979858', '28.074965'], ['120.979385', '28.075069'], ['120.979088', '28.0751'], ['120.977676', '28.075232'], ['120.977448', '28.075232'], ['120.977104', '28.075195'], ['120.976486', '28.075109'], ['120.975784', '28.074978'], ['120.974464', '28.074827'], ['120.974464', '28.074827'], ['120.975082', '28.074417'], ['120.975243', '28.074226'], ['120.975403', '28.073944'], ['120.975639', '28.07336'], ['120.975639', '28.07336'], ['120.976097', '28.072248'], ['120.976097', '28.072248'], ['120.975815', '28.072205'], ['120.975716', '28.072174'], ['120.975639', '28.072149'], ['120.975449', '28.071991'], ['120.975266', '28.071922'], ['120.974854', '28.071817'], ['120.974228', '28.071554'], ['120.97403', '28.071493'], ['120.973961', '28.07147'], ['120.974113', '28.070972'], ['120.974159', '28.070698'], ['120.974167', '28.07041'], ['120.974167', '28.070065'], ['120.974167', '28.069868'], ['120.974152', '28.067223'], ['120.974121', '28.066233'], ['120.974014', '28.065907'], ['120.974014', '28.065907'], ['120.97393', '28.065855'], ['120.973854', '28.065802'], ['120.973801', '28.065746'], ['120.973763', '28.065693'], ['120.97374', '28.065651'], ['120.973717', '28.065582'], ['120.973717', '28.065582'], ['120.972542', '28.065582'], ['120.970764', '28.065559'], ['120.969917', '28.065516'], ['120.96907', '28.06543'], ['120.968628', '28.065378'], ['120.967682', '28.065228'], ['120.966408', '28.064974'], ['120.965401', '28.064722'], ['120.964409', '28.064413'], ['120.963814', '28.064201'], ['120.962997', '28.063885'], ['120.961891', '28.063398'], ['120.961174', '28.063042'], ['120.960678', '28.062778'], ['120.95974', '28.062222'], ['120.959465', '28.062044'], ['120.958466', '28.061371'], ['120.955132', '28.05908'], ['120.954872', '28.058903'], ['120.954239', '28.05846'], ['120.953766', '28.058102'], ['120.952148', '28.056763'], ['120.95192', '28.056585'], ['120.951744', '28.056448'], ['120.951263', '28.056124'], ['120.950249', '28.05547'], ['120.949814', '28.055147'], ['120.949814', '28.055147'], ['120.945023', '28.051306'], ['120.944252', '28.050665'], ['120.943741', '28.050186'], ['120.943481', '28.049913'], ['120.942924', '28.049307'], ['120.942596', '28.048958'], ['120.942299', '28.048685'], ['120.941803', '28.048283'], ['120.941559', '28.048096'], ['120.941322', '28.04792'], ['120.938164', '28.045664'], ['120.9375', '28.045164'], ['120.937119', '28.044867'], ['120.934944', '28.043095'], ['120.931465', '28.040247'], ['120.929634', '28.038755'], ['120.928581', '28.037888'], ['120.92762', '28.037109'], ['120.927437', '28.036959'], ['120.926682', '28.036385'], ['120.926216', '28.036051'], ['120.925705', '28.035715'], ['120.925323', '28.035482'], ['120.924133', '28.034826'], ['120.922295', '28.033911'], ['120.920403', '28.032982'], ['120.920097', '28.032827'], ['120.919624', '28.032608'], ['120.919281', '28.032431'], ['120.918869', '28.03219'], ['120.918373', '28.031876'], ['120.917938', '28.031563'], ['120.917297', '28.031025'], ['120.916878', '28.030638'], ['120.916542', '28.03027'], ['120.916252', '28.029919'], ['120.915886', '28.029427'], ['120.915527', '28.028929'], ['120.915146', '28.028402'], ['120.915092', '28.028303'], ['120.913536', '28.026119'], ['120.913155', '28.025574'], ['120.912498', '28.02471'], ['120.912498', '28.02471'], ['120.911858', '28.024836'], ['120.910889', '28.025053'], ['120.909233', '28.025433'], ['120.906303', '28.026119'], ['120.904175', '28.026615'], ['120.904152', '28.026617'], ['120.902924', '28.026905'], ['120.902321', '28.027075'], ['120.901634', '28.0273'], ['120.901146', '28.027477'], ['120.89901', '28.028381'], ['120.897568', '28.02899'], ['120.897484', '28.029022'], ['120.896362', '28.02948'], ['120.896088', '28.029587'], ['120.895645', '28.029726'], ['120.895226', '28.029844'], ['120.893608', '28.030325'], ['120.893555', '28.030342'], ['120.893059', '28.030487'], ['120.892693', '28.0306'], ['120.891472', '28.030973'], ['120.890106', '28.031397'], ['120.890038', '28.031416'], ['120.888924', '28.031723'], ['120.888092', '28.031872'], ['120.887634', '28.031931'], ['120.886856', '28.032005'], ['120.886589', '28.03204'], ['120.886192', '28.032066'], ['120.884003', '28.03219'], ['120.878914', '28.032587'], ['120.877563', '28.032686'], ['120.875397', '28.03285'], ['120.875343', '28.03286'], ['120.874908', '28.032887'], ['120.871849', '28.033102'], ['120.871582', '28.033125'], ['120.870621', '28.033195'], ['120.870308', '28.033207'], ['120.869598', '28.033207'], ['120.869011', '28.033169'], ['120.868286', '28.033087'], ['120.86795', '28.033024'], ['120.867378', '28.03289'], ['120.866753', '28.0327'], ['120.865921', '28.032391'], ['120.864594', '28.031763'], ['120.864113', '28.031544'], ['120.864044', '28.031507'], ['120.862373', '28.030346'], ['120.861412', '28.029686'], ['120.858421', '28.027504'], ['120.857483', '28.026817'], ['120.856537', '28.026119'], ['120.85643', '28.026043'], ['120.856003', '28.025734'], ['120.855484', '28.025486'], ['120.855095', '28.025333'], ['120.854416', '28.025131'], ['120.854507', '28.025101'], ['120.855171', '28.024891'], ['120.855759', '28.024727'], ['120.857025', '28.024313'], ['120.857025', '28.024313'], ['120.856796', '28.023697'], ['120.856445', '28.022686'], ['120.856285', '28.022209'], ['120.85627', '28.022104'], ['120.856239', '28.021889'], ['120.856232', '28.021338'], ['120.856125', '28.020313'], ['120.856094', '28.020151'], ['120.856018', '28.019878'], ['120.855965', '28.019613'], ['120.855896', '28.019209'], ['120.855736', '28.018387'], ['120.855377', '28.016809'], ['120.855194', '28.015802'], ['120.855049', '28.015217'], ['120.855034', '28.015133'], ['120.853996', '28.010155'], ['120.853897', '28.009687'], ['120.8536', '28.008421'], ['120.8536', '28.008421'], ['120.852509', '28.006639'], ['120.852455', '28.006594'], ['120.852264', '28.006275'], ['120.851852', '28.005547'], ['120.851608', '28.005091'], ['120.851547', '28.004969'], ['120.85154', '28.004923'], ['120.85154', '28.004923'], ['120.850937', '28.005009'], ['120.850327', '28.005127'], ['120.849609', '28.00526'], ['120.848984', '28.005373'], ['120.84713', '28.005682'], ['120.845703', '28.005941'], ['120.845703', '28.005941'], ['120.845589', '28.005114'], ['120.845413', '28.004148'], ['120.845207', '28.003086'], ['120.845161', '28.002886'], ['120.845123', '28.002682'], ['120.845131', '28.001411'], ['120.845139', '28.00106'], ['120.845139', '28.000706'], ['120.845108', '28.000227'], ['120.845055', '27.999826'], ['120.845032', '27.999714'], ['120.844788', '27.998581'], ['120.844452', '27.997499'], ['120.844452', '27.997499'], ['120.843735', '27.997519'], ['120.842949', '27.997604'], ['120.842567', '27.997608'], ['120.842186', '27.997568'], ['120.84079', '27.997469'], ['120.840424', '27.997492'], ['120.839417', '27.997587'], ['120.836952', '27.997833'], ['120.835838', '27.997999'], ['120.834038', '27.998285'], ['120.832291', '27.998564'], ['120.831749', '27.998652'], ['120.831749', '27.998652'], ['120.831665', '27.998949'], ['120.831665', '27.998949'], ['120.83152', '27.998901'], ['120.831406', '27.99888'], ['120.830544', '27.998871'], ['120.830078', '27.998857']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>