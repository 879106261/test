<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.987244', '28.074657'], ['120.986977', '28.074713'], ['120.98645', '28.074835'], ['120.985588', '28.075008'], ['120.984703', '28.075218'], ['120.984543', '28.075237'], ['120.984047', '28.07526'], ['120.983414', '28.07527'], ['120.98278', '28.075283'], ['120.982162', '28.075314'], ['120.981972', '28.075329'], ['120.981445', '28.075287'], ['120.981323', '28.07527'], ['120.981049', '28.075191'], ['120.980515', '28.075014'], ['120.980217', '28.07494'], ['120.980034', '28.074926'], ['120.979858', '28.074965'], ['120.979385', '28.075069'], ['120.979088', '28.0751'], ['120.977676', '28.075232'], ['120.977448', '28.075232'], ['120.977104', '28.075195'], ['120.976486', '28.075109'], ['120.975784', '28.074978'], ['120.974464', '28.074827'], ['120.974464', '28.074827'], ['120.974136', '28.075077'], ['120.973831', '28.075237'], ['120.973595', '28.075319'], ['120.973228', '28.075428'], ['120.972931', '28.075583'], ['120.972107', '28.07618'], ['120.97187', '28.076307'], ['120.971451', '28.076611'], ['120.971451', '28.076611'], ['120.971344', '28.077063'], ['120.971313', '28.077286'], ['120.971306', '28.077587'], ['120.971336', '28.077887'], ['120.971367', '28.078133'], ['120.971451', '28.07848'], ['120.971725', '28.079605'], ['120.97184', '28.08004'], ['120.971878', '28.080183'], ['120.971947', '28.080687'], ['120.971947', '28.081041'], ['120.971947', '28.081055'], ['120.971931', '28.081228'], ['120.971886', '28.08147'], ['120.971825', '28.081701'], ['120.971687', '28.081991'], ['120.971519', '28.082283'], ['120.970558', '28.08363'], ['120.969795', '28.084631'], ['120.969727', '28.084795'], ['120.969582', '28.084723'], ['120.969154', '28.084311'], ['120.96904', '28.084175'], ['120.968819', '28.083954'], ['120.968719', '28.083839'], ['120.968613', '28.083643'], ['120.968613', '28.083643'], ['120.968567', '28.083561'], ['120.968498', '28.083361'], ['120.96843', '28.083124'], ['120.968399', '28.082996'], ['120.968361', '28.082838'], ['120.968353', '28.082569'], ['120.968353', '28.082569'], ['120.968307', '28.082163'], ['120.9683', '28.081804'], ['120.968269', '28.081411'], ['120.968224', '28.081284'], ['120.968155', '28.081093'], ['120.968132', '28.081055'], ['120.968056', '28.080885'], ['120.967911', '28.080673'], ['120.967758', '28.080496'], ['120.967537', '28.080282'], ['120.967468', '28.080223'], ['120.967278', '28.080109'], ['120.96714', '28.080036'], ['120.966835', '28.079874'], ['120.965973', '28.079453'], ['120.965179', '28.079035'], ['120.964828', '28.078833'], ['120.964485', '28.078625'], ['120.964294', '28.078489'], ['120.964066', '28.078329'], ['120.963562', '28.077969'], ['120.962578', '28.077217'], ['120.962097', '28.076908'], ['120.961624', '28.076658'], ['120.961624', '28.076658'], ['120.961052', '28.076134'], ['120.960762', '28.075911'], ['120.960571', '28.07572'], ['120.960411', '28.07552'], ['120.960281', '28.07531'], ['120.960152', '28.075041'], ['120.960091', '28.074736'], ['120.960052', '28.074362'], ['120.960091', '28.073988'], ['120.960144', '28.07378'], ['120.960281', '28.073406'], ['120.960426', '28.07313'], ['120.960854', '28.072399'], ['120.961014', '28.072126'], ['120.961121', '28.071905'], ['120.961624', '28.070065'], ['120.961632', '28.070055'], ['120.961716', '28.069468'], ['120.96209', '28.06675'], ['120.962372', '28.064909'], ['120.962593', '28.062952'], ['120.962646', '28.061987'], ['120.962685', '28.060369'], ['120.962624', '28.059404'], ['120.96254', '28.05908'], ['120.962486', '28.058889'], ['120.962242', '28.057924'], ['120.961609', '28.05562'], ['120.960945', '28.053078'], ['120.959854', '28.049076'], ['120.95961', '28.048096'], ['120.959465', '28.047527'], ['120.958855', '28.045027'], ['120.957573', '28.039841'], ['120.956871', '28.037109'], ['120.955612', '28.032141'], ['120.955254', '28.030664'], ['120.954109', '28.026119'], ['120.954079', '28.025974'], ['120.953918', '28.025131'], ['120.953583', '28.022469'], ['120.953285', '28.01882'], ['120.953011', '28.015774'], ['120.952942', '28.015133'], ['120.952904', '28.014858'], ['120.952499', '28.012547'], ['120.952232', '28.011726'], ['120.951653', '28.010092'], ['120.951286', '28.009068'], ['120.950638', '28.007223'], ['120.950638', '28.007223'], ['120.9505', '28.006971'], ['120.950363', '28.006716'], ['120.950363', '28.006716'], ['120.949837', '28.006067'], ['120.94944', '28.00577'], ['120.94899', '28.005596'], ['120.948349', '28.005524'], ['120.947227', '28.005543'], ['120.94619', '28.005583'], ['120.945007', '28.005604'], ['120.944214', '28.005611'], ['120.941811', '28.005537'], ['120.940269', '28.005468'], ['120.938622', '28.0054'], ['120.9375', '28.005413'], ['120.936539', '28.005428'], ['120.936539', '28.005428'], ['120.932533', '28.005423'], ['120.930443', '28.005491'], ['120.930161', '28.005533'], ['120.929741', '28.00559'], ['120.926193', '28.006268'], ['120.92453', '28.006659'], ['120.922943', '28.007153'], ['120.922234', '28.007345'], ['120.921219', '28.007704'], ['120.91861', '28.008629'], ['120.916206', '28.009367'], ['120.915527', '28.009571'], ['120.914284', '28.009945'], ['120.913254', '28.010221'], ['120.913254', '28.010221'], ['120.911972', '28.010443'], ['120.911209', '28.010521'], ['120.909935', '28.010551'], ['120.908958', '28.010534'], ['120.908051', '28.010473'], ['120.907127', '28.010368'], ['120.905937', '28.010151'], ['120.904335', '28.009853'], ['120.901703', '28.009222'], ['120.900017', '28.008907'], ['120.897911', '28.00856'], ['120.896309', '28.008383'], ['120.894257', '28.008278'], ['120.893555', '28.008329'], ['120.891975', '28.008429'], ['120.889893', '28.008724'], ['120.889893', '28.008724'], ['120.887642', '28.00918'], ['120.887405', '28.009298'], ['120.887215', '28.009422'], ['120.887146', '28.009579'], ['120.887108', '28.009722'], ['120.887154', '28.009926'], ['120.887238', '28.010059'], ['120.887398', '28.010204'], ['120.887627', '28.0103'], ['120.88781', '28.0103'], ['120.888039', '28.010239'], ['120.888214', '28.010118'], ['120.888374', '28.009932'], ['120.888451', '28.0098'], ['120.88858', '28.009432'], ['120.88858', '28.009045'], ['120.888412', '28.008402'], ['120.888206', '28.008041'], ['120.888008', '28.007772'], ['120.887718', '28.007565'], ['120.887611', '28.007523'], ['120.887245', '28.007364'], ['120.886864', '28.007271'], ['120.886581', '28.00721'], ['120.886185', '28.007183'], ['120.886185', '28.007183'], ['120.883095', '28.007244'], ['120.883095', '28.007244'], ['120.883102', '28.007738'], ['120.883064', '28.007738'], ['120.883072', '28.007912'], ['120.883171', '28.011681'], ['120.883034', '28.011681'], ['120.882996', '28.010286'], ['120.882942', '28.007919'], ['120.882942', '28.007742'], ['120.882935', '28.007614'], ['120.882919', '28.007271'], ['120.882851', '28.004845'], ['120.882828', '28.004148'], ['120.882767', '28.002035'], ['120.882767', '28.001623'], ['120.882774', '28.001511'], ['120.88279', '28.001406'], ['120.882866', '28.00127'], ['120.882866', '28.00127'], ['120.882759', '28.001221'], ['120.882401', '28.001139'], ['120.881798', '28.001055'], ['120.881638', '28.001024'], ['120.881348', '28.000952'], ['120.880409', '28.000874'], ['120.879692', '28.000874'], ['120.878914', '28.000834'], ['120.877625', '28.000792'], ['120.877541', '28.000786'], ['120.875404', '28.000706'], ['120.874237', '28.000669'], ['120.873741', '28.000647'], ['120.873306', '28.000633'], ['120.872803', '28.000616'], ['120.872276', '28.000605'], ['120.871902', '28.000587'], ['120.871582', '28.000578'], ['120.871353', '28.000568'], ['120.871353', '28.000568'], ['120.871353', '28.000305'], ['120.871361', '28.000092'], ['120.871361', '27.999817'], ['120.871368', '27.998629'], ['120.871368', '27.998211'], ['120.871407', '27.997938'], ['120.871475', '27.997627'], ['120.871559', '27.997309'], ['120.871582', '27.997244'], ['120.871643', '27.99704'], ['120.87175', '27.996603'], ['120.871765', '27.996506'], ['120.871834', '27.996267'], ['120.871849', '27.996155'], ['120.871857', '27.996059'], ['120.871834', '27.995884'], ['120.871834', '27.995884'], ['120.871582', '27.995934'], ['120.871544', '27.995943'], ['120.871262', '27.995974'], ['120.870811', '27.995956'], ['120.869553', '27.995815'], ['120.868576', '27.995716'], ['120.867668', '27.995651'], ['120.866829', '27.995604'], ['120.865936', '27.99571'], ['120.865562', '27.995693'], ['120.863335', '27.995491'], ['120.862244', '27.995424'], ['120.860451', '27.995199'], ['120.859901', '27.995132'], ['120.859734', '27.995131'], ['120.859085', '27.995104'], ['120.858276', '27.995001'], ['120.857567', '27.994917'], ['120.856361', '27.994858'], ['120.855598', '27.994791'], ['120.855034', '27.994705'], ['120.854721', '27.994675'], ['120.854362', '27.994692'], ['120.854095', '27.994736'], ['120.853874', '27.994726'], ['120.853592', '27.994692'], ['120.85302', '27.994566'], ['120.852486', '27.994392'], ['120.852196', '27.994318'], ['120.851883', '27.994257'], ['120.851326', '27.994181'], ['120.850739', '27.99408'], ['120.850243', '27.993967'], ['120.849663', '27.993824'], ['120.849609', '27.993811'], ['120.848915', '27.993702'], ['120.847527', '27.993507'], ['120.847038', '27.993402'], ['120.846664', '27.993273'], ['120.846664', '27.993273'], ['120.84655', '27.993402'], ['120.845444', '27.995073'], ['120.844978', '27.995737'], ['120.844864', '27.995876'], ['120.844444', '27.996267'], ['120.844299', '27.996498'], ['120.844269', '27.996635'], ['120.844261', '27.996767'], ['120.844276', '27.99684'], ['120.844368', '27.997053'], ['120.844429', '27.997305'], ['120.844452', '27.997499'], ['120.844452', '27.997499'], ['120.843735', '27.997519'], ['120.842949', '27.997604'], ['120.842567', '27.997608'], ['120.842186', '27.997568'], ['120.84079', '27.997469'], ['120.840424', '27.997492'], ['120.839417', '27.997587'], ['120.836952', '27.997833'], ['120.835838', '27.997999'], ['120.834038', '27.998285'], ['120.832291', '27.998564'], ['120.831749', '27.998652'], ['120.831749', '27.998652'], ['120.831665', '27.998949'], ['120.831665', '27.998949'], ['120.83152', '27.998901'], ['120.831406', '27.99888'], ['120.830544', '27.998871'], ['120.830078', '27.998857']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>