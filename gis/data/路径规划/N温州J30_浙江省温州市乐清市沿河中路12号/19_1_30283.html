<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.987244', '28.074657'], ['120.986977', '28.074713'], ['120.98645', '28.074835'], ['120.985588', '28.075008'], ['120.984703', '28.075218'], ['120.984543', '28.075237'], ['120.984047', '28.07526'], ['120.983414', '28.07527'], ['120.98278', '28.075283'], ['120.982162', '28.075314'], ['120.981972', '28.075329'], ['120.981445', '28.075287'], ['120.981323', '28.07527'], ['120.981049', '28.075191'], ['120.980515', '28.075014'], ['120.980217', '28.07494'], ['120.980034', '28.074926'], ['120.979858', '28.074965'], ['120.979385', '28.075069'], ['120.979088', '28.0751'], ['120.977676', '28.075232'], ['120.977448', '28.075232'], ['120.977104', '28.075195'], ['120.976486', '28.075109'], ['120.975784', '28.074978'], ['120.974464', '28.074827'], ['120.974464', '28.074827'], ['120.974136', '28.075077'], ['120.973831', '28.075237'], ['120.973595', '28.075319'], ['120.973228', '28.075428'], ['120.972931', '28.075583'], ['120.972107', '28.07618'], ['120.97187', '28.076307'], ['120.971451', '28.076611'], ['120.971451', '28.076611'], ['120.971344', '28.077063'], ['120.971313', '28.077286'], ['120.971306', '28.077587'], ['120.971336', '28.077887'], ['120.971367', '28.078133'], ['120.971451', '28.07848'], ['120.971725', '28.079605'], ['120.97184', '28.08004'], ['120.971878', '28.080183'], ['120.971947', '28.080687'], ['120.971947', '28.081041'], ['120.971947', '28.081055'], ['120.971931', '28.081228'], ['120.971886', '28.08147'], ['120.971825', '28.081701'], ['120.971687', '28.081991'], ['120.971519', '28.082283'], ['120.970558', '28.08363'], ['120.969795', '28.084631'], ['120.969727', '28.084795'], ['120.969582', '28.084723'], ['120.969154', '28.084311'], ['120.96904', '28.084175'], ['120.968819', '28.083954'], ['120.968719', '28.083839'], ['120.968613', '28.083643'], ['120.968613', '28.083643'], ['120.968567', '28.083561'], ['120.968498', '28.083361'], ['120.96843', '28.083124'], ['120.968399', '28.082996'], ['120.968361', '28.082838'], ['120.968353', '28.082569'], ['120.968353', '28.082569'], ['120.968307', '28.082163'], ['120.9683', '28.081804'], ['120.968269', '28.081411'], ['120.968224', '28.081284'], ['120.968155', '28.081093'], ['120.968132', '28.081055'], ['120.968056', '28.080885'], ['120.967911', '28.080673'], ['120.967758', '28.080496'], ['120.967537', '28.080282'], ['120.967468', '28.080223'], ['120.967278', '28.080109'], ['120.96714', '28.080036'], ['120.966835', '28.079874'], ['120.965973', '28.079453'], ['120.965179', '28.079035'], ['120.964828', '28.078833'], ['120.964485', '28.078625'], ['120.964294', '28.078489'], ['120.964066', '28.078329'], ['120.963562', '28.077969'], ['120.962578', '28.077217'], ['120.962097', '28.076908'], ['120.961624', '28.076658'], ['120.961624', '28.076658'], ['120.960785', '28.076206'], ['120.96051', '28.076033'], ['120.96022', '28.075773'], ['120.959961', '28.075487'], ['120.959679', '28.075064'], ['120.959465', '28.074699'], ['120.959297', '28.0744'], ['120.959099', '28.074062'], ['120.958794', '28.073515'], ['120.958611', '28.073252'], ['120.958237', '28.072813'], ['120.958054', '28.072622'], ['120.957848', '28.072445'], ['120.957741', '28.072353'], ['120.9571', '28.071918'], ['120.956635', '28.071615'], ['120.955666', '28.071102'], ['120.955559', '28.070978'], ['120.955475', '28.070946'], ['120.955025', '28.070747'], ['120.954651', '28.070601'], ['120.953926', '28.070351'], ['120.952957', '28.070068'], ['120.952942', '28.070065'], ['120.95192', '28.069832'], ['120.951424', '28.069757'], ['120.950523', '28.069679'], ['120.949875', '28.069645'], ['120.949066', '28.069626'], ['120.948578', '28.069645'], ['120.947815', '28.069696'], ['120.946968', '28.069796'], ['120.945984', '28.069973'], ['120.945557', '28.070065'], ['120.944382', '28.070312'], ['120.937775', '28.071766'], ['120.9375', '28.071827'], ['120.934784', '28.072432'], ['120.932739', '28.072878'], ['120.932053', '28.073013'], ['120.931145', '28.073151'], ['120.930573', '28.073212'], ['120.929993', '28.073246'], ['120.929047', '28.073252'], ['120.928207', '28.073202'], ['120.927437', '28.073111'], ['120.926399', '28.07292'], ['120.925011', '28.072496'], ['120.923523', '28.072035'], ['120.922424', '28.071735'], ['120.921677', '28.071585'], ['120.921005', '28.071489'], ['120.920258', '28.071407'], ['120.918037', '28.071293'], ['120.917114', '28.07118'], ['120.916656', '28.071098'], ['120.915909', '28.070915'], ['120.915527', '28.070787'], ['120.914909', '28.07056'], ['120.914513', '28.070387'], ['120.914055', '28.07015'], ['120.913895', '28.070065'], ['120.913734', '28.069979'], ['120.913139', '28.069592'], ['120.912659', '28.069235'], ['120.912323', '28.068953'], ['120.91095', '28.067747'], ['120.910629', '28.067495'], ['120.909958', '28.067019'], ['120.909485', '28.066723'], ['120.908577', '28.066242'], ['120.908211', '28.06608'], ['120.907776', '28.065916'], ['120.906746', '28.065586'], ['120.905159', '28.065243'], ['120.904266', '28.065155'], ['120.903229', '28.065147'], ['120.90097', '28.065165'], ['120.900131', '28.065147'], ['120.899429', '28.065123'], ['120.89827', '28.065008'], ['120.89666', '28.064762'], ['120.895218', '28.06444'], ['120.894203', '28.064148'], ['120.893623', '28.063971'], ['120.893555', '28.063944'], ['120.892693', '28.063612'], ['120.891815', '28.063255'], ['120.890862', '28.062819'], ['120.888023', '28.061279'], ['120.887131', '28.060816'], ['120.886116', '28.060356'], ['120.885368', '28.060053'], ['120.884697', '28.059792'], ['120.883202', '28.05928'], ['120.882668', '28.05908'], ['120.88176', '28.058743'], ['120.880829', '28.058283'], ['120.880646', '28.058174'], ['120.880104', '28.057833'], ['120.879829', '28.05764'], ['120.878922', '28.05695'], ['120.878624', '28.056721'], ['120.877571', '28.05592'], ['120.876953', '28.05549'], ['120.876526', '28.055231'], ['120.875717', '28.054777'], ['120.874825', '28.054354'], ['120.873878', '28.053963'], ['120.873512', '28.053839'], ['120.87265', '28.053585'], ['120.871758', '28.05337'], ['120.871582', '28.053329'], ['120.871216', '28.053255'], ['120.870659', '28.053169'], ['120.870193', '28.053106'], ['120.869263', '28.053028'], ['120.86834', '28.053005'], ['120.867287', '28.053013'], ['120.863739', '28.053087'], ['120.86235', '28.053095'], ['120.861641', '28.053074'], ['120.860931', '28.053028'], ['120.860542', '28.052986'], ['120.859444', '28.052822'], ['120.858406', '28.052645'], ['120.857559', '28.052464'], ['120.857262', '28.052401'], ['120.856491', '28.052191'], ['120.855705', '28.051935'], ['120.855034', '28.051689'], ['120.853867', '28.051197'], ['120.853165', '28.050869'], ['120.852631', '28.050583'], ['120.852097', '28.050278'], ['120.85125', '28.04974'], ['120.850464', '28.049192'], ['120.849815', '28.048693'], ['120.849609', '28.048525'], ['120.849091', '28.048096'], ['120.848808', '28.047832'], ['120.848015', '28.047058'], ['120.847511', '28.046507'], ['120.846855', '28.045712'], ['120.84597', '28.044579'], ['120.845596', '28.044098'], ['120.844986', '28.043324'], ['120.844475', '28.042782'], ['120.844063', '28.042408'], ['120.843697', '28.042114'], ['120.843323', '28.041822'], ['120.842934', '28.041557'], ['120.842621', '28.04137'], ['120.842216', '28.041142'], ['120.84137', '28.040737'], ['120.840767', '28.040504'], ['120.840454', '28.0404'], ['120.839928', '28.040247'], ['120.838196', '28.039804'], ['120.837502', '28.039604'], ['120.837166', '28.039497'], ['120.836578', '28.039257'], ['120.836143', '28.039053'], ['120.835678', '28.03882'], ['120.834625', '28.038168'], ['120.834053', '28.037733'], ['120.833252', '28.037109'], ['120.832497', '28.03651'], ['120.831573', '28.035847'], ['120.831253', '28.035633'], ['120.830612', '28.035246'], ['120.829865', '28.034819'], ['120.827637', '28.03367'], ['120.827568', '28.033638'], ['120.825996', '28.032751'], ['120.824829', '28.032026'], ['120.823273', '28.030977'], ['120.822243', '28.030222'], ['120.821304', '28.029497'], ['120.821304', '28.029497'], ['120.820625', '28.028906'], ['120.819038', '28.027596'], ['120.818268', '28.026985'], ['120.817337', '28.026302'], ['120.817055', '28.026119'], ['120.816399', '28.025682'], ['120.816017', '28.025438'], ['120.814941', '28.024778'], ['120.814308', '28.024418'], ['120.814034', '28.024267'], ['120.813171', '28.023838'], ['120.811592', '28.023073'], ['120.810417', '28.022573'], ['120.809822', '28.022377'], ['120.808418', '28.021858'], ['120.807976', '28.021698'], ['120.806984', '28.021402'], ['120.806328', '28.021225'], ['120.805664', '28.021042'], ['120.80558', '28.021021'], ['120.802696', '28.020424'], ['120.802299', '28.020348'], ['120.801537', '28.020208'], ['120.801537', '28.020208'], ['120.800972', '28.020201'], ['120.800705', '28.020227'], ['120.800499', '28.020273'], ['120.800377', '28.020317'], ['120.80027', '28.020369'], ['120.800171', '28.02043'], ['120.799858', '28.020664'], ['120.799568', '28.02091'], ['120.799446', '28.020998'], ['120.799286', '28.021107'], ['120.799126', '28.021198'], ['120.798965', '28.021271'], ['120.79879', '28.021334'], ['120.798698', '28.021358'], ['120.798515', '28.021379'], ['120.798195', '28.021372'], ['120.797974', '28.021385'], ['120.797737', '28.021366'], ['120.797447', '28.021324'], ['120.797256', '28.021276'], ['120.797073', '28.021212'], ['120.796715', '28.021063'], ['120.796417', '28.020916'], ['120.796242', '28.020815'], ['120.796242', '28.020815'], ['120.796021', '28.020689'], ['120.795708', '28.020456'], ['120.795158', '28.020134'], ['120.795158', '28.020134'], ['120.794685', '28.019857'], ['120.794006', '28.01948'], ['120.792587', '28.018698'], ['120.792336', '28.018564'], ['120.792122', '28.018471'], ['120.791946', '28.018433'], ['120.791855', '28.018433'], ['120.791763', '28.018446'], ['120.791679', '28.018476'], ['120.791611', '28.018515'], ['120.791512', '28.018599'], ['120.791458', '28.018667'], ['120.79142', '28.018742'], ['120.791389', '28.018858'], ['120.791389', '28.018929'], ['120.791405', '28.019016'], ['120.791443', '28.019093'], ['120.791481', '28.01914'], ['120.791527', '28.019197'], ['120.791641', '28.019272'], ['120.79171', '28.019299'], ['120.79187', '28.019321'], ['120.791962', '28.019321'], ['120.792061', '28.019302'], ['120.792168', '28.019266'], ['120.792412', '28.019154'], ['120.79258', '28.01897'], ['120.79351', '28.017916'], ['120.793716', '28.017723'], ['120.793861', '28.017605'], ['120.794121', '28.017422'], ['120.794273', '28.01734'], ['120.794647', '28.017178'], ['120.794884', '28.017118'], ['120.795067', '28.017084'], ['120.795326', '28.01704'], ['120.795486', '28.017036'], ['120.795769', '28.01704'], ['120.796028', '28.017076'], ['120.796417', '28.017166'], ['120.79715', '28.017391'], ['120.799736', '28.018211'], ['120.800827', '28.018551'], ['120.803833', '28.019518'], ['120.805664', '28.020119'], ['120.80584', '28.020178'], ['120.809601', '28.021393'], ['120.810234', '28.02161'], ['120.810997', '28.021862'], ['120.811424', '28.021999'], ['120.812386', '28.022314'], ['120.812935', '28.022495'], ['120.814056', '28.02286'], ['120.814865', '28.023134'], ['120.815201', '28.023256'], ['120.815727', '28.023472'], ['120.816132', '28.023663'], ['120.816132', '28.023663'], ['120.816223', '28.023182'], ['120.816399', '28.022276'], ['120.816444', '28.022072'], ['120.816605', '28.021297'], ['120.816734', '28.020712'], ['120.816971', '28.019575'], ['120.817017', '28.019266'], ['120.817017', '28.01919'], ['120.816978', '28.019112'], ['120.816978', '28.019112'], ['120.81739', '28.019131'], ['120.817772', '28.019127'], ['120.819305', '28.019007'], ['120.819496', '28.019016'], ['120.82', '28.019072'], ['120.820152', '28.019062'], ['120.820274', '28.019035'], ['120.820526', '28.018957'], ['120.820877', '28.018845'], ['120.821037', '28.018816'], ['120.821159', '28.018816'], ['120.821342', '28.018854'], ['120.822273', '28.019093'], ['120.823608', '28.019409'], ['120.824188', '28.019575'], ['120.824471', '28.019636'], ['120.824699', '28.019663'], ['120.824951', '28.019667'], ['120.825592', '28.019596'], ['120.825821', '28.019484'], ['120.825981', '28.01943'], ['120.826187', '28.019388'], ['120.826561', '28.019371'], ['120.826599', '28.019361'], ['120.826622', '28.019341'], ['120.826584', '28.018393'], ['120.826523', '28.017582'], ['120.826523', '28.017582'], ['120.827637', '28.017441'], ['120.828285', '28.017355'], ['120.828979', '28.017227'], ['120.829521', '28.017109'], ['120.829895', '28.017044'], ['120.830521', '28.016979'], ['120.831955', '28.016768'], ['120.832497', '28.016666'], ['120.833664', '28.016407'], ['120.834091', '28.016325'], ['120.83429', '28.016272'], ['120.834435', '28.016207'], ['120.834435', '28.016207'], ['120.833504', '28.015139'], ['120.833496', '28.015133'], ['120.832321', '28.013794'], ['120.831665', '28.013039'], ['120.831459', '28.012777'], ['120.831207', '28.012426'], ['120.830948', '28.011868'], ['120.830917', '28.011723'], ['120.830757', '28.011137'], ['120.830673', '28.010773'], ['120.830406', '28.009604'], ['120.83007', '28.008041'], ['120.830009', '28.007772'], ['120.829903', '28.007275'], ['120.829857', '28.007109'], ['120.829834', '28.006935'], ['120.829803', '28.006817'], ['120.829742', '28.00654'], ['120.829529', '28.00561'], ['120.829437', '28.005083'], ['120.82943', '28.004883'], ['120.829437', '28.004683'], ['120.82946', '28.004194'], ['120.829468', '28.004148'], ['120.829506', '28.003328'], ['120.829529', '28.002764'], ['120.829536', '28.00263'], ['120.829597', '28.002218'], ['120.829605', '28.002127'], ['120.829689', '28.001862'], ['120.829704', '28.001818'], ['120.829941', '28.001453'], ['120.830406', '28.000834'], ['120.830978', '28.000082'], ['120.831299', '27.99968'], ['120.831535', '27.999298'], ['120.831665', '27.998949'], ['120.831665', '27.998949'], ['120.83152', '27.998901'], ['120.831406', '27.99888'], ['120.830544', '27.998871'], ['120.830078', '27.998857']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>