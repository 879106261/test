<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.047905', '36.733986'], ['117.04792', '36.733036'], ['117.04792', '36.733036'], ['117.04689', '36.732948'], ['117.046288', '36.732826'], ['117.046104', '36.732761'], ['117.045731', '36.732605'], ['117.045074', '36.732349'], ['117.044792', '36.732269'], ['117.043976', '36.731857'], ['117.043877', '36.731739'], ['117.043968', '36.731392'], ['117.043968', '36.731392'], ['117.043823', '36.731293'], ['117.043633', '36.731197'], ['117.042969', '36.730965'], ['117.042557', '36.730862'], ['117.04245', '36.730812'], ['117.042252', '36.730713'], ['117.041725', '36.730625'], ['117.041634', '36.73061'], ['117.041687', '36.730213'], ['117.041748', '36.729706'], ['117.041748', '36.729706'], ['117.042084', '36.727524'], ['117.042122', '36.727291'], ['117.042145', '36.727192'], ['117.042236', '36.72681'], ['117.042389', '36.726341'], ['117.042473', '36.726109'], ['117.042702', '36.725574'], ['117.042892', '36.725155'], ['117.043388', '36.72427'], ['117.043388', '36.72427'], ['117.043365', '36.724133'], ['117.043381', '36.724091'], ['117.043388', '36.724052'], ['117.043465', '36.723923'], ['117.043701', '36.723621'], ['117.044052', '36.723202'], ['117.044197', '36.723038'], ['117.044518', '36.72271'], ['117.045166', '36.722122'], ['117.045486', '36.721893'], ['117.04554', '36.721859'], ['117.04615', '36.721405'], ['117.04686', '36.720898'], ['117.047928', '36.720097'], ['117.04834', '36.719784'], ['117.048874', '36.719395'], ['117.049217', '36.719139'], ['117.04937', '36.719032'], ['117.049591', '36.71888'], ['117.049591', '36.71888'], ['117.049644', '36.718735'], ['117.050201', '36.718346'], ['117.050438', '36.718185'], ['117.050636', '36.718052'], ['117.050743', '36.718056'], ['117.050743', '36.718056'], ['117.051384', '36.717621'], ['117.052002', '36.717197'], ['117.052673', '36.716732'], ['117.053078', '36.71645'], ['117.053078', '36.71645'], ['117.053284', '36.716305'], ['117.05439', '36.715523'], ['117.055298', '36.714882'], ['117.055771', '36.714558'], ['117.055977', '36.714417'], ['117.056549', '36.714027'], ['117.057442', '36.713421'], ['117.058205', '36.712894'], ['117.058907', '36.712379'], ['117.059166', '36.712162'], ['117.059357', '36.711956'], ['117.059517', '36.711788'], ['117.059753', '36.71151'], ['117.060005', '36.711197'], ['117.060005', '36.711197'], ['117.060005', '36.711147'], ['117.060509', '36.710442'], ['117.06086', '36.709904'], ['117.060944', '36.709827'], ['117.061325', '36.709194'], ['117.061417', '36.709045'], ['117.061905', '36.708221'], ['117.062141', '36.707802'], ['117.06237', '36.707386'], ['117.062637', '36.706776'], ['117.062897', '36.706097'], ['117.063126', '36.705318'], ['117.063164', '36.705196'], ['117.063194', '36.705101'], ['117.063408', '36.704422'], ['117.063484', '36.704159'], ['117.063629', '36.703663'], ['117.063629', '36.703663'], ['117.063629', '36.703575'], ['117.063858', '36.702744'], ['117.063858', '36.702744'], ['117.063812', '36.702682'], ['117.063774', '36.702625'], ['117.063759', '36.702595'], ['117.063751', '36.702545'], ['117.063751', '36.702438'], ['117.063797', '36.702354'], ['117.063843', '36.702305'], ['117.063904', '36.702263'], ['117.063927', '36.702248'], ['117.063927', '36.702248'], ['117.06414', '36.701809'], ['117.064339', '36.70121'], ['117.064384', '36.70116'], ['117.064674', '36.700211'], ['117.065094', '36.69891'], ['117.065407', '36.697807'], ['117.065659', '36.696915'], ['117.065765', '36.69659'], ['117.06601', '36.696003'], ['117.066231', '36.695591'], ['117.066483', '36.695122'], ['117.066803', '36.694637'], ['117.066994', '36.694336'], ['117.067726', '36.693283'], ['117.068176', '36.6926'], ['117.068825', '36.691624'], ['117.068863', '36.691452'], ['117.069191', '36.690884'], ['117.069252', '36.690807'], ['117.06987', '36.689934'], ['117.070015', '36.689709'], ['117.070312', '36.689297'], ['117.070892', '36.688465'], ['117.071121', '36.688114'], ['117.071342', '36.687767'], ['117.071953', '36.686798'], ['117.072487', '36.68589'], ['117.072685', '36.68539'], ['117.073128', '36.685326'], ['117.073425', '36.685394'], ['117.07402', '36.685593'], ['117.075417', '36.686028'], ['117.075684', '36.686115'], ['117.076134', '36.686253'], ['117.076897', '36.686501'], ['117.07753', '36.686703'], ['117.077599', '36.686726'], ['117.077866', '36.686813'], ['117.078255', '36.686935'], ['117.078445', '36.686985'], ['117.078888', '36.687122'], ['117.078888', '36.687122'], ['117.079063', '36.686077'], ['117.079155', '36.685524'], ['117.079239', '36.685181'], ['117.0793', '36.684975'], ['117.079376', '36.6847'], ['117.079483', '36.684334'], ['117.079559', '36.684349'], ['117.08078', '36.684494'], ['117.081833', '36.684601'], ['117.0821', '36.684616'], ['117.082504', '36.684643'], ['117.082985', '36.684681'], ['117.083115', '36.684692'], ['117.08387', '36.684734'], ['117.083946', '36.684746'], ['117.084282', '36.684765'], ['117.084549', '36.684792'], ['117.085381', '36.684845'], ['117.085495', '36.684849'], ['117.088326', '36.684906'], ['117.088417', '36.684906'], ['117.088966', '36.684914'], ['117.089211', '36.684914'], ['117.089539', '36.684914'], ['117.089989', '36.684925'], ['117.090515', '36.684937'], ['117.090935', '36.68494'], ['117.091202', '36.68494'], ['117.091881', '36.684952'], ['117.092285', '36.684959'], ['117.09288', '36.684975'], ['117.093407', '36.685005'], ['117.093834', '36.68504'], ['117.094757', '36.685101'], ['117.094963', '36.68512'], ['117.095886', '36.685188'], ['117.096008', '36.685192'], ['117.096611', '36.685242'], ['117.096848', '36.685272'], ['117.097031', '36.685322'], ['117.097122', '36.685326'], ['117.097336', '36.685364'], ['117.098106', '36.685417'], ['117.099236', '36.685543'], ['117.100098', '36.685638'], ['117.100998', '36.685757'], ['117.101044', '36.68578'], ['117.101929', '36.685902'], ['117.102531', '36.686069'], ['117.104836', '36.687374'], ['117.104904', '36.687408'], ['117.105362', '36.687592'], ['117.106064', '36.687813'], ['117.107025', '36.688122'], ['117.107376', '36.688278'], ['117.107567', '36.688301'], ['117.108177', '36.68848'], ['117.108643', '36.688572'], ['117.109131', '36.688648'], ['117.110168', '36.688736'], ['117.111153', '36.688839'], ['117.112656', '36.688988'], ['117.113335', '36.689072'], ['117.113838', '36.689167'], ['117.114258', '36.689281'], ['117.114616', '36.689377'], ['117.115013', '36.689453'], ['117.11541', '36.689484'], ['117.115829', '36.68948'], ['117.116127', '36.689468'], ['117.117287', '36.689419'], ['117.118042', '36.689404'], ['117.119156', '36.689419'], ['117.119263', '36.689419'], ['117.120934', '36.689461'], ['117.122063', '36.689499'], ['117.122406', '36.689499'], ['117.123596', '36.689522'], ['117.123695', '36.689526'], ['117.125435', '36.689556'], ['117.125664', '36.689568'], ['117.126381', '36.689579'], ['117.127335', '36.689594'], ['117.12767', '36.68961'], ['117.128441', '36.689617'], ['117.12883', '36.689617'], ['117.129486', '36.689636'], ['117.12957', '36.68964'], ['117.130859', '36.689686'], ['117.131126', '36.689701'], ['117.132095', '36.689743'], ['117.135345', '36.68985'], ['117.135345', '36.68985'], ['117.135406', '36.689602'], ['117.135513', '36.689339'], ['117.135689', '36.689011'], ['117.136208', '36.688313'], ['117.136292', '36.688187'], ['117.136887', '36.687416'], ['117.137497', '36.686588'], ['117.137985', '36.685928'], ['117.138588', '36.685131'], ['117.139091', '36.684441'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>