<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.047905', '36.733986'], ['117.04792', '36.733036'], ['117.04792', '36.733036'], ['117.04689', '36.732948'], ['117.046288', '36.732826'], ['117.046104', '36.732761'], ['117.045731', '36.732605'], ['117.045074', '36.732349'], ['117.045074', '36.732349'], ['117.046135', '36.730904'], ['117.046135', '36.730904'], ['117.046112', '36.730759'], ['117.046204', '36.730625'], ['117.046272', '36.730511'], ['117.046516', '36.730457'], ['117.046516', '36.730457'], ['117.046097', '36.730206'], ['117.046097', '36.730206'], ['117.045341', '36.729809'], ['117.044998', '36.729637'], ['117.044899', '36.729588'], ['117.044312', '36.729362'], ['117.04422', '36.729336'], ['117.044136', '36.729313'], ['117.043968', '36.72929'], ['117.043594', '36.729248'], ['117.043396', '36.72924'], ['117.042969', '36.729198'], ['117.042473', '36.72908'], ['117.042107', '36.728966'], ['117.041718', '36.728817'], ['117.041351', '36.728638'], ['117.041153', '36.728539'], ['117.040886', '36.728363'], ['117.040749', '36.728268'], ['117.040596', '36.728146'], ['117.040428', '36.727997'], ['117.040199', '36.727764'], ['117.040199', '36.727764'], ['117.040123', '36.727543'], ['117.040077', '36.727463'], ['117.040047', '36.727379'], ['117.040039', '36.727291'], ['117.040024', '36.727257'], ['117.040024', '36.727123'], ['117.040062', '36.726986'], ['117.040108', '36.726871'], ['117.040161', '36.726788'], ['117.040268', '36.726658'], ['117.040428', '36.726536'], ['117.040588', '36.72644'], ['117.040886', '36.726334'], ['117.0411', '36.726311'], ['117.041405', '36.726261'], ['117.041557', '36.726223'], ['117.041786', '36.726143'], ['117.042', '36.726036'], ['117.042145', '36.725952'], ['117.042526', '36.725674'], ['117.042702', '36.725574'], ['117.042892', '36.725155'], ['117.043388', '36.72427'], ['117.043388', '36.72427'], ['117.043633', '36.723915'], ['117.043808', '36.72369'], ['117.044334', '36.723064'], ['117.044647', '36.722748'], ['117.045006', '36.722412'], ['117.045334', '36.72213'], ['117.045692', '36.721848'], ['117.047348', '36.720596'], ['117.04834', '36.719856'], ['117.049568', '36.718956'], ['117.051033', '36.717915'], ['117.053375', '36.716305'], ['117.057068', '36.713768'], ['117.05809', '36.713066'], ['117.058723', '36.712627'], ['117.059113', '36.712326'], ['117.059502', '36.711964'], ['117.059784', '36.711647'], ['117.060448', '36.710823'], ['117.060631', '36.710556'], ['117.060822', '36.710281'], ['117.061066', '36.709854'], ['117.061317', '36.709419'], ['117.061737', '36.708672'], ['117.061958', '36.708263'], ['117.06218', '36.707863'], ['117.062469', '36.707333'], ['117.062584', '36.707077'], ['117.06279', '36.706558'], ['117.063049', '36.705784'], ['117.063194', '36.705318'], ['117.063484', '36.704353'], ['117.064095', '36.702377'], ['117.064247', '36.701897'], ['117.064499', '36.701088'], ['117.064743', '36.700279'], ['117.064781', '36.700157'], ['117.064819', '36.700027'], ['117.065063', '36.699253'], ['117.065834', '36.69664'], ['117.066086', '36.696003'], ['117.066292', '36.695583'], ['117.066597', '36.695057'], ['117.067093', '36.694336'], ['117.067909', '36.693134'], ['117.069031', '36.691429'], ['117.070312', '36.689476'], ['117.072037', '36.686867'], ['117.072418', '36.686249'], ['117.072624', '36.68586'], ['117.0728', '36.685429'], ['117.072945', '36.684982'], ['117.073021', '36.684612'], ['117.073021', '36.684612'], ['117.072937', '36.684361'], ['117.07296', '36.683346'], ['117.073006', '36.681984'], ['117.073067', '36.681835'], ['117.073067', '36.681767'], ['117.073059', '36.681698'], ['117.07309', '36.679993'], ['117.07309', '36.679993'], ['117.07296', '36.679974'], ['117.072739', '36.679951'], ['117.072197', '36.679958'], ['117.071617', '36.679974'], ['117.07077', '36.679981'], ['117.07077', '36.679981'], ['117.07077', '36.679905'], ['117.071556', '36.679905'], ['117.072884', '36.679905'], ['117.073105', '36.679913'], ['117.073402', '36.679955'], ['117.074036', '36.680183'], ['117.074593', '36.680386'], ['117.074951', '36.680508'], ['117.075203', '36.680588'], ['117.075508', '36.680656'], ['117.075874', '36.68071'], ['117.076126', '36.68074'], ['117.076157', '36.680748'], ['117.076759', '36.680782'], ['117.0783', '36.680843'], ['117.079918', '36.680889'], ['117.080009', '36.680893'], ['117.081306', '36.680965'], ['117.081779', '36.680992'], ['117.082535', '36.681038'], ['117.082764', '36.681046'], ['117.082977', '36.681057'], ['117.08403', '36.681114'], ['117.084686', '36.681152'], ['117.086105', '36.681221'], ['117.086212', '36.681225'], ['117.08725', '36.681244'], ['117.087784', '36.681248'], ['117.088646', '36.681259'], ['117.089027', '36.681271'], ['117.089638', '36.681278'], ['117.091629', '36.681316'], ['117.092285', '36.681324'], ['117.093079', '36.681343'], ['117.093765', '36.681343'], ['117.095451', '36.681347'], ['117.096558', '36.681324'], ['117.097153', '36.681324'], ['117.097237', '36.681362'], ['117.097244', '36.681667'], ['117.097244', '36.682091'], ['117.097237', '36.682304'], ['117.097221', '36.682674'], ['117.097206', '36.683346'], ['117.097198', '36.683498'], ['117.097191', '36.683838'], ['117.097145', '36.684692'], ['117.097137', '36.684986'], ['117.097122', '36.685326'], ['117.097122', '36.685326'], ['117.097336', '36.685364'], ['117.098106', '36.685417'], ['117.099236', '36.685543'], ['117.100098', '36.685638'], ['117.100998', '36.685757'], ['117.101044', '36.68578'], ['117.101929', '36.685902'], ['117.102531', '36.686069'], ['117.104836', '36.687374'], ['117.104904', '36.687408'], ['117.105362', '36.687592'], ['117.106064', '36.687813'], ['117.107025', '36.688122'], ['117.107376', '36.688278'], ['117.107567', '36.688301'], ['117.108177', '36.68848'], ['117.108643', '36.688572'], ['117.109131', '36.688648'], ['117.110168', '36.688736'], ['117.111153', '36.688839'], ['117.112656', '36.688988'], ['117.113335', '36.689072'], ['117.113838', '36.689167'], ['117.114258', '36.689281'], ['117.114616', '36.689377'], ['117.115013', '36.689453'], ['117.11541', '36.689484'], ['117.115829', '36.68948'], ['117.116127', '36.689468'], ['117.117287', '36.689419'], ['117.118042', '36.689404'], ['117.119156', '36.689419'], ['117.119263', '36.689419'], ['117.120934', '36.689461'], ['117.122063', '36.689499'], ['117.122406', '36.689499'], ['117.123596', '36.689522'], ['117.123695', '36.689526'], ['117.125435', '36.689556'], ['117.125664', '36.689568'], ['117.126381', '36.689579'], ['117.127335', '36.689594'], ['117.12767', '36.68961'], ['117.128441', '36.689617'], ['117.12883', '36.689617'], ['117.129486', '36.689636'], ['117.12957', '36.68964'], ['117.130859', '36.689686'], ['117.131126', '36.689701'], ['117.132095', '36.689743'], ['117.135345', '36.68985'], ['117.135345', '36.68985'], ['117.135406', '36.689602'], ['117.135513', '36.689339'], ['117.135689', '36.689011'], ['117.136208', '36.688313'], ['117.136292', '36.688187'], ['117.136887', '36.687416'], ['117.137497', '36.686588'], ['117.137985', '36.685928'], ['117.138588', '36.685131'], ['117.139091', '36.684441'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>