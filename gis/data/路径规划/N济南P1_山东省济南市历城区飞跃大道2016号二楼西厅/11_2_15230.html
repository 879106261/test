<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.047905', '36.733986'], ['117.04792', '36.733036'], ['117.04792', '36.733036'], ['117.04689', '36.732948'], ['117.046288', '36.732826'], ['117.046104', '36.732761'], ['117.045731', '36.732605'], ['117.045074', '36.732349'], ['117.045074', '36.732349'], ['117.046135', '36.730904'], ['117.046135', '36.730904'], ['117.046112', '36.730759'], ['117.046204', '36.730625'], ['117.046272', '36.730511'], ['117.046516', '36.730457'], ['117.046516', '36.730457'], ['117.046097', '36.730206'], ['117.046097', '36.730206'], ['117.045341', '36.729809'], ['117.044998', '36.729637'], ['117.044899', '36.729588'], ['117.044312', '36.729362'], ['117.04422', '36.729336'], ['117.044136', '36.729313'], ['117.043968', '36.72929'], ['117.043594', '36.729248'], ['117.043396', '36.72924'], ['117.042969', '36.729198'], ['117.042473', '36.72908'], ['117.042107', '36.728966'], ['117.041718', '36.728817'], ['117.041351', '36.728638'], ['117.041153', '36.728539'], ['117.040886', '36.728363'], ['117.040749', '36.728268'], ['117.040596', '36.728146'], ['117.040428', '36.727997'], ['117.040199', '36.727764'], ['117.040199', '36.727764'], ['117.040123', '36.727543'], ['117.040077', '36.727463'], ['117.040047', '36.727379'], ['117.040039', '36.727291'], ['117.040024', '36.727257'], ['117.040024', '36.727123'], ['117.040062', '36.726986'], ['117.040108', '36.726871'], ['117.040161', '36.726788'], ['117.040268', '36.726658'], ['117.040428', '36.726536'], ['117.040588', '36.72644'], ['117.040886', '36.726334'], ['117.0411', '36.726311'], ['117.041405', '36.726261'], ['117.041557', '36.726223'], ['117.041786', '36.726143'], ['117.042', '36.726036'], ['117.042145', '36.725952'], ['117.042526', '36.725674'], ['117.042702', '36.725574'], ['117.042892', '36.725155'], ['117.043388', '36.72427'], ['117.043388', '36.72427'], ['117.043633', '36.723915'], ['117.043808', '36.72369'], ['117.044334', '36.723064'], ['117.044647', '36.722748'], ['117.045006', '36.722412'], ['117.045334', '36.72213'], ['117.045692', '36.721848'], ['117.047348', '36.720596'], ['117.04834', '36.719856'], ['117.049568', '36.718956'], ['117.051033', '36.717915'], ['117.053375', '36.716305'], ['117.057068', '36.713768'], ['117.05809', '36.713066'], ['117.058723', '36.712627'], ['117.059113', '36.712326'], ['117.059502', '36.711964'], ['117.059784', '36.711647'], ['117.060448', '36.710823'], ['117.060631', '36.710556'], ['117.060822', '36.710281'], ['117.061066', '36.709854'], ['117.061317', '36.709419'], ['117.061737', '36.708672'], ['117.061958', '36.708263'], ['117.06218', '36.707863'], ['117.062469', '36.707333'], ['117.062584', '36.707077'], ['117.06279', '36.706558'], ['117.063049', '36.705784'], ['117.063194', '36.705318'], ['117.063484', '36.704353'], ['117.064095', '36.702377'], ['117.064247', '36.701897'], ['117.064499', '36.701088'], ['117.064743', '36.700279'], ['117.064781', '36.700157'], ['117.064819', '36.700027'], ['117.065063', '36.699253'], ['117.065834', '36.69664'], ['117.066086', '36.696003'], ['117.066292', '36.695583'], ['117.066597', '36.695057'], ['117.067093', '36.694336'], ['117.067909', '36.693134'], ['117.069031', '36.691429'], ['117.070312', '36.689476'], ['117.072037', '36.686867'], ['117.072418', '36.686249'], ['117.072624', '36.68586'], ['117.0728', '36.685429'], ['117.072945', '36.684982'], ['117.073021', '36.684612'], ['117.073021', '36.684612'], ['117.072937', '36.684361'], ['117.07296', '36.683346'], ['117.073006', '36.681984'], ['117.073067', '36.681835'], ['117.073067', '36.681767'], ['117.073059', '36.681698'], ['117.07309', '36.679993'], ['117.073105', '36.679913'], ['117.073135', '36.678753'], ['117.073143', '36.677933'], ['117.073158', '36.67691'], ['117.073158', '36.676525'], ['117.073158', '36.676346'], ['117.073158', '36.676346'], ['117.073235', '36.676151'], ['117.073303', '36.674526'], ['117.073349', '36.672718'], ['117.073357', '36.672546'], ['117.073357', '36.672359'], ['117.073372', '36.672035'], ['117.073372', '36.671944'], ['117.073669', '36.67181'], ['117.075607', '36.671829'], ['117.075966', '36.671829'], ['117.077354', '36.671837'], ['117.077629', '36.671799'], ['117.077766', '36.671753'], ['117.077919', '36.671673'], ['117.078186', '36.671448'], ['117.078491', '36.671299'], ['117.079254', '36.671631'], ['117.079704', '36.671818'], ['117.080009', '36.671955'], ['117.08046', '36.67215'], ['117.080513', '36.672173'], ['117.08094', '36.672359'], ['117.0812', '36.672474'], ['117.082306', '36.672977'], ['117.082649', '36.673134'], ['117.082756', '36.673183'], ['117.08313', '36.673347'], ['117.083305', '36.673428'], ['117.083885', '36.673664'], ['117.084625', '36.673923'], ['117.0849', '36.674007'], ['117.084999', '36.674034'], ['117.085884', '36.674221'], ['117.088448', '36.674732'], ['117.088539', '36.674755'], ['117.088776', '36.674797'], ['117.090652', '36.675159'], ['117.090828', '36.675201'], ['117.092285', '36.675484'], ['117.092537', '36.675529'], ['117.09314', '36.675644'], ['117.093201', '36.675655'], ['117.09478', '36.675957'], ['117.09594', '36.676163'], ['117.097061', '36.676384'], ['117.09713', '36.676403'], ['117.097443', '36.676456'], ['117.097519', '36.676476'], ['117.097687', '36.676506'], ['117.098572', '36.676689'], ['117.099022', '36.676781'], ['117.100647', '36.677105'], ['117.101013', '36.677174'], ['117.102486', '36.677456'], ['117.102913', '36.67754'], ['117.103279', '36.677612'], ['117.104019', '36.67775'], ['117.104355', '36.677818'], ['117.105522', '36.678043'], ['117.105927', '36.67812'], ['117.106056', '36.678143'], ['117.108131', '36.678539'], ['117.108719', '36.67865'], ['117.109627', '36.678825'], ['117.109802', '36.678867'], ['117.112419', '36.679371'], ['117.113701', '36.679607'], ['117.114258', '36.679718'], ['117.115334', '36.679935'], ['117.115639', '36.679996'], ['117.116364', '36.680138'], ['117.117439', '36.680344'], ['117.118118', '36.68047'], ['117.120575', '36.68095'], ['117.12149', '36.681221'], ['117.12149', '36.681221'], ['117.121956', '36.680595'], ['117.122047', '36.68047'], ['117.12323', '36.678864'], ['117.12352', '36.678471'], ['117.124313', '36.677399'], ['117.124443', '36.677364'], ['117.124901', '36.677551'], ['117.125282', '36.677742'], ['117.12545', '36.677822'], ['117.1259', '36.67804'], ['117.126472', '36.67831'], ['117.127052', '36.678585'], ['117.127441', '36.678772'], ['117.128593', '36.679333'], ['117.1287', '36.679379'], ['117.129768', '36.679886'], ['117.130768', '36.68037'], ['117.131126', '36.680546'], ['117.131798', '36.680866'], ['117.132263', '36.681084'], ['117.132835', '36.681351'], ['117.132904', '36.681389'], ['117.13475', '36.682278'], ['117.13546', '36.682617'], ['117.135651', '36.682709'], ['117.13591', '36.682835'], ['117.13623', '36.682987'], ['117.136642', '36.683186'], ['117.136978', '36.683346'], ['117.138054', '36.683868'], ['117.138382', '36.684021'], ['117.139137', '36.68438'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>