<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.047905', '36.733986'], ['117.04792', '36.733036'], ['117.04792', '36.733036'], ['117.04689', '36.732948'], ['117.046288', '36.732826'], ['117.046104', '36.732761'], ['117.045731', '36.732605'], ['117.045074', '36.732349'], ['117.045074', '36.732349'], ['117.046135', '36.730904'], ['117.046135', '36.730904'], ['117.046112', '36.730759'], ['117.046204', '36.730625'], ['117.046272', '36.730511'], ['117.046516', '36.730457'], ['117.046516', '36.730457'], ['117.046097', '36.730206'], ['117.046097', '36.730206'], ['117.045341', '36.729809'], ['117.044998', '36.729637'], ['117.044899', '36.729588'], ['117.044312', '36.729362'], ['117.04422', '36.729336'], ['117.044136', '36.729313'], ['117.043968', '36.72929'], ['117.043594', '36.729248'], ['117.043396', '36.72924'], ['117.042969', '36.729198'], ['117.042473', '36.72908'], ['117.042107', '36.728966'], ['117.041718', '36.728817'], ['117.041351', '36.728638'], ['117.041153', '36.728539'], ['117.040886', '36.728363'], ['117.040749', '36.728268'], ['117.040596', '36.728146'], ['117.040428', '36.727997'], ['117.040199', '36.727764'], ['117.040199', '36.727764'], ['117.040123', '36.727543'], ['117.040077', '36.727463'], ['117.040047', '36.727379'], ['117.040039', '36.727291'], ['117.040024', '36.727257'], ['117.040024', '36.727123'], ['117.040062', '36.726986'], ['117.040108', '36.726871'], ['117.040161', '36.726788'], ['117.040268', '36.726658'], ['117.040428', '36.726536'], ['117.040588', '36.72644'], ['117.040886', '36.726334'], ['117.0411', '36.726311'], ['117.041405', '36.726261'], ['117.041557', '36.726223'], ['117.041786', '36.726143'], ['117.042', '36.726036'], ['117.042145', '36.725952'], ['117.042526', '36.725674'], ['117.042702', '36.725574'], ['117.042892', '36.725155'], ['117.043388', '36.72427'], ['117.043388', '36.72427'], ['117.043633', '36.723915'], ['117.043808', '36.72369'], ['117.044334', '36.723064'], ['117.044647', '36.722748'], ['117.045006', '36.722412'], ['117.045334', '36.72213'], ['117.045692', '36.721848'], ['117.047348', '36.720596'], ['117.04834', '36.719856'], ['117.049568', '36.718956'], ['117.051033', '36.717915'], ['117.053375', '36.716305'], ['117.057068', '36.713768'], ['117.05809', '36.713066'], ['117.058723', '36.712627'], ['117.059113', '36.712326'], ['117.059502', '36.711964'], ['117.059784', '36.711647'], ['117.060448', '36.710823'], ['117.060631', '36.710556'], ['117.060822', '36.710281'], ['117.061066', '36.709854'], ['117.061317', '36.709419'], ['117.061737', '36.708672'], ['117.061958', '36.708263'], ['117.06218', '36.707863'], ['117.062469', '36.707333'], ['117.062584', '36.707077'], ['117.06279', '36.706558'], ['117.063049', '36.705784'], ['117.063194', '36.705318'], ['117.063484', '36.704353'], ['117.064095', '36.702377'], ['117.064247', '36.701897'], ['117.064247', '36.701897'], ['117.064171', '36.701599'], ['117.06414', '36.701546'], ['117.064079', '36.701454'], ['117.064034', '36.701412'], ['117.063972', '36.70137'], ['117.063873', '36.701328'], ['117.063766', '36.701305'], ['117.063644', '36.701302'], ['117.063545', '36.701321'], ['117.063469', '36.701347'], ['117.06337', '36.701389'], ['117.063316', '36.701435'], ['117.063271', '36.701496'], ['117.06321', '36.701591'], ['117.063194', '36.701721'], ['117.06321', '36.701797'], ['117.063255', '36.7019'], ['117.063316', '36.701977'], ['117.063416', '36.702049'], ['117.063576', '36.702187'], ['117.063721', '36.702324'], ['117.063759', '36.702343'], ['117.064125', '36.702507'], ['117.064873', '36.702873'], ['117.065254', '36.703056'], ['117.067177', '36.703995'], ['117.067299', '36.70406'], ['117.067429', '36.704124'], ['117.068802', '36.704803'], ['117.06971', '36.705318'], ['117.070312', '36.705647'], ['117.070343', '36.705669'], ['117.071938', '36.706505'], ['117.072403', '36.706718'], ['117.072868', '36.706936'], ['117.073891', '36.707317'], ['117.074646', '36.707577'], ['117.075813', '36.707977'], ['117.084641', '36.711662'], ['117.085403', '36.711983'], ['117.085823', '36.712162'], ['117.087112', '36.712692'], ['117.087982', '36.713055'], ['117.089333', '36.713619'], ['117.091904', '36.714695'], ['117.092285', '36.714859'], ['117.093819', '36.715504'], ['117.094978', '36.71595'], ['117.095428', '36.716106'], ['117.096153', '36.716305'], ['117.096169', '36.716312'], ['117.097046', '36.716484'], ['117.097763', '36.71661'], ['117.098999', '36.716774'], ['117.100266', '36.716942'], ['117.106888', '36.717804'], ['117.112762', '36.71843'], ['117.114258', '36.718613'], ['117.120499', '36.719395'], ['117.122559', '36.719631'], ['117.124603', '36.71983'], ['117.126556', '36.719913'], ['117.131134', '36.720043'], ['117.133865', '36.720123'], ['117.13623', '36.720165'], ['117.136269', '36.720165'], ['117.140388', '36.720245'], ['117.140388', '36.720245'], ['117.140465', '36.720226'], ['117.144135', '36.720318'], ['117.144356', '36.720291'], ['117.144356', '36.720291'], ['117.14537', '36.720318'], ['117.146278', '36.720337'], ['117.146278', '36.720337'], ['117.146278', '36.71999'], ['117.146263', '36.718552'], ['117.146263', '36.71846'], ['117.146286', '36.716972'], ['117.146294', '36.716881'], ['117.146339', '36.716305'], ['117.1464', '36.715466'], ['117.146408', '36.714821'], ['117.146454', '36.713799'], ['117.14653', '36.71188'], ['117.146584', '36.711296'], ['117.146736', '36.710365'], ['117.146767', '36.710041'], ['117.146828', '36.709805'], ['117.146935', '36.709579'], ['117.146935', '36.709579'], ['117.146973', '36.70929'], ['117.14698', '36.708843'], ['117.146988', '36.708424'], ['117.146988', '36.708424'], ['117.146629', '36.708416'], ['117.146629', '36.708416'], ['117.146828', '36.708199'], ['117.146828', '36.708115'], ['117.146782', '36.707153'], ['117.146729', '36.706585'], ['117.146851', '36.706455'], ['117.146942', '36.706402'], ['117.146942', '36.706402'], ['117.146942', '36.705364'], ['117.146942', '36.705318'], ['117.146942', '36.704979'], ['117.146942', '36.70401'], ['117.146942', '36.703732'], ['117.146942', '36.702263'], ['117.146942', '36.702206'], ['117.147003', '36.699783'], ['117.147018', '36.699329'], ['117.147041', '36.698875'], ['117.147125', '36.697479'], ['117.147156', '36.696957'], ['117.147163', '36.696861'], ['117.147194', '36.696163'], ['117.147255', '36.694847'], ['117.147263', '36.694736'], ['117.147278', '36.69437'], ['117.147278', '36.694336'], ['117.147339', '36.693672'], ['117.147354', '36.693523'], ['117.147408', '36.692863'], ['117.14753', '36.690655'], ['117.147598', '36.689293'], ['117.147606', '36.689178'], ['117.147728', '36.687389'], ['117.147728', '36.687389'], ['117.146675', '36.687355'], ['117.145874', '36.687302'], ['117.145256', '36.687191'], ['117.144943', '36.687119'], ['117.144646', '36.687038'], ['117.144135', '36.686859'], ['117.143677', '36.686642'], ['117.142464', '36.686062'], ['117.142326', '36.685997'], ['117.141647', '36.685669'], ['117.140244', '36.684994'], ['117.139183', '36.684479'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>