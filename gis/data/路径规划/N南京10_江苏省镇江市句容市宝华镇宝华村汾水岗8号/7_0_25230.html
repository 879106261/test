<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.879555', '32.112801'], ['118.879707', '32.112877'], ['118.879921', '32.113014'], ['118.879944', '32.113033'], ['118.880035', '32.113098'], ['118.880478', '32.113407'], ['118.880714', '32.113552'], ['118.881035', '32.113728'], ['118.881104', '32.113762'], ['118.88176', '32.11412'], ['118.881989', '32.114231'], ['118.882179', '32.114323'], ['118.882614', '32.114544'], ['118.882614', '32.114544'], ['118.883812', '32.115234'], ['118.884117', '32.115425'], ['118.884674', '32.115757'], ['118.885361', '32.11618'], ['118.885674', '32.116375'], ['118.885918', '32.116558'], ['118.886246', '32.116848'], ['118.886421', '32.117058'], ['118.886559', '32.117294'], ['118.88665', '32.117409'], ['118.886871', '32.11763'], ['118.887024', '32.117733'], ['118.887932', '32.11832'], ['118.888107', '32.118477'], ['118.888252', '32.118717'], ['118.888313', '32.118866'], ['118.888374', '32.119144'], ['118.888519', '32.120083'], ['118.888557', '32.120377'], ['118.888618', '32.120918'], ['118.88871', '32.121597'], ['118.888771', '32.121788'], ['118.888939', '32.122196'], ['118.889252', '32.122932'], ['118.88942', '32.123356'], ['118.88942', '32.123356'], ['118.890709', '32.124016'], ['118.890823', '32.124081'], ['118.891304', '32.124359'], ['118.89151', '32.124481'], ['118.891632', '32.124554'], ['118.89209', '32.124821'], ['118.892204', '32.124882'], ['118.892944', '32.125309'], ['118.893486', '32.125629'], ['118.893814', '32.12582'], ['118.893921', '32.125877'], ['118.894043', '32.125946'], ['118.895477', '32.126736'], ['118.89669', '32.127399'], ['118.89727', '32.127728'], ['118.897621', '32.127918'], ['118.898109', '32.128197'], ['118.898323', '32.128311'], ['118.898323', '32.128311'], ['118.898781', '32.127617'], ['118.89901', '32.127277'], ['118.899506', '32.126514'], ['118.901123', '32.124023'], ['118.902443', '32.121964'], ['118.902924', '32.12122'], ['118.903542', '32.120266'], ['118.905403', '32.117298'], ['118.905754', '32.116741'], ['118.905983', '32.116737'], ['118.906563', '32.117161'], ['118.90712', '32.11755'], ['118.908928', '32.118721'], ['118.910454', '32.119621'], ['118.911636', '32.120277'], ['118.912521', '32.120735'], ['118.913162', '32.121063'], ['118.914482', '32.121677'], ['118.915642', '32.122231'], ['118.916016', '32.122391'], ['118.91864', '32.123592'], ['118.919563', '32.124023'], ['118.919914', '32.124184'], ['118.920158', '32.124298'], ['118.923042', '32.125626'], ['118.925926', '32.126949'], ['118.926537', '32.127235'], ['118.927261', '32.127563'], ['118.929092', '32.128414'], ['118.929237', '32.128483'], ['118.937981', '32.132515'], ['118.93824', '32.132629'], ['118.939148', '32.133034'], ['118.940002', '32.133377'], ['118.941078', '32.133732'], ['118.941666', '32.133896'], ['118.942657', '32.13414'], ['118.943504', '32.134293'], ['118.94426', '32.134415'], ['118.944603', '32.134449'], ['118.94474', '32.13446'], ['118.945717', '32.134541'], ['118.947182', '32.134605'], ['118.948082', '32.134644'], ['118.94838', '32.134659'], ['118.952492', '32.134834'], ['118.953133', '32.134869'], ['118.955246', '32.134983'], ['118.955627', '32.13501'], ['118.956337', '32.135063'], ['118.956665', '32.135101'], ['118.957657', '32.135197'], ['118.957886', '32.135197'], ['118.957886', '32.135197'], ['118.958542', '32.135197'], ['118.959396', '32.135269'], ['118.959763', '32.135303'], ['118.959961', '32.135334'], ['118.960487', '32.135418'], ['118.960892', '32.135494'], ['118.961563', '32.135586'], ['118.961716', '32.135563'], ['118.961754', '32.135536'], ['118.961929', '32.135239'], ['118.962006', '32.135193'], ['118.96225', '32.135174'], ['118.962746', '32.135262'], ['118.965584', '32.135838'], ['118.966309', '32.135979'], ['118.96669', '32.136032'], ['118.966927', '32.136036'], ['118.967209', '32.136036'], ['118.967529', '32.136009'], ['118.968102', '32.135906'], ['118.968857', '32.135654'], ['118.969086', '32.135612'], ['118.969414', '32.135582'], ['118.969994', '32.135574'], ['118.969994', '32.135574'], ['118.970161', '32.13501'], ['118.970215', '32.134876'], ['118.970367', '32.134567'], ['118.970604', '32.134262'], ['118.970741', '32.134106'], ['118.970963', '32.133892'], ['118.971138', '32.133755'], ['118.971336', '32.133621'], ['118.971565', '32.133488'], ['118.97184', '32.133369'], ['118.972099', '32.133263'], ['118.972366', '32.13319'], ['118.973961', '32.132771'], ['118.974319', '32.132656'], ['118.974716', '32.132504'], ['118.975128', '32.132332'], ['118.975494', '32.132156'], ['118.975838', '32.132168'], ['118.976395', '32.132404'], ['118.976685', '32.132523'], ['118.980293', '32.133663'], ['118.980629', '32.133759'], ['118.980736', '32.133781'], ['118.981804', '32.134014'], ['118.981926', '32.134041'], ['118.98288', '32.134235'], ['118.98288', '32.134235'], ['118.982964', '32.134285'], ['118.983322', '32.134361'], ['118.986496', '32.13501'], ['118.98822', '32.135349'], ['118.989502', '32.135609'], ['118.990608', '32.135811'], ['118.991814', '32.136032'], ['118.992065', '32.136082'], ['118.993706', '32.136333'], ['118.996872', '32.136852'], ['118.996941', '32.136864'], ['118.998878', '32.13715'], ['119.000786', '32.137444'], ['119.000854', '32.137455'], ['119.002533', '32.137718'], ['119.003899', '32.137928'], ['119.004341', '32.138'], ['119.005257', '32.13813'], ['119.007462', '32.138466'], ['119.00811', '32.138557'], ['119.008621', '32.138607'], ['119.00946', '32.138657'], ['119.010155', '32.13868'], ['119.01088', '32.138687'], ['119.011414', '32.138653'], ['119.012009', '32.138588'], ['119.012604', '32.138512'], ['119.012802', '32.138638'], ['119.012871', '32.13887'], ['119.013107', '32.139729'], ['119.013298', '32.140335'], ['119.013725', '32.141476'], ['119.014076', '32.142487'], ['119.014305', '32.143196'], ['119.014389', '32.14357'], ['119.014542', '32.144463'], ['119.014793', '32.145699'], ['119.014793', '32.145699'], ['119.020622', '32.143883'], ['119.020721', '32.143852'], ['119.022476', '32.143341'], ['119.025879', '32.142273'], ['119.02739', '32.141792'], ['119.027695', '32.141697'], ['119.027946', '32.141628'], ['119.028496', '32.141449'], ['119.028839', '32.14135'], ['119.029259', '32.141228'], ['119.029625', '32.141132'], ['119.030197', '32.141022'], ['119.030884', '32.140903'], ['119.030945', '32.140892'], ['119.031776', '32.140823'], ['119.032326', '32.140808'], ['119.032829', '32.140808'], ['119.033508', '32.140854'], ['119.033867', '32.140892'], ['119.034279', '32.140949'], ['119.034729', '32.141033'], ['119.035362', '32.141174'], ['119.036308', '32.14143'], ['119.038574', '32.142078'], ['119.038948', '32.142181'], ['119.041199', '32.142826'], ['119.043472', '32.143471'], ['119.043953', '32.143608'], ['119.044014', '32.143627'], ['119.044243', '32.143688'], ['119.045403', '32.144016'], ['119.047478', '32.144604'], ['119.047852', '32.144703'], ['119.04847', '32.144882'], ['119.052391', '32.145992'], ['119.052589', '32.146046'], ['119.053314', '32.146248'], ['119.054276', '32.146515'], ['119.055038', '32.146694'], ['119.055931', '32.146877'], ['119.056656', '32.146996'], ['119.057297', '32.147083'], ['119.05835', '32.147202'], ['119.059059', '32.147247'], ['119.060234', '32.147285'], ['119.060966', '32.147285'], ['119.062248', '32.147228'], ['119.062836', '32.14719'], ['119.064301', '32.147099'], ['119.065636', '32.147018'], ['119.066948', '32.146923'], ['119.069237', '32.146805'], ['119.069824', '32.146797'], ['119.070229', '32.146797'], ['119.071259', '32.146832'], ['119.07193', '32.146862'], ['119.072701', '32.146927'], ['119.073883', '32.147057'], ['119.074417', '32.147137'], ['119.075714', '32.147354'], ['119.079575', '32.148087'], ['119.080444', '32.148243'], ['119.081589', '32.148403'], ['119.083466', '32.14859'], ['119.086212', '32.14872'], ['119.088242', '32.148785'], ['119.089653', '32.148819'], ['119.091797', '32.148884'], ['119.092621', '32.148911'], ['119.098785', '32.149105'], ['119.100243', '32.149143'], ['119.100677', '32.149143'], ['119.101585', '32.149101'], ['119.101982', '32.149059'], ['119.102776', '32.148945'], ['119.103485', '32.148785'], ['119.104355', '32.14854'], ['119.105034', '32.148289'], ['119.106148', '32.147793'], ['119.109917', '32.145992'], ['119.111877', '32.145054'], ['119.111877', '32.145054'], ['119.111725', '32.144722'], ['119.111725', '32.144722'], ['119.111259', '32.144718']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>