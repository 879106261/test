<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.712288', '28.08164'], ['120.713158', '28.081701'], ['120.713181', '28.081707'], ['120.713638', '28.081722'], ['120.714195', '28.081715'], ['120.714958', '28.081739'], ['120.715614', '28.081766'], ['120.71656', '28.081854'], ['120.716797', '28.081831'], ['120.716927', '28.081785'], ['120.71701', '28.081715'], ['120.717094', '28.081623'], ['120.717163', '28.081476'], ['120.717331', '28.081152'], ['120.717392', '28.081055'], ['120.717461', '28.080956'], ['120.717705', '28.080595'], ['120.717781', '28.080521'], ['120.71785', '28.080433'], ['120.718025', '28.080309'], ['120.718506', '28.080036'], ['120.71904', '28.079695'], ['120.719185', '28.079578'], ['120.719254', '28.0795'], ['120.719559', '28.078949'], ['120.719917', '28.078648'], ['120.720314', '28.078224'], ['120.720436', '28.078064'], ['120.720512', '28.077942'], ['120.720596', '28.077747'], ['120.720604', '28.077656'], ['120.720642', '28.077465'], ['120.720612', '28.076271'], ['120.720619', '28.076056'], ['120.720657', '28.075865'], ['120.720772', '28.075491'], ['120.720879', '28.07527'], ['120.720985', '28.0751'], ['120.721123', '28.074926'], ['120.721245', '28.074795'], ['120.721474', '28.074572'], ['120.721764', '28.074385'], ['120.722488', '28.07402'], ['120.722992', '28.073771'], ['120.724052', '28.073215'], ['120.724052', '28.073215'], ['120.724113', '28.072908'], ['120.724121', '28.072783'], ['120.72406', '28.072283'], ['120.7239', '28.071533'], ['120.723854', '28.071133'], ['120.723801', '28.070955'], ['120.72361', '28.07056'], ['120.723518', '28.070429'], ['120.723328', '28.070065'], ['120.723305', '28.070023'], ['120.723206', '28.069736'], ['120.723175', '28.06938'], ['120.723129', '28.069235'], ['120.723061', '28.069115'], ['120.722977', '28.069054'], ['120.722443', '28.068853'], ['120.721764', '28.068747'], ['120.721207', '28.06868'], ['120.720154', '28.068493'], ['120.718765', '28.068325'], ['120.717972', '28.068195'], ['120.717781', '28.068125'], ['120.716522', '28.067692'], ['120.714783', '28.067005'], ['120.714355', '28.066799'], ['120.713943', '28.066576'], ['120.713783', '28.066448'], ['120.713486', '28.066212'], ['120.713242', '28.066038'], ['120.713242', '28.066038'], ['120.712975', '28.065855'], ['120.712616', '28.065605'], ['120.712616', '28.065605'], ['120.712273', '28.065304'], ['120.712097', '28.065096'], ['120.712036', '28.064974'], ['120.711868', '28.064667'], ['120.709785', '28.060465'], ['120.709312', '28.059444'], ['120.709137', '28.05908'], ['120.708641', '28.058107'], ['120.708092', '28.057219'], ['120.707397', '28.056267'], ['120.707146', '28.056015'], ['120.706566', '28.055511'], ['120.706123', '28.055141'], ['120.705421', '28.054604'], ['120.705421', '28.054604'], ['120.704071', '28.053598'], ['120.703415', '28.053015'], ['120.702583', '28.052313'], ['120.702347', '28.052149'], ['120.702232', '28.052071'], ['120.701759', '28.051798'], ['120.701263', '28.051554'], ['120.700607', '28.051367'], ['120.700333', '28.051319'], ['120.69986', '28.051262'], ['120.699211', '28.051142'], ['120.697479', '28.050934'], ['120.697113', '28.050873'], ['120.697014', '28.050869'], ['120.697052', '28.048899'], ['120.697052', '28.048096'], ['120.69706', '28.047777'], ['120.69706', '28.047777'], ['120.69709', '28.046253'], ['120.697113', '28.045933'], ['120.697174', '28.045099'], ['120.697235', '28.044596'], ['120.697235', '28.044596'], ['120.69735', '28.044031'], ['120.697449', '28.043694'], ['120.697571', '28.043346'], ['120.697777', '28.042873'], ['120.69809', '28.042299'], ['120.698357', '28.041876'], ['120.698685', '28.041462'], ['120.699051', '28.04108'], ['120.699394', '28.040737'], ['120.699707', '28.040478'], ['120.700401', '28.039991'], ['120.700745', '28.039782'], ['120.700989', '28.039648'], ['120.701775', '28.03927'], ['120.703278', '28.038576'], ['120.704865', '28.037848'], ['120.70536', '28.03764'], ['120.705994', '28.037399'], ['120.706345', '28.037283'], ['120.706688', '28.037205'], ['120.707283', '28.037109'], ['120.707321', '28.0371'], ['120.707504', '28.037075'], ['120.708206', '28.037022'], ['120.708847', '28.037008'], ['120.710953', '28.037058'], ['120.711517', '28.037045'], ['120.712418', '28.036976'], ['120.714592', '28.036739'], ['120.715492', '28.03669'], ['120.716118', '28.036684'], ['120.717781', '28.036779'], ['120.717911', '28.036785'], ['120.718674', '28.036779'], ['120.719398', '28.036739'], ['120.721527', '28.036572'], ['120.723434', '28.036415'], ['120.724243', '28.036348'], ['120.724792', '28.036303'], ['120.725288', '28.036245'], ['120.725716', '28.036165'], ['120.726372', '28.03599'], ['120.726868', '28.035824'], ['120.729118', '28.034996'], ['120.730186', '28.034592'], ['120.73069', '28.034431'], ['120.731247', '28.034281'], ['120.731438', '28.034241'], ['120.732071', '28.034145'], ['120.732407', '28.034115'], ['120.732674', '28.034111'], ['120.734581', '28.034081'], ['120.73513', '28.034027'], ['120.735886', '28.033867'], ['120.737221', '28.033476'], ['120.739227', '28.03285'], ['120.739647', '28.032734'], ['120.739738', '28.032709'], ['120.740273', '28.032595'], ['120.741074', '28.032482'], ['120.741333', '28.032457'], ['120.741943', '28.032417'], ['120.74366', '28.032387'], ['120.744568', '28.03237'], ['120.745361', '28.03236'], ['120.746117', '28.032322'], ['120.746971', '28.03227'], ['120.747948', '28.032171'], ['120.749298', '28.031996'], ['120.750526', '28.03178'], ['120.751274', '28.031618'], ['120.752617', '28.031281'], ['120.753326', '28.031084'], ['120.754105', '28.030825'], ['120.755913', '28.030165'], ['120.756493', '28.029926'], ['120.757812', '28.029314'], ['120.758896', '28.028776'], ['120.759819', '28.028246'], ['120.760345', '28.027908'], ['120.760971', '28.027483'], ['120.761719', '28.026976'], ['120.761772', '28.026939'], ['120.762184', '28.02669'], ['120.76239', '28.026594'], ['120.763023', '28.026312'], ['120.763519', '28.026119'], ['120.763573', '28.026098'], ['120.766563', '28.025122'], ['120.76712', '28.024918'], ['120.767746', '28.024666'], ['120.768379', '28.024363'], ['120.769051', '28.023985'], ['120.770744', '28.022692'], ['120.771469', '28.022257'], ['120.771667', '28.022167'], ['120.772072', '28.022013'], ['120.772224', '28.021976'], ['120.772781', '28.021849'], ['120.773117', '28.021818'], ['120.773468', '28.021799'], ['120.773872', '28.021822'], ['120.774239', '28.021872'], ['120.774506', '28.021931'], ['120.774826', '28.022018'], ['120.775192', '28.022161'], ['120.775597', '28.022348'], ['120.775597', '28.022348'], ['120.775864', '28.022495'], ['120.776741', '28.023037'], ['120.777122', '28.023256'], ['120.777679', '28.023529'], ['120.778389', '28.023821'], ['120.779076', '28.024015'], ['120.779808', '28.024179'], ['120.780411', '28.024267'], ['120.780602', '28.024281'], ['120.781197', '28.024345'], ['120.781868', '28.024408'], ['120.782394', '28.024462'], ['120.782463', '28.024471'], ['120.783104', '28.024517'], ['120.783691', '28.024517'], ['120.783974', '28.024504'], ['120.784935', '28.024401'], ['120.785721', '28.024221'], ['120.786179', '28.024097'], ['120.786758', '28.023884'], ['120.786812', '28.023863'], ['120.787132', '28.023729'], ['120.787712', '28.023438'], ['120.788391', '28.023029'], ['120.788895', '28.022673'], ['120.789566', '28.022072'], ['120.789787', '28.021866'], ['120.790215', '28.021471'], ['120.790276', '28.021412'], ['120.790405', '28.021271'], ['120.790794', '28.020889'], ['120.79097', '28.020702'], ['120.791008', '28.020674'], ['120.791046', '28.020634'], ['120.791397', '28.020256'], ['120.791748', '28.019882'], ['120.792084', '28.019522'], ['120.792412', '28.019154'], ['120.79258', '28.01897'], ['120.79351', '28.017916'], ['120.793716', '28.017723'], ['120.793861', '28.017605'], ['120.794121', '28.017422'], ['120.794273', '28.01734'], ['120.794647', '28.017178'], ['120.794884', '28.017118'], ['120.795067', '28.017084'], ['120.795326', '28.01704'], ['120.795486', '28.017036'], ['120.795769', '28.01704'], ['120.796028', '28.017076'], ['120.796417', '28.017166'], ['120.79715', '28.017391'], ['120.799736', '28.018211'], ['120.800827', '28.018551'], ['120.803833', '28.019518'], ['120.805664', '28.020119'], ['120.80584', '28.020178'], ['120.80584', '28.020178'], ['120.805885', '28.019886'], ['120.805939', '28.019531'], ['120.806046', '28.018993'], ['120.806122', '28.018616'], ['120.806236', '28.018082'], ['120.806267', '28.017912'], ['120.806381', '28.017323'], ['120.806381', '28.017323'], ['120.807114', '28.017469'], ['120.808998', '28.017752'], ['120.809715', '28.01786'], ['120.810959', '28.018051'], ['120.813202', '28.018389'], ['120.816017', '28.018894'], ['120.81678', '28.018997'], ['120.816895', '28.019035'], ['120.816978', '28.019112'], ['120.816978', '28.019112'], ['120.81739', '28.019131'], ['120.817772', '28.019127'], ['120.819305', '28.019007'], ['120.819496', '28.019016'], ['120.82', '28.019072'], ['120.820152', '28.019062'], ['120.820274', '28.019035'], ['120.820526', '28.018957'], ['120.820877', '28.018845'], ['120.821037', '28.018816'], ['120.821159', '28.018816'], ['120.821342', '28.018854'], ['120.822273', '28.019093'], ['120.823608', '28.019409'], ['120.824188', '28.019575'], ['120.824471', '28.019636'], ['120.824699', '28.019663'], ['120.824951', '28.019667'], ['120.825592', '28.019596'], ['120.825821', '28.019484'], ['120.825981', '28.01943'], ['120.826187', '28.019388'], ['120.826561', '28.019371'], ['120.826599', '28.019361'], ['120.826622', '28.019341'], ['120.826584', '28.018393'], ['120.826523', '28.017582'], ['120.826523', '28.017582'], ['120.827637', '28.017441'], ['120.828285', '28.017355'], ['120.828979', '28.017227'], ['120.829521', '28.017109'], ['120.829895', '28.017044'], ['120.830521', '28.016979'], ['120.831955', '28.016768'], ['120.832497', '28.016666'], ['120.833664', '28.016407'], ['120.834091', '28.016325'], ['120.83429', '28.016272'], ['120.834435', '28.016207'], ['120.834435', '28.016207'], ['120.833504', '28.015139'], ['120.833496', '28.015133'], ['120.832321', '28.013794'], ['120.831665', '28.013039'], ['120.831459', '28.012777'], ['120.831207', '28.012426'], ['120.830948', '28.011868'], ['120.830917', '28.011723'], ['120.830757', '28.011137'], ['120.830673', '28.010773'], ['120.830406', '28.009604'], ['120.83007', '28.008041'], ['120.830009', '28.007772'], ['120.829903', '28.007275'], ['120.829857', '28.007109'], ['120.829834', '28.006935'], ['120.829803', '28.006817'], ['120.829742', '28.00654'], ['120.829529', '28.00561'], ['120.829437', '28.005083'], ['120.82943', '28.004883'], ['120.829437', '28.004683'], ['120.82946', '28.004194'], ['120.829468', '28.004148'], ['120.829506', '28.003328'], ['120.829529', '28.002764'], ['120.829536', '28.00263'], ['120.829597', '28.002218'], ['120.829605', '28.002127'], ['120.829689', '28.001862'], ['120.829704', '28.001818'], ['120.829941', '28.001453'], ['120.830406', '28.000834'], ['120.830978', '28.000082'], ['120.831299', '27.99968'], ['120.831535', '27.999298'], ['120.831665', '27.998949'], ['120.831665', '27.998949'], ['120.83152', '27.998901'], ['120.831406', '27.99888'], ['120.830544', '27.998871'], ['120.830078', '27.998857']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>