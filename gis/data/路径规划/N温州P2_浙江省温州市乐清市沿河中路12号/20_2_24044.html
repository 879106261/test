<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.712288', '28.08164'], ['120.711823', '28.081612'], ['120.711006', '28.081429'], ['120.710739', '28.081362'], ['120.710304', '28.081276'], ['120.71006', '28.081215'], ['120.709663', '28.081055'], ['120.709251', '28.080879'], ['120.708687', '28.080561'], ['120.708473', '28.080442'], ['120.708473', '28.080442'], ['120.707741', '28.081055'], ['120.707283', '28.08145'], ['120.706482', '28.082067'], ['120.706291', '28.082239'], ['120.706139', '28.082409'], ['120.706024', '28.082582'], ['120.705917', '28.082769'], ['120.705833', '28.082956'], ['120.705704', '28.083298'], ['120.705704', '28.083298'], ['120.705536', '28.083279'], ['120.705353', '28.083229'], ['120.705208', '28.083178'], ['120.705063', '28.083069'], ['120.704933', '28.082891'], ['120.704376', '28.082048'], ['120.704277', '28.081881'], ['120.704254', '28.081732'], ['120.704285', '28.081615'], ['120.704353', '28.081511'], ['120.704445', '28.081436'], ['120.704597', '28.081358'], ['120.705238', '28.081055'], ['120.705917', '28.080738'], ['120.706192', '28.080591'], ['120.706497', '28.080404'], ['120.707039', '28.080017'], ['120.709717', '28.077911'], ['120.709991', '28.077717'], ['120.710281', '28.077536'], ['120.71064', '28.077353'], ['120.712364', '28.076567'], ['120.712547', '28.076468'], ['120.712692', '28.07637'], ['120.71283', '28.076248'], ['120.712921', '28.076128'], ['120.713005', '28.075998'], ['120.713074', '28.075865'], ['120.71312', '28.075716'], ['120.713135', '28.075586'], ['120.713127', '28.075342'], ['120.713127', '28.075342'], ['120.713104', '28.075199'], ['120.713058', '28.075077'], ['120.712967', '28.074905'], ['120.71283', '28.074682'], ['120.711754', '28.0732'], ['120.711754', '28.0732'], ['120.711685', '28.073029'], ['120.711662', '28.072826'], ['120.711617', '28.072552'], ['120.711555', '28.072378'], ['120.711288', '28.071249'], ['120.711288', '28.071249'], ['120.711189', '28.070787'], ['120.711166', '28.070404'], ['120.711174', '28.070196'], ['120.711182', '28.070065'], ['120.711212', '28.069874'], ['120.711281', '28.069462'], ['120.711441', '28.068802'], ['120.711807', '28.067287'], ['120.711861', '28.067013'], ['120.711891', '28.066736'], ['120.711922', '28.066416'], ['120.711922', '28.066175'], ['120.711891', '28.065876'], ['120.711861', '28.065542'], ['120.711761', '28.065187'], ['120.71154', '28.064568'], ['120.70903', '28.059484'], ['120.708824', '28.05908'], ['120.708519', '28.058466'], ['120.708221', '28.057974'], ['120.707794', '28.057354'], ['120.707451', '28.056902'], ['120.707146', '28.056536'], ['120.706757', '28.056124'], ['120.706085', '28.055538'], ['120.705482', '28.055096'], ['120.704826', '28.054667'], ['120.704826', '28.054667'], ['120.704163', '28.054279'], ['120.703621', '28.054007'], ['120.700584', '28.052631'], ['120.699593', '28.052183'], ['120.69883', '28.051785'], ['120.698753', '28.051744'], ['120.698181', '28.051371'], ['120.697884', '28.051155'], ['120.697662', '28.050968'], ['120.697227', '28.050556'], ['120.696754', '28.050018'], ['120.696388', '28.049509'], ['120.696327', '28.049389'], ['120.696205', '28.049162'], ['120.695801', '28.048334'], ['120.695793', '28.048325'], ['120.695686', '28.048096'], ['120.695549', '28.047777'], ['120.695389', '28.047478'], ['120.695389', '28.047478'], ['120.695297', '28.047396'], ['120.695221', '28.0473'], ['120.694435', '28.04582'], ['120.694366', '28.045673'], ['120.694176', '28.045259'], ['120.693909', '28.044605'], ['120.693909', '28.044605'], ['120.693848', '28.044249'], ['120.693825', '28.04414'], ['120.694092', '28.043861'], ['120.694176', '28.043772'], ['120.694267', '28.043751'], ['120.694435', '28.043524'], ['120.694572', '28.04335'], ['120.694702', '28.043192'], ['120.695007', '28.042873'], ['120.695129', '28.042755'], ['120.695351', '28.042591'], ['120.695503', '28.042492'], ['120.695793', '28.042345'], ['120.696297', '28.042095'], ['120.697411', '28.04155'], ['120.697868', '28.041298'], ['120.698532', '28.040947'], ['120.698753', '28.040846'], ['120.699707', '28.040478'], ['120.700401', '28.039991'], ['120.700745', '28.039782'], ['120.700989', '28.039648'], ['120.701775', '28.03927'], ['120.703278', '28.038576'], ['120.704865', '28.037848'], ['120.70536', '28.03764'], ['120.705994', '28.037399'], ['120.706345', '28.037283'], ['120.706688', '28.037205'], ['120.707283', '28.037109'], ['120.707321', '28.0371'], ['120.707504', '28.037075'], ['120.708206', '28.037022'], ['120.708847', '28.037008'], ['120.710953', '28.037058'], ['120.711517', '28.037045'], ['120.712418', '28.036976'], ['120.714592', '28.036739'], ['120.715492', '28.03669'], ['120.716118', '28.036684'], ['120.717781', '28.036779'], ['120.717911', '28.036785'], ['120.718674', '28.036779'], ['120.719398', '28.036739'], ['120.721527', '28.036572'], ['120.723434', '28.036415'], ['120.724243', '28.036348'], ['120.724792', '28.036303'], ['120.725288', '28.036245'], ['120.725716', '28.036165'], ['120.726372', '28.03599'], ['120.726868', '28.035824'], ['120.729118', '28.034996'], ['120.730186', '28.034592'], ['120.73069', '28.034431'], ['120.731247', '28.034281'], ['120.731438', '28.034241'], ['120.732071', '28.034145'], ['120.732407', '28.034115'], ['120.732674', '28.034111'], ['120.734581', '28.034081'], ['120.73513', '28.034027'], ['120.735886', '28.033867'], ['120.737221', '28.033476'], ['120.739227', '28.03285'], ['120.739647', '28.032734'], ['120.739738', '28.032709'], ['120.740273', '28.032595'], ['120.741074', '28.032482'], ['120.741333', '28.032457'], ['120.741943', '28.032417'], ['120.74366', '28.032387'], ['120.744568', '28.03237'], ['120.745361', '28.03236'], ['120.746117', '28.032322'], ['120.746971', '28.03227'], ['120.747948', '28.032171'], ['120.749298', '28.031996'], ['120.750526', '28.03178'], ['120.751274', '28.031618'], ['120.752617', '28.031281'], ['120.753326', '28.031084'], ['120.754105', '28.030825'], ['120.755913', '28.030165'], ['120.756493', '28.029926'], ['120.757812', '28.029314'], ['120.758896', '28.028776'], ['120.759819', '28.028246'], ['120.760345', '28.027908'], ['120.760971', '28.027483'], ['120.761719', '28.026976'], ['120.761772', '28.026939'], ['120.762184', '28.02669'], ['120.76239', '28.026594'], ['120.763023', '28.026312'], ['120.763519', '28.026119'], ['120.763573', '28.026098'], ['120.766563', '28.025122'], ['120.76712', '28.024918'], ['120.767746', '28.024666'], ['120.768379', '28.024363'], ['120.769051', '28.023985'], ['120.770744', '28.022692'], ['120.771469', '28.022257'], ['120.771667', '28.022167'], ['120.772072', '28.022013'], ['120.772224', '28.021976'], ['120.772781', '28.021849'], ['120.773117', '28.021818'], ['120.773468', '28.021799'], ['120.773872', '28.021822'], ['120.774239', '28.021872'], ['120.774506', '28.021931'], ['120.774826', '28.022018'], ['120.775192', '28.022161'], ['120.775597', '28.022348'], ['120.775597', '28.022348'], ['120.775864', '28.022495'], ['120.776741', '28.023037'], ['120.777122', '28.023256'], ['120.777679', '28.023529'], ['120.778389', '28.023821'], ['120.779076', '28.024015'], ['120.779808', '28.024179'], ['120.780411', '28.024267'], ['120.780602', '28.024281'], ['120.781197', '28.024345'], ['120.781868', '28.024408'], ['120.782394', '28.024462'], ['120.782463', '28.024471'], ['120.783104', '28.024517'], ['120.783691', '28.024517'], ['120.783974', '28.024504'], ['120.784935', '28.024401'], ['120.785721', '28.024221'], ['120.786179', '28.024097'], ['120.786758', '28.023884'], ['120.786812', '28.023863'], ['120.787132', '28.023729'], ['120.787712', '28.023438'], ['120.788391', '28.023029'], ['120.788895', '28.022673'], ['120.789566', '28.022072'], ['120.789787', '28.021866'], ['120.790215', '28.021471'], ['120.790276', '28.021412'], ['120.790405', '28.021271'], ['120.790794', '28.020889'], ['120.79097', '28.020702'], ['120.791008', '28.020674'], ['120.791046', '28.020634'], ['120.791397', '28.020256'], ['120.791748', '28.019882'], ['120.792084', '28.019522'], ['120.792412', '28.019154'], ['120.79258', '28.01897'], ['120.79351', '28.017916'], ['120.793716', '28.017723'], ['120.793861', '28.017605'], ['120.794121', '28.017422'], ['120.794273', '28.01734'], ['120.794647', '28.017178'], ['120.794884', '28.017118'], ['120.795067', '28.017084'], ['120.795326', '28.01704'], ['120.795486', '28.017036'], ['120.795769', '28.01704'], ['120.796028', '28.017076'], ['120.796417', '28.017166'], ['120.79715', '28.017391'], ['120.799736', '28.018211'], ['120.800827', '28.018551'], ['120.803833', '28.019518'], ['120.805664', '28.020119'], ['120.80584', '28.020178'], ['120.80584', '28.020178'], ['120.805885', '28.019886'], ['120.805939', '28.019531'], ['120.806046', '28.018993'], ['120.806122', '28.018616'], ['120.806236', '28.018082'], ['120.806267', '28.017912'], ['120.806381', '28.017323'], ['120.806381', '28.017323'], ['120.807114', '28.017469'], ['120.808998', '28.017752'], ['120.809715', '28.01786'], ['120.810959', '28.018051'], ['120.813202', '28.018389'], ['120.816017', '28.018894'], ['120.81678', '28.018997'], ['120.816895', '28.019035'], ['120.816978', '28.019112'], ['120.816978', '28.019112'], ['120.81739', '28.019131'], ['120.817772', '28.019127'], ['120.819305', '28.019007'], ['120.819496', '28.019016'], ['120.82', '28.019072'], ['120.820152', '28.019062'], ['120.820274', '28.019035'], ['120.820526', '28.018957'], ['120.820877', '28.018845'], ['120.821037', '28.018816'], ['120.821159', '28.018816'], ['120.821342', '28.018854'], ['120.822273', '28.019093'], ['120.823608', '28.019409'], ['120.824188', '28.019575'], ['120.824471', '28.019636'], ['120.824699', '28.019663'], ['120.824951', '28.019667'], ['120.825592', '28.019596'], ['120.825821', '28.019484'], ['120.825981', '28.01943'], ['120.826187', '28.019388'], ['120.826561', '28.019371'], ['120.826599', '28.019361'], ['120.826622', '28.019341'], ['120.826584', '28.018393'], ['120.826523', '28.017582'], ['120.826523', '28.017582'], ['120.827637', '28.017441'], ['120.828285', '28.017355'], ['120.828979', '28.017227'], ['120.829521', '28.017109'], ['120.829895', '28.017044'], ['120.830521', '28.016979'], ['120.831955', '28.016768'], ['120.832497', '28.016666'], ['120.833664', '28.016407'], ['120.834091', '28.016325'], ['120.83429', '28.016272'], ['120.834435', '28.016207'], ['120.834435', '28.016207'], ['120.833504', '28.015139'], ['120.833496', '28.015133'], ['120.832321', '28.013794'], ['120.831665', '28.013039'], ['120.831459', '28.012777'], ['120.831207', '28.012426'], ['120.830948', '28.011868'], ['120.830917', '28.011723'], ['120.830757', '28.011137'], ['120.830673', '28.010773'], ['120.830406', '28.009604'], ['120.83007', '28.008041'], ['120.830009', '28.007772'], ['120.829903', '28.007275'], ['120.829857', '28.007109'], ['120.829834', '28.006935'], ['120.829803', '28.006817'], ['120.829742', '28.00654'], ['120.829529', '28.00561'], ['120.829437', '28.005083'], ['120.82943', '28.004883'], ['120.829437', '28.004683'], ['120.82946', '28.004194'], ['120.829468', '28.004148'], ['120.829506', '28.003328'], ['120.829529', '28.002764'], ['120.829536', '28.00263'], ['120.829597', '28.002218'], ['120.829605', '28.002127'], ['120.829689', '28.001862'], ['120.829704', '28.001818'], ['120.829941', '28.001453'], ['120.830406', '28.000834'], ['120.830978', '28.000082'], ['120.831299', '27.99968'], ['120.831535', '27.999298'], ['120.831665', '27.998949'], ['120.831665', '27.998949'], ['120.83152', '27.998901'], ['120.831406', '27.99888'], ['120.830544', '27.998871'], ['120.830078', '27.998857']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>