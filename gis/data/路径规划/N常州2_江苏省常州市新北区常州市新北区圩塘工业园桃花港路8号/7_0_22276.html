<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.126381', '31.831745'], ['120.126053', '31.831736'], ['120.12513', '31.831711'], ['120.124931', '31.831701'], ['120.124504', '31.831694'], ['120.123245', '31.831654'], ['120.122421', '31.831623'], ['120.12175', '31.831598'], ['120.121506', '31.831585'], ['120.121078', '31.831575'], ['120.120491', '31.831572'], ['120.120071', '31.831575'], ['120.119637', '31.831575'], ['120.119148', '31.83152'], ['120.118706', '31.83147'], ['120.11718', '31.83144'], ['120.116943', '31.831425'], ['120.116196', '31.831324'], ['120.1157', '31.831224'], ['120.115189', '31.831102'], ['120.114433', '31.830875'], ['120.113884', '31.830711'], ['120.113304', '31.830505'], ['120.113083', '31.830395'], ['120.112358', '31.829948'], ['120.111519', '31.829462'], ['120.110931', '31.829149'], ['120.110367', '31.828871'], ['120.109703', '31.828556'], ['120.108818', '31.828152'], ['120.108452', '31.827995'], ['120.108215', '31.827911'], ['120.107925', '31.827831'], ['120.10762', '31.827761'], ['120.107414', '31.827738'], ['120.107048', '31.827738'], ['120.106216', '31.827787'], ['120.105148', '31.827864'], ['120.104446', '31.8279'], ['120.104141', '31.8279'], ['120.103851', '31.82789'], ['120.103508', '31.827831'], ['120.103508', '31.827831'], ['120.102737', '31.827391'], ['120.102539', '31.827278'], ['120.101753', '31.826822'], ['120.100792', '31.826275'], ['120.10054', '31.826141'], ['120.100151', '31.82592'], ['120.098846', '31.825186'], ['120.098694', '31.825123'], ['120.098503', '31.825069'], ['120.098221', '31.825031'], ['120.09787', '31.825031'], ['120.09787', '31.825031'], ['120.097946', '31.826616'], ['120.097984', '31.827391'], ['120.09803', '31.828394'], ['120.098099', '31.829691'], ['120.098145', '31.830791'], ['120.098167', '31.831133'], ['120.09819', '31.83149'], ['120.098206', '31.831623'], ['120.098228', '31.832331'], ['120.098305', '31.833534'], ['120.098358', '31.834654'], ['120.098412', '31.835869'], ['120.098526', '31.838074'], ['120.098534', '31.838377'], ['120.098587', '31.839476'], ['120.098663', '31.842432'], ['120.09874', '31.84429'], ['120.098747', '31.844467'], ['120.09877', '31.845022'], ['120.0989', '31.84708'], ['120.098999', '31.848772'], ['120.09903', '31.849361'], ['120.099136', '31.851311'], ['120.099182', '31.852085'], ['120.099213', '31.852856'], ['120.09919', '31.853924'], ['120.099159', '31.854557'], ['120.099121', '31.855013'], ['120.099052', '31.855547'], ['120.0989', '31.85652'], ['120.098801', '31.857004'], ['120.098534', '31.858124'], ['120.098427', '31.858498'], ['120.098106', '31.859562'], ['120.098045', '31.859739'], ['120.097839', '31.860352'], ['120.097816', '31.860399'], ['120.097633', '31.860538'], ['120.096771', '31.860352'], ['120.091003', '31.859079'], ['120.089561', '31.858763'], ['120.089447', '31.858734'], ['120.087128', '31.858225'], ['120.083359', '31.857391'], ['120.081451', '31.856976'], ['120.080559', '31.856785'], ['120.075966', '31.855764'], ['120.075966', '31.855764'], ['120.075829', '31.856329'], ['120.07563', '31.857044'], ['120.075378', '31.857933'], ['120.075081', '31.859003'], ['120.074951', '31.859453'], ['120.074699', '31.860352'], ['120.073875', '31.863379'], ['120.073723', '31.86388'], ['120.071884', '31.870506'], ['120.071815', '31.870756'], ['120.071671', '31.871212'], ['120.071648', '31.871338'], ['120.071548', '31.871712'], ['120.071526', '31.871799'], ['120.071465', '31.872231'], ['120.070763', '31.876368'], ['120.069992', '31.881071'], ['120.069908', '31.881712'], ['120.069855', '31.882322'], ['120.069847', '31.882374'], ['120.069618', '31.8855'], ['120.069237', '31.890556'], ['120.069229', '31.890583'], ['120.069122', '31.892023'], ['120.069023', '31.893307'], ['120.068817', '31.896076'], ['120.068695', '31.897665'], ['120.068657', '31.898142'], ['120.068497', '31.898285'], ['120.067787', '31.898319'], ['120.061119', '31.898464'], ['120.06041', '31.898466'], ['120.059769', '31.898485'], ['120.058594', '31.898512'], ['120.055641', '31.898581'], ['120.05265', '31.898651'], ['120.051949', '31.898666'], ['120.049667', '31.898716'], ['120.047379', '31.898775'], ['120.045731', '31.898808'], ['120.04409', '31.89884'], ['120.041077', '31.898911'], ['120.040527', '31.89892'], ['120.0373', '31.898993'], ['120.036621', '31.899012'], ['120.036491', '31.899015'], ['120.035553', '31.899027'], ['120.030739', '31.899136'], ['120.029205', '31.899162'], ['120.025284', '31.899244'], ['120.021255', '31.899336'], ['120.021255', '31.899336'], ['120.021004', '31.899408'], ['120.020851', '31.899471'], ['120.020752', '31.899536'], ['120.02063', '31.899672'], ['120.020546', '31.899796'], ['120.020447', '31.89994'], ['120.020317', '31.9002'], ['120.020264', '31.900505'], ['120.020096', '31.901484'], ['120.01963', '31.904297'], ['120.019562', '31.904686'], ['120.019447', '31.905319'], ['120.019005', '31.907951'], ['120.018555', '31.910643'], ['120.018539', '31.910656'], ['120.018433', '31.911333'], ['120.018356', '31.911913'], ['120.018341', '31.91213'], ['120.018341', '31.9126'], ['120.018379', '31.91292'], ['120.018448', '31.913219'], ['120.018562', '31.913589'], ['120.018669', '31.913834'], ['120.018837', '31.914158'], ['120.019157', '31.914696'], ['120.019279', '31.914923'], ['120.019501', '31.915281'], ['120.019676', '31.915583'], ['120.01992', '31.91608'], ['120.020042', '31.916431'], ['120.020134', '31.916794'], ['120.02018', '31.917152'], ['120.020195', '31.917431'], ['120.02018', '31.917805'], ['120.020142', '31.918179'], ['120.019981', '31.919409'], ['120.019775', '31.92082'], ['120.019661', '31.921362'], ['120.019531', '31.92174'], ['120.019501', '31.921814'], ['120.019371', '31.922131'], ['120.019226', '31.922409'], ['120.019043', '31.922422'], ['120.018631', '31.922409'], ['120.018501', '31.922419'], ['120.017052', '31.922432'], ['120.015846', '31.922501'], ['120.014946', '31.922556'], ['120.014648', '31.922577'], ['120.013733', '31.922636'], ['120.013016', '31.922678'], ['120.011795', '31.92276'], ['120.010727', '31.922827'], ['120.009262', '31.92292'], ['120.008324', '31.922991'], ['120.006798', '31.923065'], ['120.006798', '31.923065'], ['120.006821', '31.923433'], ['120.006783', '31.924572'], ['120.006783', '31.924572'], ['120.006523', '31.924572'], ['120.005379', '31.924578'], ['120.005379', '31.924578'], ['120.005386', '31.924849']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>