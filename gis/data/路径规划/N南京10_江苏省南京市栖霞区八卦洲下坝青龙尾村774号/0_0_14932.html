<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.879555', '32.112801'], ['118.879318', '32.112675'], ['118.878601', '32.112328'], ['118.878296', '32.112171'], ['118.878242', '32.112141'], ['118.877922', '32.111977'], ['118.877487', '32.111732'], ['118.875404', '32.110249'], ['118.875122', '32.110073'], ['118.874901', '32.110004'], ['118.874718', '32.109966'], ['118.873833', '32.109436'], ['118.873833', '32.109436'], ['118.87339', '32.110741'], ['118.873085', '32.111618'], ['118.872948', '32.112007'], ['118.87262', '32.112988'], ['118.872604', '32.113033'], ['118.872452', '32.113514'], ['118.872299', '32.113594'], ['118.87207', '32.113735'], ['118.87178', '32.113903'], ['118.870537', '32.114544'], ['118.869606', '32.114914'], ['118.867844', '32.115776'], ['118.867416', '32.116001'], ['118.866676', '32.116421'], ['118.865501', '32.117184'], ['118.865341', '32.117283'], ['118.863831', '32.11869'], ['118.863235', '32.119255'], ['118.862389', '32.120152'], ['118.861366', '32.121445'], ['118.860359', '32.122734'], ['118.85994', '32.123264'], ['118.859375', '32.124023'], ['118.859093', '32.124401'], ['118.858406', '32.125347'], ['118.857376', '32.126888'], ['118.857216', '32.12714'], ['118.856743', '32.127876'], ['118.856514', '32.128265'], ['118.855782', '32.129513'], ['118.855278', '32.13039'], ['118.85495', '32.13102'], ['118.854492', '32.131939'], ['118.853851', '32.133232'], ['118.853584', '32.133961'], ['118.853203', '32.13501'], ['118.853172', '32.135086'], ['118.852989', '32.13567'], ['118.852745', '32.136532'], ['118.852417', '32.137402'], ['118.852417', '32.137402'], ['118.851959', '32.138466'], ['118.851692', '32.139015'], ['118.85141', '32.139599'], ['118.851082', '32.1404'], ['118.850754', '32.14135'], ['118.850098', '32.143658'], ['118.850006', '32.143955'], ['118.849709', '32.144909'], ['118.849312', '32.145992'], ['118.849182', '32.146355'], ['118.848839', '32.147243'], ['118.848053', '32.149059'], ['118.847641', '32.149933'], ['118.84713', '32.151001'], ['118.846184', '32.152748'], ['118.845741', '32.153511'], ['118.84507', '32.154633'], ['118.843613', '32.156979'], ['118.842094', '32.159409'], ['118.838936', '32.164494'], ['118.83831', '32.165504'], ['118.837906', '32.166161'], ['118.836784', '32.167969'], ['118.83593', '32.169361'], ['118.83593', '32.169361'], ['118.835815', '32.16964'], ['118.834839', '32.171474'], ['118.834641', '32.171844'], ['118.834526', '32.172123'], ['118.834496', '32.172279'], ['118.834518', '32.172428'], ['118.834526', '32.172497'], ['118.834595', '32.172642'], ['118.834747', '32.172821'], ['118.834854', '32.172924'], ['118.834854', '32.172924'], ['118.835159', '32.173035'], ['118.835327', '32.173073'], ['118.835571', '32.173073'], ['118.835739', '32.173035'], ['118.835876', '32.172985'], ['118.835991', '32.172924'], ['118.836105', '32.172836'], ['118.836273', '32.172684'], ['118.836411', '32.172527'], ['118.836517', '32.172367'], ['118.836647', '32.172138'], ['118.836685', '32.171963'], ['118.836685', '32.171963'], ['118.836563', '32.171848'], ['118.836479', '32.171795'], ['118.834518', '32.170864'], ['118.833031', '32.170158'], ['118.832863', '32.170074'], ['118.832802', '32.170044'], ['118.832596', '32.169949'], ['118.831825', '32.169601'], ['118.831589', '32.16951'], ['118.831207', '32.169388'], ['118.830765', '32.169277'], ['118.830544', '32.169209'], ['118.830139', '32.169163'], ['118.829857', '32.169155'], ['118.82943', '32.169163'], ['118.828659', '32.169224'], ['118.828461', '32.169266'], ['118.828201', '32.169334'], ['118.828125', '32.169365'], ['118.826317', '32.170033'], ['118.825424', '32.170345'], ['118.825096', '32.170475'], ['118.824837', '32.170586'], ['118.824837', '32.170586'], ['118.825165', '32.171326'], ['118.825829', '32.172791'], ['118.82618', '32.173512'], ['118.82634', '32.173862'], ['118.826996', '32.175327'], ['118.827774', '32.177071'], ['118.828125', '32.177811'], ['118.828629', '32.178955'], ['118.828789', '32.179314'], ['118.82901', '32.179832'], ['118.829948', '32.181923'], ['118.831413', '32.185169'], ['118.831886', '32.18623'], ['118.832207', '32.186901'], ['118.832291', '32.18708'], ['118.832405', '32.187454'], ['118.832489', '32.187729'], ['118.833313', '32.189941'], ['118.834732', '32.193802'], ['118.834801', '32.194023'], ['118.83567', '32.196312'], ['118.836334', '32.198097'], ['118.836884', '32.199604'], ['118.837105', '32.200237'], ['118.837105', '32.200237'], ['118.841759', '32.198097'], ['118.844963', '32.196445'], ['118.846558', '32.195621'], ['118.84713', '32.195377'], ['118.847733', '32.195164'], ['118.847801', '32.195148'], ['118.847801', '32.195148'], ['118.847664', '32.194878'], ['118.847664', '32.194878'], ['118.847725', '32.194847'], ['118.84787', '32.19479']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>