<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.879555', '32.112801'], ['118.879318', '32.112675'], ['118.878601', '32.112328'], ['118.878296', '32.112171'], ['118.878242', '32.112141'], ['118.877922', '32.111977'], ['118.877487', '32.111732'], ['118.875404', '32.110249'], ['118.875122', '32.110073'], ['118.874901', '32.110004'], ['118.874718', '32.109966'], ['118.873833', '32.109436'], ['118.873833', '32.109436'], ['118.87339', '32.110741'], ['118.873085', '32.111618'], ['118.872948', '32.112007'], ['118.87262', '32.112988'], ['118.872604', '32.113033'], ['118.872452', '32.113514'], ['118.872406', '32.113621'], ['118.872223', '32.114258'], ['118.872108', '32.114704'], ['118.87207', '32.11483'], ['118.871964', '32.115204'], ['118.871918', '32.115345'], ['118.871765', '32.115883'], ['118.87162', '32.116364'], ['118.871422', '32.11697'], ['118.871193', '32.117687'], ['118.870926', '32.118435'], ['118.870567', '32.119499'], ['118.87014', '32.120781'], ['118.869911', '32.121586'], ['118.869873', '32.121696'], ['118.869209', '32.123741'], ['118.869118', '32.124023'], ['118.868713', '32.12524'], ['118.867989', '32.12714'], ['118.867981', '32.127186'], ['118.867851', '32.127602'], ['118.867744', '32.127987'], ['118.867645', '32.128521'], ['118.867599', '32.128799'], ['118.867561', '32.129196'], ['118.867577', '32.129627'], ['118.867584', '32.129948'], ['118.86763', '32.13047'], ['118.867661', '32.130875'], ['118.867699', '32.13142'], ['118.86747', '32.131557'], ['118.866684', '32.131348'], ['118.860054', '32.129074'], ['118.859352', '32.128696'], ['118.858284', '32.128178'], ['118.857384', '32.127724'], ['118.856384', '32.127171'], ['118.853874', '32.12571'], ['118.852531', '32.124935'], ['118.852028', '32.124653'], ['118.851479', '32.124325'], ['118.85099', '32.124023'], ['118.850426', '32.123676'], ['118.850098', '32.123486'], ['118.847847', '32.122169'], ['118.845955', '32.121059'], ['118.845589', '32.120846'], ['118.845413', '32.12075'], ['118.845108', '32.120594'], ['118.844833', '32.12048'], ['118.84417', '32.120224'], ['118.843689', '32.120079'], ['118.843147', '32.119946'], ['118.843147', '32.119946'], ['118.842796', '32.119888'], ['118.84243', '32.119835'], ['118.841805', '32.119804'], ['118.840294', '32.119797'], ['118.837837', '32.119781'], ['118.835663', '32.119759'], ['118.835182', '32.119732'], ['118.834793', '32.119686'], ['118.83429', '32.119606'], ['118.833908', '32.11953'], ['118.833389', '32.119392'], ['118.83239', '32.119099'], ['118.830299', '32.118481'], ['118.82843', '32.117924'], ['118.828125', '32.117832'], ['118.8265', '32.117348'], ['118.826103', '32.117252'], ['118.825493', '32.117126'], ['118.825012', '32.117054'], ['118.824615', '32.117008'], ['118.823997', '32.116966'], ['118.823021', '32.116936'], ['118.819115', '32.116894'], ['118.819115', '32.116894'], ['118.81662', '32.116859'], ['118.81353', '32.116821'], ['118.81266', '32.116779'], ['118.81266', '32.116779'], ['118.812187', '32.116726'], ['118.811493', '32.116619'], ['118.807938', '32.115948'], ['118.807518', '32.115868'], ['118.806152', '32.115616'], ['118.805641', '32.11552'], ['118.804718', '32.115341'], ['118.803436', '32.115097'], ['118.801422', '32.114708'], ['118.799011', '32.11425'], ['118.797668', '32.113995'], ['118.797127', '32.113914'], ['118.796677', '32.113865'], ['118.796082', '32.113823'], ['118.795654', '32.113834'], ['118.794617', '32.113892'], ['118.793991', '32.113953'], ['118.792709', '32.114117'], ['118.792503', '32.11414'], ['118.791557', '32.114235'], ['118.790901', '32.114269'], ['118.790901', '32.114269'], ['118.789932', '32.114197'], ['118.78952', '32.114147'], ['118.788651', '32.113983'], ['118.787941', '32.113792'], ['118.787941', '32.113792'], ['118.787262', '32.113571'], ['118.785477', '32.113033'], ['118.78418', '32.112644'], ['118.777512', '32.110634'], ['118.777008', '32.110451'], ['118.776482', '32.110229'], ['118.775841', '32.109921'], ['118.775475', '32.109737'], ['118.775032', '32.109486'], ['118.774414', '32.109058'], ['118.773994', '32.108742'], ['118.773445', '32.108273'], ['118.773117', '32.107956'], ['118.772835', '32.107658'], ['118.772415', '32.107178'], ['118.771751', '32.106384'], ['118.771584', '32.106159'], ['118.770386', '32.104679'], ['118.77005', '32.104275'], ['118.769829', '32.104004'], ['118.7696', '32.10371'], ['118.769371', '32.103416'], ['118.769371', '32.103416'], ['118.768318', '32.102051'], ['118.768181', '32.101868'], ['118.767952', '32.101612'], ['118.76767', '32.101337'], ['118.767372', '32.101097'], ['118.767181', '32.100964'], ['118.767006', '32.100861'], ['118.766533', '32.100632'], ['118.765938', '32.100426'], ['118.765762', '32.100384'], ['118.765038', '32.10025'], ['118.764771', '32.100227'], ['118.764412', '32.100178'], ['118.764343', '32.100166'], ['118.763908', '32.100117'], ['118.763519', '32.100075'], ['118.76342', '32.100056'], ['118.76342', '32.100056'], ['118.763252', '32.100117'], ['118.762802', '32.100063'], ['118.762207', '32.099995'], ['118.761856', '32.099953'], ['118.761559', '32.099918'], ['118.760979', '32.09985'], ['118.759926', '32.099705'], ['118.759766', '32.099686'], ['118.759605', '32.099667'], ['118.759605', '32.099667'], ['118.759468', '32.099541'], ['118.75927', '32.099503'], ['118.75798', '32.09943'], ['118.756882', '32.099392'], ['118.756554', '32.099392'], ['118.756439', '32.099407'], ['118.756294', '32.099453'], ['118.756187', '32.099503'], ['118.756027', '32.099659'], ['118.755928', '32.099827'], ['118.755798', '32.100349'], ['118.755547', '32.101063'], ['118.755547', '32.101063'], ['118.75547', '32.101166'], ['118.755333', '32.101284'], ['118.755226', '32.101547'], ['118.755051', '32.102051'], ['118.754936', '32.102413'], ['118.754364', '32.104019'], ['118.752701', '32.108387'], ['118.752525', '32.108749'], ['118.752296', '32.109055'], ['118.752113', '32.109257'], ['118.751892', '32.109406'], ['118.750145', '32.110329'], ['118.747078', '32.111866'], ['118.745262', '32.112774'], ['118.744728', '32.113033'], ['118.743385', '32.113667'], ['118.74202', '32.11433'], ['118.740234', '32.115219'], ['118.739014', '32.115833'], ['118.737595', '32.11655'], ['118.73542', '32.117687'], ['118.734558', '32.118206'], ['118.734215', '32.118549'], ['118.733932', '32.119049'], ['118.733406', '32.120308'], ['118.73275', '32.12207'], ['118.732132', '32.123875'], ['118.732079', '32.124023'], ['118.731743', '32.124901'], ['118.731133', '32.126484'], ['118.730721', '32.127605'], ['118.730408', '32.128414'], ['118.729904', '32.130035'], ['118.729691', '32.130714'], ['118.729637', '32.130856'], ['118.729263', '32.131805'], ['118.729057', '32.132198'], ['118.728691', '32.132771'], ['118.72831', '32.133316'], ['118.728043', '32.133648'], ['118.728043', '32.133648'], ['118.727692', '32.134037'], ['118.7276', '32.134129'], ['118.72699', '32.134716'], ['118.726669', '32.13501'], ['118.724876', '32.136627'], ['118.722702', '32.138584'], ['118.721664', '32.139534'], ['118.721306', '32.139877'], ['118.720825', '32.14035'], ['118.720215', '32.140907'], ['118.719826', '32.141293'], ['118.719078', '32.142036'], ['118.718811', '32.142265'], ['118.718552', '32.142494'], ['118.718552', '32.142494'], ['118.718391', '32.142719'], ['118.718254', '32.142838'], ['118.717522', '32.143555'], ['118.716347', '32.144615'], ['118.715767', '32.145214'], ['118.715469', '32.145721'], ['118.715355', '32.145992'], ['118.715111', '32.146534'], ['118.714508', '32.147839'], ['118.714211', '32.148174'], ['118.713982', '32.148907'], ['118.71373', '32.149635'], ['118.71357', '32.150196'], ['118.713387', '32.151176'], ['118.71331', '32.151703'], ['118.713219', '32.152653'], ['118.713173', '32.153465'], ['118.713165', '32.153904'], ['118.713188', '32.154415'], ['118.713264', '32.155415'], ['118.713287', '32.155739'], ['118.713348', '32.156181'], ['118.713509', '32.156902'], ['118.713531', '32.156979'], ['118.71389', '32.158348'], ['118.714027', '32.158783'], ['118.71418', '32.159298'], ['118.714333', '32.159817'], ['118.71563', '32.164204'], ['118.715736', '32.164551'], ['118.716301', '32.166332'], ['118.716812', '32.167969'], ['118.717384', '32.169804'], ['118.717979', '32.171844'], ['118.718254', '32.172768'], ['118.719185', '32.175888'], ['118.719757', '32.177837'], ['118.720078', '32.178955'], ['118.721535', '32.183937'], ['118.721588', '32.184151'], ['118.722099', '32.185875'], ['118.723282', '32.189941'], ['118.723351', '32.190174'], ['118.723831', '32.191799'], ['118.726578', '32.200924'], ['118.726585', '32.200947'], ['118.727219', '32.203041'], ['118.729279', '32.209988'], ['118.72979', '32.21167'], ['118.729858', '32.211914'], ['118.730362', '32.213577'], ['118.731216', '32.216339'], ['118.731461', '32.216972'], ['118.731758', '32.217678'], ['118.732025', '32.218246'], ['118.732361', '32.218903'], ['118.732941', '32.219921'], ['118.733643', '32.220951'], ['118.734756', '32.222477'], ['118.735107', '32.2229'], ['118.735397', '32.223228'], ['118.736526', '32.224548'], ['118.737946', '32.22617'], ['118.73877', '32.227131'], ['118.73967', '32.228161'], ['118.739716', '32.228214'], ['118.739754', '32.228271'], ['118.740234', '32.228825'], ['118.741417', '32.230179'], ['118.742241', '32.231133'], ['118.744629', '32.233883'], ['118.745369', '32.234726'], ['118.747177', '32.236797'], ['118.747772', '32.237484'], ['118.747948', '32.237675'], ['118.749153', '32.239063'], ['118.75087', '32.241047'], ['118.751892', '32.242226'], ['118.752823', '32.243313'], ['118.752823', '32.243313'], ['118.753067', '32.243416'], ['118.753609', '32.244049'], ['118.75415', '32.24461'], ['118.75441', '32.244869'], ['118.754585', '32.245049'], ['118.754585', '32.245049'], ['118.755066', '32.24559'], ['118.755157', '32.245697'], ['118.755241', '32.245819'], ['118.755325', '32.245918'], ['118.755989', '32.246658'], ['118.756523', '32.247257'], ['118.756523', '32.247257'], ['118.757019', '32.247204'], ['118.757156', '32.247223'], ['118.757286', '32.247276'], ['118.757385', '32.247349'], ['118.757439', '32.247433'], ['118.757706', '32.247925'], ['118.75782', '32.248154'], ['118.75782', '32.248154'], ['118.75856', '32.247963'], ['118.758743', '32.247925'], ['118.758919', '32.247875'], ['118.759155', '32.247814'], ['118.759361', '32.247707'], ['118.759705', '32.247486'], ['118.760345', '32.247124'], ['118.76046', '32.247063'], ['118.760681', '32.246906'], ['118.761902', '32.246166'], ['118.762207', '32.245983'], ['118.762207', '32.245983'], ['118.762291', '32.24593'], ['118.762756', '32.245647'], ['118.763123', '32.245426'], ['118.763977', '32.244919'], ['118.764053', '32.244869'], ['118.764549', '32.244564'], ['118.765121', '32.244213'], ['118.765617', '32.243912'], ['118.766121', '32.243599'], ['118.766197', '32.243557'], ['118.766441', '32.243408'], ['118.7668', '32.243191'], ['118.76725', '32.242916'], ['118.76741', '32.242817'], ['118.767891', '32.242523'], ['118.768639', '32.242065'], ['118.769234', '32.241718'], ['118.769554', '32.24152'], ['118.770027', '32.241234'], ['118.770477', '32.240955'], ['118.770905', '32.240704'], ['118.771233', '32.240479'], ['118.771317', '32.240429'], ['118.771866', '32.240108'], ['118.772072', '32.239983'], ['118.772621', '32.239635'], ['118.773048', '32.23938'], ['118.773354', '32.239197'], ['118.773689', '32.238995'], ['118.774414', '32.23856'], ['118.774414', '32.23856'], ['118.774361', '32.238453'], ['118.774376', '32.238361'], ['118.774391', '32.238312'], ['118.774437', '32.238243'], ['118.774544', '32.238182'], ['118.774658', '32.238159'], ['118.774773', '32.238174'], ['118.774872', '32.23822'], ['118.774918', '32.23827'], ['118.774963', '32.238361'], ['118.774963', '32.238445'], ['118.774933', '32.238525'], ['118.774933', '32.238525'], ['118.775726', '32.239128'], ['118.777153', '32.240177'], ['118.777534', '32.240456'], ['118.778122', '32.240891'], ['118.779251', '32.241722'], ['118.779686', '32.242039'], ['118.780037', '32.242294'], ['118.780869', '32.242905'], ['118.780998', '32.242996'], ['118.780998', '32.242996'], ['118.781036', '32.242928'], ['118.781105', '32.242889'], ['118.78138', '32.242752'], ['118.781677', '32.242592'], ['118.783821', '32.241436'], ['118.78418', '32.241241'], ['118.78434', '32.241146'], ['118.784607', '32.240974'], ['118.785072', '32.240704'], ['118.785301', '32.240601'], ['118.785965', '32.240047'], ['118.786766', '32.239342'], ['118.788033', '32.238155'], ['118.789085', '32.237095'], ['118.78994', '32.236179'], ['118.790375', '32.235664'], ['118.790977', '32.234955'], ['118.79184', '32.233883'], ['118.791855', '32.233864'], ['118.792282', '32.233284'], ['118.793182', '32.231995'], ['118.793709', '32.231174'], ['118.794853', '32.229321'], ['118.797531', '32.225025'], ['118.798782', '32.222996'], ['118.798843', '32.2229'], ['118.801659', '32.218357'], ['118.80217', '32.217495'], ['118.802574', '32.216782'], ['118.803467', '32.21516'], ['118.804222', '32.213715'], ['118.804901', '32.212334'], ['118.805092', '32.211914'], ['118.805626', '32.210754'], ['118.805885', '32.210155'], ['118.806152', '32.209515'], ['118.806488', '32.208675'], ['118.80687', '32.207722'], ['118.807449', '32.206165'], ['118.807816', '32.205238'], ['118.808144', '32.204449'], ['118.808586', '32.203449'], ['118.809143', '32.202278'], ['118.809486', '32.201584'], ['118.80983', '32.200924'], ['118.810081', '32.200466'], ['118.81073', '32.19931'], ['118.81118', '32.198536'], ['118.81208', '32.197109'], ['118.812546', '32.196423'], ['118.813156', '32.195545'], ['118.81395', '32.194466'], ['118.814674', '32.193516'], ['118.815376', '32.192646'], ['118.816803', '32.191002'], ['118.817154', '32.190617'], ['118.817566', '32.19017'], ['118.81778', '32.189941'], ['118.818703', '32.188992'], ['118.820984', '32.186775'], ['118.823402', '32.184444'], ['118.825401', '32.182484'], ['118.82634', '32.181526'], ['118.827118', '32.180691'], ['118.828125', '32.179588'], ['118.828606', '32.17905'], ['118.828682', '32.178955'], ['118.829201', '32.178352'], ['118.829742', '32.177704'], ['118.829742', '32.177704'], ['118.829857', '32.177437'], ['118.830696', '32.176254'], ['118.830833', '32.176006'], ['118.830887', '32.175869'], ['118.831017', '32.17543'], ['118.831047', '32.175133'], ['118.831039', '32.174919'], ['118.831039', '32.174919'], ['118.830994', '32.174686'], ['118.830826', '32.174179'], ['118.83075', '32.174023'], ['118.830643', '32.173733'], ['118.830605', '32.17355'], ['118.830597', '32.173386'], ['118.830612', '32.173206'], ['118.830658', '32.173046'], ['118.830864', '32.172665'], ['118.830948', '32.172592'], ['118.831207', '32.172184'], ['118.831207', '32.172184'], ['118.832642', '32.170261'], ['118.832642', '32.170261'], ['118.832649', '32.170151'], ['118.832596', '32.169949'], ['118.832596', '32.169949'], ['118.831825', '32.169601'], ['118.831589', '32.16951'], ['118.831207', '32.169388'], ['118.830765', '32.169277'], ['118.830544', '32.169209'], ['118.830139', '32.169163'], ['118.829857', '32.169155'], ['118.82943', '32.169163'], ['118.828659', '32.169224'], ['118.828461', '32.169266'], ['118.828201', '32.169334'], ['118.828125', '32.169365'], ['118.826317', '32.170033'], ['118.825424', '32.170345'], ['118.825096', '32.170475'], ['118.824837', '32.170586'], ['118.824837', '32.170586'], ['118.825165', '32.171326'], ['118.825829', '32.172791'], ['118.82618', '32.173512'], ['118.82634', '32.173862'], ['118.826996', '32.175327'], ['118.827774', '32.177071'], ['118.828125', '32.177811'], ['118.828629', '32.178955'], ['118.828789', '32.179314'], ['118.82901', '32.179832'], ['118.829948', '32.181923'], ['118.831413', '32.185169'], ['118.831886', '32.18623'], ['118.832207', '32.186901'], ['118.832291', '32.18708'], ['118.832405', '32.187454'], ['118.832489', '32.187729'], ['118.833313', '32.189941'], ['118.834732', '32.193802'], ['118.834801', '32.194023'], ['118.83567', '32.196312'], ['118.836334', '32.198097'], ['118.836884', '32.199604'], ['118.837105', '32.200237'], ['118.837105', '32.200237'], ['118.841759', '32.198097'], ['118.844963', '32.196445'], ['118.846558', '32.195621'], ['118.84713', '32.195377'], ['118.847733', '32.195164'], ['118.847801', '32.195148'], ['118.847801', '32.195148'], ['118.847664', '32.194878'], ['118.847664', '32.194878'], ['118.847725', '32.194847'], ['118.84787', '32.19479']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>