<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.709114', '39.756172'], ['118.709068', '39.756561'], ['118.709068', '39.756561'], ['118.708786', '39.756496'], ['118.708435', '39.756424'], ['118.708267', '39.756382'], ['118.707619', '39.756229'], ['118.707191', '39.756142'], ['118.706215', '39.755901'], ['118.706108', '39.755875'], ['118.704979', '39.755627'], ['118.704666', '39.755554'], ['118.704254', '39.755466'], ['118.703751', '39.755356'], ['118.703461', '39.755283'], ['118.703094', '39.755188'], ['118.702927', '39.755142'], ['118.70034', '39.754551'], ['118.698959', '39.754246'], ['118.698776', '39.754196'], ['118.697708', '39.753975'], ['118.697456', '39.753941'], ['118.697067', '39.753906'], ['118.696495', '39.753925'], ['118.696297', '39.753941'], ['118.695442', '39.754005'], ['118.694954', '39.754028'], ['118.694054', '39.754089'], ['118.693077', '39.754147'], ['118.692589', '39.7542'], ['118.692047', '39.754292'], ['118.691597', '39.754395'], ['118.691345', '39.754459'], ['118.690659', '39.754574'], ['118.690269', '39.754601'], ['118.689842', '39.754604'], ['118.688766', '39.754673'], ['118.688332', '39.754696'], ['118.687683', '39.754719'], ['118.687042', '39.754761'], ['118.686905', '39.754768'], ['118.686523', '39.754784'], ['118.685646', '39.754803'], ['118.68486', '39.754791'], ['118.684517', '39.754757'], ['118.684181', '39.75473'], ['118.683784', '39.754692'], ['118.683609', '39.754673'], ['118.682495', '39.754425'], ['118.681656', '39.754208'], ['118.680603', '39.753994'], ['118.680412', '39.753983'], ['118.679428', '39.753941'], ['118.678658', '39.753952'], ['118.678238', '39.753948'], ['118.67746', '39.753952'], ['118.676483', '39.75396'], ['118.675522', '39.754009'], ['118.674309', '39.754089'], ['118.673927', '39.75412'], ['118.672874', '39.754189'], ['118.671402', '39.754284'], ['118.670364', '39.754333'], ['118.669685', '39.75436'], ['118.668533', '39.754444'], ['118.668442', '39.754448'], ['118.667976', '39.754475'], ['118.66777', '39.754486'], ['118.667274', '39.754475'], ['118.666229', '39.754414'], ['118.665634', '39.754372'], ['118.663155', '39.754147'], ['118.662224', '39.754055'], ['118.66169', '39.753986'], ['118.660339', '39.753876'], ['118.658195', '39.75367'], ['118.657204', '39.753582'], ['118.657074', '39.753582'], ['118.656837', '39.753605'], ['118.656723', '39.753628'], ['118.656509', '39.753719'], ['118.656326', '39.753834'], ['118.656166', '39.753967'], ['118.655937', '39.75415'], ['118.65522', '39.754696'], ['118.654526', '39.755245'], ['118.654167', '39.755527'], ['118.653893', '39.755714'], ['118.653511', '39.755924'], ['118.65329', '39.75602'], ['118.652855', '39.756145'], ['118.652603', '39.756191'], ['118.652344', '39.756218'], ['118.652145', '39.756229'], ['118.650558', '39.75629'], ['118.64959', '39.756325'], ['118.648758', '39.756332'], ['118.643745', '39.756439'], ['118.64183', '39.756542'], ['118.64048', '39.756618'], ['118.63887', '39.756702'], ['118.636238', '39.756863'], ['118.632462', '39.757076'], ['118.630836', '39.757195'], ['118.630363', '39.757236'], ['118.628845', '39.757355'], ['118.626472', '39.757488'], ['118.625229', '39.757542'], ['118.622658', '39.757645'], ['118.619164', '39.757736'], ['118.617317', '39.757801'], ['118.614365', '39.757889'], ['118.612091', '39.757961'], ['118.611618', '39.757931'], ['118.611191', '39.757866'], ['118.610741', '39.757748'], ['118.609947', '39.757492'], ['118.609039', '39.757225'], ['118.608444', '39.757118'], ['118.608398', '39.757107'], ['118.607521', '39.756973'], ['118.607193', '39.756927'], ['118.605972', '39.756752'], ['118.605469', '39.756733'], ['118.60437', '39.756721'], ['118.601913', '39.756748'], ['118.600037', '39.756832'], ['118.599884', '39.756836'], ['118.599312', '39.756821'], ['118.598534', '39.756748'], ['118.597954', '39.756657'], ['118.596909', '39.756542'], ['118.596634', '39.756516'], ['118.596176', '39.756512'], ['118.595963', '39.756516'], ['118.594788', '39.756653'], ['118.594177', '39.75671'], ['118.593452', '39.756737'], ['118.592995', '39.756733'], ['118.592758', '39.75671'], ['118.592178', '39.756622'], ['118.591751', '39.756542'], ['118.590347', '39.756229'], ['118.590187', '39.756195'], ['118.589104', '39.755974'], ['118.588852', '39.755943'], ['118.587944', '39.755871'], ['118.586426', '39.755764'], ['118.586243', '39.755745'], ['118.584633', '39.75563'], ['118.584335', '39.75563'], ['118.58326', '39.755684'], ['118.582481', '39.755733'], ['118.581787', '39.755768'], ['118.578445', '39.755928'], ['118.57766', '39.755974'], ['118.577011', '39.756008'], ['118.576767', '39.756035'], ['118.576515', '39.756081'], ['118.576279', '39.756145'], ['118.573769', '39.756966'], ['118.571777', '39.757599'], ['118.570732', '39.757904'], ['118.570282', '39.758018'], ['118.569901', '39.758083'], ['118.56958', '39.758129'], ['118.569344', '39.758133'], ['118.56897', '39.758125'], ['118.56871', '39.758087'], ['118.568336', '39.75803'], ['118.565872', '39.757454'], ['118.565872', '39.757454'], ['118.564453', '39.757225'], ['118.56427', '39.757198'], ['118.563828', '39.75713'], ['118.562851', '39.756989'], ['118.562416', '39.756927'], ['118.561188', '39.756748'], ['118.560959', '39.756714'], ['118.557892', '39.756271'], ['118.556488', '39.756073'], ['118.555344', '39.755901'], ['118.555222', '39.755928'], ['118.553268', '39.755653'], ['118.552162', '39.755486'], ['118.551277', '39.755337'], ['118.550385', '39.755192'], ['118.549881', '39.755089'], ['118.549599', '39.755013'], ['118.549278', '39.754902'], ['118.548935', '39.754757'], ['118.547272', '39.753983'], ['118.546906', '39.753853'], ['118.546478', '39.753735'], ['118.546051', '39.753632'], ['118.545341', '39.753506'], ['118.544861', '39.753448'], ['118.543732', '39.753315'], ['118.54248', '39.75317'], ['118.540749', '39.752964'], ['118.539909', '39.752838'], ['118.538483', '39.752628'], ['118.536552', '39.752308'], ['118.53643', '39.752285'], ['118.534294', '39.752029'], ['118.529411', '39.751423'], ['118.52861', '39.751312'], ['118.528206', '39.751217'], ['118.527687', '39.751072'], ['118.52729', '39.750931'], ['118.526329', '39.750595'], ['118.525215', '39.750179'], ['118.524452', '39.749916'], ['118.52375', '39.749668'], ['118.521111', '39.748718'], ['118.520584', '39.748535'], ['118.520508', '39.748501'], ['118.518921', '39.747948'], ['118.51722', '39.747341'], ['118.515884', '39.746853'], ['118.513718', '39.746078'], ['118.513443', '39.745991'], ['118.512596', '39.745716'], ['118.512039', '39.745594'], ['118.511215', '39.745487'], ['118.510864', '39.745457'], ['118.510056', '39.745449'], ['118.508919', '39.745445'], ['118.50824', '39.745457'], ['118.506767', '39.745449'], ['118.506073', '39.745457'], ['118.505859', '39.745457'], ['118.505394', '39.745457'], ['118.504295', '39.745449'], ['118.502808', '39.74535'], ['118.5009', '39.745186'], ['118.499451', '39.745071'], ['118.498535', '39.744984'], ['118.498169', '39.744938'], ['118.497772', '39.744877'], ['118.497559', '39.744823'], ['118.49733', '39.744743'], ['118.496811', '39.744534'], ['118.495819', '39.744099'], ['118.494736', '39.743641'], ['118.49382', '39.743259'], ['118.49369', '39.743137'], ['118.49369', '39.743137'], ['118.493538', '39.74316'], ['118.49295', '39.74316'], ['118.489716', '39.743217'], ['118.489105', '39.743214'], ['118.486847', '39.743145'], ['118.486389', '39.743183'], ['118.48616', '39.743214'], ['118.485802', '39.743286'], ['118.485802', '39.743286'], ['118.485306', '39.743618'], ['118.485046', '39.743805'], ['118.483963', '39.744663'], ['118.48362', '39.744907'], ['118.483521', '39.744965'], ['118.483322', '39.745049'], ['118.482986', '39.745129'], ['118.482758', '39.745152'], ['118.482399', '39.745136'], ['118.482178', '39.745098'], ['118.48185', '39.744984'], ['118.48175', '39.744934'], ['118.481575', '39.744812'], ['118.480797', '39.744137'], ['118.480453', '39.743942'], ['118.47979', '39.743671'], ['118.478256', '39.74308'], ['118.477531', '39.742802'], ['118.476562', '39.742416'], ['118.476463', '39.742374'], ['118.474945', '39.741772'], ['118.470879', '39.74015'], ['118.468498', '39.739208'], ['118.46656', '39.738445'], ['118.465576', '39.738049'], ['118.464256', '39.737545'], ['118.463997', '39.737453'], ['118.462753', '39.73695'], ['118.461304', '39.736271'], ['118.461082', '39.736206'], ['118.459412', '39.735386'], ['118.459328', '39.735348'], ['118.458626', '39.735031'], ['118.457855', '39.73468'], ['118.456703', '39.734123'], ['118.455734', '39.733662'], ['118.455345', '39.733498'], ['118.455017', '39.733372'], ['118.45459', '39.733234'], ['118.454361', '39.733166'], ['118.453659', '39.733006'], ['118.45359', '39.73299'], ['118.452881', '39.732887'], ['118.451263', '39.732708'], ['118.4505', '39.732628'], ['118.449615', '39.732578'], ['118.448975', '39.73259'], ['118.448158', '39.732628'], ['118.446091', '39.732685'], ['118.446014', '39.732685'], ['118.445221', '39.732624'], ['118.444664', '39.732563'], ['118.44384', '39.732452'], ['118.442604', '39.732296'], ['118.441536', '39.732147'], ['118.441132', '39.732075'], ['118.440453', '39.731953'], ['118.440331', '39.731934'], ['118.43969', '39.731819'], ['118.438705', '39.731628'], ['118.436516', '39.731232'], ['118.434807', '39.730862'], ['118.434692', '39.730824'], ['118.434128', '39.730553'], ['118.433937', '39.730438'], ['118.433846', '39.730373'], ['118.433022', '39.729595'], ['118.43261', '39.729275'], ['118.432518', '39.729198'], ['118.431961', '39.728848'], ['118.43158', '39.728653'], ['118.431328', '39.728527'], ['118.430717', '39.728271'], ['118.430183', '39.728104'], ['118.429848', '39.728012'], ['118.428543', '39.727715'], ['118.428383', '39.72768'], ['118.428192', '39.727608'], ['118.428024', '39.72752'], ['118.427788', '39.727386'], ['118.427559', '39.727192'], ['118.427322', '39.726955'], ['118.426987', '39.726566'], ['118.426865', '39.726425'], ['118.42672', '39.726284'], ['118.426437', '39.726074'], ['118.426201', '39.725956'], ['118.425957', '39.725849'], ['118.425743', '39.72578'], ['118.425407', '39.725723'], ['118.424927', '39.725697'], ['118.424683', '39.725708'], ['118.424301', '39.725777'], ['118.424011', '39.725861'], ['118.423759', '39.725975'], ['118.423615', '39.726044'], ['118.423378', '39.726208'], ['118.423325', '39.726131'], ['118.423294', '39.726055'], ['118.42321', '39.726028'], ['118.423119', '39.72604'], ['118.423073', '39.726089'], ['118.423073', '39.726089'], ['118.423317', '39.725006'], ['118.423317', '39.724915'], ['118.423264', '39.724792'], ['118.422806', '39.724022'], ['118.422729', '39.723942'], ['118.422569', '39.723858'], ['118.421188', '39.723339'], ['118.421188', '39.723339'], ['118.421097', '39.723503']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>