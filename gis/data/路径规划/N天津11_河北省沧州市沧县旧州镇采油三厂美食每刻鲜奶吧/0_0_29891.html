<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.898949', '38.342823'], ['116.898918', '38.342285'], ['116.898918', '38.342274'], ['116.89904', '38.342266'], ['116.89904', '38.342285'], ['116.899101', '38.343216'], ['116.899139', '38.343769'], ['116.899193', '38.344902'], ['116.8992', '38.345196'], ['116.8992', '38.345196'], ['116.899376', '38.345467'], ['116.899544', '38.345654'], ['116.899872', '38.34586'], ['116.900314', '38.346039'], ['116.900909', '38.346054'], ['116.903412', '38.346111'], ['116.908379', '38.34621'], ['116.911644', '38.346268'], ['116.913826', '38.346317'], ['116.915588', '38.346336'], ['116.916496', '38.346359'], ['116.916954', '38.346378'], ['116.917885', '38.346397'], ['116.918472', '38.346436'], ['116.91877', '38.346458'], ['116.919632', '38.346577'], ['116.920273', '38.34671'], ['116.921066', '38.346916'], ['116.921432', '38.347031'], ['116.922104', '38.347286'], ['116.922455', '38.347424'], ['116.923019', '38.347694'], ['116.923691', '38.348053'], ['116.924179', '38.348373'], ['116.924446', '38.348557'], ['116.924988', '38.348976'], ['116.925583', '38.349522'], ['116.92601', '38.349995'], ['116.926254', '38.350296'], ['116.926498', '38.350632'], ['116.926758', '38.351048'], ['116.927032', '38.351532'], ['116.927261', '38.352032'], ['116.927467', '38.352612'], ['116.927597', '38.35313'], ['116.927635', '38.353268'], ['116.927719', '38.35371'], ['116.927757', '38.354107'], ['116.927757', '38.354652'], ['116.92775', '38.355045'], ['116.927719', '38.3554'], ['116.927635', '38.35593'], ['116.927361', '38.357147'], ['116.927185', '38.357868'], ['116.926865', '38.359013'], ['116.926491', '38.360455'], ['116.926491', '38.360455'], ['116.926346', '38.360912'], ['116.926193', '38.361359'], ['116.926064', '38.361809'], ['116.926064', '38.361809'], ['116.926071', '38.362167'], ['116.926079', '38.362274'], ['116.926117', '38.362408'], ['116.926163', '38.362518'], ['116.926239', '38.362648'], ['116.926277', '38.362694'], ['116.926361', '38.362782'], ['116.92643', '38.362831'], ['116.926498', '38.362869'], ['116.926628', '38.362934'], ['116.926712', '38.362968'], ['116.926888', '38.363018'], ['116.927162', '38.363064'], ['116.927399', '38.363098'], ['116.928772', '38.363174'], ['116.931824', '38.362907'], ['116.933632', '38.362808'], ['116.934845', '38.362766'], ['116.935623', '38.362724'], ['116.938362', '38.362698'], ['116.938477', '38.362698'], ['116.943336', '38.362774'], ['116.951576', '38.362858'], ['116.95417', '38.362865'], ['116.955475', '38.362835'], ['116.957054', '38.362724'], ['116.958588', '38.362579'], ['116.960442', '38.36232'], ['116.960587', '38.362297'], ['116.962646', '38.361897'], ['116.964691', '38.361401'], ['116.96624', '38.360947'], ['116.967133', '38.360653'], ['116.96949', '38.359768'], ['116.970795', '38.359196'], ['116.971672', '38.358784'], ['116.972557', '38.358334'], ['116.973297', '38.357929'], ['116.974792', '38.357052'], ['116.975945', '38.3563'], ['116.976906', '38.355621'], ['116.977448', '38.355213'], ['116.978104', '38.354702'], ['116.978935', '38.354004'], ['116.97953', '38.353466'], ['116.979744', '38.353268'], ['116.98027', '38.352768'], ['116.980949', '38.352066'], ['116.981575', '38.351398'], ['116.982414', '38.350399'], ['116.982574', '38.350216'], ['116.983322', '38.349216'], ['116.984283', '38.347805'], ['116.984993', '38.346561'], ['116.985588', '38.345379'], ['116.985931', '38.34465'], ['116.986435', '38.343391'], ['116.986794', '38.342285'], ['116.986954', '38.341782'], ['116.987167', '38.3409'], ['116.987381', '38.340008'], ['116.987923', '38.337193'], ['116.988434', '38.334595'], ['116.988564', '38.333981'], ['116.988792', '38.332783'], ['116.988869', '38.332397'], ['116.989006', '38.331825'], ['116.989105', '38.331299'], ['116.989708', '38.328232'], ['116.989952', '38.326988'], ['116.990189', '38.325752'], ['116.990295', '38.325272'], ['116.990379', '38.324795'], ['116.990456', '38.324459'], ['116.990753', '38.32296'], ['116.990898', '38.322372'], ['116.99118', '38.321255'], ['116.991386', '38.32053'], ['116.991455', '38.320312'], ['116.991821', '38.319134'], ['116.992348', '38.317635'], ['116.992897', '38.316246'], ['116.993164', '38.315632'], ['116.993645', '38.314564'], ['116.994568', '38.312683'], ['116.995598', '38.310837'], ['116.996429', '38.309483'], ['116.996521', '38.309326'], ['117.002655', '38.299801'], ['117.003441', '38.298492'], ['117.003532', '38.298336'], ['117.003845', '38.29776'], ['117.004349', '38.296707'], ['117.004395', '38.296604'], ['117.004509', '38.29636'], ['117.00499', '38.295128'], ['117.005394', '38.293785'], ['117.005524', '38.293339'], ['117.005783', '38.292126'], ['117.005867', '38.291637'], ['117.006027', '38.290329'], ['117.006073', '38.289864'], ['117.006096', '38.289337'], ['117.006104', '38.288097'], ['117.006096', '38.287567'], ['117.006081', '38.28735'], ['117.006027', '38.286598'], ['117.005753', '38.284672'], ['117.005203', '38.282013'], ['117.004395', '38.277924'], ['117.004082', '38.276367'], ['117.003624', '38.27404'], ['117.003319', '38.272148'], ['117.00312', '38.270535'], ['117.002945', '38.268444'], ['117.002869', '38.267097'], ['117.002846', '38.266048'], ['117.002846', '38.265377'], ['117.002853', '38.260845'], ['117.002892', '38.256672'], ['117.002892', '38.256672'], ['117.002815', '38.256523'], ['117.002762', '38.256241'], ['117.002655', '38.254391'], ['117.002655', '38.25436'], ['117.002594', '38.254021'], ['117.002373', '38.253117'], ['117.002251', '38.252789'], ['117.001953', '38.252102'], ['117.001839', '38.251862'], ['117.001564', '38.251389'], ['117.001419', '38.251152'], ['117.001045', '38.250668'], ['117.000793', '38.250381'], ['117.000526', '38.250099'], ['117.000526', '38.250099'], ['116.999947', '38.249565'], ['116.999573', '38.249271'], ['116.999237', '38.24905'], ['116.998856', '38.248821'], ['116.998619', '38.248688'], ['116.998405', '38.2486'], ['116.998154', '38.248482'], ['116.99762', '38.248272'], ['116.997147', '38.248135'], ['116.995926', '38.24781'], ['116.993973', '38.247486'], ['116.99218', '38.247154'], ['116.990524', '38.246822'], ['116.98838', '38.246365'], ['116.984596', '38.245453'], ['116.982414', '38.244934'], ['116.980736', '38.244526'], ['116.979248', '38.244167'], ['116.979248', '38.244167'], ['116.978981', '38.244141'], ['116.977394', '38.24387'], ['116.976944', '38.243816'], ['116.97657', '38.243797'], ['116.976166', '38.24379'], ['116.975998', '38.243797'], ['116.975609', '38.243816'], ['116.975121', '38.243893'], ['116.974487', '38.244061'], ['116.973831', '38.244282'], ['116.973579', '38.244362'], ['116.973259', '38.244511'], ['116.973091', '38.244621'], ['116.97303', '38.244659'], ['116.972969', '38.244667'], ['116.972816', '38.24469'], ['116.972275', '38.24472'], ['116.972275', '38.24472'], ['116.972046', '38.24472'], ['116.971901', '38.244705'], ['116.971046', '38.244526'], ['116.971046', '38.244526'], ['116.970398', '38.244293'], ['116.97007', '38.24416'], ['116.96814', '38.243408'], ['116.967926', '38.24334'], ['116.967789', '38.243298'], ['116.967598', '38.243267'], ['116.967468', '38.243248'], ['116.967323', '38.243248'], ['116.967216', '38.243259'], ['116.967079', '38.24329'], ['116.966988', '38.243324'], ['116.966866', '38.243393'], ['116.966835', '38.243408'], ['116.966774', '38.24345'], ['116.966721', '38.243511'], ['116.96666', '38.243629'], ['116.966629', '38.243736'], ['116.966637', '38.243824'], ['116.966652', '38.243881'], ['116.966667', '38.243935'], ['116.966705', '38.244003'], ['116.966736', '38.244053'], ['116.966835', '38.244137'], ['116.966919', '38.24419'], ['116.967003', '38.244228'], ['116.967087', '38.244255'], ['116.967247', '38.244282'], ['116.967354', '38.244282'], ['116.967499', '38.244274'], ['116.967705', '38.244232'], ['116.9683', '38.244076'], ['116.969353', '38.243534'], ['116.969612', '38.243408'], ['116.972229', '38.242062'], ['116.972481', '38.241932'], ['116.973152', '38.241585'], ['116.973495', '38.241432'], ['116.976143', '38.240063'], ['116.979881', '38.238171'], ['116.982399', '38.236919'], ['116.982414', '38.236912'], ['116.983276', '38.236477'], ['116.98745', '38.234406'], ['116.988815', '38.233707'], ['116.989639', '38.233292'], ['116.990784', '38.232723'], ['116.991402', '38.232422'], ['116.991928', '38.232159'], ['116.992401', '38.231934'], ['116.993881', '38.231201'], ['116.998451', '38.228916'], ['116.999458', '38.228405'], ['117.000053', '38.228115'], ['117.001358', '38.22747'], ['117.00174', '38.22728'], ['117.002327', '38.226982'], ['117.00309', '38.226585'], ['117.003891', '38.226089'], ['117.004372', '38.225727'], ['117.004395', '38.225716'], ['117.004745', '38.22541'], ['117.005058', '38.225113'], ['117.005058', '38.225113'], ['117.004395', '38.224865'], ['117.002159', '38.224045'], ['117.001709', '38.223881'], ['117.001709', '38.223881'], ['117.001709', '38.223202'], ['117.001709', '38.222034'], ['117.001709', '38.221649'], ['117.001709', '38.221432'], ['117.001686', '38.219677'], ['117.001678', '38.218723'], ['117.001671', '38.218014'], ['117.001648', '38.217365'], ['117.001648', '38.217365'], ['117.002625', '38.216747'], ['117.002625', '38.216747'], ['117.002876', '38.216858'], ['117.003464', '38.217072'], ['117.004074', '38.217262'], ['117.004395', '38.217361'], ['117.004799', '38.217487'], ['117.004799', '38.217487'], ['117.004753', '38.217583'], ['117.00473', '38.217632'], ['117.004692', '38.217636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>