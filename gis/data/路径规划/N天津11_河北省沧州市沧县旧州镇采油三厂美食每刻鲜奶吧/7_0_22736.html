<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.898949', '38.342823'], ['116.898918', '38.342285'], ['116.898918', '38.342274'], ['116.89904', '38.342266'], ['116.89904', '38.342285'], ['116.899101', '38.343216'], ['116.899139', '38.343769'], ['116.899193', '38.344902'], ['116.8992', '38.345196'], ['116.8992', '38.345196'], ['116.899376', '38.345467'], ['116.899544', '38.345654'], ['116.899872', '38.34586'], ['116.900314', '38.346039'], ['116.900909', '38.346054'], ['116.903412', '38.346111'], ['116.908379', '38.34621'], ['116.911644', '38.346268'], ['116.913826', '38.346317'], ['116.915588', '38.346336'], ['116.916496', '38.346359'], ['116.916954', '38.346378'], ['116.917885', '38.346397'], ['116.918472', '38.346436'], ['116.918472', '38.346436'], ['116.919029', '38.346378'], ['116.922729', '38.34647'], ['116.923447', '38.346493'], ['116.925415', '38.34655'], ['116.928917', '38.346581'], ['116.932762', '38.346676'], ['116.934616', '38.346607'], ['116.936722', '38.346493'], ['116.938477', '38.346245'], ['116.938889', '38.346191'], ['116.940498', '38.34584'], ['116.941261', '38.345676'], ['116.943832', '38.344963'], ['116.944763', '38.344624'], ['116.946632', '38.343937'], ['116.949043', '38.342728'], ['116.949799', '38.342285'], ['116.95163', '38.341209'], ['116.952957', '38.340389'], ['116.953621', '38.339985'], ['116.955292', '38.338959'], ['116.957306', '38.337666'], ['116.960175', '38.335308'], ['116.960442', '38.335037'], ['116.96151', '38.333946'], ['116.96241', '38.333027'], ['116.963158', '38.331955'], ['116.963623', '38.331299'], ['116.963943', '38.330845'], ['116.965279', '38.328121'], ['116.966057', '38.326046'], ['116.966331', '38.325024'], ['116.966583', '38.323608'], ['116.967033', '38.320591'], ['116.967064', '38.320312'], ['116.967438', '38.317711'], ['116.967705', '38.316158'], ['116.967636', '38.315983'], ['116.967674', '38.315643'], ['116.967743', '38.315109'], ['116.968346', '38.311142'], ['116.968513', '38.309956'], ['116.968575', '38.309326'], ['116.968697', '38.308159'], ['116.968765', '38.30761'], ['116.968773', '38.307503'], ['116.968857', '38.306137'], ['116.968826', '38.303417'], ['116.968819', '38.303032'], ['116.968834', '38.302658'], ['116.968826', '38.299194'], ['116.968819', '38.298809'], ['116.968819', '38.298721'], ['116.968826', '38.298336'], ['116.968826', '38.29829'], ['116.968842', '38.296608'], ['116.968842', '38.293972'], ['116.968826', '38.293488'], ['116.968826', '38.293442'], ['116.968834', '38.293056'], ['116.968864', '38.289108'], ['116.968864', '38.288651'], ['116.968864', '38.288548'], ['116.968872', '38.288227'], ['116.968857', '38.287579'], ['116.968857', '38.28735'], ['116.968857', '38.285069'], ['116.968826', '38.284153'], ['116.968826', '38.283672'], ['116.968826', '38.283619'], ['116.968842', '38.283257'], ['116.968834', '38.28056'], ['116.968857', '38.280098'], ['116.968864', '38.280014'], ['116.968857', '38.279652'], ['116.968857', '38.278294'], ['116.968857', '38.276367'], ['116.968857', '38.274643'], ['116.968857', '38.274586'], ['116.968864', '38.271759'], ['116.968864', '38.271004'], ['116.968864', '38.265377'], ['116.968864', '38.264835'], ['116.968857', '38.262321'], ['116.968811', '38.261581'], ['116.96875', '38.26099'], ['116.968681', '38.26059'], ['116.968506', '38.259773'], ['116.968384', '38.259346'], ['116.96817', '38.258698'], ['116.967918', '38.25806'], ['116.967705', '38.257603'], ['116.967468', '38.257156'], ['116.967186', '38.256645'], ['116.966942', '38.256256'], ['116.966629', '38.255806'], ['116.966232', '38.255272'], ['116.965752', '38.254681'], ['116.965523', '38.254391'], ['116.963943', '38.252525'], ['116.962807', '38.25119'], ['116.962326', '38.250618'], ['116.961792', '38.250099'], ['116.961792', '38.250099'], ['116.960922', '38.249252'], ['116.960442', '38.248783'], ['116.959518', '38.247879'], ['116.959335', '38.247704'], ['116.959221', '38.24762'], ['116.959076', '38.247543'], ['116.958847', '38.247463'], ['116.958702', '38.24744'], ['116.958466', '38.247452'], ['116.958328', '38.247486'], ['116.958214', '38.247532'], ['116.958115', '38.247597'], ['116.958023', '38.247669'], ['116.957901', '38.247845'], ['116.957863', '38.247929'], ['116.957855', '38.248032'], ['116.957855', '38.248142'], ['116.957909', '38.248302'], ['116.957962', '38.24839'], ['116.958054', '38.248474'], ['116.958252', '38.248604'], ['116.958374', '38.248646'], ['116.958527', '38.24868'], ['116.958656', '38.248684'], ['116.959541', '38.24855'], ['116.959763', '38.248436'], ['116.960442', '38.248085'], ['116.961884', '38.247353'], ['116.962326', '38.247139'], ['116.963112', '38.246735'], ['116.96389', '38.246342'], ['116.96389', '38.246342'], ['116.965225', '38.245644'], ['116.96656', '38.244961'], ['116.9683', '38.244076'], ['116.969353', '38.243534'], ['116.969612', '38.243408'], ['116.972229', '38.242062'], ['116.972481', '38.241932'], ['116.973152', '38.241585'], ['116.973495', '38.241432'], ['116.976143', '38.240063'], ['116.979881', '38.238171'], ['116.982399', '38.236919'], ['116.982414', '38.236912'], ['116.983276', '38.236477'], ['116.98745', '38.234406'], ['116.988815', '38.233707'], ['116.989639', '38.233292'], ['116.990784', '38.232723'], ['116.991402', '38.232422'], ['116.991928', '38.232159'], ['116.992401', '38.231934'], ['116.993881', '38.231201'], ['116.998451', '38.228916'], ['116.999458', '38.228405'], ['117.000053', '38.228115'], ['117.001358', '38.22747'], ['117.00174', '38.22728'], ['117.002327', '38.226982'], ['117.00309', '38.226585'], ['117.003891', '38.226089'], ['117.004372', '38.225727'], ['117.004395', '38.225716'], ['117.004745', '38.22541'], ['117.005058', '38.225113'], ['117.005058', '38.225113'], ['117.004395', '38.224865'], ['117.002159', '38.224045'], ['117.001709', '38.223881'], ['117.001709', '38.223881'], ['117.001709', '38.223202'], ['117.001709', '38.222034'], ['117.001709', '38.221649'], ['117.001709', '38.221432'], ['117.001686', '38.219677'], ['117.001678', '38.218723'], ['117.001671', '38.218014'], ['117.001648', '38.217365'], ['117.001648', '38.217365'], ['117.002625', '38.216747'], ['117.002625', '38.216747'], ['117.002876', '38.216858'], ['117.003464', '38.217072'], ['117.004074', '38.217262'], ['117.004395', '38.217361'], ['117.004799', '38.217487'], ['117.004799', '38.217487'], ['117.004753', '38.217583'], ['117.00473', '38.217632'], ['117.004692', '38.217636']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>