<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.356003', '41.176579'], ['121.355469', '41.176403'], ['121.355469', '41.176403'], ['121.355438', '41.176582'], ['121.355415', '41.176754'], ['121.355408', '41.176807'], ['121.355324', '41.177315'], ['121.355286', '41.177658'], ['121.355164', '41.178474'], ['121.355042', '41.178951'], ['121.35498', '41.17915'], ['121.354362', '41.181221'], ['121.354294', '41.181648'], ['121.35421', '41.182152'], ['121.354095', '41.182701'], ['121.354027', '41.182884'], ['121.353935', '41.183083'], ['121.353737', '41.183392'], ['121.353607', '41.18354'], ['121.353371', '41.183807'], ['121.353149', '41.184078'], ['121.353065', '41.18417'], ['121.352249', '41.185112'], ['121.352089', '41.185341'], ['121.351929', '41.185574'], ['121.351357', '41.186214'], ['121.350616', '41.18713'], ['121.350075', '41.18774'], ['121.349686', '41.188194'], ['121.349068', '41.188961'], ['121.348389', '41.189743'], ['121.347954', '41.190323'], ['121.347412', '41.190968'], ['121.347412', '41.190968'], ['121.347008', '41.191444'], ['121.346542', '41.19183'], ['121.34536', '41.192543'], ['121.345192', '41.192646'], ['121.344719', '41.192917'], ['121.344269', '41.193188'], ['121.342926', '41.19405'], ['121.34185', '41.194691'], ['121.340706', '41.195396'], ['121.339272', '41.196335'], ['121.339043', '41.196457'], ['121.338829', '41.196568'], ['121.337593', '41.197361'], ['121.337303', '41.197594'], ['121.337051', '41.197952'], ['121.336861', '41.19828'], ['121.336838', '41.198383'], ['121.336723', '41.198708'], ['121.336723', '41.19873'], ['121.336655', '41.19899'], ['121.336647', '41.199089'], ['121.336647', '41.199459'], ['121.336586', '41.200546'], ['121.336594', '41.201'], ['121.33654', '41.201614'], ['121.336464', '41.201843'], ['121.336334', '41.202045'], ['121.33593', '41.20248'], ['121.335358', '41.203125'], ['121.334045', '41.204655'], ['121.333176', '41.205627'], ['121.333076', '41.205856'], ['121.333023', '41.206112'], ['121.333015', '41.206635'], ['121.333008', '41.20713'], ['121.332993', '41.207619'], ['121.33297', '41.207878'], ['121.332932', '41.208046'], ['121.332802', '41.208344'], ['121.332039', '41.209717'], ['121.331848', '41.210159'], ['121.331703', '41.210621'], ['121.331429', '41.211636'], ['121.331337', '41.211937'], ['121.331245', '41.212181'], ['121.331192', '41.212254'], ['121.330894', '41.212551'], ['121.329437', '41.213634'], ['121.32814', '41.214622'], ['121.327904', '41.214893'], ['121.327194', '41.215961'], ['121.326797', '41.216454'], ['121.326355', '41.216949'], ['121.325905', '41.217461'], ['121.325722', '41.217621'], ['121.325584', '41.217705'], ['121.325111', '41.217937'], ['121.324211', '41.218185'], ['121.323425', '41.218395'], ['121.322327', '41.218616'], ['121.321175', '41.218803'], ['121.32077', '41.218899'], ['121.320419', '41.218987'], ['121.319641', '41.219212'], ['121.31778', '41.219822'], ['121.316963', '41.220074'], ['121.315811', '41.220448'], ['121.315208', '41.220703'], ['121.314934', '41.220814'], ['121.314331', '41.221004'], ['121.313667', '41.221138'], ['121.312798', '41.221199'], ['121.311028', '41.221382'], ['121.309456', '41.221535'], ['121.308884', '41.221573'], ['121.306534', '41.221729'], ['121.306534', '41.221729'], ['121.306068', '41.221794'], ['121.305954', '41.221832'], ['121.305748', '41.221893'], ['121.30545', '41.22205'], ['121.305298', '41.222137'], ['121.304985', '41.222332'], ['121.303909', '41.22308'], ['121.303192', '41.223488'], ['121.302139', '41.223984'], ['121.300705', '41.224632'], ['121.300079', '41.224957'], ['121.298683', '41.225716'], ['121.296661', '41.226795'], ['121.294495', '41.227943'], ['121.292908', '41.228802'], ['121.291748', '41.229412'], ['121.291344', '41.229603'], ['121.290756', '41.229828'], ['121.290642', '41.229851'], ['121.290504', '41.229874'], ['121.290009', '41.229885'], ['121.289673', '41.229912'], ['121.289314', '41.229965'], ['121.289207', '41.229988'], ['121.28907', '41.230042'], ['121.288986', '41.230076'], ['121.28891', '41.230122'], ['121.288727', '41.230263'], ['121.288727', '41.230263'], ['121.288803', '41.230625'], ['121.288986', '41.231354'], ['121.28907', '41.231575'], ['121.289101', '41.231689'], ['121.289299', '41.232208'], ['121.289406', '41.232601'], ['121.289635', '41.233921'], ['121.289703', '41.234272'], ['121.289749', '41.23465'], ['121.289726', '41.234886'], ['121.289413', '41.235813'], ['121.289124', '41.236576'], ['121.28907', '41.236801'], ['121.289017', '41.236965'], ['121.288841', '41.237453'], ['121.2883', '41.238972'], ['121.288208', '41.23933'], ['121.287796', '41.241104'], ['121.287422', '41.242676'], ['121.287346', '41.243'], ['121.286865', '41.244781'], ['121.286865', '41.244781'], ['121.283577', '41.244564'], ['121.280273', '41.244312'], ['121.279701', '41.244297'], ['121.273476', '41.243896'], ['121.27327', '41.243908'], ['121.2715', '41.244167'], ['121.270912', '41.244335'], ['121.270454', '41.244526'], ['121.270264', '41.244625'], ['121.270103', '41.244759'], ['121.27002', '41.244804'], ['121.269928', '41.244804'], ['121.269821', '41.244785'], ['121.269402', '41.244614'], ['121.269402', '41.244614'], ['121.26915', '41.245083'], ['121.269066', '41.245132'], ['121.268951', '41.245159'], ['121.268379', '41.245213'], ['121.268379', '41.245213'], ['121.268204', '41.245453'], ['121.26783', '41.246239'], ['121.267624', '41.246578'], ['121.267624', '41.246578'], ['121.267517', '41.246765'], ['121.267082', '41.24725'], ['121.266975', '41.247364'], ['121.265984', '41.248219'], ['121.265076', '41.248932'], ['121.264793', '41.249161'], ['121.260818', '41.25201'], ['121.259995', '41.252617'], ['121.258575', '41.253658'], ['121.257721', '41.254307'], ['121.255997', '41.25552'], ['121.25547', '41.255959'], ['121.255386', '41.256027'], ['121.255264', '41.25613'], ['121.255058', '41.256348'], ['121.254837', '41.25668'], ['121.254501', '41.257343'], ['121.254044', '41.258526'], ['121.254044', '41.258526'], ['121.252251', '41.258648'], ['121.251549', '41.258686'], ['121.250374', '41.258732'], ['121.250076', '41.258778'], ['121.249405', '41.258915'], ['121.248169', '41.259262'], ['121.248169', '41.259262'], ['121.248634', '41.259613'], ['121.248634', '41.259613'], ['121.247017', '41.260204'], ['121.245117', '41.260853'], ['121.242958', '41.261593'], ['121.242401', '41.261814'], ['121.242401', '41.261814'], ['121.243034', '41.263157'], ['121.243546', '41.26416'], ['121.243805', '41.264648'], ['121.244606', '41.266121'], ['121.245117', '41.267071'], ['121.245155', '41.267151'], ['121.245628', '41.268028'], ['121.245811', '41.268391'], ['121.245949', '41.268631'], ['121.246429', '41.26963'], ['121.24662', '41.270119'], ['121.246811', '41.270687'], ['121.247482', '41.272873'], ['121.247566', '41.273178'], ['121.247917', '41.274559'], ['121.248131', '41.275524'], ['121.248169', '41.275635'], ['121.248238', '41.275867'], ['121.248428', '41.27634'], ['121.248726', '41.27697'], ['121.248726', '41.27697'], ['121.249191', '41.276806'], ['121.249626', '41.276482'], ['121.250397', '41.275997'], ['121.250923', '41.275635'], ['121.251122', '41.275494'], ['121.251122', '41.275494'], ['121.250763', '41.275215']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>