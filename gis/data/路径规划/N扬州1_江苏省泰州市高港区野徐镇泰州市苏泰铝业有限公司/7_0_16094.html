<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.868446', '32.48616'], ['119.868469', '32.485874'], ['119.868469', '32.485779'], ['119.868469', '32.485779'], ['119.867577', '32.485573'], ['119.8675', '32.485535'], ['119.867455', '32.485493'], ['119.867424', '32.485432'], ['119.867424', '32.485363'], ['119.867432', '32.485256'], ['119.869591', '32.48563'], ['119.87162', '32.485981'], ['119.872452', '32.48613'], ['119.872452', '32.48613'], ['119.872429', '32.484627'], ['119.872437', '32.48373'], ['119.872429', '32.483036'], ['119.872383', '32.482319'], ['119.872208', '32.48056'], ['119.872055', '32.479599'], ['119.871574', '32.476883'], ['119.871361', '32.475586'], ['119.8713', '32.475208'], ['119.871223', '32.474609'], ['119.871101', '32.473274'], ['119.871033', '32.472206'], ['119.870949', '32.470528'], ['119.870888', '32.469341'], ['119.870796', '32.467937'], ['119.870758', '32.467503'], ['119.870514', '32.466042'], ['119.870407', '32.465572'], ['119.870247', '32.464954'], ['119.87014', '32.464596'], ['119.869781', '32.463383'], ['119.869125', '32.461643'], ['119.868759', '32.46059'], ['119.868614', '32.460117'], ['119.86837', '32.459198'], ['119.868195', '32.458359'], ['119.86805', '32.457531'], ['119.867706', '32.455097'], ['119.867882', '32.455013'], ['119.870338', '32.455044'], ['119.871887', '32.455036'], ['119.875732', '32.454994'], ['119.875893', '32.455006'], ['119.879234', '32.45496'], ['119.879784', '32.454929'], ['119.880318', '32.454899'], ['119.880432', '32.454884'], ['119.882812', '32.454891'], ['119.882919', '32.454891'], ['119.883255', '32.454891'], ['119.884567', '32.454876'], ['119.884697', '32.454876'], ['119.884834', '32.454876'], ['119.886551', '32.454853'], ['119.888588', '32.454853'], ['119.888649', '32.454853'], ['119.889877', '32.454842'], ['119.889977', '32.454834'], ['119.891716', '32.45483'], ['119.892075', '32.454823'], ['119.893112', '32.454819'], ['119.894127', '32.454807'], ['119.895309', '32.4548'], ['119.896156', '32.454777'], ['119.89621', '32.454773'], ['119.899696', '32.454758'], ['119.901642', '32.454754'], ['119.902832', '32.454746'], ['119.902962', '32.454746'], ['119.904785', '32.454731'], ['119.910286', '32.454704'], ['119.910461', '32.4547'], ['119.911369', '32.454697'], ['119.912308', '32.454681'], ['119.912415', '32.454681'], ['119.913078', '32.454674'], ['119.914314', '32.454674'], ['119.915352', '32.454666'], ['119.915932', '32.454666'], ['119.917465', '32.454659'], ['119.91806', '32.454655'], ['119.918556', '32.454647'], ['119.919189', '32.454639'], ['119.919945', '32.454632'], ['119.920753', '32.454628'], ['119.921539', '32.454632'], ['119.922874', '32.454617'], ['119.924316', '32.454613'], ['119.924995', '32.454609'], ['119.925873', '32.454605'], ['119.926758', '32.45459'], ['119.927094', '32.454586'], ['119.928246', '32.454571'], ['119.92907', '32.454567'], ['119.930717', '32.454567'], ['119.932716', '32.454563'], ['119.932999', '32.454563'], ['119.934074', '32.454559'], ['119.934288', '32.454559'], ['119.93499', '32.454559'], ['119.93499', '32.454559'], ['119.935425', '32.454472'], ['119.93586', '32.454296'], ['119.935921', '32.454262'], ['119.936104', '32.454014'], ['119.936134', '32.453609'], ['119.93618', '32.452728'], ['119.93618', '32.452728'], ['119.936295', '32.452656'], ['119.936317', '32.452229'], ['119.936691', '32.448017'], ['119.937073', '32.443775'], ['119.937157', '32.442627'], ['119.937218', '32.441772'], ['119.937332', '32.439404'], ['119.937363', '32.438583'], ['119.937378', '32.438179'], ['119.937447', '32.436104'], ['119.937477', '32.435135'], ['119.937477', '32.43401'], ['119.937454', '32.433086'], ['119.937424', '32.431641'], ['119.937424', '32.431427'], ['119.937401', '32.430698'], ['119.937431', '32.429413'], ['119.937424', '32.42836'], ['119.937431', '32.425903'], ['119.937454', '32.424034'], ['119.9375', '32.422245'], ['119.9375', '32.42065'], ['119.9375', '32.419605'], ['119.9375', '32.417915'], ['119.937538', '32.415432'], ['119.937561', '32.414524'], ['119.937706', '32.412922'], ['119.937828', '32.41185'], ['119.937828', '32.41185'], ['119.937775', '32.411648'], ['119.937988', '32.410511'], ['119.938225', '32.409668'], ['119.93837', '32.409142'], ['119.93837', '32.409142'], ['119.938339', '32.40905'], ['119.9384', '32.408482'], ['119.938309', '32.408356'], ['119.938248', '32.408302'], ['119.938248', '32.408302'], ['119.937851', '32.40826'], ['119.937492', '32.408211'], ['119.937256', '32.408192'], ['119.936821', '32.408142'], ['119.936081', '32.408058'], ['119.935532', '32.408005'], ['119.935532', '32.408005'], ['119.93602', '32.406387'], ['119.93602', '32.406387'], ['119.936203', '32.406437'], ['119.936401', '32.406483']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>