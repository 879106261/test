<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.258224', '31.881342'], ['120.258072', '31.881308'], ['120.257858', '31.881193'], ['120.257431', '31.880911'], ['120.257278', '31.880793'], ['120.257278', '31.880793'], ['120.257118', '31.88102'], ['120.256905', '31.881775'], ['120.256897', '31.881804'], ['120.256348', '31.881804'], ['120.256233', '31.881804'], ['120.256233', '31.881804'], ['120.256264', '31.881889'], ['120.256287', '31.881987'], ['120.256279', '31.882057'], ['120.256241', '31.882109'], ['120.256203', '31.882135'], ['120.256142', '31.882162'], ['120.256065', '31.882172'], ['120.255905', '31.882149'], ['120.255836', '31.882122'], ['120.255753', '31.88201'], ['120.255646', '31.881784'], ['120.255646', '31.881784'], ['120.255028', '31.881798'], ['120.254944', '31.881781'], ['120.254944', '31.881781'], ['120.254898', '31.882'], ['120.254845', '31.882135'], ['120.254753', '31.882322'], ['120.254707', '31.882408'], ['120.254616', '31.882547'], ['120.254456', '31.882755'], ['120.254456', '31.882755'], ['120.253914', '31.882368'], ['120.253838', '31.882322'], ['120.253693', '31.88224'], ['120.253494', '31.882149'], ['120.253288', '31.88209'], ['120.25309', '31.882036'], ['120.252739', '31.881985'], ['120.252739', '31.881985'], ['120.252228', '31.882036'], ['120.252144', '31.882044'], ['120.251778', '31.882139'], ['120.251305', '31.882322'], ['120.251022', '31.882418'], ['120.251022', '31.882418'], ['120.249283', '31.88353'], ['120.248337', '31.884144'], ['120.248154', '31.884275'], ['120.247833', '31.884499'], ['120.246712', '31.885256'], ['120.246605', '31.885328'], ['120.245804', '31.885876'], ['120.245804', '31.885876'], ['120.245155', '31.88633'], ['120.243896', '31.887171'], ['120.241272', '31.888988'], ['120.24073', '31.8894'], ['120.24073', '31.8894'], ['120.240654', '31.890442'], ['120.240631', '31.890741'], ['120.240562', '31.891165'], ['120.240501', '31.891479'], ['120.240311', '31.89234'], ['120.240135', '31.893055'], ['120.240074', '31.893307'], ['120.240044', '31.893456'], ['120.240028', '31.893547'], ['120.239937', '31.894003'], ['120.23983', '31.894484'], ['120.239693', '31.895142'], ['120.239563', '31.895729'], ['120.239555', '31.895756'], ['120.239212', '31.89739'], ['120.238953', '31.898533'], ['120.238869', '31.898876'], ['120.238846', '31.898958'], ['120.238754', '31.899345'], ['120.238594', '31.900078'], ['120.238388', '31.90103'], ['120.238197', '31.901939'], ['120.23806', '31.902586'], ['120.23793', '31.903156'], ['120.237854', '31.903524'], ['120.237839', '31.903624'], ['120.237785', '31.904007'], ['120.237755', '31.904297'], ['120.237633', '31.905155'], ['120.237473', '31.906429'], ['120.237289', '31.907988'], ['120.237282', '31.908073'], ['120.237244', '31.908415'], ['120.237228', '31.908497'], ['120.237183', '31.908916'], ['120.237137', '31.909218'], ['120.236931', '31.910875'], ['120.236877', '31.911398'], ['120.23687', '31.911428'], ['120.236801', '31.911985'], ['120.236656', '31.913147'], ['120.23661', '31.913511'], ['120.236526', '31.913633'], ['120.234375', '31.913246'], ['120.234039', '31.913191'], ['120.233482', '31.913086'], ['120.229439', '31.912239'], ['120.22934', '31.912222'], ['120.225372', '31.911385'], ['120.224869', '31.911283'], ['120.224464', '31.911198'], ['120.223511', '31.910965'], ['120.222923', '31.910803'], ['120.222366', '31.91062'], ['120.221657', '31.910355'], ['120.221207', '31.910191'], ['120.218704', '31.909145'], ['120.218124', '31.908916'], ['120.217499', '31.908703'], ['120.217087', '31.908594'], ['120.216774', '31.90852'], ['120.216179', '31.908398'], ['120.215492', '31.908312'], ['120.214981', '31.908268'], ['120.214066', '31.908224'], ['120.213676', '31.908216'], ['120.213005', '31.908192'], ['120.212402', '31.908165'], ['120.210907', '31.908115'], ['120.21019', '31.908096'], ['120.210121', '31.908096'], ['120.209015', '31.908051'], ['120.208443', '31.908037'], ['120.208275', '31.90803'], ['120.206985', '31.907982'], ['120.205154', '31.907915'], ['120.204628', '31.907896'], ['120.203537', '31.907856'], ['120.201057', '31.907764'], ['120.198898', '31.907665'], ['120.197433', '31.907578'], ['120.194801', '31.907391'], ['120.193466', '31.907288'], ['120.193359', '31.907282'], ['120.19091', '31.907122'], ['120.19043', '31.907089'], ['120.186295', '31.906809'], ['120.184128', '31.906662'], ['120.183792', '31.906639'], ['120.183701', '31.906631'], ['120.183281', '31.906607'], ['120.180801', '31.906471'], ['120.179558', '31.906424'], ['120.176949', '31.906347'], ['120.175095', '31.906288'], ['120.174652', '31.906275'], ['120.174454', '31.906261'], ['120.173935', '31.906244'], ['120.173561', '31.906239'], ['120.17173', '31.906189'], ['120.168457', '31.90608'], ['120.167328', '31.906052'], ['120.162361', '31.905897'], ['120.160843', '31.905876'], ['120.15979', '31.905916'], ['120.158516', '31.906006'], ['120.157928', '31.906059'], ['120.157242', '31.906147'], ['120.155785', '31.906376'], ['120.15506', '31.906515'], ['120.153931', '31.906767'], ['120.153358', '31.906921'], ['120.152634', '31.907127'], ['120.152069', '31.907301'], ['120.151688', '31.907417'], ['120.151573', '31.907459'], ['120.151039', '31.907652'], ['120.150543', '31.907833'], ['120.149788', '31.908133'], ['120.148773', '31.908575'], ['120.148117', '31.908894'], ['120.146492', '31.909708'], ['120.146263', '31.909822'], ['120.143982', '31.91099'], ['120.142868', '31.911535'], ['120.142792', '31.911579'], ['120.142311', '31.9118'], ['120.141441', '31.912149'], ['120.140648', '31.912405'], ['120.140045', '31.912565'], ['120.139626', '31.912664'], ['120.138168', '31.91297'], ['120.137932', '31.913015'], ['120.137421', '31.91312'], ['120.137215', '31.913164'], ['120.136162', '31.913382'], ['120.136162', '31.913382'], ['120.135918', '31.913542'], ['120.135803', '31.913698'], ['120.135696', '31.913925'], ['120.13633', '31.914841'], ['120.136475', '31.915045'], ['120.136673', '31.915281'], ['120.137108', '31.915791'], ['120.138199', '31.91699'], ['120.138924', '31.917683'], ['120.139336', '31.918112'], ['120.14016', '31.918871'], ['120.140923', '31.919773'], ['120.141167', '31.920221'], ['120.141472', '31.920893'], ['120.141685', '31.921494'], ['120.141891', '31.922052'], ['120.142479', '31.923475'], ['120.142838', '31.924395'], ['120.14283', '31.924532'], ['120.142899', '31.924704'], ['120.142899', '31.924704'], ['120.143517', '31.926266'], ['120.143532', '31.926275'], ['120.143929', '31.927727'], ['120.144356', '31.930405'], ['120.144531', '31.932449'], ['120.144608', '31.936089'], ['120.144592', '31.937254'], ['120.144585', '31.938038'], ['120.144531', '31.945633'], ['120.144447', '31.948242'], ['120.144402', '31.949917'], ['120.144424', '31.951094'], ['120.14447', '31.951593'], ['120.14447', '31.951593'], ['120.144516', '31.952009'], ['120.144676', '31.953016'], ['120.144768', '31.953142'], ['120.145088', '31.955231'], ['120.145172', '31.955708'], ['120.145203', '31.955915'], ['120.145309', '31.956726'], ['120.145432', '31.957991'], ['120.145584', '31.959227'], ['120.145668', '31.9599'], ['120.145874', '31.961615'], ['120.145927', '31.962374'], ['120.145958', '31.962627'], ['120.146202', '31.965414'], ['120.146355', '31.967596'], ['120.146446', '31.969076'], ['120.146461', '31.969322'], ['120.146461', '31.969322'], ['120.146492', '31.969353'], ['120.14666', '31.969591'], ['120.146721', '31.969654'], ['120.146774', '31.969671'], ['120.148483', '31.969379'], ['120.150978', '31.968937'], ['120.154015', '31.968416'], ['120.154785', '31.968285'], ['120.155884', '31.968098'], ['120.157211', '31.967873'], ['120.158783', '31.967604'], ['120.162086', '31.967005'], ['120.164383', '31.966602'], ['120.16523', '31.966454'], ['120.165825', '31.966343'], ['120.168457', '31.965876'], ['120.168594', '31.965851'], ['120.169815', '31.965637'], ['120.171211', '31.965391'], ['120.173828', '31.964951'], ['120.174393', '31.964853'], ['120.17691', '31.964436'], ['120.177505', '31.96435'], ['120.178879', '31.96418'], ['120.179161', '31.964144'], ['120.180199', '31.964035'], ['120.181076', '31.963963'], ['120.18351', '31.963793'], ['120.185448', '31.963663'], ['120.188194', '31.963484'], ['120.188316', '31.963476'], ['120.19043', '31.963329'], ['120.192558', '31.963186'], ['120.193031', '31.963152'], ['120.193497', '31.96312'], ['120.201431', '31.962568'], ['120.201485', '31.962568'], ['120.202026', '31.962536'], ['120.206322', '31.96225'], ['120.210808', '31.961945'], ['120.211464', '31.961897'], ['120.211586', '31.961893'], ['120.212158', '31.961853'], ['120.212402', '31.96184'], ['120.212906', '31.9618'], ['120.214684', '31.961597'], ['120.215286', '31.961502'], ['120.215988', '31.961363'], ['120.21611', '31.961342'], ['120.216949', '31.96117'], ['120.217743', '31.960985'], ['120.218307', '31.960829'], ['120.219887', '31.960352'], ['120.220901', '31.960035'], ['120.223518', '31.959227'], ['120.223923', '31.959116'], ['120.224617', '31.958893'], ['120.224678', '31.958872'], ['120.226906', '31.958181'], ['120.227425', '31.958019'], ['120.228897', '31.957556'], ['120.230423', '31.957096'], ['120.231537', '31.956758'], ['120.23159', '31.956739'], ['120.234276', '31.955997'], ['120.234375', '31.955978'], ['120.236595', '31.955482'], ['120.237083', '31.95536'], ['120.237144', '31.955347'], ['120.237358', '31.955299'], ['120.23793', '31.955204'], ['120.239037', '31.955017'], ['120.240211', '31.954844'], ['120.240372', '31.954823'], ['120.241013', '31.954721'], ['120.241051', '31.954714'], ['120.241669', '31.954618'], ['120.242683', '31.954462'], ['120.243919', '31.954271'], ['120.244743', '31.95413'], ['120.244835', '31.954115'], ['120.245888', '31.953959'], ['120.245911', '31.953953'], ['120.247398', '31.953733'], ['120.247505', '31.953716'], ['120.248932', '31.953493'], ['120.250305', '31.953289'], ['120.251122', '31.953186'], ['120.25222', '31.953077'], ['120.253342', '31.95302'], ['120.254532', '31.953033'], ['120.254623', '31.953043'], ['120.255508', '31.953098'], ['120.255608', '31.953112'], ['120.25631', '31.953199'], ['120.256348', '31.953201'], ['120.257256', '31.953352'], ['120.257614', '31.953428'], ['120.258003', '31.953506'], ['120.25914', '31.953819'], ['120.26046', '31.954254'], ['120.261131', '31.9545'], ['120.263145', '31.955278'], ['120.264145', '31.955677'], ['120.265198', '31.956089'], ['120.265305', '31.956133'], ['120.266624', '31.956623'], ['120.26725', '31.956884'], ['120.267616', '31.95709'], ['120.267899', '31.957262'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279541', '31.982084'], ['120.279236', '31.98208'], ['120.278557', '31.982084'], ['120.27832', '31.98208'], ['120.277481', '31.982067'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>