<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.258224', '31.881342'], ['120.258072', '31.881308'], ['120.257858', '31.881193'], ['120.257431', '31.880911'], ['120.257278', '31.880793'], ['120.256851', '31.880396'], ['120.256607', '31.880213'], ['120.256348', '31.88007'], ['120.25618', '31.879978'], ['120.25573', '31.879768'], ['120.255211', '31.879522'], ['120.255005', '31.879375'], ['120.254684', '31.879116'], ['120.254616', '31.879026'], ['120.254372', '31.878752'], ['120.254204', '31.878494'], ['120.253967', '31.878134'], ['120.253616', '31.877596'], ['120.253441', '31.877323'], ['120.253326', '31.877373'], ['120.253609', '31.877817'], ['120.253998', '31.878471'], ['120.254311', '31.878998'], ['120.254616', '31.879532'], ['120.255501', '31.88102'], ['120.255814', '31.881529'], ['120.255882', '31.881639'], ['120.255905', '31.881672'], ['120.256248', '31.882271'], ['120.256287', '31.882322'], ['120.256348', '31.882431'], ['120.256508', '31.8827'], ['120.256508', '31.8827'], ['120.256844', '31.882929'], ['120.256927', '31.882978'], ['120.257004', '31.883013'], ['120.257095', '31.883047'], ['120.257195', '31.883055'], ['120.257256', '31.883064'], ['120.257385', '31.883047'], ['120.257523', '31.883005'], ['120.257607', '31.882956'], ['120.257713', '31.88287'], ['120.25779', '31.882782'], ['120.257805', '31.882738'], ['120.257843', '31.882677'], ['120.257866', '31.882574'], ['120.257851', '31.882414'], ['120.257828', '31.88236'], ['120.257812', '31.882322'], ['120.25779', '31.882271'], ['120.257713', '31.882183'], ['120.257607', '31.882092'], ['120.257469', '31.882023'], ['120.256912', '31.881849'], ['120.256577', '31.881844'], ['120.256348', '31.88184'], ['120.255905', '31.881823'], ['120.255539', '31.881817'], ['120.255135', '31.881804'], ['120.254616', '31.8818'], ['120.252373', '31.881731'], ['120.2481', '31.881666'], ['120.246025', '31.881615'], ['120.242668', '31.881525'], ['120.241257', '31.881479'], ['120.241257', '31.881611'], ['120.241211', '31.882322'], ['120.241188', '31.882641'], ['120.241165', '31.883078'], ['120.241051', '31.884762'], ['120.241043', '31.88501'], ['120.240974', '31.885687'], ['120.24073', '31.8894'], ['120.240654', '31.890442'], ['120.240631', '31.890741'], ['120.240562', '31.891165'], ['120.240501', '31.891479'], ['120.240311', '31.89234'], ['120.240135', '31.893055'], ['120.240074', '31.893307'], ['120.240044', '31.893456'], ['120.240028', '31.893547'], ['120.239937', '31.894003'], ['120.23983', '31.894484'], ['120.239693', '31.895142'], ['120.239563', '31.895729'], ['120.239555', '31.895756'], ['120.239212', '31.89739'], ['120.238953', '31.898533'], ['120.238869', '31.898876'], ['120.238846', '31.898958'], ['120.238754', '31.899345'], ['120.238594', '31.900078'], ['120.238388', '31.90103'], ['120.238197', '31.901939'], ['120.23806', '31.902586'], ['120.23793', '31.903156'], ['120.237854', '31.903524'], ['120.237839', '31.903624'], ['120.237785', '31.904007'], ['120.237755', '31.904297'], ['120.237633', '31.905155'], ['120.237473', '31.906429'], ['120.237289', '31.907988'], ['120.237282', '31.908073'], ['120.237244', '31.908415'], ['120.237228', '31.908497'], ['120.237183', '31.908916'], ['120.237137', '31.909218'], ['120.236931', '31.910875'], ['120.236877', '31.911398'], ['120.23687', '31.911428'], ['120.236801', '31.911985'], ['120.236656', '31.913147'], ['120.23661', '31.913511'], ['120.236526', '31.913633'], ['120.234375', '31.913246'], ['120.234039', '31.913191'], ['120.233482', '31.913086'], ['120.229439', '31.912239'], ['120.22934', '31.912222'], ['120.225372', '31.911385'], ['120.224869', '31.911283'], ['120.224464', '31.911198'], ['120.223511', '31.910965'], ['120.222923', '31.910803'], ['120.222366', '31.91062'], ['120.221657', '31.910355'], ['120.221207', '31.910191'], ['120.218704', '31.909145'], ['120.218124', '31.908916'], ['120.217499', '31.908703'], ['120.217087', '31.908594'], ['120.216774', '31.90852'], ['120.216179', '31.908398'], ['120.215492', '31.908312'], ['120.214981', '31.908268'], ['120.214066', '31.908224'], ['120.213676', '31.908216'], ['120.213005', '31.908192'], ['120.212402', '31.908165'], ['120.210907', '31.908115'], ['120.21019', '31.908096'], ['120.210121', '31.908096'], ['120.209015', '31.908051'], ['120.208443', '31.908037'], ['120.208275', '31.90803'], ['120.206985', '31.907982'], ['120.205154', '31.907915'], ['120.204628', '31.907896'], ['120.203537', '31.907856'], ['120.201057', '31.907764'], ['120.198898', '31.907665'], ['120.197433', '31.907578'], ['120.194801', '31.907391'], ['120.193466', '31.907288'], ['120.193359', '31.907282'], ['120.19091', '31.907122'], ['120.19043', '31.907089'], ['120.186295', '31.906809'], ['120.184128', '31.906662'], ['120.183792', '31.906639'], ['120.183701', '31.906631'], ['120.183281', '31.906607'], ['120.180801', '31.906471'], ['120.179558', '31.906424'], ['120.176949', '31.906347'], ['120.175095', '31.906288'], ['120.174652', '31.906275'], ['120.174454', '31.906261'], ['120.173935', '31.906244'], ['120.173561', '31.906239'], ['120.17173', '31.906189'], ['120.168457', '31.90608'], ['120.167328', '31.906052'], ['120.162361', '31.905897'], ['120.160843', '31.905876'], ['120.15979', '31.905916'], ['120.158516', '31.906006'], ['120.157928', '31.906059'], ['120.157242', '31.906147'], ['120.155785', '31.906376'], ['120.15506', '31.906515'], ['120.153931', '31.906767'], ['120.153358', '31.906921'], ['120.152634', '31.907127'], ['120.152069', '31.907301'], ['120.151688', '31.907417'], ['120.151573', '31.907459'], ['120.151039', '31.907652'], ['120.150543', '31.907833'], ['120.149788', '31.908133'], ['120.148773', '31.908575'], ['120.148117', '31.908894'], ['120.146492', '31.909708'], ['120.146263', '31.909822'], ['120.143982', '31.91099'], ['120.142868', '31.911535'], ['120.142792', '31.911579'], ['120.142311', '31.9118'], ['120.141441', '31.912149'], ['120.140648', '31.912405'], ['120.140045', '31.912565'], ['120.139626', '31.912664'], ['120.138168', '31.91297'], ['120.137932', '31.913015'], ['120.137421', '31.91312'], ['120.137215', '31.913164'], ['120.136162', '31.913382'], ['120.135468', '31.913528'], ['120.13533', '31.913555'], ['120.134834', '31.913652'], ['120.131966', '31.914244'], ['120.131165', '31.914413'], ['120.13105', '31.914431'], ['120.129913', '31.914686'], ['120.129028', '31.914854'], ['120.126862', '31.915281'], ['120.126205', '31.915409'], ['120.124504', '31.915693'], ['120.124252', '31.915737'], ['120.124077', '31.915764'], ['120.123184', '31.915903'], ['120.121033', '31.916237'], ['120.120613', '31.916307'], ['120.119804', '31.916431'], ['120.117554', '31.916784'], ['120.116585', '31.916931'], ['120.114044', '31.917326'], ['120.112091', '31.917646'], ['120.10939', '31.918224'], ['120.109322', '31.918238'], ['120.104439', '31.919306'], ['120.102539', '31.919714'], ['120.099007', '31.920473'], ['120.096817', '31.920946'], ['120.096725', '31.920969'], ['120.092896', '31.921785'], ['120.092453', '31.921875'], ['120.091316', '31.922113'], ['120.091255', '31.922131'], ['120.089203', '31.922564'], ['120.088394', '31.922743'], ['120.087479', '31.922934'], ['120.086739', '31.923092'], ['120.085144', '31.923433'], ['120.084587', '31.923569'], ['120.084137', '31.923679'], ['120.082748', '31.92404'], ['120.082108', '31.924223'], ['120.080788', '31.924591'], ['120.080559', '31.924658'], ['120.079247', '31.925035'], ['120.078331', '31.925291'], ['120.076363', '31.925852'], ['120.076035', '31.925951'], ['120.07486', '31.926266'], ['120.074829', '31.926275'], ['120.073708', '31.926607'], ['120.07058', '31.927486'], ['120.069717', '31.927738'], ['120.069038', '31.927908'], ['120.06768', '31.928297'], ['120.066422', '31.928671'], ['120.065918', '31.928844'], ['120.065414', '31.929062'], ['120.065002', '31.929245'], ['120.064774', '31.929375'], ['120.064125', '31.929731'], ['120.063042', '31.930401'], ['120.061386', '31.931425'], ['120.060837', '31.931763'], ['120.059944', '31.932262'], ['120.059494', '31.932495'], ['120.058594', '31.932909'], ['120.058548', '31.932928'], ['120.057983', '31.933155'], ['120.057076', '31.933472'], ['120.056686', '31.933594'], ['120.055557', '31.933903'], ['120.05471', '31.93408'], ['120.052925', '31.934404'], ['120.05117', '31.934717'], ['120.049301', '31.935049'], ['120.047646', '31.935343'], ['120.046768', '31.935499'], ['120.041779', '31.936384'], ['120.037598', '31.937132'], ['120.036919', '31.937254'], ['120.036621', '31.937309'], ['120.034401', '31.9377'], ['120.033119', '31.937929'], ['120.029449', '31.938572'], ['120.029282', '31.938606'], ['120.027344', '31.938944'], ['120.02459', '31.93943'], ['120.023369', '31.939682'], ['120.02227', '31.939955'], ['120.021828', '31.940083'], ['120.021355', '31.940222'], ['120.020142', '31.940628'], ['120.019989', '31.940681'], ['120.017036', '31.941793'], ['120.016457', '31.942026'], ['120.015915', '31.942217'], ['120.015137', '31.942522'], ['120.015022', '31.942564'], ['120.014648', '31.942705'], ['120.01432', '31.942822'], ['120.013611', '31.943069'], ['120.011986', '31.943584'], ['120.01059', '31.944002'], ['120.009132', '31.944458'], ['120.007797', '31.944845'], ['120.007584', '31.944914'], ['120.007202', '31.945044'], ['120.006676', '31.94519'], ['120.00573', '31.94552'], ['120.005119', '31.945702'], ['120.004814', '31.945793'], ['120.003288', '31.946253'], ['120.002426', '31.946524'], ['120.000237', '31.947208'], ['119.99958', '31.947439'], ['119.99765', '31.948191'], ['119.997536', '31.948242'], ['119.997314', '31.948334'], ['119.997208', '31.948374'], ['119.996651', '31.948593'], ['119.995628', '31.948994'], ['119.994789', '31.949318'], ['119.992676', '31.950155'], ['119.991768', '31.950516'], ['119.991714', '31.950533'], ['119.988983', '31.951616'], ['119.988922', '31.951635'], ['119.985695', '31.952883'], ['119.984856', '31.953201'], ['119.982895', '31.953941'], ['119.980476', '31.954849'], ['119.976761', '31.956244'], ['119.976761', '31.956244'], ['119.976852', '31.95645'], ['119.976959', '31.956617'], ['119.978073', '31.957916'], ['119.979042', '31.959044'], ['119.979202', '31.959227'], ['119.97979', '31.959869'], ['119.980171', '31.960268'], ['119.980896', '31.960941'], ['119.981339', '31.961315'], ['119.982719', '31.962368'], ['119.983482', '31.962978'], ['119.984039', '31.963411'], ['119.984375', '31.963707'], ['119.985367', '31.964619'], ['119.985825', '31.96505'], ['119.986427', '31.965616'], ['119.987015', '31.966137'], ['119.987671', '31.966684'], ['119.988701', '31.967508'], ['119.989265', '31.967878'], ['119.989975', '31.968298'], ['119.991051', '31.968954'], ['119.991158', '31.969076'], ['119.991158', '31.969076'], ['119.992073', '31.969648'], ['119.992676', '31.9701'], ['119.992828', '31.970213'], ['120.004829', '31.979244'], ['120.005203', '31.979527'], ['120.007507', '31.981197'], ['120.014648', '31.986399'], ['120.016312', '31.987614'], ['120.016312', '31.987614'], ['120.01725', '31.988338'], ['120.018211', '31.98918'], ['120.01873', '31.989714'], ['120.01902', '31.990082'], ['120.01944', '31.990515'], ['120.019592', '31.99066'], ['120.019661', '31.990791'], ['120.019661', '31.990791'], ['120.020103', '31.991489'], ['120.020546', '31.992188'], ['120.020714', '31.99246'], ['120.02314', '31.99659'], ['120.023308', '31.996908'], ['120.023842', '31.997782'], ['120.023956', '31.99802'], ['120.024017', '31.998116'], ['120.024017', '31.998116'], ['120.024178', '31.99802'], ['120.026047', '31.996971'], ['120.026878', '31.996519'], ['120.028206', '31.995811'], ['120.028824', '31.995455'], ['120.031799', '31.993876'], ['120.032867', '31.993301'], ['120.033005', '31.993225'], ['120.033432', '31.99299'], ['120.033813', '31.992809'], ['120.035072', '31.992245'], ['120.03521', '31.992188'], ['120.03595', '31.991898'], ['120.036621', '31.991653'], ['120.036659', '31.991644'], ['120.037918', '31.991262'], ['120.03894', '31.990997'], ['120.043091', '31.99003'], ['120.043381', '31.989964'], ['120.045059', '31.989567'], ['120.046303', '31.989262'], ['120.049644', '31.988365'], ['120.050934', '31.987974'], ['120.051384', '31.987837'], ['120.051735', '31.987719'], ['120.052299', '31.987543'], ['120.052353', '31.987532'], ['120.053963', '31.987062'], ['120.056396', '31.986347'], ['120.057014', '31.986156'], ['120.058594', '31.98572'], ['120.05925', '31.985542'], ['120.060692', '31.985188'], ['120.065033', '31.984085'], ['120.066078', '31.983829'], ['120.068878', '31.983124'], ['120.06958', '31.98295'], ['120.071518', '31.982464'], ['120.072701', '31.982174'], ['120.076553', '31.981197'], ['120.077568', '31.980942'], ['120.077652', '31.980921'], ['120.07872', '31.980665'], ['120.080559', '31.98019'], ['120.084419', '31.979221'], ['120.087936', '31.978333'], ['120.089226', '31.978008'], ['120.090172', '31.977768'], ['120.092117', '31.977282'], ['120.092194', '31.977262'], ['120.09446', '31.976694'], ['120.095642', '31.976402'], ['120.096161', '31.976297'], ['120.097527', '31.976055'], ['120.097816', '31.976007'], ['120.099121', '31.975786'], ['120.102539', '31.975374'], ['120.102783', '31.975342'], ['120.103287', '31.975286'], ['120.103996', '31.975201'], ['120.109108', '31.974623'], ['120.112007', '31.974289'], ['120.113716', '31.974092'], ['120.117043', '31.973755'], ['120.119949', '31.973537'], ['120.12262', '31.973373'], ['120.123032', '31.973343'], ['120.124504', '31.973242'], ['120.125259', '31.973196'], ['120.126305', '31.973097'], ['120.127357', '31.972982'], ['120.128418', '31.972843'], ['120.129921', '31.972595'], ['120.130119', '31.972561'], ['120.132736', '31.972113'], ['120.135536', '31.971626'], ['120.136185', '31.971516'], ['120.140465', '31.970774'], ['120.142418', '31.970434'], ['120.143661', '31.970213'], ['120.143784', '31.970192'], ['120.146408', '31.96973'], ['120.146492', '31.969717'], ['120.146774', '31.969671'], ['120.148483', '31.969379'], ['120.150978', '31.968937'], ['120.154015', '31.968416'], ['120.154785', '31.968285'], ['120.155884', '31.968098'], ['120.157211', '31.967873'], ['120.158783', '31.967604'], ['120.162086', '31.967005'], ['120.164383', '31.966602'], ['120.16523', '31.966454'], ['120.165825', '31.966343'], ['120.168457', '31.965876'], ['120.168594', '31.965851'], ['120.169815', '31.965637'], ['120.171211', '31.965391'], ['120.173828', '31.964951'], ['120.174393', '31.964853'], ['120.17691', '31.964436'], ['120.177505', '31.96435'], ['120.178879', '31.96418'], ['120.179161', '31.964144'], ['120.180199', '31.964035'], ['120.181076', '31.963963'], ['120.18351', '31.963793'], ['120.185448', '31.963663'], ['120.188194', '31.963484'], ['120.188316', '31.963476'], ['120.19043', '31.963329'], ['120.192558', '31.963186'], ['120.193031', '31.963152'], ['120.193497', '31.96312'], ['120.201431', '31.962568'], ['120.201485', '31.962568'], ['120.202026', '31.962536'], ['120.206322', '31.96225'], ['120.210808', '31.961945'], ['120.211464', '31.961897'], ['120.211586', '31.961893'], ['120.212158', '31.961853'], ['120.212402', '31.96184'], ['120.212906', '31.9618'], ['120.214684', '31.961597'], ['120.215286', '31.961502'], ['120.215988', '31.961363'], ['120.21611', '31.961342'], ['120.216949', '31.96117'], ['120.217743', '31.960985'], ['120.218307', '31.960829'], ['120.219887', '31.960352'], ['120.220901', '31.960035'], ['120.223518', '31.959227'], ['120.223923', '31.959116'], ['120.224617', '31.958893'], ['120.224678', '31.958872'], ['120.226906', '31.958181'], ['120.227425', '31.958019'], ['120.228897', '31.957556'], ['120.230423', '31.957096'], ['120.231537', '31.956758'], ['120.23159', '31.956739'], ['120.234276', '31.955997'], ['120.234375', '31.955978'], ['120.236595', '31.955482'], ['120.237083', '31.95536'], ['120.237144', '31.955347'], ['120.237358', '31.955299'], ['120.23793', '31.955204'], ['120.239037', '31.955017'], ['120.240211', '31.954844'], ['120.240372', '31.954823'], ['120.241013', '31.954721'], ['120.241051', '31.954714'], ['120.241669', '31.954618'], ['120.242683', '31.954462'], ['120.243919', '31.954271'], ['120.244743', '31.95413'], ['120.244835', '31.954115'], ['120.245888', '31.953959'], ['120.245911', '31.953953'], ['120.247398', '31.953733'], ['120.247505', '31.953716'], ['120.248932', '31.953493'], ['120.250305', '31.953289'], ['120.251122', '31.953186'], ['120.25222', '31.953077'], ['120.253342', '31.95302'], ['120.254532', '31.953033'], ['120.254623', '31.953043'], ['120.255508', '31.953098'], ['120.255608', '31.953112'], ['120.25631', '31.953199'], ['120.256348', '31.953201'], ['120.257256', '31.953352'], ['120.257614', '31.953428'], ['120.258003', '31.953506'], ['120.25914', '31.953819'], ['120.26046', '31.954254'], ['120.261131', '31.9545'], ['120.263145', '31.955278'], ['120.264145', '31.955677'], ['120.265198', '31.956089'], ['120.265305', '31.956133'], ['120.266624', '31.956623'], ['120.26725', '31.956884'], ['120.267616', '31.95709'], ['120.267899', '31.957262'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279541', '31.982084'], ['120.279236', '31.98208'], ['120.278557', '31.982084'], ['120.27832', '31.98208'], ['120.277481', '31.982067'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>