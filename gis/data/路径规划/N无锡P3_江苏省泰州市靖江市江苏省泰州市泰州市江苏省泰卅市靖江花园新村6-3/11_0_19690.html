<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['120.258224', '31.881342'], ['120.258072', '31.881308'], ['120.257858', '31.881193'], ['120.257431', '31.880911'], ['120.257278', '31.880793'], ['120.256851', '31.880396'], ['120.256607', '31.880213'], ['120.256348', '31.88007'], ['120.25618', '31.879978'], ['120.25573', '31.879768'], ['120.255211', '31.879522'], ['120.255005', '31.879375'], ['120.254684', '31.879116'], ['120.254616', '31.879026'], ['120.254372', '31.878752'], ['120.254204', '31.878494'], ['120.253967', '31.878134'], ['120.253616', '31.877596'], ['120.253441', '31.877323'], ['120.253326', '31.877373'], ['120.253609', '31.877817'], ['120.253998', '31.878471'], ['120.254311', '31.878998'], ['120.254616', '31.879532'], ['120.255501', '31.88102'], ['120.255814', '31.881529'], ['120.255882', '31.881639'], ['120.255905', '31.881672'], ['120.256248', '31.882271'], ['120.256287', '31.882322'], ['120.256348', '31.882431'], ['120.256508', '31.8827'], ['120.257149', '31.883793'], ['120.257805', '31.884872'], ['120.258362', '31.885807'], ['120.258934', '31.886749'], ['120.259079', '31.886984'], ['120.259239', '31.8873'], ['120.259293', '31.887535'], ['120.259308', '31.887655'], ['120.259315', '31.887737'], ['120.259323', '31.88802'], ['120.2593', '31.88825'], ['120.259254', '31.888828'], ['120.259239', '31.889044'], ['120.259094', '31.890387'], ['120.259048', '31.890856'], ['120.258957', '31.891516'], ['120.25882', '31.892523'], ['120.258759', '31.892916'], ['120.25869', '31.893297'], ['120.25869', '31.893307'], ['120.258659', '31.893534'], ['120.258614', '31.893797'], ['120.258575', '31.893993'], ['120.258522', '31.894312'], ['120.258446', '31.894836'], ['120.2584', '31.895142'], ['120.258347', '31.895525'], ['120.258324', '31.895773'], ['120.258255', '31.896372'], ['120.258232', '31.897091'], ['120.258247', '31.897423'], ['120.25827', '31.898005'], ['120.25827', '31.898069'], ['120.258286', '31.898758'], ['120.258247', '31.899311'], ['120.258202', '31.899849'], ['120.258186', '31.90004'], ['120.258163', '31.9004'], ['120.258118', '31.900875'], ['120.258072', '31.901711'], ['120.258072', '31.901711'], ['120.259308', '31.902231'], ['120.260063', '31.902536'], ['120.2612', '31.903004'], ['120.261597', '31.90317'], ['120.261673', '31.903196'], ['120.261734', '31.903219'], ['120.262192', '31.903416'], ['120.262657', '31.903606'], ['120.262711', '31.903629'], ['120.263306', '31.903833'], ['120.263718', '31.90395'], ['120.263924', '31.904032'], ['120.26403', '31.904099'], ['120.26413', '31.904184'], ['120.264305', '31.904297'], ['120.26432', '31.904303'], ['120.265022', '31.904623'], ['120.265839', '31.904982'], ['120.266014', '31.905083'], ['120.266403', '31.905422'], ['120.266487', '31.905552'], ['120.266144', '31.9072'], ['120.266098', '31.907495'], ['120.265976', '31.908958'], ['120.265923', '31.909563'], ['120.265892', '31.910187'], ['120.265869', '31.910688'], ['120.265785', '31.911575'], ['120.265686', '31.912809'], ['120.265602', '31.913942'], ['120.265556', '31.914518'], ['120.265541', '31.914696'], ['120.265541', '31.914759'], ['120.265518', '31.914968'], ['120.265503', '31.915281'], ['120.265495', '31.915325'], ['120.26545', '31.915937'], ['120.265411', '31.916403'], ['120.265411', '31.916403'], ['120.26696', '31.916597'], ['120.267967', '31.916721'], ['120.268471', '31.916771'], ['120.26857', '31.91678'], ['120.270256', '31.916904'], ['120.270348', '31.916908'], ['120.271477', '31.917009'], ['120.272003', '31.917063'], ['120.272224', '31.91708'], ['120.273117', '31.917152'], ['120.273369', '31.917173'], ['120.274139', '31.917236'], ['120.274414', '31.917257'], ['120.275352', '31.917332'], ['120.276283', '31.917404'], ['120.277092', '31.917473'], ['120.277267', '31.917486'], ['120.27832', '31.917574'], ['120.278625', '31.917591'], ['120.280418', '31.917742'], ['120.280533', '31.91785'], ['120.280373', '31.918215'], ['120.280273', '31.918455'], ['120.280121', '31.918762'], ['120.279984', '31.919111'], ['120.279831', '31.91954'], ['120.279709', '31.920053'], ['120.279671', '31.920195'], ['120.27961', '31.920515'], ['120.279541', '31.921041'], ['120.279526', '31.921658'], ['120.279541', '31.922104'], ['120.279549', '31.922314'], ['120.279549', '31.922314'], ['120.280174', '31.922453'], ['120.281731', '31.922852'], ['120.282776', '31.923107'], ['120.28334', '31.92326'], ['120.283882', '31.923443'], ['120.285278', '31.923933'], ['120.286598', '31.924404'], ['120.287605', '31.924744'], ['120.2892', '31.925226'], ['120.2892', '31.925226'], ['120.289261', '31.925159'], ['120.289345', '31.925114'], ['120.289398', '31.9251'], ['120.289513', '31.925077'], ['120.289566', '31.925077'], ['120.289665', '31.9251'], ['120.289757', '31.925138'], ['120.289833', '31.925213'], ['120.289886', '31.925304'], ['120.289902', '31.925409'], ['120.289886', '31.925501'], ['120.289864', '31.925556'], ['120.289841', '31.925604'], ['120.289803', '31.925652'], ['120.289696', '31.925697'], ['120.289627', '31.92572'], ['120.289558', '31.925724'], ['120.289558', '31.925724'], ['120.289253', '31.926115'], ['120.289101', '31.926249'], ['120.289085', '31.926266'], ['120.288925', '31.926367'], ['120.28875', '31.926472'], ['120.288651', '31.926516'], ['120.288452', '31.926588'], ['120.288246', '31.926649'], ['120.288033', '31.926693'], ['120.287712', '31.926722'], ['120.287491', '31.92672'], ['120.287277', '31.926702'], ['120.287079', '31.926672'], ['120.286873', '31.926626'], ['120.286674', '31.926567'], ['120.286583', '31.926533'], ['120.286407', '31.926445'], ['120.28614', '31.926289'], ['120.28614', '31.926289'], ['120.28611', '31.926266'], ['120.285858', '31.926134'], ['120.285408', '31.925842'], ['120.285149', '31.92569'], ['120.284416', '31.925287'], ['120.284241', '31.925196'], ['120.284142', '31.925156'], ['120.284042', '31.925127'], ['120.283852', '31.925077'], ['120.283745', '31.92506'], ['120.283531', '31.925045'], ['120.283424', '31.925045'], ['120.283218', '31.92506'], ['120.28302', '31.9251'], ['120.282829', '31.925152'], ['120.282631', '31.925238'], ['120.282448', '31.92535'], ['120.282288', '31.925478'], ['120.282211', '31.925547'], ['120.282097', '31.925678'], ['120.282097', '31.925678'], ['120.282028', '31.925783'], ['120.281975', '31.925859'], ['120.281937', '31.925941'], ['120.281868', '31.926115'], ['120.281837', '31.926266'], ['120.28183', '31.926298'], ['120.28183', '31.926397'], ['120.28183', '31.92658'], ['120.281845', '31.926672'], ['120.281891', '31.926853'], ['120.281975', '31.927023'], ['120.282074', '31.927191'], ['120.282135', '31.927271'], ['120.282196', '31.927345'], ['120.282341', '31.927469'], ['120.282516', '31.927601'], ['120.282608', '31.927647'], ['120.282799', '31.927738'], ['120.282898', '31.927769'], ['120.283104', '31.927822'], ['120.283211', '31.927837'], ['120.283424', '31.92786'], ['120.283531', '31.92786'], ['120.283745', '31.927843'], ['120.283943', '31.927799'], ['120.284149', '31.927742'], ['120.28434', '31.927656'], ['120.284416', '31.927608'], ['120.2845', '31.927547'], ['120.284561', '31.927477'], ['120.284622', '31.927401'], ['120.284645', '31.927319'], ['120.284676', '31.927227'], ['120.284668', '31.927139'], ['120.284637', '31.92705'], ['120.284607', '31.926966'], ['120.284531', '31.926897'], ['120.284462', '31.92683'], ['120.284386', '31.926775'], ['120.284332', '31.926762'], ['120.284286', '31.926741'], ['120.28418', '31.92672'], ['120.284073', '31.926716'], ['120.283997', '31.926722'], ['120.283867', '31.926754'], ['120.283768', '31.926798'], ['120.283691', '31.926857'], ['120.283379', '31.927017'], ['120.282372', '31.928629'], ['120.281937', '31.929314'], ['120.281036', '31.930933'], ['120.280472', '31.931957'], ['120.279671', '31.933516'], ['120.279404', '31.933981'], ['120.278625', '31.935383'], ['120.27832', '31.935947'], ['120.277618', '31.937254'], ['120.272926', '31.945993'], ['120.271873', '31.947929'], ['120.271713', '31.948242'], ['120.269646', '31.952095'], ['120.268448', '31.954327'], ['120.267937', '31.955292'], ['120.266159', '31.95858'], ['120.265816', '31.959227'], ['120.265274', '31.960232'], ['120.264839', '31.961033'], ['120.264473', '31.961727'], ['120.263824', '31.962938'], ['120.26368', '31.963228'], ['120.26368', '31.963228'], ['120.263512', '31.963758'], ['120.263351', '31.964125'], ['120.263298', '31.964306'], ['120.263283', '31.964396'], ['120.263252', '31.964579'], ['120.263245', '31.964666'], ['120.263268', '31.964853'], ['120.263298', '31.964939'], ['120.263344', '31.965027'], ['120.26339', '31.965099'], ['120.263458', '31.965174'], ['120.263527', '31.965242'], ['120.263618', '31.9653'], ['120.26371', '31.965342'], ['120.263802', '31.965374'], ['120.263908', '31.965395'], ['120.264008', '31.965408'], ['120.264122', '31.965401'], ['120.264229', '31.965387'], ['120.264336', '31.965355'], ['120.264435', '31.965319'], ['120.264526', '31.965265'], ['120.264603', '31.965208'], ['120.264687', '31.965137'], ['120.26474', '31.965069'], ['120.264801', '31.964991'], ['120.2649', '31.964823'], ['120.265549', '31.963598'], ['120.265701', '31.963261'], ['120.265793', '31.963009'], ['120.265793', '31.963009'], ['120.265953', '31.96246'], ['120.266083', '31.961945'], ['120.266098', '31.961758'], ['120.266106', '31.961479'], ['120.266113', '31.961206'], ['120.266106', '31.960682'], ['120.266106', '31.960682'], ['120.266495', '31.959955'], ['120.266891', '31.959227'], ['120.26741', '31.958202'], ['120.2677', '31.957664'], ['120.26786', '31.957359'], ['120.268005', '31.957323'], ['120.268257', '31.957508'], ['120.268425', '31.957647'], ['120.268799', '31.958'], ['120.269485', '31.958706'], ['120.269577', '31.958794'], ['120.269989', '31.959227'], ['120.27079', '31.960056'], ['120.271278', '31.96055'], ['120.271828', '31.961142'], ['120.272758', '31.962057'], ['120.273354', '31.962614'], ['120.27375', '31.962952'], ['120.274818', '31.963741'], ['120.275398', '31.964136'], ['120.276123', '31.964554'], ['120.276672', '31.96483'], ['120.277283', '31.965113'], ['120.278305', '31.965525'], ['120.27832', '31.965528'], ['120.278816', '31.965715'], ['120.279221', '31.965847'], ['120.279602', '31.965965'], ['120.280548', '31.966215'], ['120.281464', '31.966402'], ['120.283966', '31.966854'], ['120.284294', '31.966913'], ['120.284348', '31.967022'], ['120.283379', '31.969982'], ['120.28331', '31.970213'], ['120.283218', '31.970488'], ['120.283203', '31.970537'], ['120.283081', '31.970898'], ['120.282272', '31.973351'], ['120.282143', '31.973766'], ['120.282127', '31.97382'], ['120.281975', '31.974276'], ['120.281456', '31.975828'], ['120.281136', '31.976797'], ['120.281059', '31.977079'], ['120.281013', '31.977222'], ['120.280914', '31.977528'], ['120.2808', '31.977892'], ['120.280006', '31.980383'], ['120.279884', '31.980947'], ['120.279839', '31.981197'], ['120.279778', '31.98164'], ['120.279732', '31.981962'], ['120.279541', '31.982084'], ['120.279236', '31.98208'], ['120.278557', '31.982084'], ['120.27832', '31.98208'], ['120.277481', '31.982067'], ['120.277481', '31.982067'], ['120.277512', '31.982235'], ['120.277473', '31.982759']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>