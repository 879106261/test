<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.105324', '39.010239'], ['116.105392', '39.01078'], ['116.105392', '39.01078'], ['116.105591', '39.010765'], ['116.106392', '39.010689'], ['116.106758', '39.010662'], ['116.106941', '39.010651'], ['116.10746', '39.010601'], ['116.108223', '39.010536'], ['116.108986', '39.010479'], ['116.109108', '39.010509'], ['116.109367', '39.012447'], ['116.10939', '39.012554'], ['116.109718', '39.015106'], ['116.109917', '39.016701'], ['116.110214', '39.018906'], ['116.11026', '39.01931'], ['116.110306', '39.019741'], ['116.11042', '39.020592'], ['116.110435', '39.020767'], ['116.110466', '39.021027'], ['116.110413', '39.02113'], ['116.110481', '39.021492'], ['116.11055', '39.022041'], ['116.110565', '39.022293'], ['116.110603', '39.022926'], ['116.110611', '39.023216'], ['116.110611', '39.023376'], ['116.110611', '39.023434'], ['116.110619', '39.02367'], ['116.110619', '39.02367'], ['116.110512', '39.023861'], ['116.110374', '39.024429'], ['116.110275', '39.024734'], ['116.110069', '39.025204'], ['116.109909', '39.025513'], ['116.109566', '39.026054'], ['116.109268', '39.026432'], ['116.109047', '39.02668'], ['116.108826', '39.026905'], ['116.108231', '39.027428'], ['116.107971', '39.027588'], ['116.107971', '39.027588'], ['116.108025', '39.027775'], ['116.10807', '39.028111'], ['116.108177', '39.02919'], ['116.108223', '39.029663'], ['116.108246', '39.029991'], ['116.108322', '39.030674'], ['116.108383', '39.031219'], ['116.108437', '39.031494'], ['116.108437', '39.03159'], ['116.108421', '39.031731'], ['116.108345', '39.031975'], ['116.108368', '39.032032'], ['116.108818', '39.032307'], ['116.109467', '39.032875'], ['116.109596', '39.032978'], ['116.109726', '39.033058'], ['116.110451', '39.033382'], ['116.110558', '39.033447'], ['116.110657', '39.033535'], ['116.110962', '39.033863'], ['116.110962', '39.033863'], ['116.110985', '39.034126'], ['116.111031', '39.034424'], ['116.111206', '39.03561'], ['116.111557', '39.037548'], ['116.111885', '39.039425'], ['116.112228', '39.041492'], ['116.112648', '39.04398'], ['116.112907', '39.04541'], ['116.112961', '39.045692'], ['116.112999', '39.045937'], ['116.113777', '39.050404'], ['116.114052', '39.051991'], ['116.114113', '39.052731'], ['116.114151', '39.053532'], ['116.114273', '39.056393'], ['116.114296', '39.056801'], ['116.11441', '39.058914'], ['116.114426', '39.059708'], ['116.114494', '39.061211'], ['116.114616', '39.062542'], ['116.114693', '39.063732'], ['116.114746', '39.064453'], ['116.114838', '39.065445'], ['116.114891', '39.065823'], ['116.114952', '39.066261'], ['116.115028', '39.067081'], ['116.115051', '39.067383'], ['116.115051', '39.067417'], ['116.115051', '39.067677'], ['116.115021', '39.068256'], ['116.114944', '39.069439'], ['116.114906', '39.070194'], ['116.114845', '39.071175'], ['116.114807', '39.071728'], ['116.114799', '39.071945'], ['116.114754', '39.072414'], ['116.114708', '39.072529'], ['116.114639', '39.07262'], ['116.114243', '39.072968'], ['116.114136', '39.073067'], ['116.114082', '39.073151'], ['116.113998', '39.073421'], ['116.113953', '39.073692'], ['116.113914', '39.073986'], ['116.113876', '39.074532'], ['116.113815', '39.075306'], ['116.113823', '39.075912'], ['116.113838', '39.076515'], ['116.113861', '39.076721'], ['116.113869', '39.076893'], ['116.11393', '39.078049'], ['116.113937', '39.078239'], ['116.113945', '39.078369'], ['116.113968', '39.078728'], ['116.114105', '39.080608'], ['116.114166', '39.081459'], ['116.114273', '39.082642'], ['116.114281', '39.082756'], ['116.114326', '39.083706'], ['116.114304', '39.084419'], ['116.114388', '39.085197'], ['116.114418', '39.085606'], ['116.114624', '39.087494'], ['116.114685', '39.08815'], ['116.114777', '39.088867'], ['116.114807', '39.089352'], ['116.115005', '39.091625'], ['116.115135', '39.092873'], ['116.115227', '39.094067'], ['116.11525', '39.094517'], ['116.115395', '39.096222'], ['116.115494', '39.097565'], ['116.115616', '39.099022'], ['116.115707', '39.10006'], ['116.115715', '39.100204'], ['116.11573', '39.100338'], ['116.115921', '39.102512'], ['116.115944', '39.10276'], ['116.116241', '39.106766'], ['116.116478', '39.110218'], ['116.116577', '39.111328'], ['116.116592', '39.11145'], ['116.116783', '39.113926'], ['116.116913', '39.11562'], ['116.116982', '39.116428'], ['116.116982', '39.116428'], ['116.121048', '39.116817'], ['116.125076', '39.117203'], ['116.125481', '39.117249'], ['116.125885', '39.117294'], ['116.127716', '39.117455'], ['116.128708', '39.117546'], ['116.129929', '39.117668'], ['116.131187', '39.11779'], ['116.134834', '39.118137'], ['116.135193', '39.118172'], ['116.13678', '39.118317'], ['116.140541', '39.11869'], ['116.141502', '39.118801'], ['116.143456', '39.118977'], ['116.144173', '39.119034'], ['116.147461', '39.11935'], ['116.148575', '39.119476'], ['116.149696', '39.119667'], ['116.150154', '39.119755'], ['116.150833', '39.119968'], ['116.151375', '39.120144'], ['116.153786', '39.120945'], ['116.155914', '39.121666'], ['116.157768', '39.122311'], ['116.159241', '39.122818'], ['116.16095', '39.123432'], ['116.161499', '39.123627'], ['116.164513', '39.12463'], ['116.164688', '39.124699'], ['116.165398', '39.12495'], ['116.169434', '39.126343'], ['116.172615', '39.127434'], ['116.17337', '39.127708'], ['116.175034', '39.128265'], ['116.180611', '39.130188'], ['116.183113', '39.131046'], ['116.184204', '39.131428'], ['116.184738', '39.131615'], ['116.185097', '39.131725'], ['116.185692', '39.131939'], ['116.189629', '39.133297'], ['116.191406', '39.133915'], ['116.192101', '39.134148'], ['116.192924', '39.134445'], ['116.193947', '39.134804'], ['116.199776', '39.136803'], ['116.200737', '39.137146'], ['116.2015', '39.137409'], ['116.201805', '39.137501'], ['116.203438', '39.138062'], ['116.205147', '39.138645'], ['116.206505', '39.139114'], ['116.206848', '39.139225'], ['116.208801', '39.139893'], ['116.209671', '39.140186'], ['116.210327', '39.140419'], ['116.211235', '39.140728'], ['116.212112', '39.141026'], ['116.213203', '39.141365'], ['116.213379', '39.141415'], ['116.214035', '39.141621'], ['116.214035', '39.141621'], ['116.214806', '39.141476'], ['116.215401', '39.141369'], ['116.216476', '39.141174'], ['116.21685', '39.141098'], ['116.217079', '39.141037'], ['116.217316', '39.140945'], ['116.217705', '39.140785'], ['116.218483', '39.140434'], ['116.219421', '39.139988'], ['116.219421', '39.139988'], ['116.21933', '39.13641'], ['116.219299', '39.135193'], ['116.219299', '39.135193'], ['116.218246', '39.135132'], ['116.218246', '39.135132'], ['116.218307', '39.134098'], ['116.218307', '39.133812'], ['116.218269', '39.133461'], ['116.218102', '39.133297'], ['116.217972', '39.133179'], ['116.217232', '39.132721'], ['116.217194', '39.132664'], ['116.21714', '39.132622'], ['116.216835', '39.132488'], ['116.216835', '39.132488'], ['116.216881', '39.13232']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>