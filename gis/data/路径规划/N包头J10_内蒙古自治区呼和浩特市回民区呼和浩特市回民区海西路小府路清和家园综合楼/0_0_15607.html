<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['111.550835', '40.799503'], ['111.550545', '40.799408'], ['111.550468', '40.799431'], ['111.550232', '40.799786'], ['111.550041', '40.800068'], ['111.550041', '40.800068'], ['111.550224', '40.800148'], ['111.550339', '40.800194'], ['111.550606', '40.800308'], ['111.550606', '40.800308'], ['111.551102', '40.800404'], ['111.551102', '40.800404'], ['111.551147', '40.800381'], ['111.551247', '40.800365'], ['111.551323', '40.800373'], ['111.551376', '40.800388'], ['111.551468', '40.800442'], ['111.551498', '40.800488'], ['111.551537', '40.800568'], ['111.551552', '40.800671'], ['111.551544', '40.800724'], ['111.551529', '40.800785'], ['111.551491', '40.800838'], ['111.551437', '40.800892'], ['111.551384', '40.800926'], ['111.551308', '40.800945'], ['111.551239', '40.800945'], ['111.551132', '40.800926'], ['111.551132', '40.800926'], ['111.55088', '40.800964'], ['111.550743', '40.800991'], ['111.550583', '40.801037'], ['111.550446', '40.80109'], ['111.55024', '40.801182'], ['111.549004', '40.801792'], ['111.548752', '40.801933'], ['111.548386', '40.802155'], ['111.548134', '40.802299'], ['111.54776', '40.802479'], ['111.54776', '40.802479'], ['111.547371', '40.802681'], ['111.547119', '40.802788'], ['111.54673', '40.802933'], ['111.546249', '40.803162'], ['111.546127', '40.803223'], ['111.545403', '40.803577'], ['111.544594', '40.803982'], ['111.543808', '40.804401'], ['111.543808', '40.804401'], ['111.543449', '40.804768'], ['111.54335', '40.80489'], ['111.543259', '40.805023'], ['111.543228', '40.805088'], ['111.543144', '40.805283'], ['111.543098', '40.805443'], ['111.543083', '40.805618'], ['111.543083', '40.805775'], ['111.543098', '40.805893'], ['111.543129', '40.805996'], ['111.543175', '40.806156'], ['111.543282', '40.806351'], ['111.543686', '40.807014'], ['111.544411', '40.807678'], ['111.545876', '40.808994'], ['111.546829', '40.809814'], ['111.548149', '40.810925'], ['111.549927', '40.812344'], ['111.551567', '40.813591'], ['111.552406', '40.814205'], ['111.553581', '40.815048'], ['111.555176', '40.816143'], ['111.556046', '40.816742'], ['111.558121', '40.818218'], ['111.559036', '40.818901'], ['111.560883', '40.82032'], ['111.562675', '40.821777'], ['111.564812', '40.823639'], ['111.566208', '40.824924'], ['111.56649', '40.825195'], ['111.568375', '40.826973'], ['111.570038', '40.828556'], ['111.570892', '40.829346'], ['111.571617', '40.829987'], ['111.573212', '40.831337'], ['111.573822', '40.831841'], ['111.57473', '40.832542'], ['111.576683', '40.833981'], ['111.577148', '40.834305'], ['111.577698', '40.834686'], ['111.579094', '40.835621'], ['111.579376', '40.835808'], ['111.579926', '40.836182'], ['111.580208', '40.836369'], ['111.580757', '40.836739'], ['111.58297', '40.838234'], ['111.588341', '40.841839'], ['111.590233', '40.843079'], ['111.59153', '40.843887'], ['111.59243', '40.844418'], ['111.593895', '40.845261'], ['111.596001', '40.846382'], ['111.597305', '40.847031'], ['111.597588', '40.847164'], ['111.599121', '40.847889'], ['111.605713', '40.85099'], ['111.61322', '40.854511'], ['111.614487', '40.855103'], ['111.620979', '40.85815'], ['111.621094', '40.858208'], ['111.622238', '40.858742'], ['111.623589', '40.859386'], ['111.623589', '40.859386'], ['111.623703', '40.859394'], ['111.623787', '40.859413'], ['111.62394', '40.859459'], ['111.624466', '40.859631'], ['111.624847', '40.859753'], ['111.62513', '40.85981'], ['111.625404', '40.859859'], ['111.62561', '40.859879'], ['111.625824', '40.859894'], ['111.628006', '40.859985'], ['111.628632', '40.860062'], ['111.628868', '40.860062'], ['111.629318', '40.860077'], ['111.630051', '40.860088'], ['111.630051', '40.860088'], ['111.631691', '40.860165'], ['111.631905', '40.860172'], ['111.631905', '40.860172'], ['111.634224', '40.860264'], ['111.634819', '40.860271'], ['111.635086', '40.860264'], ['111.635376', '40.860237'], ['111.636497', '40.860096'], ['111.636948', '40.859924'], ['111.637238', '40.859821'], ['111.6381', '40.859489'], ['111.638809', '40.859207'], ['111.639336', '40.858986'], ['111.639763', '40.858784'], ['111.640442', '40.858421'], ['111.640656', '40.858303'], ['111.6409', '40.85815'], ['111.643066', '40.856785'], ['111.643234', '40.856689'], ['111.643616', '40.856445'], ['111.645485', '40.855259'], ['111.645607', '40.855152'], ['111.645721', '40.854977'], ['111.645981', '40.854717'], ['111.646034', '40.854645'], ['111.646248', '40.854305'], ['111.646744', '40.853291'], ['111.646797', '40.853214'], ['111.647469', '40.851871'], ['111.648232', '40.850296'], ['111.648674', '40.849434'], ['111.648857', '40.849072'], ['111.648903', '40.848957'], ['111.649132', '40.848488'], ['111.649216', '40.848301'], ['111.64949', '40.847717'], ['111.64959', '40.847507'], ['111.649651', '40.847355'], ['111.649742', '40.847164'], ['111.649887', '40.846809'], ['111.650391', '40.845646'], ['111.650558', '40.845257'], ['111.651566', '40.842937'], ['111.651955', '40.841999'], ['111.652016', '40.84185'], ['111.652046', '40.841774'], ['111.65255', '40.840603'], ['111.652657', '40.84034'], ['111.652809', '40.839912'], ['111.652863', '40.839668'], ['111.653008', '40.838898'], ['111.653114', '40.838474'], ['111.653328', '40.837826'], ['111.653564', '40.837307'], ['111.654099', '40.836365'], ['111.654099', '40.836365'], ['111.654091', '40.836205'], ['111.654091', '40.836182'], ['111.65406', '40.836067'], ['111.653885', '40.835781'], ['111.652878', '40.835686'], ['111.652336', '40.835629'], ['111.651283', '40.835503'], ['111.650841', '40.835457'], ['111.649254', '40.83527'], ['111.648399', '40.835182'], ['111.648399', '40.835182'], ['111.648193', '40.83601'], ['111.648148', '40.836182'], ['111.648018', '40.836639'], ['111.647636', '40.838005'], ['111.647545', '40.838322'], ['111.647446', '40.838638'], ['111.647339', '40.839024'], ['111.647316', '40.839111'], ['111.647217', '40.839359']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>