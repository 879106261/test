<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.372406', '32.171898'], ['119.372635', '32.171906'], ['119.372673', '32.17189'], ['119.372734', '32.171795'], ['119.372734', '32.171795'], ['119.373901', '32.171986'], ['119.373901', '32.171986'], ['119.373955', '32.171963'], ['119.374023', '32.171959'], ['119.374123', '32.172005'], ['119.374161', '32.172043'], ['119.374176', '32.172092'], ['119.374168', '32.172146'], ['119.374153', '32.172188'], ['119.374153', '32.172188'], ['119.374435', '32.172253'], ['119.374672', '32.172268'], ['119.374962', '32.172337'], ['119.374962', '32.172337'], ['119.375038', '32.171974'], ['119.375175', '32.171383'], ['119.375175', '32.171303'], ['119.375122', '32.17107'], ['119.375122', '32.17107'], ['119.375031', '32.171005'], ['119.374969', '32.170929'], ['119.374931', '32.170853'], ['119.374924', '32.170792'], ['119.374916', '32.170696'], ['119.374969', '32.170574'], ['119.375031', '32.170506'], ['119.375114', '32.170437'], ['119.375168', '32.170414'], ['119.375252', '32.170372'], ['119.375389', '32.170364'], ['119.375511', '32.170387'], ['119.37558', '32.17041'], ['119.37558', '32.17041'], ['119.37603', '32.170193'], ['119.376373', '32.169971'], ['119.377441', '32.16914'], ['119.377686', '32.168949'], ['119.37896', '32.167969'], ['119.380455', '32.166813'], ['119.383057', '32.16478'], ['119.383934', '32.164112'], ['119.384193', '32.16391'], ['119.387466', '32.161385'], ['119.388046', '32.160938'], ['119.388954', '32.16032'], ['119.389404', '32.160042'], ['119.390228', '32.159565'], ['119.390953', '32.159206'], ['119.391594', '32.158928'], ['119.392197', '32.158676'], ['119.393105', '32.158382'], ['119.39402', '32.158112'], ['119.394402', '32.158024'], ['119.395378', '32.15781'], ['119.396141', '32.157665'], ['119.397957', '32.157364'], ['119.39843', '32.157288'], ['119.399414', '32.157112'], ['119.400131', '32.156979'], ['119.40168', '32.156712'], ['119.403091', '32.156467'], ['119.404427', '32.156242'], ['119.404587', '32.156208'], ['119.406021', '32.155888'], ['119.40683', '32.155697'], ['119.407867', '32.155403'], ['119.408821', '32.155106'], ['119.409309', '32.154949'], ['119.410172', '32.154678'], ['119.411568', '32.154228'], ['119.412025', '32.154079'], ['119.413185', '32.153725'], ['119.414017', '32.15345'], ['119.414452', '32.153316'], ['119.41581', '32.152882'], ['119.416634', '32.152618'], ['119.417122', '32.152477'], ['119.417122', '32.152477'], ['119.416359', '32.149937'], ['119.415146', '32.145992'], ['119.41497', '32.145401'], ['119.414085', '32.14257'], ['119.412971', '32.138893'], ['119.412788', '32.138103'], ['119.412712', '32.137154'], ['119.412704', '32.136799'], ['119.412621', '32.13501'], ['119.41259', '32.133732'], ['119.412575', '32.133671'], ['119.41243', '32.130123'], ['119.412415', '32.130066'], ['119.412407', '32.129627'], ['119.412384', '32.129162'], ['119.412338', '32.12785'], ['119.412323', '32.127621'], ['119.41227', '32.126198'], ['119.412239', '32.124943'], ['119.412247', '32.124413'], ['119.412285', '32.124023'], ['119.412308', '32.123566'], ['119.412323', '32.12336'], ['119.412361', '32.122669'], ['119.412491', '32.120506'], ['119.412498', '32.120461'], ['119.412621', '32.118504'], ['119.412628', '32.118237'], ['119.412628', '32.11813'], ['119.412659', '32.113033'], ['119.412659', '32.112682'], ['119.412659', '32.112083'], ['119.412659', '32.11203'], ['119.412666', '32.105915'], ['119.412773', '32.105938'], ['119.414398', '32.106232'], ['119.414879', '32.106297'], ['119.41523', '32.106297'], ['119.41571', '32.106255'], ['119.416008', '32.106232'], ['119.416374', '32.106232'], ['119.416656', '32.106232'], ['119.416954', '32.106194'], ['119.41713', '32.106133'], ['119.418068', '32.105747'], ['119.419678', '32.105099'], ['119.420471', '32.104782'], ['119.420792', '32.104691'], ['119.420975', '32.104671'], ['119.42112', '32.104679'], ['119.421295', '32.104706'], ['119.421387', '32.104725'], ['119.421478', '32.104752'], ['119.421722', '32.104855'], ['119.422096', '32.105003'], ['119.422325', '32.105103'], ['119.423637', '32.105682'], ['119.424202', '32.10593'], ['119.424339', '32.105968'], ['119.424469', '32.105988'], ['119.424629', '32.105999'], ['119.424774', '32.105968'], ['119.425606', '32.105755'], ['119.426285', '32.105606'], ['119.42659', '32.105553'], ['119.428154', '32.105316'], ['119.428612', '32.10527'], ['119.428886', '32.105255'], ['119.429131', '32.10527'], ['119.429443', '32.105305'], ['119.429726', '32.105358'], ['119.432304', '32.106022'], ['119.432579', '32.106091'], ['119.432709', '32.106125'], ['119.432907', '32.106178'], ['119.433403', '32.106308'], ['119.433884', '32.10643'], ['119.434074', '32.106453'], ['119.434235', '32.106461'], ['119.434532', '32.106434'], ['119.435753', '32.106228'], ['119.436371', '32.106117'], ['119.436913', '32.106022'], ['119.437393', '32.105934'], ['119.437393', '32.105934'], ['119.436348', '32.104691'], ['119.43438', '32.102314'], ['119.434158', '32.102051'], ['119.433998', '32.101845'], ['119.433464', '32.101215'], ['119.432999', '32.100647'], ['119.431801', '32.099209'], ['119.430809', '32.098015'], ['119.429619', '32.096584'], ['119.42942', '32.096329'], ['119.429085', '32.095928'], ['119.428886', '32.095688'], ['119.427795', '32.094368'], ['119.426865', '32.093262'], ['119.426521', '32.092861'], ['119.426003', '32.092278'], ['119.425468', '32.091766'], ['119.425079', '32.091412'], ['119.42466', '32.091061'], ['119.424614', '32.091019'], ['119.423874', '32.090435'], ['119.421875', '32.088894'], ['119.421387', '32.088516'], ['119.42054', '32.08786'], ['119.420319', '32.087688'], ['119.418816', '32.086525'], ['119.41761', '32.085606'], ['119.416039', '32.084381'], ['119.415314', '32.083794'], ['119.414978', '32.083515'], ['119.414268', '32.082882'], ['119.413292', '32.081955'], ['119.412773', '32.081425'], ['119.412445', '32.08107'], ['119.412407', '32.081047'], ['119.411865', '32.080433'], ['119.411583', '32.080078'], ['119.411285', '32.079708'], ['119.410553', '32.078762'], ['119.409904', '32.07785'], ['119.40947', '32.077183'], ['119.409042', '32.076492'], ['119.408768', '32.076057'], ['119.408142', '32.074883'], ['119.407494', '32.073494'], ['119.407303', '32.073048'], ['119.407127', '32.072601'], ['119.406883', '32.071926'], ['119.406517', '32.070866'], ['119.40641', '32.070507'], ['119.406265', '32.070034'], ['119.405975', '32.069088'], ['119.405624', '32.067936'], ['119.405464', '32.067432'], ['119.405327', '32.066967'], ['119.405464', '32.06691'], ['119.408791', '32.067074'], ['119.411858', '32.067234'], ['119.412224', '32.067261'], ['119.412285', '32.067261'], ['119.418839', '32.06768'], ['119.420578', '32.067795'], ['119.421387', '32.067883'], ['119.424469', '32.068218'], ['119.426094', '32.068344'], ['119.427361', '32.068398'], ['119.427361', '32.068398'], ['119.427528', '32.067173'], ['119.427704', '32.065441'], ['119.427704', '32.065395'], ['119.428108', '32.062241'], ['119.428207', '32.061489'], ['119.428337', '32.060356'], ['119.428337', '32.060356'], ['119.427963', '32.060329'], ['119.427582', '32.060257'], ['119.427452', '32.060226'], ['119.427048', '32.060196'], ['119.426392', '32.060146'], ['119.42585', '32.060101'], ['119.425087', '32.060036']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>