<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.372406', '32.171898'], ['119.372635', '32.171906'], ['119.372673', '32.17189'], ['119.372734', '32.171795'], ['119.372734', '32.171795'], ['119.373901', '32.171986'], ['119.373901', '32.171986'], ['119.373955', '32.171963'], ['119.374023', '32.171959'], ['119.374123', '32.172005'], ['119.374161', '32.172043'], ['119.374176', '32.172092'], ['119.374168', '32.172146'], ['119.374153', '32.172188'], ['119.374153', '32.172188'], ['119.374435', '32.172253'], ['119.374672', '32.172268'], ['119.374962', '32.172337'], ['119.374962', '32.172337'], ['119.375038', '32.171974'], ['119.375175', '32.171383'], ['119.375175', '32.171303'], ['119.375122', '32.17107'], ['119.375122', '32.17107'], ['119.375031', '32.171005'], ['119.374969', '32.170929'], ['119.374931', '32.170853'], ['119.374924', '32.170792'], ['119.374916', '32.170696'], ['119.374969', '32.170574'], ['119.375031', '32.170506'], ['119.375114', '32.170437'], ['119.375168', '32.170414'], ['119.375252', '32.170372'], ['119.375389', '32.170364'], ['119.375511', '32.170387'], ['119.37558', '32.17041'], ['119.37558', '32.17041'], ['119.37603', '32.170193'], ['119.376373', '32.169971'], ['119.377441', '32.16914'], ['119.377686', '32.168949'], ['119.37896', '32.167969'], ['119.380455', '32.166813'], ['119.383057', '32.16478'], ['119.383934', '32.164112'], ['119.384193', '32.16391'], ['119.387466', '32.161385'], ['119.388046', '32.160938'], ['119.388954', '32.16032'], ['119.389404', '32.160042'], ['119.390228', '32.159565'], ['119.390953', '32.159206'], ['119.391594', '32.158928'], ['119.392197', '32.158676'], ['119.393105', '32.158382'], ['119.39402', '32.158112'], ['119.394402', '32.158024'], ['119.395378', '32.15781'], ['119.396141', '32.157665'], ['119.397957', '32.157364'], ['119.39843', '32.157288'], ['119.399414', '32.157112'], ['119.400131', '32.156979'], ['119.40168', '32.156712'], ['119.403091', '32.156467'], ['119.404427', '32.156242'], ['119.404427', '32.156242'], ['119.404419', '32.156025'], ['119.404198', '32.155174'], ['119.403893', '32.154198'], ['119.403893', '32.154198'], ['119.403854', '32.15406'], ['119.403839', '32.153931'], ['119.403831', '32.153652'], ['119.403831', '32.153652'], ['119.403786', '32.153454'], ['119.403694', '32.153187'], ['119.403625', '32.152981'], ['119.403549', '32.152832'], ['119.40345', '32.152687'], ['119.403381', '32.152576'], ['119.403236', '32.152409'], ['119.40303', '32.152222'], ['119.402809', '32.15205'], ['119.402588', '32.15192'], ['119.402397', '32.151833'], ['119.402252', '32.151768'], ['119.402061', '32.151703'], ['119.401917', '32.151661'], ['119.401802', '32.151634'], ['119.401619', '32.151627'], ['119.401474', '32.151634'], ['119.40136', '32.15168'], ['119.401268', '32.151726'], ['119.401154', '32.151821'], ['119.401054', '32.151958'], ['119.401016', '32.152081'], ['119.401001', '32.15213'], ['119.401001', '32.152199'], ['119.401031', '32.152309'], ['119.401077', '32.152397'], ['119.401123', '32.152458'], ['119.401176', '32.152504'], ['119.401237', '32.152557'], ['119.401314', '32.152596'], ['119.401398', '32.152626'], ['119.401497', '32.152645'], ['119.401627', '32.152653'], ['119.401718', '32.152641'], ['119.401855', '32.152603'], ['119.401955', '32.152561'], ['119.402039', '32.152512'], ['119.402115', '32.152443'], ['119.402367', '32.15221'], ['119.402809', '32.151672'], ['119.403625', '32.150749'], ['119.404312', '32.150002'], ['119.404953', '32.149334'], ['119.405815', '32.148445'], ['119.406326', '32.147896'], ['119.406815', '32.147354'], ['119.407303', '32.146767'], ['119.407906', '32.145992'], ['119.408012', '32.145859'], ['119.408173', '32.145603'], ['119.408859', '32.144604'], ['119.409088', '32.144192'], ['119.409508', '32.143387'], ['119.409683', '32.143044'], ['119.409851', '32.1427'], ['119.410179', '32.141953'], ['119.410583', '32.140892'], ['119.41069', '32.140564'], ['119.410942', '32.139729'], ['119.411263', '32.138348'], ['119.411377', '32.137791'], ['119.411476', '32.137043'], ['119.411545', '32.13578'], ['119.411552', '32.13501'], ['119.411568', '32.134445'], ['119.411537', '32.133877'], ['119.411461', '32.133034'], ['119.411331', '32.132328'], ['119.411278', '32.131863'], ['119.41111', '32.130543'], ['119.410934', '32.12944'], ['119.410767', '32.127895'], ['119.410721', '32.126846'], ['119.410675', '32.126503'], ['119.410629', '32.125198'], ['119.410637', '32.124352'], ['119.410652', '32.124023'], ['119.41066', '32.122692'], ['119.41069', '32.12191'], ['119.410774', '32.120819'], ['119.410942', '32.119209'], ['119.411308', '32.116604'], ['119.41153', '32.114506'], ['119.411636', '32.113033'], ['119.411644', '32.11282'], ['119.411697', '32.11113'], ['119.411674', '32.109444'], ['119.411583', '32.107525'], ['119.411461', '32.106117'], ['119.411285', '32.104626'], ['119.411034', '32.102932'], ['119.410866', '32.102051'], ['119.410782', '32.101582'], ['119.410477', '32.100094'], ['119.409973', '32.098206'], ['119.409637', '32.097046'], ['119.409058', '32.095291'], ['119.408508', '32.093758'], ['119.407944', '32.092133'], ['119.4076', '32.091061'], ['119.407455', '32.090611'], ['119.407104', '32.089371'], ['119.406853', '32.088451'], ['119.406456', '32.086761'], ['119.40625', '32.085663'], ['119.40609', '32.084934'], ['119.405914', '32.083889'], ['119.405914', '32.083889'], ['119.405785', '32.083607'], ['119.405708', '32.083248'], ['119.405647', '32.083038'], ['119.40554', '32.082775'], ['119.405449', '32.08263'], ['119.40538', '32.082539'], ['119.405273', '32.082436'], ['119.405174', '32.082355'], ['119.405067', '32.082294'], ['119.404976', '32.082253'], ['119.404892', '32.082226'], ['119.404816', '32.082211'], ['119.404739', '32.082211'], ['119.404587', '32.082222'], ['119.404465', '32.082264'], ['119.404335', '32.082321'], ['119.404228', '32.08242'], ['119.40419', '32.08247'], ['119.404121', '32.082588'], ['119.404099', '32.082695'], ['119.404091', '32.082748'], ['119.404099', '32.082813'], ['119.404121', '32.082901'], ['119.404152', '32.082958'], ['119.40419', '32.083015'], ['119.404228', '32.083069'], ['119.404282', '32.083126'], ['119.404381', '32.083187'], ['119.404488', '32.083252'], ['119.40464', '32.083317'], ['119.404701', '32.083336'], ['119.404854', '32.083382'], ['119.405029', '32.083427'], ['119.405212', '32.083462'], ['119.405426', '32.083488'], ['119.405739', '32.083492'], ['119.406059', '32.083469'], ['119.406326', '32.083424'], ['119.406593', '32.083347'], ['119.406708', '32.083313'], ['119.406952', '32.083221'], ['119.407906', '32.082836'], ['119.408554', '32.082539'], ['119.408768', '32.082447'], ['119.409042', '32.082314'], ['119.409309', '32.082211'], ['119.409309', '32.082211'], ['119.409485', '32.082142'], ['119.409714', '32.082096'], ['119.409912', '32.082043'], ['119.410179', '32.081928'], ['119.410744', '32.081707'], ['119.411446', '32.081429'], ['119.41217', '32.081139'], ['119.412407', '32.081047'], ['119.412407', '32.081047'], ['119.411865', '32.080433'], ['119.411583', '32.080078'], ['119.411285', '32.079708'], ['119.410553', '32.078762'], ['119.409904', '32.07785'], ['119.40947', '32.077183'], ['119.409042', '32.076492'], ['119.408768', '32.076057'], ['119.408142', '32.074883'], ['119.407494', '32.073494'], ['119.407303', '32.073048'], ['119.407127', '32.072601'], ['119.406883', '32.071926'], ['119.406517', '32.070866'], ['119.40641', '32.070507'], ['119.406265', '32.070034'], ['119.405975', '32.069088'], ['119.405624', '32.067936'], ['119.405464', '32.067432'], ['119.405327', '32.066967'], ['119.405464', '32.06691'], ['119.408791', '32.067074'], ['119.411858', '32.067234'], ['119.412224', '32.067261'], ['119.412285', '32.067261'], ['119.418839', '32.06768'], ['119.420578', '32.067795'], ['119.421387', '32.067883'], ['119.424469', '32.068218'], ['119.426094', '32.068344'], ['119.427361', '32.068398'], ['119.427361', '32.068398'], ['119.427528', '32.067173'], ['119.427704', '32.065441'], ['119.427704', '32.065395'], ['119.428108', '32.062241'], ['119.428207', '32.061489'], ['119.428337', '32.060356'], ['119.428337', '32.060356'], ['119.427963', '32.060329'], ['119.427582', '32.060257'], ['119.427452', '32.060226'], ['119.427048', '32.060196'], ['119.426392', '32.060146'], ['119.42585', '32.060101'], ['119.425087', '32.060036']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>