<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.085236', '39.515427'], ['118.085327', '39.514664'], ['118.085434', '39.513599'], ['118.085518', '39.512764'], ['118.085609', '39.511742'], ['118.085823', '39.509861'], ['118.085953', '39.509708'], ['118.088737', '39.509987'], ['118.089645', '39.510071'], ['118.089859', '39.510075'], ['118.090195', '39.510067'], ['118.090424', '39.510044'], ['118.090668', '39.509998'], ['118.091125', '39.509892'], ['118.091705', '39.509747'], ['118.091904', '39.509716'], ['118.092133', '39.509701'], ['118.092384', '39.509701'], ['118.092644', '39.509735'], ['118.092972', '39.509804'], ['118.093185', '39.509888'], ['118.093521', '39.510048'], ['118.094177', '39.510422'], ['118.094482', '39.510578'], ['118.094826', '39.510723'], ['118.095093', '39.510822'], ['118.09539', '39.51091'], ['118.095673', '39.510983'], ['118.097206', '39.511303'], ['118.098297', '39.511478'], ['118.098503', '39.511547'], ['118.099068', '39.511593'], ['118.099625', '39.511635'], ['118.099625', '39.511635'], ['118.100914', '39.511612'], ['118.101341', '39.511627'], ['118.102318', '39.511715'], ['118.10302', '39.511742'], ['118.103561', '39.511761'], ['118.104927', '39.51181'], ['118.104927', '39.51181'], ['118.105011', '39.511414'], ['118.105118', '39.510868'], ['118.105179', '39.510456'], ['118.105209', '39.510101'], ['118.10527', '39.508976'], ['118.105385', '39.506836'], ['118.105515', '39.504761'], ['118.105583', '39.504192'], ['118.105652', '39.503857'], ['118.105713', '39.503632'], ['118.105896', '39.503185'], ['118.106224', '39.502529'], ['118.1064', '39.502251'], ['118.106621', '39.501919'], ['118.106842', '39.501652'], ['118.10714', '39.501328'], ['118.108009', '39.500397'], ['118.108841', '39.499531'], ['118.10939', '39.498966'], ['118.110664', '39.497639'], ['118.111259', '39.497017'], ['118.112396', '39.495846'], ['118.112686', '39.495552'], ['118.113266', '39.494946'], ['118.113525', '39.494667'], ['118.113708', '39.494499'], ['118.113914', '39.494274'], ['118.114418', '39.493744'], ['118.114799', '39.493343'], ['118.115356', '39.492767'], ['118.11573', '39.492378'], ['118.117279', '39.490749'], ['118.117775', '39.490246'], ['118.11792', '39.490101'], ['118.120201', '39.48769'], ['118.120895', '39.48687'], ['118.121513', '39.486115'], ['118.121849', '39.485676'], ['118.122421', '39.484863'], ['118.122475', '39.484787'], ['118.122749', '39.484375'], ['118.123283', '39.483517'], ['118.12381', '39.482559'], ['118.124199', '39.481781'], ['118.124519', '39.481094'], ['118.12471', '39.480637'], ['118.124992', '39.479889'], ['118.125153', '39.479481'], ['118.125397', '39.478764'], ['118.12561', '39.478024'], ['118.125763', '39.477413'], ['118.125938', '39.476669'], ['118.126106', '39.475906'], ['118.126144', '39.475689'], ['118.126144', '39.475689'], ['118.126251', '39.475643'], ['118.129074', '39.475319'], ['118.131401', '39.475021'], ['118.133156', '39.474819'], ['118.137192', '39.474316'], ['118.138603', '39.474136'], ['118.140686', '39.473877'], ['118.142258', '39.473675'], ['118.142296', '39.473675'], ['118.14624', '39.473179'], ['118.146332', '39.47319'], ['118.146973', '39.473106'], ['118.152039', '39.472466'], ['118.153297', '39.472305'], ['118.157608', '39.47176'], ['118.160316', '39.471405'], ['118.16095', '39.471333'], ['118.162575', '39.471199'], ['118.165909', '39.471088'], ['118.168945', '39.470989'], ['118.173752', '39.470825'], ['118.174713', '39.470806'], ['118.176483', '39.470768'], ['118.17704', '39.470791'], ['118.178215', '39.470894'], ['118.178741', '39.470966'], ['118.179848', '39.471172'], ['118.180435', '39.471317'], ['118.181412', '39.471607'], ['118.181938', '39.471794'], ['118.182434', '39.471992'], ['118.182854', '39.472172'], ['118.183388', '39.472427'], ['118.183922', '39.472717'], ['118.184448', '39.473019'], ['118.184776', '39.473228'], ['118.185661', '39.473877'], ['118.18573', '39.47393'], ['118.187042', '39.474968'], ['118.190643', '39.477863'], ['118.190918', '39.478085'], ['118.191414', '39.478474'], ['118.192635', '39.479458'], ['118.193993', '39.480556'], ['118.194359', '39.480824'], ['118.194695', '39.481045'], ['118.19503', '39.481239'], ['118.195633', '39.481548'], ['118.196548', '39.481884'], ['118.196861', '39.481972'], ['118.197189', '39.482044'], ['118.197609', '39.482113'], ['118.198212', '39.482174'], ['118.203949', '39.482605'], ['118.212051', '39.483341'], ['118.212891', '39.483414'], ['118.214066', '39.483513'], ['118.214882', '39.483616'], ['118.215279', '39.483685'], ['118.215736', '39.483795'], ['118.216125', '39.483902'], ['118.2164', '39.483986'], ['118.21698', '39.484192'], ['118.218521', '39.484787'], ['118.218719', '39.484863'], ['118.220665', '39.48563'], ['118.221024', '39.485802'], ['118.221024', '39.485802'], ['118.221443', '39.485573'], ['118.222198', '39.485249'], ['118.223328', '39.484863'], ['118.224419', '39.484474'], ['118.224693', '39.484364'], ['118.225616', '39.484016'], ['118.228226', '39.482929'], ['118.228683', '39.482738'], ['118.229813', '39.482227'], ['118.230385', '39.481987'], ['118.231888', '39.481339'], ['118.233688', '39.480541'], ['118.234863', '39.480026'], ['118.236328', '39.479382'], ['118.237953', '39.478661'], ['118.238838', '39.478344'], ['118.239624', '39.478085'], ['118.240288', '39.477905'], ['118.241272', '39.477688'], ['118.24157', '39.477627'], ['118.242439', '39.477413'], ['118.24305', '39.477245'], ['118.243683', '39.477039'], ['118.244133', '39.476868'], ['118.244957', '39.476532'], ['118.245522', '39.476284'], ['118.246223', '39.475941'], ['118.247223', '39.475449'], ['118.247688', '39.475227'], ['118.248184', '39.474987'], ['118.248589', '39.474819'], ['118.248993', '39.47467'], ['118.249428', '39.474533'], ['118.249954', '39.474422'], ['118.250427', '39.474339'], ['118.251633', '39.474346'], ['118.252571', '39.474377'], ['118.255493', '39.474533'], ['118.256119', '39.474564'], ['118.256836', '39.47459'], ['118.257019', '39.474602'], ['118.257797', '39.474583'], ['118.258148', '39.474548'], ['118.25885', '39.474449'], ['118.259598', '39.47427'], ['118.259972', '39.474159'], ['118.260681', '39.473942'], ['118.260872', '39.473877'], ['118.263908', '39.472862'], ['118.265739', '39.472248'], ['118.266327', '39.472046'], ['118.267387', '39.471684'], ['118.268463', '39.471291'], ['118.269287', '39.470932'], ['118.269875', '39.470631'], ['118.270157', '39.470463'], ['118.271744', '39.469521'], ['118.272034', '39.46936'], ['118.272636', '39.469074'], ['118.273582', '39.468681'], ['118.274185', '39.468468'], ['118.274841', '39.468227'], ['118.275124', '39.468124'], ['118.275185', '39.468102'], ['118.275558', '39.467964'], ['118.277145', '39.46735'], ['118.277603', '39.467144'], ['118.277954', '39.466908'], ['118.278419', '39.466484'], ['118.278664', '39.46624'], ['118.278809', '39.466084'], ['118.279915', '39.464901'], ['118.280281', '39.464497'], ['118.280563', '39.464176'], ['118.281326', '39.463367'], ['118.281479', '39.463196'], ['118.281761', '39.462891'], ['118.282097', '39.462528'], ['118.282646', '39.461926'], ['118.283066', '39.461506'], ['118.283485', '39.461174'], ['118.283852', '39.460926'], ['118.284248', '39.460693'], ['118.284737', '39.460495'], ['118.285172', '39.460339'], ['118.285614', '39.460217'], ['118.286079', '39.460121'], ['118.286255', '39.460102'], ['118.286781', '39.460068'], ['118.287491', '39.460075'], ['118.287971', '39.460106'], ['118.288803', '39.460197'], ['118.290398', '39.460396'], ['118.291908', '39.46056'], ['118.293381', '39.460712'], ['118.293617', '39.460716'], ['118.294167', '39.46069'], ['118.294754', '39.460632'], ['118.295158', '39.460564'], ['118.295723', '39.460426'], ['118.296165', '39.460285'], ['118.296692', '39.460068'], ['118.297684', '39.45956'], ['118.30011', '39.458221'], ['118.300659', '39.457912'], ['118.300659', '39.457912'], ['118.300491', '39.457462'], ['118.300438', '39.457272'], ['118.300354', '39.457104'], ['118.30024', '39.456715'], ['118.299637', '39.455009'], ['118.299545', '39.454693'], ['118.299538', '39.454449'], ['118.299522', '39.454334'], ['118.299477', '39.454201'], ['118.299377', '39.454048'], ['118.29863', '39.453163'], ['118.29792', '39.452328'], ['118.297554', '39.4519'], ['118.297188', '39.451466'], ['118.29615', '39.450237'], ['118.295326', '39.449253'], ['118.294586', '39.448372'], ['118.29438', '39.448128'], ['118.293633', '39.447239'], ['118.293388', '39.446941'], ['118.292862', '39.44632'], ['118.292709', '39.446095'], ['118.29261', '39.445896'], ['118.292168', '39.444855'], ['118.291847', '39.444103'], ['118.291771', '39.44392'], ['118.291656', '39.443634'], ['118.291534', '39.443363'], ['118.291397', '39.44289'], ['118.291206', '39.442101'], ['118.291191', '39.441917'], ['118.291183', '39.44146'], ['118.291183', '39.440914'], ['118.291176', '39.440483'], ['118.291153', '39.438614'], ['118.291176', '39.436607'], ['118.291176', '39.434864'], ['118.291145', '39.434151'], ['118.29113', '39.433197'], ['118.291122', '39.432915'], ['118.2911', '39.432671'], ['118.291039', '39.432323'], ['118.290916', '39.431984'], ['118.290726', '39.431377'], ['118.290527', '39.430775'], ['118.290237', '39.429928'], ['118.290016', '39.429272'], ['118.290016', '39.429272'], ['118.291389', '39.428963'], ['118.291626', '39.428909'], ['118.29483', '39.428192'], ['118.296967', '39.427689'], ['118.298172', '39.427414'], ['118.299637', '39.427078'], ['118.300041', '39.427017'], ['118.300377', '39.426998'], ['118.300781', '39.427032'], ['118.301216', '39.427052'], ['118.301476', '39.427048'], ['118.301476', '39.427048'], ['118.301453', '39.426754'], ['118.301308', '39.426098'], ['118.301308', '39.426098'], ['118.301804', '39.425957']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>