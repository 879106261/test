<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.564301', '36.719063'], ['117.564194', '36.718441'], ['117.56414', '36.717911'], ['117.56414', '36.717911'], ['117.563019', '36.718243'], ['117.562302', '36.718452'], ['117.561172', '36.718784'], ['117.560699', '36.718925'], ['117.559326', '36.719315'], ['117.559059', '36.719395'], ['117.557831', '36.719707'], ['117.556335', '36.720036'], ['117.555908', '36.720119'], ['117.554993', '36.720276'], ['117.554337', '36.720379'], ['117.553703', '36.720451'], ['117.553268', '36.720505'], ['117.552353', '36.720642'], ['117.551453', '36.720757'], ['117.550827', '36.720829'], ['117.549988', '36.720924'], ['117.54953', '36.720982'], ['117.549431', '36.720993'], ['117.54847', '36.721107'], ['117.547348', '36.721241'], ['117.546402', '36.721359'], ['117.544373', '36.721603'], ['117.542435', '36.721848'], ['117.540955', '36.722046'], ['117.540298', '36.722153'], ['117.539825', '36.722233'], ['117.539375', '36.722313'], ['117.538696', '36.722462'], ['117.5364', '36.722946'], ['117.535461', '36.723141'], ['117.533852', '36.723476'], ['117.533508', '36.723557'], ['117.531731', '36.723942'], ['117.530884', '36.724125'], ['117.529343', '36.724449'], ['117.528961', '36.724537'], ['117.527466', '36.724827'], ['117.525368', '36.725262'], ['117.524704', '36.725403'], ['117.523598', '36.725628'], ['117.52314', '36.725739'], ['117.522133', '36.725948'], ['117.521179', '36.726109'], ['117.520264', '36.726212'], ['117.519585', '36.726242'], ['117.519188', '36.726246'], ['117.518578', '36.72625'], ['117.518181', '36.726257'], ['117.517792', '36.726257'], ['117.517166', '36.726257'], ['117.516312', '36.726261'], ['117.515984', '36.726261'], ['117.515778', '36.726261'], ['117.515114', '36.726265'], ['117.514626', '36.726273'], ['117.51403', '36.726303'], ['117.512772', '36.726402'], ['117.512497', '36.726425'], ['117.512177', '36.726452'], ['117.511757', '36.726494'], ['117.510788', '36.726597'], ['117.509995', '36.726688'], ['117.509766', '36.726719'], ['117.509636', '36.726727'], ['117.508888', '36.726803'], ['117.508232', '36.726879'], ['117.506752', '36.727039'], ['117.506569', '36.727062'], ['117.50605', '36.727112'], ['117.5056', '36.727165'], ['117.505402', '36.727188'], ['117.504517', '36.727283'], ['117.50441', '36.727291'], ['117.50341', '36.727402'], ['117.502525', '36.727497'], ['117.502426', '36.727509'], ['117.500496', '36.727718'], ['117.500122', '36.727757'], ['117.499977', '36.727768'], ['117.499519', '36.727825'], ['117.499123', '36.727863'], ['117.497795', '36.728008'], ['117.497086', '36.728081'], ['117.49659', '36.728134'], ['117.496437', '36.728149'], ['117.496071', '36.728195'], ['117.495659', '36.728237'], ['117.495132', '36.728294'], ['117.494583', '36.728382'], ['117.494034', '36.728485'], ['117.493408', '36.728626'], ['117.492554', '36.72887'], ['117.491821', '36.729115'], ['117.489128', '36.730236'], ['117.488159', '36.730621'], ['117.487785', '36.730743'], ['117.487473', '36.730835'], ['117.486923', '36.730972'], ['117.486412', '36.731064'], ['117.485901', '36.731129'], ['117.485107', '36.731174'], ['117.481537', '36.731197'], ['117.480629', '36.731201'], ['117.480354', '36.731201'], ['117.478966', '36.731216'], ['117.477783', '36.731266'], ['117.474136', '36.731483'], ['117.473991', '36.731377'], ['117.473938', '36.72995'], ['117.4739', '36.728909'], ['117.473854', '36.728561'], ['117.473724', '36.728069'], ['117.473602', '36.727757'], ['117.473396', '36.727329'], ['117.473381', '36.727291'], ['117.472656', '36.725941'], ['117.472534', '36.725689'], ['117.472466', '36.725559'], ['117.472038', '36.72467'], ['117.471741', '36.723953'], ['117.471611', '36.723579'], ['117.471497', '36.72311'], ['117.471443', '36.722839'], ['117.471397', '36.722515'], ['117.471336', '36.722012'], ['117.471291', '36.721729'], ['117.471199', '36.720711'], ['117.470993', '36.718719'], ['117.470879', '36.717651'], ['117.47081', '36.717266'], ['117.470741', '36.716919'], ['117.470581', '36.716431'], ['117.470535', '36.716305'], ['117.470482', '36.716183'], ['117.470276', '36.715721'], ['117.470062', '36.715328'], ['117.469887', '36.715061'], ['117.469589', '36.714661'], ['117.469223', '36.714237'], ['117.468758', '36.713757'], ['117.467766', '36.712791'], ['117.467209', '36.712196'], ['117.466782', '36.711689'], ['117.466629', '36.711491'], ['117.466438', '36.711166'], ['117.466011', '36.710438'], ['117.46595', '36.710281'], ['117.46582', '36.709854'], ['117.465805', '36.709812'], ['117.465706', '36.709461'], ['117.46563', '36.709095'], ['117.465561', '36.708717'], ['117.465508', '36.708302'], ['117.465416', '36.707218'], ['117.46534', '36.706299'], ['117.465263', '36.705318'], ['117.465225', '36.70475'], ['117.465172', '36.704136'], ['117.464798', '36.69965'], ['117.464745', '36.698952'], ['117.464539', '36.696377'], ['117.464462', '36.695637'], ['117.464363', '36.694336'], ['117.464333', '36.693867'], ['117.464333', '36.693867'], ['117.464188', '36.693726'], ['117.464035', '36.693615'], ['117.46389', '36.693535'], ['117.463623', '36.693432'], ['117.462143', '36.693439'], ['117.460358', '36.693451'], ['117.457314', '36.69347'], ['117.456184', '36.69347'], ['117.453415', '36.693485'], ['117.452286', '36.69347'], ['117.450897', '36.693394'], ['117.449608', '36.693279'], ['117.448151', '36.693104'], ['117.446205', '36.692875'], ['117.444641', '36.692692'], ['117.443848', '36.692623'], ['117.443268', '36.692574'], ['117.442001', '36.692505'], ['117.440331', '36.692486'], ['117.437279', '36.692505'], ['117.433388', '36.692528'], ['117.433128', '36.692528'], ['117.432686', '36.692532'], ['117.432304', '36.692532'], ['117.430473', '36.692543'], ['117.428337', '36.692551'], ['117.427063', '36.692554'], ['117.421875', '36.692577'], ['117.421837', '36.692577'], ['117.421692', '36.692577'], ['117.417953', '36.6926'], ['117.414162', '36.692612'], ['117.413094', '36.692619'], ['117.411743', '36.692623'], ['117.409981', '36.692627'], ['117.408714', '36.692627'], ['117.408104', '36.692627'], ['117.405708', '36.692638'], ['117.40406', '36.692646'], ['117.402809', '36.692646'], ['117.401199', '36.692646'], ['117.399902', '36.692654'], ['117.398758', '36.692661'], ['117.396576', '36.692669'], ['117.392738', '36.69268'], ['117.390472', '36.692688'], ['117.386322', '36.692699'], ['117.386292', '36.692692'], ['117.383179', '36.692703'], ['117.381508', '36.692703'], ['117.381241', '36.692703'], ['117.379547', '36.692707'], ['117.377953', '36.692715'], ['117.37793', '36.692715'], ['117.376846', '36.692715'], ['117.375443', '36.692719'], ['117.374115', '36.692719'], ['117.372673', '36.692745'], ['117.372185', '36.692772'], ['117.371277', '36.692852'], ['117.369896', '36.693043'], ['117.365829', '36.693634'], ['117.365326', '36.693684'], ['117.365028', '36.693703'], ['117.36351', '36.693737'], ['117.36235', '36.693764'], ['117.358627', '36.693867'], ['117.356232', '36.693932'], ['117.355957', '36.693939'], ['117.353447', '36.693996'], ['117.349792', '36.694073'], ['117.347992', '36.694115'], ['117.346268', '36.694149'], ['117.344276', '36.694195'], ['117.341301', '36.694275'], ['117.339058', '36.694313'], ['117.338737', '36.694321'], ['117.338196', '36.694336'], ['117.335754', '36.694386'], ['117.334358', '36.694408'], ['117.333984', '36.694412'], ['117.332169', '36.694458'], ['117.329094', '36.694527'], ['117.328949', '36.694527'], ['117.327736', '36.694553'], ['117.326622', '36.694576'], ['117.326439', '36.694576'], ['117.324242', '36.694622'], ['117.322197', '36.694672'], ['117.321991', '36.694672'], ['117.319016', '36.69474'], ['117.31633', '36.694813'], ['117.315254', '36.694904'], ['117.314285', '36.695023'], ['117.313896', '36.695065'], ['117.312012', '36.695297'], ['117.310783', '36.69545'], ['117.310471', '36.695477'], ['117.310158', '36.695492'], ['117.307442', '36.69548'], ['117.307343', '36.69548'], ['117.304932', '36.695499'], ['117.304184', '36.695488'], ['117.300301', '36.695492'], ['117.297073', '36.695499'], ['117.292755', '36.695507'], ['117.29261', '36.695507'], ['117.290039', '36.695511'], ['117.286636', '36.695518'], ['117.283928', '36.695526'], ['117.282883', '36.695526'], ['117.282799', '36.695526'], ['117.281479', '36.69553'], ['117.278908', '36.695534'], ['117.274651', '36.695541'], ['117.274109', '36.695541'], ['117.272957', '36.695541'], ['117.270935', '36.695541'], ['117.270844', '36.695541'], ['117.268181', '36.695381'], ['117.268059', '36.695374'], ['117.262718', '36.695023'], ['117.26265', '36.695015'], ['117.262558', '36.695007'], ['117.259644', '36.694843'], ['117.257431', '36.694691'], ['117.255989', '36.694592'], ['117.255417', '36.694557'], ['117.254868', '36.69453'], ['117.254456', '36.69453'], ['117.253761', '36.694553'], ['117.251137', '36.694801'], ['117.248917', '36.695023'], ['117.248604', '36.695034'], ['117.248184', '36.695023'], ['117.24765', '36.694939'], ['117.247215', '36.694813'], ['117.246803', '36.694641'], ['117.246399', '36.694416'], ['117.246284', '36.694336'], ['117.246101', '36.694187'], ['117.246056', '36.694157'], ['117.245758', '36.693871'], ['117.245003', '36.692886'], ['117.243706', '36.691166'], ['117.243484', '36.69091'], ['117.243225', '36.690643'], ['117.242889', '36.690369'], ['117.242516', '36.690155'], ['117.242241', '36.690037'], ['117.241966', '36.689934'], ['117.241501', '36.689823'], ['117.241173', '36.689774'], ['117.240654', '36.689758'], ['117.240555', '36.689758'], ['117.237831', '36.689796'], ['117.237381', '36.689804'], ['117.236229', '36.689823'], ['117.235641', '36.689838'], ['117.233475', '36.689873'], ['117.233383', '36.68988'], ['117.230888', '36.689915'], ['117.230568', '36.689919'], ['117.229225', '36.689972'], ['117.228752', '36.689995'], ['117.226341', '36.690144'], ['117.226128', '36.690155'], ['117.224113', '36.690277'], ['117.223671', '36.690304'], ['117.223297', '36.690331'], ['117.222595', '36.690384'], ['117.222397', '36.690395'], ['117.219826', '36.690556'], ['117.219688', '36.690567'], ['117.217392', '36.690701'], ['117.217041', '36.690716'], ['117.215706', '36.690777'], ['117.214577', '36.690819'], ['117.214432', '36.690823'], ['117.212791', '36.690884'], ['117.212234', '36.690884'], ['117.210526', '36.690941'], ['117.210014', '36.690956'], ['117.209473', '36.690929'], ['117.209045', '36.69088'], ['117.208389', '36.690762'], ['117.207733', '36.690586'], ['117.207253', '36.690418'], ['117.206833', '36.690247'], ['117.206314', '36.689999'], ['117.204803', '36.689285'], ['117.204163', '36.689022'], ['117.203362', '36.688755'], ['117.203056', '36.688679'], ['117.202454', '36.688545'], ['117.202148', '36.688499'], ['117.201668', '36.688431'], ['117.200882', '36.688366'], ['117.200592', '36.688358'], ['117.198303', '36.68837'], ['117.197548', '36.68837'], ['117.196526', '36.688374'], ['117.193497', '36.688393'], ['117.193428', '36.688393'], ['117.190887', '36.688404'], ['117.187019', '36.688431'], ['117.186928', '36.688431'], ['117.185562', '36.688431'], ['117.18309', '36.688442'], ['117.182266', '36.688442'], ['117.181931', '36.68845'], ['117.181549', '36.68845'], ['117.180885', '36.688454'], ['117.180176', '36.688454'], ['117.175903', '36.688477'], ['117.175812', '36.688477'], ['117.174347', '36.68848'], ['117.168839', '36.688511'], ['117.164993', '36.688534'], ['117.160713', '36.688545'], ['117.15937', '36.688564'], ['117.158203', '36.688717'], ['117.156166', '36.689007'], ['117.15432', '36.689259'], ['117.153389', '36.689346'], ['117.152901', '36.689362'], ['117.152435', '36.689365'], ['117.151886', '36.68935'], ['117.151642', '36.689362'], ['117.150833', '36.68935'], ['117.150375', '36.689346'], ['117.149536', '36.689323'], ['117.147797', '36.689297'], ['117.147606', '36.689178'], ['117.147728', '36.687389'], ['117.147728', '36.687389'], ['117.146675', '36.687355'], ['117.145874', '36.687302'], ['117.145256', '36.687191'], ['117.144943', '36.687119'], ['117.144646', '36.687038'], ['117.144135', '36.686859'], ['117.143677', '36.686642'], ['117.142464', '36.686062'], ['117.142326', '36.685997'], ['117.141647', '36.685669'], ['117.140244', '36.684994'], ['117.139183', '36.684479'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>