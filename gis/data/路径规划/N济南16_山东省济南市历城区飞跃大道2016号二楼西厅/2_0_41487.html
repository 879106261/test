<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.564301', '36.719063'], ['117.564194', '36.718441'], ['117.56414', '36.717911'], ['117.56414', '36.717911'], ['117.563019', '36.718243'], ['117.562302', '36.718452'], ['117.561172', '36.718784'], ['117.560699', '36.718925'], ['117.559326', '36.719315'], ['117.559059', '36.719395'], ['117.557831', '36.719707'], ['117.556335', '36.720036'], ['117.555908', '36.720119'], ['117.554993', '36.720276'], ['117.554337', '36.720379'], ['117.553703', '36.720451'], ['117.553268', '36.720505'], ['117.552353', '36.720642'], ['117.551453', '36.720757'], ['117.550827', '36.720829'], ['117.549988', '36.720924'], ['117.54953', '36.720982'], ['117.549431', '36.720993'], ['117.54847', '36.721107'], ['117.547348', '36.721241'], ['117.546402', '36.721359'], ['117.544373', '36.721603'], ['117.542435', '36.721848'], ['117.540955', '36.722046'], ['117.540298', '36.722153'], ['117.539825', '36.722233'], ['117.539375', '36.722313'], ['117.538696', '36.722462'], ['117.5364', '36.722946'], ['117.535461', '36.723141'], ['117.533852', '36.723476'], ['117.533508', '36.723557'], ['117.531731', '36.723942'], ['117.530884', '36.724125'], ['117.529343', '36.724449'], ['117.528961', '36.724537'], ['117.527466', '36.724827'], ['117.525368', '36.725262'], ['117.524704', '36.725403'], ['117.523598', '36.725628'], ['117.52314', '36.725739'], ['117.522133', '36.725948'], ['117.521179', '36.726109'], ['117.520264', '36.726212'], ['117.519585', '36.726242'], ['117.519188', '36.726246'], ['117.518578', '36.72625'], ['117.518181', '36.726257'], ['117.517792', '36.726257'], ['117.517166', '36.726257'], ['117.516312', '36.726261'], ['117.515984', '36.726261'], ['117.515778', '36.726261'], ['117.515114', '36.726265'], ['117.514626', '36.726273'], ['117.51403', '36.726303'], ['117.512772', '36.726402'], ['117.512497', '36.726425'], ['117.512177', '36.726452'], ['117.511757', '36.726494'], ['117.510788', '36.726597'], ['117.509995', '36.726688'], ['117.509766', '36.726719'], ['117.509636', '36.726727'], ['117.508888', '36.726803'], ['117.508232', '36.726879'], ['117.506752', '36.727039'], ['117.506569', '36.727062'], ['117.50605', '36.727112'], ['117.5056', '36.727165'], ['117.505402', '36.727188'], ['117.504517', '36.727283'], ['117.50441', '36.727291'], ['117.50341', '36.727402'], ['117.502525', '36.727497'], ['117.502426', '36.727509'], ['117.500496', '36.727718'], ['117.500122', '36.727757'], ['117.499977', '36.727768'], ['117.499519', '36.727825'], ['117.499123', '36.727863'], ['117.497795', '36.728008'], ['117.497086', '36.728081'], ['117.49659', '36.728134'], ['117.496437', '36.728149'], ['117.496071', '36.728195'], ['117.495659', '36.728237'], ['117.495132', '36.728294'], ['117.494583', '36.728382'], ['117.494034', '36.728485'], ['117.493408', '36.728626'], ['117.492554', '36.72887'], ['117.491821', '36.729115'], ['117.489128', '36.730236'], ['117.488159', '36.730621'], ['117.487785', '36.730743'], ['117.487473', '36.730835'], ['117.486923', '36.730972'], ['117.486412', '36.731064'], ['117.485901', '36.731129'], ['117.485107', '36.731174'], ['117.481537', '36.731197'], ['117.480629', '36.731201'], ['117.480354', '36.731201'], ['117.478966', '36.731216'], ['117.477783', '36.731266'], ['117.474136', '36.731483'], ['117.473991', '36.731487'], ['117.471741', '36.731606'], ['117.470833', '36.731655'], ['117.468361', '36.731789'], ['117.467697', '36.731819'], ['117.466904', '36.731873'], ['117.466454', '36.731899'], ['117.46582', '36.73193'], ['117.465172', '36.731972'], ['117.464714', '36.731995'], ['117.46373', '36.732052'], ['117.462669', '36.732121'], ['117.462112', '36.732159'], ['117.461777', '36.732174'], ['117.460823', '36.732224'], ['117.460373', '36.732243'], ['117.460228', '36.73225'], ['117.459351', '36.732296'], ['117.458939', '36.732319'], ['117.457077', '36.732422'], ['117.455833', '36.732494'], ['117.45504', '36.73254'], ['117.453812', '36.732609'], ['117.453339', '36.732635'], ['117.451958', '36.732719'], ['117.451309', '36.732761'], ['117.450508', '36.732796'], ['117.449867', '36.732796'], ['117.448853', '36.732765'], ['117.44751', '36.732723'], ['117.445229', '36.732647'], ['117.443848', '36.732601'], ['117.443512', '36.73259'], ['117.442459', '36.732586'], ['117.44223', '36.732582'], ['117.44178', '36.732586'], ['117.440231', '36.732609'], ['117.438385', '36.732635'], ['117.437767', '36.732647'], ['117.436348', '36.73267'], ['117.434425', '36.732697'], ['117.434319', '36.732697'], ['117.433441', '36.732712'], ['117.432793', '36.732719'], ['117.432037', '36.732727'], ['117.429855', '36.732761'], ['117.42717', '36.732796'], ['117.426888', '36.732803'], ['117.423332', '36.732853'], ['117.421997', '36.732861'], ['117.421852', '36.732864'], ['117.419464', '36.732899'], ['117.419403', '36.732899'], ['117.418732', '36.73291'], ['117.416771', '36.732933'], ['117.416321', '36.732941'], ['117.415771', '36.732948'], ['117.41552', '36.732952'], ['117.414925', '36.732967'], ['117.414101', '36.733009'], ['117.413261', '36.733078'], ['117.412552', '36.733158'], ['117.411674', '36.733292'], ['117.410851', '36.733448'], ['117.408966', '36.733814'], ['117.407166', '36.73418'], ['117.404907', '36.734634'], ['117.401848', '36.73526'], ['117.400742', '36.73547'], ['117.39994', '36.735592'], ['117.399902', '36.7356'], ['117.399467', '36.735653'], ['117.398781', '36.735714'], ['117.398193', '36.735752'], ['117.397316', '36.735767'], ['117.396133', '36.735748'], ['117.394577', '36.735687'], ['117.392838', '36.735615'], ['117.392365', '36.735607'], ['117.39003', '36.735512'], ['117.388756', '36.735455'], ['117.388344', '36.735443'], ['117.388008', '36.735428'], ['117.387558', '36.735413'], ['117.387321', '36.735409'], ['117.384445', '36.735313'], ['117.381775', '36.735199'], ['117.381371', '36.735191'], ['117.381256', '36.735184'], ['117.3797', '36.735134'], ['117.379547', '36.73513'], ['117.378487', '36.735088'], ['117.37793', '36.735062'], ['117.377632', '36.73505'], ['117.376945', '36.73502'], ['117.376045', '36.734978'], ['117.372406', '36.734825'], ['117.371819', '36.734795'], ['117.370575', '36.734749'], ['117.369858', '36.734753'], ['117.368942', '36.734818'], ['117.36824', '36.734928'], ['117.367874', '36.735001'], ['117.367378', '36.735126'], ['117.366905', '36.735268'], ['117.366341', '36.735474'], ['117.365509', '36.735832'], ['117.36467', '36.736168'], ['117.364037', '36.736397'], ['117.363548', '36.736542'], ['117.363251', '36.736614'], ['117.362579', '36.736736'], ['117.361671', '36.736816'], ['117.361153', '36.736835'], ['117.360802', '36.736828'], ['117.358437', '36.736671'], ['117.356743', '36.736561'], ['117.355957', '36.736511'], ['117.355515', '36.736477'], ['117.353508', '36.736343'], ['117.350708', '36.736156'], ['117.349632', '36.736103'], ['117.349365', '36.736088'], ['117.348907', '36.736103'], ['117.348358', '36.736137'], ['117.347679', '36.736225'], ['117.34761', '36.73624'], ['117.346909', '36.736385'], ['117.346039', '36.73661'], ['117.344101', '36.737148'], ['117.343452', '36.737312'], ['117.343025', '36.737381'], ['117.341393', '36.73745'], ['117.34024', '36.737476'], ['117.339043', '36.737465'], ['117.338722', '36.737465'], ['117.336441', '36.737545'], ['117.336136', '36.737556'], ['117.335495', '36.737564'], ['117.334702', '36.737587'], ['117.334473', '36.737598'], ['117.333984', '36.737614'], ['117.333191', '36.737656'], ['117.331947', '36.737694'], ['117.32943', '36.737782'], ['117.327919', '36.737835'], ['117.326691', '36.737877'], ['117.326286', '36.737888'], ['117.325279', '36.73793'], ['117.324715', '36.737946'], ['117.324448', '36.737957'], ['117.322594', '36.737995'], ['117.321381', '36.737995'], ['117.321304', '36.737991'], ['117.319351', '36.737904'], ['117.31813', '36.737797'], ['117.317207', '36.73769'], ['117.316139', '36.737537'], ['117.314026', '36.737152'], ['117.313126', '36.736965'], ['117.312355', '36.736797'], ['117.312012', '36.736725'], ['117.309296', '36.736137'], ['117.305939', '36.735401'], ['117.303963', '36.734993'], ['117.302666', '36.734768'], ['117.302071', '36.734692'], ['117.300468', '36.734509'], ['117.295593', '36.734203'], ['117.292', '36.733974'], ['117.291908', '36.733971'], ['117.291168', '36.733929'], ['117.290596', '36.733891'], ['117.290169', '36.733871'], ['117.290039', '36.733864'], ['117.289558', '36.733837'], ['117.287552', '36.733707'], ['117.286583', '36.73365'], ['117.285255', '36.733574'], ['117.284676', '36.73354'], ['117.283783', '36.733486'], ['117.281517', '36.733337'], ['117.280731', '36.733269'], ['117.279953', '36.733181'], ['117.278702', '36.733009'], ['117.277992', '36.732872'], ['117.277443', '36.732761'], ['117.275803', '36.732388'], ['117.275406', '36.732292'], ['117.274544', '36.73209'], ['117.273491', '36.73185'], ['117.272179', '36.731552'], ['117.271606', '36.731419'], ['117.269547', '36.730942'], ['117.269524', '36.730934'], ['117.268059', '36.730598'], ['117.26609', '36.730148'], ['117.265419', '36.729992'], ['117.26506', '36.729904'], ['117.263229', '36.729485'], ['117.260246', '36.728802'], ['117.257591', '36.728191'], ['117.255989', '36.727859'], ['117.254372', '36.727581'], ['117.253937', '36.727516'], ['117.253479', '36.727455'], ['117.252792', '36.727356'], ['117.252304', '36.727291'], ['117.25222', '36.727283'], ['117.250984', '36.727104'], ['117.250717', '36.727062'], ['117.250488', '36.727016'], ['117.250015', '36.726944'], ['117.249306', '36.726799'], ['117.248245', '36.726555'], ['117.247185', '36.726265'], ['117.246101', '36.725925'], ['117.245293', '36.72567'], ['117.244514', '36.725418'], ['117.243637', '36.725128'], ['117.243195', '36.724972'], ['117.241829', '36.724541'], ['117.240883', '36.724232'], ['117.240356', '36.724064'], ['117.238724', '36.72353'], ['117.238045', '36.723309'], ['117.237396', '36.723099'], ['117.2369', '36.722961'], ['117.236092', '36.722763'], ['117.235405', '36.722652'], ['117.23465', '36.722576'], ['117.234077', '36.722557'], ['117.23362', '36.722561'], ['117.233101', '36.722584'], ['117.232719', '36.722622'], ['117.231689', '36.722733'], ['117.231163', '36.722801'], ['117.230553', '36.72287'], ['117.229446', '36.723007'], ['117.229057', '36.723053'], ['117.228775', '36.723087'], ['117.22818', '36.723156'], ['117.226753', '36.723328'], ['117.225571', '36.723465'], ['117.224174', '36.723652'], ['117.224113', '36.723663'], ['117.223732', '36.723701'], ['117.223518', '36.723724'], ['117.222343', '36.723812'], ['117.221825', '36.723824'], ['117.221481', '36.723812'], ['117.220695', '36.723755'], ['117.219627', '36.723633'], ['117.217896', '36.723473'], ['117.217209', '36.723408'], ['117.215286', '36.723225'], ['117.213448', '36.723057'], ['117.213326', '36.723038'], ['117.21302', '36.723019'], ['117.212585', '36.722996'], ['117.211647', '36.722969'], ['117.210052', '36.722908'], ['117.209717', '36.722904'], ['117.209389', '36.722897'], ['117.209389', '36.722897'], ['117.209297', '36.722855'], ['117.208206', '36.722832'], ['117.20488', '36.722748'], ['117.20256', '36.722694'], ['117.202148', '36.722679'], ['117.200241', '36.722622'], ['117.200066', '36.722614'], ['117.199875', '36.72261'], ['117.19809', '36.722473'], ['117.196976', '36.722359'], ['117.196274', '36.722271'], ['117.194496', '36.722012'], ['117.193573', '36.721951'], ['117.192497', '36.721943'], ['117.18866', '36.72197'], ['117.187523', '36.721985'], ['117.186531', '36.721992'], ['117.184853', '36.722008'], ['117.184074', '36.722019'], ['117.183372', '36.722008'], ['117.182892', '36.721966'], ['117.182381', '36.721886'], ['117.18222', '36.721863'], ['117.18206', '36.721836'], ['117.180176', '36.721561'], ['117.179764', '36.721508'], ['117.177834', '36.721233'], ['117.176727', '36.721134'], ['117.176018', '36.721077'], ['117.176018', '36.721077'], ['117.175804', '36.721146'], ['117.174767', '36.721104'], ['117.174385', '36.721096'], ['117.1707', '36.72113'], ['117.170479', '36.721088'], ['117.169548', '36.721081'], ['117.169113', '36.72105'], ['117.168709', '36.720993'], ['117.168159', '36.720894'], ['117.167824', '36.720646'], ['117.167259', '36.720108'], ['117.166725', '36.719601'], ['117.165474', '36.718349'], ['117.164856', '36.717728'], ['117.164116', '36.71701'], ['117.163513', '36.716404'], ['117.163414', '36.716305'], ['117.163277', '36.716167'], ['117.163033', '36.71587'], ['117.162788', '36.715492'], ['117.162651', '36.715145'], ['117.162514', '36.714775'], ['117.162437', '36.714397'], ['117.162399', '36.714012'], ['117.162415', '36.713757'], ['117.162468', '36.713116'], ['117.162697', '36.710941'], ['117.162704', '36.710857'], ['117.16275', '36.710415'], ['117.162857', '36.709137'], ['117.16288', '36.708805'], ['117.162941', '36.707897'], ['117.162941', '36.707714'], ['117.162895', '36.707325'], ['117.162773', '36.706768'], ['117.162643', '36.706379'], ['117.162552', '36.70615'], ['117.16246', '36.705959'], ['117.162277', '36.705627'], ['117.162064', '36.705318'], ['117.161865', '36.705055'], ['117.161674', '36.70483'], ['117.161217', '36.704365'], ['117.160675', '36.703831'], ['117.1605', '36.703659'], ['117.160057', '36.703213'], ['117.15979', '36.70293'], ['117.15979', '36.70293'], ['117.158722', '36.701874'], ['117.158669', '36.701817'], ['117.158203', '36.701366'], ['117.156212', '36.699394'], ['117.155914', '36.699093'], ['117.155426', '36.698639'], ['117.154953', '36.698166'], ['117.154144', '36.697353'], ['117.153831', '36.69706'], ['117.153465', '36.696758'], ['117.153275', '36.696617'], ['117.152901', '36.696377'], ['117.152596', '36.696205'], ['117.151344', '36.69558'], ['117.151291', '36.695545'], ['117.150291', '36.695072'], ['117.150124', '36.694988'], ['117.14872', '36.694336'], ['117.148552', '36.69426'], ['117.14817', '36.694073'], ['117.147545', '36.693775'], ['117.147354', '36.693523'], ['117.147408', '36.692863'], ['117.14753', '36.690655'], ['117.147598', '36.689293'], ['117.147606', '36.689178'], ['117.147728', '36.687389'], ['117.147728', '36.687389'], ['117.146675', '36.687355'], ['117.145874', '36.687302'], ['117.145256', '36.687191'], ['117.144943', '36.687119'], ['117.144646', '36.687038'], ['117.144135', '36.686859'], ['117.143677', '36.686642'], ['117.142464', '36.686062'], ['117.142326', '36.685997'], ['117.141647', '36.685669'], ['117.140244', '36.684994'], ['117.139183', '36.684479'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>