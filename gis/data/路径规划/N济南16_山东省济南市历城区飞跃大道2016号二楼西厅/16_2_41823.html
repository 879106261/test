<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.564301', '36.719063'], ['117.564194', '36.718441'], ['117.56414', '36.717911'], ['117.56414', '36.717911'], ['117.563019', '36.718243'], ['117.562302', '36.718452'], ['117.561172', '36.718784'], ['117.560692', '36.718834'], ['117.560677', '36.716305'], ['117.560669', '36.715824'], ['117.560661', '36.715324'], ['117.560646', '36.714146'], ['117.560638', '36.712196'], ['117.560631', '36.712124'], ['117.560631', '36.711418'], ['117.560631', '36.710621'], ['117.560623', '36.709988'], ['117.560616', '36.709011'], ['117.560616', '36.708439'], ['117.560608', '36.707024'], ['117.560593', '36.70631'], ['117.560585', '36.705318'], ['117.560585', '36.704872'], ['117.560585', '36.704781'], ['117.560562', '36.700371'], ['117.560562', '36.699787'], ['117.560555', '36.699074'], ['117.560539', '36.697369'], ['117.560532', '36.695938'], ['117.560524', '36.69495'], ['117.560524', '36.694336'], ['117.560524', '36.693893'], ['117.560516', '36.692627'], ['117.560516', '36.692627'], ['117.560204', '36.692627'], ['117.557091', '36.692646'], ['117.554382', '36.692692'], ['117.553703', '36.692703'], ['117.552315', '36.692707'], ['117.550507', '36.692715'], ['117.547394', '36.69273'], ['117.547173', '36.692738'], ['117.547081', '36.692745'], ['117.54631', '36.692753'], ['117.545891', '36.692757'], ['117.545029', '36.69276'], ['117.543831', '36.692768'], ['117.543442', '36.692768'], ['117.542374', '36.692772'], ['117.542259', '36.69278'], ['117.54174', '36.69278'], ['117.541237', '36.692783'], ['117.540352', '36.692791'], ['117.538612', '36.692799'], ['117.537956', '36.692806'], ['117.537537', '36.692806'], ['117.5364', '36.69281'], ['117.535583', '36.692822'], ['117.535522', '36.692822'], ['117.534889', '36.692822'], ['117.534508', '36.692825'], ['117.533958', '36.692825'], ['117.533714', '36.692825'], ['117.533531', '36.692833'], ['117.532837', '36.692837'], ['117.532097', '36.692841'], ['117.531822', '36.692841'], ['117.531731', '36.692841'], ['117.530861', '36.692848'], ['117.530006', '36.69286'], ['117.529877', '36.692852'], ['117.528214', '36.692863'], ['117.527992', '36.692863'], ['117.527412', '36.692867'], ['117.526222', '36.692875'], ['117.525505', '36.692883'], ['117.524544', '36.69289'], ['117.524429', '36.69289'], ['117.524101', '36.692894'], ['117.523026', '36.692902'], ['117.522095', '36.692909'], ['117.521828', '36.692909'], ['117.521461', '36.692909'], ['117.519508', '36.692921'], ['117.519432', '36.692921'], ['117.518356', '36.692928'], ['117.518089', '36.692932'], ['117.515434', '36.692951'], ['117.513962', '36.693005'], ['117.513741', '36.693012'], ['117.512215', '36.693047'], ['117.511566', '36.693054'], ['117.509766', '36.693077'], ['117.509621', '36.693077'], ['117.506714', '36.693111'], ['117.506546', '36.693111'], ['117.50605', '36.693111'], ['117.505402', '36.693123'], ['117.504616', '36.693142'], ['117.503479', '36.693157'], ['117.502365', '36.693169'], ['117.502197', '36.693169'], ['117.500046', '36.693184'], ['117.498383', '36.693195'], ['117.497406', '36.693195'], ['117.496643', '36.693203'], ['117.495857', '36.693211'], ['117.494225', '36.693226'], ['117.493591', '36.69323'], ['117.493217', '36.693233'], ['117.491905', '36.693237'], ['117.491508', '36.693245'], ['117.491013', '36.693253'], ['117.490295', '36.693253'], ['117.487785', '36.693268'], ['117.487206', '36.693268'], ['117.486099', '36.693279'], ['117.485161', '36.693283'], ['117.484993', '36.693283'], ['117.482643', '36.693306'], ['117.479111', '36.693329'], ['117.476265', '36.693348'], ['117.475006', '36.693359'], ['117.468254', '36.693398'], ['117.46582', '36.693417'], ['117.465057', '36.69342'], ['117.464447', '36.693413'], ['117.464294', '36.693417'], ['117.463623', '36.693432'], ['117.462143', '36.693439'], ['117.460358', '36.693451'], ['117.457314', '36.69347'], ['117.456184', '36.69347'], ['117.453415', '36.693485'], ['117.452286', '36.69347'], ['117.450897', '36.693394'], ['117.449608', '36.693279'], ['117.448151', '36.693104'], ['117.446205', '36.692875'], ['117.444641', '36.692692'], ['117.443848', '36.692623'], ['117.443268', '36.692574'], ['117.442001', '36.692505'], ['117.440331', '36.692486'], ['117.437279', '36.692505'], ['117.433388', '36.692528'], ['117.433128', '36.692528'], ['117.432686', '36.692532'], ['117.432304', '36.692532'], ['117.430473', '36.692543'], ['117.428337', '36.692551'], ['117.427063', '36.692554'], ['117.421875', '36.692577'], ['117.421837', '36.692577'], ['117.421692', '36.692577'], ['117.417953', '36.6926'], ['117.414162', '36.692612'], ['117.413094', '36.692619'], ['117.411743', '36.692623'], ['117.409981', '36.692627'], ['117.408714', '36.692627'], ['117.408104', '36.692627'], ['117.405708', '36.692638'], ['117.40406', '36.692646'], ['117.402809', '36.692646'], ['117.401199', '36.692646'], ['117.399902', '36.692654'], ['117.398758', '36.692661'], ['117.396576', '36.692669'], ['117.392738', '36.69268'], ['117.390472', '36.692688'], ['117.386322', '36.692699'], ['117.386292', '36.692692'], ['117.383179', '36.692703'], ['117.381508', '36.692703'], ['117.381241', '36.692703'], ['117.379547', '36.692707'], ['117.377953', '36.692715'], ['117.37793', '36.692715'], ['117.376846', '36.692715'], ['117.375443', '36.692719'], ['117.374115', '36.692719'], ['117.372673', '36.692745'], ['117.372185', '36.692772'], ['117.371277', '36.692852'], ['117.369896', '36.693043'], ['117.365829', '36.693634'], ['117.365326', '36.693684'], ['117.365028', '36.693703'], ['117.36351', '36.693737'], ['117.36235', '36.693764'], ['117.358627', '36.693867'], ['117.356232', '36.693932'], ['117.355957', '36.693939'], ['117.353447', '36.693996'], ['117.349792', '36.694073'], ['117.347992', '36.694115'], ['117.346268', '36.694149'], ['117.344276', '36.694195'], ['117.341301', '36.694275'], ['117.339058', '36.694313'], ['117.338737', '36.694321'], ['117.338196', '36.694336'], ['117.335754', '36.694386'], ['117.334358', '36.694408'], ['117.333984', '36.694412'], ['117.332169', '36.694458'], ['117.329094', '36.694527'], ['117.328949', '36.694527'], ['117.327736', '36.694553'], ['117.326622', '36.694576'], ['117.326439', '36.694576'], ['117.324242', '36.694622'], ['117.322197', '36.694672'], ['117.321991', '36.694672'], ['117.319016', '36.69474'], ['117.31633', '36.694813'], ['117.315254', '36.694904'], ['117.314285', '36.695023'], ['117.313896', '36.695065'], ['117.312012', '36.695297'], ['117.310783', '36.69545'], ['117.310471', '36.695477'], ['117.310158', '36.695492'], ['117.307442', '36.69548'], ['117.307343', '36.69548'], ['117.304932', '36.695499'], ['117.304184', '36.695488'], ['117.300301', '36.695492'], ['117.297073', '36.695499'], ['117.292755', '36.695507'], ['117.29261', '36.695507'], ['117.290039', '36.695511'], ['117.286636', '36.695518'], ['117.283928', '36.695526'], ['117.282883', '36.695526'], ['117.282799', '36.695526'], ['117.281479', '36.69553'], ['117.278908', '36.695534'], ['117.274651', '36.695541'], ['117.274109', '36.695541'], ['117.272957', '36.695541'], ['117.270935', '36.695541'], ['117.270844', '36.695541'], ['117.268181', '36.695381'], ['117.268059', '36.695374'], ['117.262718', '36.695023'], ['117.26265', '36.695015'], ['117.262558', '36.695007'], ['117.259644', '36.694843'], ['117.257431', '36.694691'], ['117.255989', '36.694592'], ['117.255417', '36.694557'], ['117.254868', '36.69453'], ['117.254456', '36.69453'], ['117.253761', '36.694553'], ['117.251137', '36.694801'], ['117.248917', '36.695023'], ['117.248604', '36.695034'], ['117.248184', '36.695023'], ['117.24765', '36.694939'], ['117.247215', '36.694813'], ['117.246803', '36.694641'], ['117.246399', '36.694416'], ['117.246284', '36.694336'], ['117.246101', '36.694187'], ['117.246056', '36.694157'], ['117.245758', '36.693871'], ['117.245003', '36.692886'], ['117.243706', '36.691166'], ['117.243484', '36.69091'], ['117.243225', '36.690643'], ['117.242889', '36.690369'], ['117.242516', '36.690155'], ['117.242241', '36.690037'], ['117.241966', '36.689934'], ['117.241501', '36.689823'], ['117.241173', '36.689774'], ['117.240654', '36.689758'], ['117.240555', '36.689758'], ['117.237831', '36.689796'], ['117.237381', '36.689804'], ['117.236229', '36.689823'], ['117.235641', '36.689838'], ['117.233475', '36.689873'], ['117.233383', '36.68988'], ['117.230888', '36.689915'], ['117.230568', '36.689919'], ['117.229225', '36.689972'], ['117.228752', '36.689995'], ['117.226341', '36.690144'], ['117.226128', '36.690155'], ['117.224113', '36.690277'], ['117.223671', '36.690304'], ['117.223297', '36.690331'], ['117.222595', '36.690384'], ['117.222397', '36.690395'], ['117.219826', '36.690556'], ['117.219688', '36.690567'], ['117.217392', '36.690701'], ['117.217041', '36.690716'], ['117.215706', '36.690777'], ['117.214577', '36.690819'], ['117.214432', '36.690823'], ['117.212791', '36.690884'], ['117.212234', '36.690884'], ['117.210526', '36.690941'], ['117.210014', '36.690956'], ['117.209473', '36.690929'], ['117.209045', '36.69088'], ['117.208389', '36.690762'], ['117.207733', '36.690586'], ['117.207253', '36.690418'], ['117.206833', '36.690247'], ['117.206314', '36.689999'], ['117.204803', '36.689285'], ['117.204163', '36.689022'], ['117.203362', '36.688755'], ['117.203056', '36.688679'], ['117.202454', '36.688545'], ['117.202148', '36.688499'], ['117.201668', '36.688431'], ['117.200882', '36.688366'], ['117.200592', '36.688358'], ['117.198303', '36.68837'], ['117.197548', '36.68837'], ['117.196526', '36.688374'], ['117.193497', '36.688393'], ['117.193428', '36.688393'], ['117.190887', '36.688404'], ['117.187019', '36.688431'], ['117.186928', '36.688431'], ['117.185562', '36.688431'], ['117.18309', '36.688442'], ['117.182266', '36.688442'], ['117.181931', '36.68845'], ['117.181549', '36.68845'], ['117.180885', '36.688454'], ['117.180176', '36.688454'], ['117.175903', '36.688477'], ['117.175812', '36.688477'], ['117.174347', '36.68848'], ['117.168839', '36.688511'], ['117.164993', '36.688534'], ['117.160713', '36.688545'], ['117.15937', '36.688564'], ['117.158203', '36.688717'], ['117.156166', '36.689007'], ['117.15432', '36.689259'], ['117.153389', '36.689346'], ['117.152901', '36.689362'], ['117.152435', '36.689365'], ['117.151886', '36.68935'], ['117.151642', '36.689362'], ['117.150833', '36.68935'], ['117.150375', '36.689346'], ['117.149536', '36.689323'], ['117.147797', '36.689297'], ['117.147606', '36.689178'], ['117.147728', '36.687389'], ['117.147728', '36.687389'], ['117.146675', '36.687355'], ['117.145874', '36.687302'], ['117.145256', '36.687191'], ['117.144943', '36.687119'], ['117.144646', '36.687038'], ['117.144135', '36.686859'], ['117.143677', '36.686642'], ['117.142464', '36.686062'], ['117.142326', '36.685997'], ['117.141647', '36.685669'], ['117.140244', '36.684994'], ['117.139183', '36.684479'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>