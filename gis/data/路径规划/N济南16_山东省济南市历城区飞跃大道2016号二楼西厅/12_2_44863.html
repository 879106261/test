<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['117.564301', '36.719063'], ['117.564194', '36.718441'], ['117.56414', '36.717911'], ['117.56414', '36.717911'], ['117.563019', '36.718243'], ['117.562302', '36.718452'], ['117.561172', '36.718784'], ['117.560692', '36.718834'], ['117.560677', '36.716305'], ['117.560669', '36.715824'], ['117.560661', '36.715324'], ['117.560646', '36.714146'], ['117.560638', '36.712196'], ['117.560631', '36.712124'], ['117.560631', '36.711418'], ['117.560631', '36.710621'], ['117.560623', '36.709988'], ['117.560616', '36.709011'], ['117.560616', '36.708439'], ['117.560608', '36.707024'], ['117.560593', '36.70631'], ['117.560585', '36.705318'], ['117.560585', '36.704872'], ['117.560585', '36.704781'], ['117.560562', '36.700371'], ['117.560562', '36.699787'], ['117.560555', '36.699074'], ['117.560539', '36.697369'], ['117.560532', '36.695938'], ['117.560524', '36.69495'], ['117.560524', '36.694336'], ['117.560524', '36.693893'], ['117.560516', '36.692627'], ['117.560516', '36.692574'], ['117.560516', '36.692326'], ['117.560486', '36.68959'], ['117.560486', '36.689213'], ['117.560478', '36.687592'], ['117.560471', '36.687508'], ['117.560463', '36.685932'], ['117.560448', '36.683788'], ['117.560448', '36.683788'], ['117.559105', '36.683815'], ['117.557343', '36.683823'], ['117.556206', '36.683788'], ['117.555069', '36.683701'], ['117.553703', '36.683552'], ['117.553627', '36.68354'], ['117.553261', '36.683483'], ['117.552498', '36.683346'], ['117.552406', '36.683334'], ['117.551514', '36.683151'], ['117.550499', '36.682911'], ['117.548843', '36.682487'], ['117.547226', '36.682049'], ['117.546402', '36.681801'], ['117.546303', '36.68177'], ['117.545807', '36.68161'], ['117.545349', '36.681435'], ['117.544472', '36.681046'], ['117.543495', '36.680588'], ['117.543198', '36.680435'], ['117.542229', '36.679916'], ['117.540604', '36.679054'], ['117.538963', '36.678219'], ['117.537544', '36.677563'], ['117.535378', '36.676697'], ['117.533218', '36.67593'], ['117.531731', '36.675434'], ['117.531586', '36.675388'], ['117.530701', '36.67511'], ['117.529709', '36.674835'], ['117.529556', '36.674797'], ['117.528839', '36.674648'], ['117.527962', '36.674526'], ['117.527885', '36.674519'], ['117.52729', '36.67445'], ['117.525093', '36.674225'], ['117.522713', '36.673992'], ['117.522514', '36.673977'], ['117.516495', '36.673386'], ['117.51387', '36.67313'], ['117.513618', '36.673107'], ['117.511368', '36.672832'], ['117.509766', '36.672573'], ['117.509064', '36.672459'], ['117.508545', '36.672359'], ['117.508148', '36.672287'], ['117.507668', '36.672195'], ['117.506615', '36.67197'], ['117.506416', '36.671928'], ['117.50605', '36.671844'], ['117.504463', '36.671452'], ['117.502228', '36.670845'], ['117.502068', '36.670807'], ['117.498901', '36.669968'], ['117.496483', '36.669319'], ['117.495338', '36.669025'], ['117.493965', '36.668728'], ['117.492783', '36.668522'], ['117.491653', '36.668377'], ['117.49115', '36.668335'], ['117.490051', '36.668255'], ['117.489082', '36.668228'], ['117.487785', '36.668224'], ['117.486923', '36.668224'], ['117.485016', '36.668247'], ['117.484833', '36.668247'], ['117.47847', '36.668285'], ['117.476776', '36.668297'], ['117.47554', '36.668335'], ['117.47538', '36.668335'], ['117.474434', '36.668354'], ['117.47435', '36.668354'], ['117.473358', '36.668388'], ['117.472397', '36.668446'], ['117.469482', '36.668671'], ['117.46582', '36.669022'], ['117.464401', '36.669155'], ['117.46344', '36.669243'], ['117.460823', '36.669495'], ['117.457817', '36.669769'], ['117.452888', '36.670227'], ['117.452362', '36.670273'], ['117.451881', '36.670319'], ['117.451126', '36.670391'], ['117.449867', '36.670502'], ['117.447937', '36.670612'], ['117.447701', '36.670624'], ['117.445389', '36.670658'], ['117.443848', '36.670677'], ['117.443748', '36.670677'], ['117.442139', '36.670685'], ['117.438637', '36.670719'], ['117.432045', '36.670856'], ['117.431839', '36.67086'], ['117.431129', '36.670868'], ['117.430977', '36.670868'], ['117.43071', '36.670876'], ['117.426735', '36.670956'], ['117.425529', '36.670994'], ['117.425095', '36.671021'], ['117.424973', '36.671021'], ['117.423897', '36.671082'], ['117.421875', '36.671219'], ['117.420158', '36.671337'], ['117.40963', '36.672131'], ['117.40699', '36.672321'], ['117.406914', '36.672333'], ['117.406494', '36.672359'], ['117.399902', '36.672848'], ['117.396347', '36.673115'], ['117.39431', '36.673275'], ['117.391975', '36.67345'], ['117.390205', '36.673573'], ['117.389977', '36.673588'], ['117.388206', '36.673721'], ['117.387939', '36.67374'], ['117.381821', '36.674198'], ['117.381241', '36.67424'], ['117.378036', '36.674477'], ['117.377975', '36.674477'], ['117.37793', '36.67448'], ['117.376976', '36.674549'], ['117.37458', '36.674728'], ['117.372879', '36.67485'], ['117.369812', '36.675083'], ['117.368767', '36.675156'], ['117.368637', '36.675163'], ['117.36776', '36.675232'], ['117.365189', '36.675407'], ['117.364639', '36.675457'], ['117.363167', '36.675564'], ['117.362274', '36.675629'], ['117.360397', '36.67577'], ['117.358978', '36.675877'], ['117.358566', '36.675907'], ['117.358101', '36.675938'], ['117.356934', '36.676022'], ['117.355957', '36.67609'], ['117.355919', '36.676094'], ['117.355423', '36.676132'], ['117.35424', '36.67622'], ['117.35154', '36.676426'], ['117.347664', '36.676712'], ['117.346794', '36.676769'], ['117.344757', '36.676926'], ['117.342491', '36.677074'], ['117.340225', '36.6772'], ['117.339226', '36.6772'], ['117.338455', '36.677219'], ['117.335968', '36.677174'], ['117.334328', '36.677086'], ['117.333984', '36.677063'], ['117.33313', '36.676998'], ['117.332214', '36.676937'], ['117.330589', '36.676685'], ['117.329834', '36.676544'], ['117.329002', '36.676361'], ['117.328331', '36.676189'], ['117.327545', '36.675968'], ['117.327339', '36.675903'], ['117.326317', '36.675549'], ['117.324486', '36.674809'], ['117.323715', '36.67448'], ['117.32328', '36.67429'], ['117.321754', '36.673653'], ['117.320877', '36.673306'], ['117.320259', '36.673088'], ['117.318665', '36.672546'], ['117.318024', '36.672359'], ['117.316597', '36.671944'], ['117.31575', '36.671711'], ['117.314865', '36.671425'], ['117.312012', '36.670639'], ['117.311989', '36.670635'], ['117.30899', '36.669773'], ['117.308121', '36.66954'], ['117.30806', '36.669521'], ['117.305122', '36.668686'], ['117.303482', '36.668205'], ['117.30072', '36.667427'], ['117.29921', '36.666996'], ['117.298874', '36.666901'], ['117.297485', '36.666504'], ['117.296341', '36.666203'], ['117.294159', '36.665554'], ['117.293411', '36.66534'], ['117.293137', '36.665264'], ['117.291946', '36.664928'], ['117.290771', '36.664577'], ['117.290146', '36.664383'], ['117.290039', '36.664352'], ['117.289398', '36.664154'], ['117.2883', '36.663784'], ['117.287048', '36.663342'], ['117.285118', '36.662567'], ['117.284958', '36.66251'], ['117.284142', '36.662155'], ['117.282478', '36.661377'], ['117.282379', '36.661327'], ['117.280922', '36.660629'], ['117.279938', '36.66016'], ['117.279472', '36.65995'], ['117.27829', '36.659451'], ['117.277908', '36.659294'], ['117.277405', '36.659126'], ['117.276993', '36.659'], ['117.276337', '36.658852'], ['117.275238', '36.658657'], ['117.274483', '36.658585'], ['117.273781', '36.658554'], ['117.272781', '36.658569'], ['117.272133', '36.658611'], ['117.271126', '36.658752'], ['117.270638', '36.65884'], ['117.269775', '36.659054'], ['117.269363', '36.659172'], ['117.268776', '36.65937'], ['117.268059', '36.659649'], ['117.267776', '36.659763'], ['117.267639', '36.659817'], ['117.264961', '36.660965'], ['117.263947', '36.661377'], ['117.263496', '36.661556'], ['117.262001', '36.662197'], ['117.259041', '36.663448'], ['117.255981', '36.66473'], ['117.253891', '36.665615'], ['117.253441', '36.66581'], ['117.251556', '36.666592'], ['117.250702', '36.666943'], ['117.250145', '36.667164'], ['117.24929', '36.667446'], ['117.2481', '36.667789'], ['117.247467', '36.667946'], ['117.24733', '36.667976'], ['117.246681', '36.668125'], ['117.246101', '36.668243'], ['117.245743', '36.668308'], ['117.244461', '36.668499'], ['117.243523', '36.668625'], ['117.24205', '36.668797'], ['117.23912', '36.669159'], ['117.238586', '36.669216'], ['117.238297', '36.66925'], ['117.236015', '36.669521'], ['117.233467', '36.669834'], ['117.231361', '36.670071'], ['117.231277', '36.670082'], ['117.229691', '36.670269'], ['117.228569', '36.670422'], ['117.227379', '36.670574'], ['117.226868', '36.67065'], ['117.225929', '36.670815'], ['117.225464', '36.670898'], ['117.224113', '36.671143'], ['117.224098', '36.67115'], ['117.223183', '36.671322'], ['117.221123', '36.671703'], ['117.220215', '36.671867'], ['117.219276', '36.672043'], ['117.219093', '36.672077'], ['117.218071', '36.672272'], ['117.217583', '36.672359'], ['117.216438', '36.672573'], ['117.214012', '36.673019'], ['117.213226', '36.673164'], ['117.212967', '36.673214'], ['117.212593', '36.673279'], ['117.211357', '36.673504'], ['117.210701', '36.67363'], ['117.21006', '36.673748'], ['117.206673', '36.67437'], ['117.206284', '36.674454'], ['117.205704', '36.674522'], ['117.20504', '36.674583'], ['117.204544', '36.674591'], ['117.203751', '36.674568'], ['117.202896', '36.674458'], ['117.202148', '36.674324'], ['117.202072', '36.674313'], ['117.202019', '36.674297'], ['117.201103', '36.674095'], ['117.198845', '36.673588'], ['117.19474', '36.672665'], ['117.193375', '36.672359'], ['117.193085', '36.672295'], ['117.193024', '36.672482'], ['117.19278', '36.673153'], ['117.192398', '36.674252'], ['117.192055', '36.675247'], ['117.191002', '36.678242'], ['117.19091', '36.678497'], ['117.190758', '36.678852'], ['117.190239', '36.679848'], ['117.189171', '36.681919'], ['117.188828', '36.682632'], ['117.188629', '36.683109'], ['117.18856', '36.683346'], ['117.188446', '36.683712'], ['117.188316', '36.684139'], ['117.187073', '36.688316'], ['117.186928', '36.688431'], ['117.185562', '36.688431'], ['117.18309', '36.688442'], ['117.182266', '36.688442'], ['117.181931', '36.68845'], ['117.181549', '36.68845'], ['117.180885', '36.688454'], ['117.180176', '36.688454'], ['117.175903', '36.688477'], ['117.175812', '36.688477'], ['117.174347', '36.68848'], ['117.168839', '36.688511'], ['117.164993', '36.688534'], ['117.160713', '36.688545'], ['117.15937', '36.688564'], ['117.158203', '36.688717'], ['117.156166', '36.689007'], ['117.15432', '36.689259'], ['117.153389', '36.689346'], ['117.152901', '36.689362'], ['117.152435', '36.689365'], ['117.151886', '36.68935'], ['117.151642', '36.689362'], ['117.150833', '36.68935'], ['117.150375', '36.689346'], ['117.149536', '36.689323'], ['117.147797', '36.689297'], ['117.147606', '36.689178'], ['117.147728', '36.687389'], ['117.147728', '36.687389'], ['117.146675', '36.687355'], ['117.145874', '36.687302'], ['117.145256', '36.687191'], ['117.144943', '36.687119'], ['117.144646', '36.687038'], ['117.144135', '36.686859'], ['117.143677', '36.686642'], ['117.142464', '36.686062'], ['117.142326', '36.685997'], ['117.141647', '36.685669'], ['117.140244', '36.684994'], ['117.139183', '36.684479'], ['117.139137', '36.68438'], ['117.139519', '36.683861'], ['117.1399', '36.683346'], ['117.140068', '36.683117'], ['117.140068', '36.683117'], ['117.139885', '36.683109'], ['117.139824', '36.683094'], ['117.139679', '36.683037'], ['117.139679', '36.683037'], ['117.139778', '36.682934'], ['117.139778', '36.68288'], ['117.139763', '36.682838'], ['117.139565', '36.682728'], ['117.13887', '36.682423']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>