<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.619461', '31.537521'], ['121.619644', '31.537392'], ['121.620934', '31.536579'], ['121.621208', '31.536407'], ['121.621864', '31.535994'], ['121.623268', '31.53517'], ['121.623352', '31.535156'], ['121.624397', '31.53652'], ['121.625511', '31.53797'], ['121.62632', '31.539053'], ['121.626625', '31.539444'], ['121.627464', '31.54056'], ['121.627464', '31.54056'], ['121.629128', '31.539713'], ['121.629234', '31.539658'], ['121.630188', '31.539223'], ['121.63031', '31.53923'], ['121.63031', '31.53923'], ['121.630791', '31.539263'], ['121.630943', '31.53924'], ['121.632072', '31.538733'], ['121.632523', '31.538494'], ['121.633362', '31.538013'], ['121.634132', '31.537556'], ['121.635475', '31.536827'], ['121.635643', '31.536736'], ['121.636818', '31.536085'], ['121.637802', '31.535538'], ['121.638527', '31.535131'], ['121.638763', '31.535009'], ['121.639076', '31.534836'], ['121.639946', '31.534357'], ['121.640526', '31.534048'], ['121.640625', '31.533989'], ['121.641243', '31.533648'], ['121.642044', '31.533207'], ['121.642487', '31.532961'], ['121.64341', '31.532444'], ['121.644318', '31.53194'], ['121.645172', '31.531471'], ['121.645607', '31.531216'], ['121.645767', '31.531107'], ['121.646248', '31.53076'], ['121.647141', '31.530127'], ['121.647743', '31.529787'], ['121.648659', '31.529367'], ['121.649368', '31.529026'], ['121.649574', '31.528938'], ['121.65033', '31.52858'], ['121.651108', '31.528206'], ['121.651108', '31.528206'], ['121.651588', '31.528069'], ['121.652145', '31.527924'], ['121.65419', '31.527191'], ['121.655762', '31.52664'], ['121.657082', '31.526159'], ['121.657799', '31.525911'], ['121.659645', '31.525261'], ['121.660942', '31.524805'], ['121.662346', '31.524326'], ['121.662598', '31.524267'], ['121.662781', '31.524235'], ['121.663513', '31.524136'], ['121.664032', '31.524071'], ['121.665886', '31.52384'], ['121.666924', '31.523743'], ['121.666924', '31.523743'], ['121.667465', '31.524454'], ['121.668945', '31.526453'], ['121.670021', '31.52792'], ['121.670464', '31.528538'], ['121.671219', '31.529577'], ['121.67202', '31.530651'], ['121.672096', '31.53076'], ['121.67234', '31.531084'], ['121.672554', '31.531393'], ['121.672729', '31.531645'], ['121.672897', '31.531876'], ['121.673485', '31.532719'], ['121.674187', '31.533785'], ['121.674385', '31.534081'], ['121.674622', '31.534445'], ['121.674873', '31.534813'], ['121.675529', '31.535807'], ['121.675636', '31.53599'], ['121.676201', '31.536745'], ['121.67646', '31.537088'], ['121.676651', '31.537344'], ['121.676826', '31.537579'], ['121.677322', '31.538265'], ['121.678604', '31.539982'], ['121.679321', '31.540947'], ['121.679443', '31.541075'], ['121.679893', '31.541693'], ['121.679932', '31.541744'], ['121.680763', '31.542877'], ['121.680931', '31.543106'], ['121.681236', '31.543507'], ['121.682198', '31.544813'], ['121.682259', '31.544905'], ['121.682388', '31.545078'], ['121.683281', '31.546242'], ['121.684219', '31.547518'], ['121.68457', '31.548'], ['121.684776', '31.548264'], ['121.684944', '31.548492'], ['121.685493', '31.549244'], ['121.6856', '31.549408'], ['121.686119', '31.550087'], ['121.686119', '31.550087'], ['121.687172', '31.549809'], ['121.687721', '31.549658'], ['121.693611', '31.548079'], ['121.697182', '31.5471'], ['121.700615', '31.546171'], ['121.701042', '31.546061'], ['121.706543', '31.544567'], ['121.706848', '31.544489'], ['121.713928', '31.542564'], ['121.714447', '31.542427'], ['121.716942', '31.541744'], ['121.720673', '31.540737'], ['121.722626', '31.540195'], ['121.72448', '31.539627'], ['121.725845', '31.539171'], ['121.726234', '31.53904'], ['121.728516', '31.538206'], ['121.729591', '31.537777'], ['121.731842', '31.536844'], ['121.736679', '31.534832'], ['121.736992', '31.534695'], ['121.737289', '31.534576'], ['121.744217', '31.531693'], ['121.746445', '31.53076'], ['121.748009', '31.530104'], ['121.750488', '31.529076'], ['121.750969', '31.528872'], ['121.753166', '31.527956'], ['121.754402', '31.527439'], ['121.754898', '31.527231'], ['121.757721', '31.52606'], ['121.758217', '31.525856'], ['121.759895', '31.525143'], ['121.760681', '31.524805'], ['121.761688', '31.524408'], ['121.7631', '31.523811'], ['121.764313', '31.523306'], ['121.766876', '31.522232'], ['121.770248', '31.520828'], ['121.770958', '31.5205'], ['121.771767', '31.520191'], ['121.772461', '31.519909'], ['121.772774', '31.519773'], ['121.774353', '31.519115'], ['121.776802', '31.518024'], ['121.778915', '31.516987'], ['121.779762', '31.516554'], ['121.782715', '31.515032'], ['121.783173', '31.514795'], ['121.783974', '31.514376'], ['121.78479', '31.513958'], ['121.78479', '31.513958'], ['121.786057', '31.513298'], ['121.787315', '31.512644'], ['121.788887', '31.511845'], ['121.790497', '31.511002'], ['121.791664', '31.510395'], ['121.793121', '31.509644'], ['121.793121', '31.509644'], ['121.793518', '31.509293'], ['121.793678', '31.509167'], ['121.793823', '31.509031'], ['121.793953', '31.508894'], ['121.794044', '31.508789'], ['121.794083', '31.508747'], ['121.794197', '31.508589'], ['121.794296', '31.508429'], ['121.794388', '31.508261'], ['121.794434', '31.508165'], ['121.794464', '31.508095'], ['121.794525', '31.507925'], ['121.794579', '31.507746'], ['121.794617', '31.507568'], ['121.79467', '31.5072'], ['121.794746', '31.507017'], ['121.79483', '31.50643'], ['121.794899', '31.505737'], ['121.794968', '31.505159'], ['121.794998', '31.505049'], ['121.795113', '31.50473'], ['121.795113', '31.50473'], ['121.795181', '31.504576'], ['121.795296', '31.504362'], ['121.795464', '31.504089'], ['121.795776', '31.50359'], ['121.796158', '31.503'], ['121.796158', '31.503'], ['121.796204', '31.502855'], ['121.796394', '31.502546'], ['121.796478', '31.502382'], ['121.796555', '31.502205'], ['121.796623', '31.502031'], ['121.796669', '31.501858'], ['121.7967', '31.501675'], ['121.79673', '31.501493'], ['121.796745', '31.50131'], ['121.796745', '31.50112'], ['121.796738', '31.500933'], ['121.796722', '31.500751'], ['121.796684', '31.500568'], ['121.796638', '31.500391'], ['121.796577', '31.500214'], ['121.796501', '31.500044'], ['121.795998', '31.499044'], ['121.7957', '31.498619'], ['121.795486', '31.498333'], ['121.795242', '31.498016'], ['121.795082', '31.497801'], ['121.794434', '31.496941'], ['121.793434', '31.495611'], ['121.78981', '31.490791'], ['121.78923', '31.489996'], ['121.786835', '31.486813'], ['121.78656', '31.486458'], ['121.785522', '31.485064'], ['121.778984', '31.476358'], ['121.778633', '31.475885'], ['121.778587', '31.475828'], ['121.777306', '31.474112'], ['121.775452', '31.471632'], ['121.774857', '31.470764'], ['121.774231', '31.469809'], ['121.773834', '31.469152'], ['121.773399', '31.468397'], ['121.772461', '31.466675'], ['121.771469', '31.464844'], ['121.770309', '31.462717'], ['121.767174', '31.456888'], ['121.765526', '31.453854'], ['121.765129', '31.453119'], ['121.76432', '31.451736'], ['121.763573', '31.450512'], ['121.7631', '31.449787'], ['121.762527', '31.448902'], ['121.76165', '31.447645'], ['121.760155', '31.445639'], ['121.759109', '31.44434'], ['121.758415', '31.44352'], ['121.757858', '31.442869'], ['121.757004', '31.441904'], ['121.754395', '31.439116'], ['121.750488', '31.434944'], ['121.747597', '31.431885'], ['121.74279', '31.426758'], ['121.74115', '31.424931'], ['121.74057', '31.424257'], ['121.739883', '31.423447'], ['121.738899', '31.422232'], ['121.738113', '31.421228'], ['121.737869', '31.420898'], ['121.737251', '31.420073'], ['121.73613', '31.418507'], ['121.735199', '31.417171'], ['121.733521', '31.414686'], ['121.730415', '31.410133'], ['121.730255', '31.409908'], ['121.728516', '31.407345'], ['121.72831', '31.407045'], ['121.726555', '31.404449'], ['121.725929', '31.403475'], ['121.725075', '31.402061'], ['121.724297', '31.400711'], ['121.72377', '31.399736'], ['121.723358', '31.398924'], ['121.723122', '31.398451'], ['121.723122', '31.398451'], ['121.722984', '31.398312'], ['121.722702', '31.397928'], ['121.722549', '31.397747'], ['121.722473', '31.397678'], ['121.722336', '31.397591'], ['121.722099', '31.397522'], ['121.722008', '31.397509'], ['121.721825', '31.397499'], ['121.721504', '31.397535'], ['121.721504', '31.397535'], ['121.721313', '31.397577'], ['121.721252', '31.397564'], ['121.721161', '31.397499'], ['121.721077', '31.397335']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>