<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['121.619461', '31.537521'], ['121.619644', '31.537392'], ['121.619644', '31.537392'], ['121.620056', '31.538013'], ['121.620728', '31.538994'], ['121.621323', '31.539877'], ['121.621468', '31.540087'], ['121.622025', '31.54092'], ['121.622101', '31.54093'], ['121.622658', '31.541744'], ['121.622673', '31.541771'], ['121.623322', '31.542734'], ['121.623367', '31.542805'], ['121.623665', '31.5432'], ['121.623993', '31.54369'], ['121.624863', '31.545013'], ['121.624992', '31.545191'], ['121.625397', '31.545773'], ['121.625656', '31.546124'], ['121.626411', '31.547018'], ['121.627228', '31.547977'], ['121.627792', '31.548637'], ['121.628143', '31.54904'], ['121.628334', '31.549263'], ['121.628693', '31.549675'], ['121.629242', '31.550325'], ['121.629608', '31.550751'], ['121.630287', '31.551561'], ['121.630623', '31.551962'], ['121.631119', '31.552601'], ['121.631226', '31.552732'], ['121.631721', '31.553383'], ['121.632736', '31.554676'], ['121.633179', '31.55525'], ['121.634605', '31.557072'], ['121.634789', '31.557308'], ['121.635201', '31.557852'], ['121.635406', '31.558102'], ['121.635963', '31.558838'], ['121.636551', '31.559587'], ['121.637177', '31.560442'], ['121.637794', '31.561375'], ['121.638199', '31.561975'], ['121.638199', '31.561975'], ['121.640625', '31.561424'], ['121.640877', '31.561361'], ['121.643257', '31.560778'], ['121.644142', '31.560564'], ['121.646942', '31.559887'], ['121.647568', '31.559744'], ['121.64817', '31.559587'], ['121.65062', '31.558992'], ['121.650963', '31.55891'], ['121.656815', '31.557501'], ['121.65863', '31.557062'], ['121.65992', '31.556749'], ['121.662598', '31.556103'], ['121.663185', '31.555964'], ['121.668335', '31.554718'], ['121.670235', '31.554262'], ['121.671326', '31.553993'], ['121.67482', '31.553125'], ['121.676308', '31.552732'], ['121.67662', '31.55265'], ['121.684265', '31.5506'], ['121.68457', '31.55052'], ['121.684883', '31.550442'], ['121.686119', '31.550087'], ['121.687172', '31.549809'], ['121.687721', '31.549658'], ['121.693611', '31.548079'], ['121.697182', '31.5471'], ['121.700615', '31.546171'], ['121.701042', '31.546061'], ['121.706543', '31.544567'], ['121.706848', '31.544489'], ['121.713928', '31.542564'], ['121.714447', '31.542427'], ['121.716942', '31.541744'], ['121.720673', '31.540737'], ['121.722626', '31.540195'], ['121.72448', '31.539627'], ['121.725845', '31.539171'], ['121.726234', '31.53904'], ['121.728516', '31.538206'], ['121.729591', '31.537777'], ['121.731842', '31.536844'], ['121.736679', '31.534832'], ['121.736992', '31.534695'], ['121.737289', '31.534576'], ['121.744217', '31.531693'], ['121.746445', '31.53076'], ['121.748009', '31.530104'], ['121.750488', '31.529076'], ['121.750969', '31.528872'], ['121.753166', '31.527956'], ['121.754402', '31.527439'], ['121.754898', '31.527231'], ['121.757721', '31.52606'], ['121.758217', '31.525856'], ['121.759895', '31.525143'], ['121.760681', '31.524805'], ['121.761688', '31.524408'], ['121.7631', '31.523811'], ['121.764313', '31.523306'], ['121.766876', '31.522232'], ['121.770248', '31.520828'], ['121.770958', '31.5205'], ['121.771767', '31.520191'], ['121.772461', '31.519909'], ['121.772774', '31.519773'], ['121.774353', '31.519115'], ['121.776802', '31.518024'], ['121.778915', '31.516987'], ['121.779762', '31.516554'], ['121.782715', '31.515032'], ['121.783173', '31.514795'], ['121.783974', '31.514376'], ['121.78479', '31.513958'], ['121.78479', '31.513958'], ['121.784996', '31.513752'], ['121.792274', '31.509977'], ['121.792686', '31.509754'], ['121.792984', '31.509558'], ['121.793129', '31.509462'], ['121.793236', '31.509388'], ['121.793488', '31.50919'], ['121.793686', '31.509007'], ['121.793877', '31.50882'], ['121.7939', '31.508789'], ['121.794044', '31.508598'], ['121.794167', '31.508411'], ['121.794266', '31.508234'], ['121.79435', '31.508034'], ['121.794426', '31.507818'], ['121.794434', '31.507795'], ['121.794472', '31.507631'], ['121.794533', '31.507254'], ['121.794548', '31.507187'], ['121.794579', '31.507135'], ['121.794617', '31.507095'], ['121.794746', '31.507017'], ['121.794746', '31.507017'], ['121.79483', '31.50643'], ['121.794899', '31.505737'], ['121.794968', '31.505159'], ['121.794998', '31.505049'], ['121.795113', '31.50473'], ['121.795113', '31.50473'], ['121.795181', '31.504576'], ['121.795296', '31.504362'], ['121.795464', '31.504089'], ['121.795776', '31.50359'], ['121.796158', '31.503'], ['121.796158', '31.503'], ['121.796204', '31.502855'], ['121.796394', '31.502546'], ['121.796478', '31.502382'], ['121.796555', '31.502205'], ['121.796623', '31.502031'], ['121.796669', '31.501858'], ['121.7967', '31.501675'], ['121.79673', '31.501493'], ['121.796745', '31.50131'], ['121.796745', '31.50112'], ['121.796738', '31.500933'], ['121.796722', '31.500751'], ['121.796684', '31.500568'], ['121.796638', '31.500391'], ['121.796577', '31.500214'], ['121.796501', '31.500044'], ['121.795998', '31.499044'], ['121.7957', '31.498619'], ['121.795486', '31.498333'], ['121.795242', '31.498016'], ['121.795082', '31.497801'], ['121.794434', '31.496941'], ['121.793434', '31.495611'], ['121.78981', '31.490791'], ['121.78923', '31.489996'], ['121.786835', '31.486813'], ['121.78656', '31.486458'], ['121.785522', '31.485064'], ['121.778984', '31.476358'], ['121.778633', '31.475885'], ['121.778587', '31.475828'], ['121.777306', '31.474112'], ['121.775452', '31.471632'], ['121.774857', '31.470764'], ['121.774231', '31.469809'], ['121.773834', '31.469152'], ['121.773399', '31.468397'], ['121.772461', '31.466675'], ['121.771469', '31.464844'], ['121.770309', '31.462717'], ['121.767174', '31.456888'], ['121.765526', '31.453854'], ['121.765129', '31.453119'], ['121.76432', '31.451736'], ['121.763573', '31.450512'], ['121.7631', '31.449787'], ['121.762527', '31.448902'], ['121.76165', '31.447645'], ['121.760155', '31.445639'], ['121.759109', '31.44434'], ['121.758415', '31.44352'], ['121.757858', '31.442869'], ['121.757004', '31.441904'], ['121.754395', '31.439116'], ['121.750488', '31.434944'], ['121.747597', '31.431885'], ['121.74279', '31.426758'], ['121.74115', '31.424931'], ['121.74057', '31.424257'], ['121.739883', '31.423447'], ['121.738899', '31.422232'], ['121.738113', '31.421228'], ['121.737869', '31.420898'], ['121.737251', '31.420073'], ['121.73613', '31.418507'], ['121.735199', '31.417171'], ['121.733521', '31.414686'], ['121.730415', '31.410133'], ['121.730255', '31.409908'], ['121.728516', '31.407345'], ['121.72831', '31.407045'], ['121.726555', '31.404449'], ['121.725929', '31.403475'], ['121.725075', '31.402061'], ['121.724297', '31.400711'], ['121.72377', '31.399736'], ['121.723358', '31.398924'], ['121.723122', '31.398451'], ['121.723122', '31.398451'], ['121.722984', '31.398312'], ['121.722702', '31.397928'], ['121.722549', '31.397747'], ['121.722473', '31.397678'], ['121.722336', '31.397591'], ['121.722099', '31.397522'], ['121.722008', '31.397509'], ['121.721825', '31.397499'], ['121.721504', '31.397535'], ['121.721504', '31.397535'], ['121.721313', '31.397577'], ['121.721252', '31.397564'], ['121.721161', '31.397499'], ['121.721077', '31.397335']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>