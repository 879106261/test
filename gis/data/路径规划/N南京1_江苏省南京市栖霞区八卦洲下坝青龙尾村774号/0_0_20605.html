<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.779343', '32.107159'], ['118.779602', '32.10725'], ['118.779602', '32.10725'], ['118.779716', '32.106976'], ['118.779716', '32.106976'], ['118.779778', '32.106995'], ['118.779892', '32.107037'], ['118.779892', '32.107037'], ['118.780029', '32.106792'], ['118.780266', '32.106319'], ['118.780434', '32.105984'], ['118.780548', '32.106033'], ['118.78038', '32.106346'], ['118.780121', '32.106861'], ['118.780006', '32.10709'], ['118.779892', '32.10733'], ['118.779709', '32.107727'], ['118.779556', '32.108021'], ['118.779457', '32.108204'], ['118.779152', '32.108723'], ['118.778976', '32.108978'], ['118.778854', '32.109138'], ['118.778702', '32.109341'], ['118.778488', '32.109612'], ['118.77832', '32.109821'], ['118.777977', '32.11026'], ['118.777977', '32.11026'], ['118.778038', '32.110458'], ['118.778107', '32.110577'], ['118.778183', '32.110683'], ['118.781303', '32.111603'], ['118.781548', '32.111671'], ['118.782211', '32.11187'], ['118.782455', '32.111938'], ['118.782684', '32.112015'], ['118.783363', '32.112217'], ['118.784035', '32.112423'], ['118.78418', '32.112465'], ['118.784462', '32.112553'], ['118.785072', '32.11274'], ['118.786003', '32.113014'], ['118.786079', '32.113033'], ['118.786095', '32.113037'], ['118.786903', '32.113297'], ['118.787148', '32.113316'], ['118.787361', '32.113369'], ['118.787567', '32.113415'], ['118.787964', '32.113533'], ['118.788353', '32.113659'], ['118.789162', '32.113834'], ['118.789772', '32.113945'], ['118.790451', '32.114006'], ['118.790688', '32.114105'], ['118.791573', '32.114052'], ['118.79248', '32.113953'], ['118.792694', '32.113918'], ['118.793945', '32.11377'], ['118.79451', '32.113712'], ['118.795105', '32.113689'], ['118.795517', '32.113693'], ['118.795517', '32.113693'], ['118.796371', '32.113716'], ['118.797073', '32.113785'], ['118.797859', '32.113903'], ['118.799049', '32.114136'], ['118.803268', '32.114933'], ['118.803963', '32.115059'], ['118.804657', '32.115192'], ['118.806152', '32.115482'], ['118.807419', '32.115719'], ['118.807968', '32.115829'], ['118.81176', '32.116543'], ['118.812561', '32.116638'], ['118.813316', '32.116688'], ['118.813316', '32.116688'], ['118.81662', '32.116756'], ['118.81662', '32.116756'], ['118.819115', '32.116798'], ['118.823021', '32.116821'], ['118.823814', '32.116833'], ['118.824379', '32.116867'], ['118.824379', '32.116867'], ['118.82489', '32.116913'], ['118.825455', '32.116993'], ['118.825943', '32.117085'], ['118.826401', '32.117191'], ['118.826958', '32.117348'], ['118.828125', '32.117695'], ['118.830185', '32.118305'], ['118.832329', '32.118954'], ['118.833588', '32.119328'], ['118.834106', '32.11945'], ['118.834953', '32.119591'], ['118.835503', '32.119633'], ['118.83606', '32.119648'], ['118.837769', '32.119667'], ['118.840134', '32.119682'], ['118.841774', '32.119694'], ['118.842186', '32.119709'], ['118.842659', '32.119743'], ['118.843208', '32.119823'], ['118.84359', '32.119907'], ['118.843971', '32.12001'], ['118.844574', '32.120216'], ['118.844971', '32.120388'], ['118.845474', '32.120644'], ['118.845665', '32.120743'], ['118.846001', '32.120945'], ['118.847939', '32.122086'], ['118.850098', '32.123341'], ['118.851242', '32.124023'], ['118.85125', '32.124027'], ['118.852631', '32.124832'], ['118.853874', '32.125561'], ['118.853874', '32.125561'], ['118.854782', '32.125763'], ['118.854782', '32.125763'], ['118.855225', '32.125858'], ['118.855415', '32.125877'], ['118.855598', '32.125877'], ['118.85585', '32.125851'], ['118.856346', '32.125763'], ['118.856674', '32.125706'], ['118.856888', '32.125679'], ['118.857109', '32.125675'], ['118.857323', '32.12569'], ['118.857506', '32.125721'], ['118.857712', '32.12579'], ['118.857895', '32.125858'], ['118.858047', '32.125942'], ['118.858185', '32.126034'], ['118.858299', '32.126125'], ['118.858437', '32.126259'], ['118.858543', '32.126396'], ['118.858643', '32.126534'], ['118.858696', '32.126625'], ['118.858727', '32.12672'], ['118.858772', '32.126858'], ['118.858803', '32.126991'], ['118.85881', '32.127167'], ['118.85881', '32.127354'], ['118.85878', '32.127491'], ['118.858749', '32.127621'], ['118.858704', '32.127739'], ['118.85865', '32.127857'], ['118.858551', '32.127991'], ['118.858452', '32.128117'], ['118.85833', '32.128242'], ['118.858185', '32.128361'], ['118.857979', '32.12849'], ['118.857574', '32.128696'], ['118.857086', '32.128857'], ['118.856827', '32.128971'], ['118.856598', '32.129089'], ['118.856392', '32.129219'], ['118.856194', '32.129372'], ['118.85601', '32.129532'], ['118.855873', '32.129681'], ['118.855278', '32.13039'], ['118.85495', '32.13102'], ['118.854492', '32.131939'], ['118.853851', '32.133232'], ['118.853584', '32.133961'], ['118.853203', '32.13501'], ['118.853172', '32.135086'], ['118.852989', '32.13567'], ['118.852745', '32.136532'], ['118.852417', '32.137402'], ['118.852417', '32.137402'], ['118.851959', '32.138466'], ['118.851692', '32.139015'], ['118.85141', '32.139599'], ['118.851082', '32.1404'], ['118.850754', '32.14135'], ['118.850098', '32.143658'], ['118.850006', '32.143955'], ['118.849709', '32.144909'], ['118.849312', '32.145992'], ['118.849182', '32.146355'], ['118.848839', '32.147243'], ['118.848053', '32.149059'], ['118.847641', '32.149933'], ['118.84713', '32.151001'], ['118.846184', '32.152748'], ['118.845741', '32.153511'], ['118.84507', '32.154633'], ['118.843613', '32.156979'], ['118.842094', '32.159409'], ['118.838936', '32.164494'], ['118.83831', '32.165504'], ['118.837906', '32.166161'], ['118.836784', '32.167969'], ['118.83593', '32.169361'], ['118.83593', '32.169361'], ['118.835815', '32.16964'], ['118.834839', '32.171474'], ['118.834641', '32.171844'], ['118.834526', '32.172123'], ['118.834496', '32.172279'], ['118.834518', '32.172428'], ['118.834526', '32.172497'], ['118.834595', '32.172642'], ['118.834747', '32.172821'], ['118.834854', '32.172924'], ['118.834854', '32.172924'], ['118.835159', '32.173035'], ['118.835327', '32.173073'], ['118.835571', '32.173073'], ['118.835739', '32.173035'], ['118.835876', '32.172985'], ['118.835991', '32.172924'], ['118.836105', '32.172836'], ['118.836273', '32.172684'], ['118.836411', '32.172527'], ['118.836517', '32.172367'], ['118.836647', '32.172138'], ['118.836685', '32.171963'], ['118.836685', '32.171963'], ['118.836563', '32.171848'], ['118.836479', '32.171795'], ['118.834518', '32.170864'], ['118.833031', '32.170158'], ['118.832863', '32.170074'], ['118.832802', '32.170044'], ['118.832596', '32.169949'], ['118.831825', '32.169601'], ['118.831589', '32.16951'], ['118.831207', '32.169388'], ['118.830765', '32.169277'], ['118.830544', '32.169209'], ['118.830139', '32.169163'], ['118.829857', '32.169155'], ['118.82943', '32.169163'], ['118.828659', '32.169224'], ['118.828461', '32.169266'], ['118.828201', '32.169334'], ['118.828125', '32.169365'], ['118.826317', '32.170033'], ['118.825424', '32.170345'], ['118.825096', '32.170475'], ['118.824837', '32.170586'], ['118.824837', '32.170586'], ['118.825165', '32.171326'], ['118.825829', '32.172791'], ['118.82618', '32.173512'], ['118.82634', '32.173862'], ['118.826996', '32.175327'], ['118.827774', '32.177071'], ['118.828125', '32.177811'], ['118.828629', '32.178955'], ['118.828789', '32.179314'], ['118.82901', '32.179832'], ['118.829948', '32.181923'], ['118.831413', '32.185169'], ['118.831886', '32.18623'], ['118.832207', '32.186901'], ['118.832291', '32.18708'], ['118.832405', '32.187454'], ['118.832489', '32.187729'], ['118.833313', '32.189941'], ['118.834732', '32.193802'], ['118.834801', '32.194023'], ['118.83567', '32.196312'], ['118.836334', '32.198097'], ['118.836884', '32.199604'], ['118.837105', '32.200237'], ['118.837105', '32.200237'], ['118.841759', '32.198097'], ['118.844963', '32.196445'], ['118.846558', '32.195621'], ['118.84713', '32.195377'], ['118.847733', '32.195164'], ['118.847801', '32.195148'], ['118.847801', '32.195148'], ['118.847664', '32.194878'], ['118.847664', '32.194878'], ['118.847725', '32.194847'], ['118.84787', '32.19479']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>