<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.958481', '35.876019'], ['119.958107', '35.876026'], ['119.958107', '35.876026'], ['119.958115', '35.876621'], ['119.958122', '35.877079'], ['119.958122', '35.877636'], ['119.958122', '35.878113'], ['119.958122', '35.878963'], ['119.958122', '35.879467'], ['119.958145', '35.879963'], ['119.95816', '35.880363'], ['119.958168', '35.880669'], ['119.958176', '35.881348'], ['119.958176', '35.881752'], ['119.958183', '35.88208'], ['119.958199', '35.882156'], ['119.958206', '35.882614'], ['119.958206', '35.884212'], ['119.958206', '35.88464'], ['119.958206', '35.884712'], ['119.958214', '35.885014'], ['119.958206', '35.886398'], ['119.958229', '35.886936'], ['119.95829', '35.887226'], ['119.958389', '35.887535'], ['119.958496', '35.887772'], ['119.958611', '35.887985'], ['119.958908', '35.888424'], ['119.959145', '35.888706'], ['119.959412', '35.888954'], ['119.960052', '35.889462'], ['119.960258', '35.889641'], ['119.960495', '35.889832'], ['119.960709', '35.890007'], ['119.9608', '35.890083'], ['119.961182', '35.890396'], ['119.962616', '35.891552'], ['119.962708', '35.891636'], ['119.963348', '35.892162'], ['119.963562', '35.89233'], ['119.96711', '35.895256'], ['119.967445', '35.895535'], ['119.967873', '35.895893'], ['119.969994', '35.897739'], ['119.970581', '35.898254'], ['119.970619', '35.898289'], ['119.970703', '35.898361'], ['119.972099', '35.89959'], ['119.972359', '35.899811'], ['119.97287', '35.900257'], ['119.974052', '35.901299'], ['119.976364', '35.90332'], ['119.976501', '35.903439'], ['119.976784', '35.903675'], ['119.978394', '35.905064'], ['119.978928', '35.90546'], ['119.979507', '35.905857'], ['119.979759', '35.906021'], ['119.981644', '35.907314'], ['119.98278', '35.908096'], ['119.983734', '35.908737'], ['119.987083', '35.911018'], ['119.989883', '35.912941'], ['119.991783', '35.914307'], ['119.992676', '35.91494'], ['119.993965', '35.915863'], ['119.995132', '35.916706'], ['119.995438', '35.916927'], ['119.99633', '35.91758'], ['119.99675', '35.917885'], ['119.99675', '35.917885'], ['119.997398', '35.917999'], ['119.998924', '35.918266'], ['120.000069', '35.918468'], ['120.001335', '35.918674'], ['120.001526', '35.918716'], ['120.002426', '35.918861'], ['120.002495', '35.918983'], ['120.002403', '35.919308'], ['120.002373', '35.919399'], ['120.002296', '35.919682'], ['120.002029', '35.920841'], ['120.001862', '35.92157'], ['120.001839', '35.921692'], ['120.001617', '35.922714'], ['120.001305', '35.92395'], ['120.001289', '35.924034'], ['120.001129', '35.924492'], ['120.001091', '35.924622'], ['120.000923', '35.925133'], ['120.000862', '35.925293'], ['120.000328', '35.926777'], ['119.999847', '35.928101'], ['119.999847', '35.928101'], ['120.000015', '35.928329'], ['120.000114', '35.92841'], ['120.000175', '35.928448'], ['120.000313', '35.928455'], ['120.000427', '35.928455'], ['120.000633', '35.928425'], ['120.000679', '35.928406'], ['120.000847', '35.928314'], ['120.000938', '35.928246'], ['120.001129', '35.92807'], ['120.001129', '35.92807'], ['120.00174', '35.927486'], ['120.002029', '35.927197'], ['120.002029', '35.927197'], ['120.003372', '35.925911'], ['120.003517', '35.925797'], ['120.003616', '35.925747'], ['120.003716', '35.925705'], ['120.00383', '35.925678'], ['120.004036', '35.925648'], ['120.004265', '35.925648'], ['120.004471', '35.925678'], ['120.004585', '35.925705'], ['120.004791', '35.925797'], ['120.00486', '35.925861'], ['120.004951', '35.925934'], ['120.005066', '35.926071'], ['120.005127', '35.926163'], ['120.005165', '35.92625'], ['120.005211', '35.926388'], ['120.005226', '35.926762'], ['120.005257', '35.926952'], ['120.005272', '35.927044'], ['120.005318', '35.927193'], ['120.005371', '35.927307'], ['120.005424', '35.927406'], ['120.005562', '35.927628'], ['120.00576', '35.927822'], ['120.006302', '35.928272'], ['120.008133', '35.929298'], ['120.01281', '35.931934'], ['120.01387', '35.932552'], ['120.014648', '35.933029'], ['120.01503', '35.933266'], ['120.016205', '35.934017'], ['120.016724', '35.934345'], ['120.018425', '35.935513'], ['120.019485', '35.936275'], ['120.019958', '35.936626'], ['120.021461', '35.937778'], ['120.022003', '35.938221'], ['120.022812', '35.938931'], ['120.024055', '35.939941'], ['120.024857', '35.940639'], ['120.026405', '35.942062'], ['120.027451', '35.943069'], ['120.028595', '35.944267'], ['120.028976', '35.944683'], ['120.029655', '35.945488'], ['120.030975', '35.947266'], ['120.031555', '35.948063'], ['120.031914', '35.948593'], ['120.032394', '35.949364'], ['120.03289', '35.95023'], ['120.033165', '35.95076'], ['120.033577', '35.951576'], ['120.033958', '35.952404'], ['120.03421', '35.953026'], ['120.034386', '35.953457'], ['120.035179', '35.955791'], ['120.035324', '35.956226'], ['120.035553', '35.957134'], ['120.035683', '35.957687'], ['120.035797', '35.958252'], ['120.035851', '35.958611'], ['120.036003', '35.959534'], ['120.036087', '35.960159'], ['120.036148', '35.960766'], ['120.036186', '35.961304'], ['120.036232', '35.961956'], ['120.036247', '35.963139'], ['120.03624', '35.963821'], ['120.036186', '35.964458'], ['120.036125', '35.965889'], ['120.036011', '35.967812'], ['120.03598', '35.968643'], ['120.035973', '35.969234'], ['120.035973', '35.969826'], ['120.035988', '35.970757'], ['120.036079', '35.972443'], ['120.036163', '35.973492'], ['120.036324', '35.974846'], ['120.036461', '35.975826'], ['120.036621', '35.976788'], ['120.036774', '35.977581'], ['120.037033', '35.97879'], ['120.037292', '35.979805'], ['120.037407', '35.980221'], ['120.037872', '35.981834'], ['120.038437', '35.983532'], ['120.03878', '35.984524'], ['120.038979', '35.98502'], ['120.039238', '35.985668'], ['120.039612', '35.986507'], ['120.040054', '35.987446'], ['120.041145', '35.989563'], ['120.042038', '35.99115'], ['120.042061', '35.991211'], ['120.042419', '35.991795'], ['120.043503', '35.993519'], ['120.043945', '35.994198'], ['120.044838', '35.995468'], ['120.045639', '35.996544'], ['120.046265', '35.997345'], ['120.04686', '35.998085'], ['120.047531', '35.998886'], ['120.04863', '36.000134'], ['120.04937', '36.000946'], ['120.050072', '36.001678'], ['120.050598', '36.002197'], ['120.051033', '36.002636'], ['120.05191', '36.003479'], ['120.053185', '36.004639'], ['120.054016', '36.005367'], ['120.054939', '36.006134'], ['120.056015', '36.007004'], ['120.057129', '36.007858'], ['120.057823', '36.008377'], ['120.058594', '36.008915'], ['120.059769', '36.009727'], ['120.061821', '36.011059'], ['120.062775', '36.011635'], ['120.063881', '36.012291'], ['120.065399', '36.013142'], ['120.06546', '36.013184'], ['120.066483', '36.01379'], ['120.06765', '36.014515'], ['120.068649', '36.015156'], ['120.069817', '36.015957'], ['120.071037', '36.016823'], ['120.071739', '36.017342'], ['120.072708', '36.018085'], ['120.073799', '36.018963'], ['120.074921', '36.019928'], ['120.07653', '36.021393'], ['120.079399', '36.024166'], ['120.080559', '36.025303'], ['120.082001', '36.026691'], ['120.082558', '36.027214'], ['120.082909', '36.027542'], ['120.082977', '36.027622'], ['120.083061', '36.027699'], ['120.083061', '36.027699'], ['120.083275', '36.027832'], ['120.083328', '36.027874'], ['120.083687', '36.028191'], ['120.084145', '36.028568'], ['120.08432', '36.028702'], ['120.084503', '36.028805'], ['120.084702', '36.028893'], ['120.084915', '36.028957'], ['120.085091', '36.029003'], ['120.085327', '36.029026'], ['120.085541', '36.029026'], ['120.085724', '36.029011'], ['120.085922', '36.028976'], ['120.086113', '36.028919'], ['120.086296', '36.028851'], ['120.086678', '36.028671'], ['120.086853', '36.0285'], ['120.087021', '36.02832'], ['120.087021', '36.02832'], ['120.087273', '36.028099'], ['120.087341', '36.028042'], ['120.087341', '36.028042'], ['120.087425', '36.028133'], ['120.087128', '36.028397'], ['120.087128', '36.028397'], ['120.08667', '36.028793'], ['120.08667', '36.028793'], ['120.085091', '36.030209'], ['120.084953', '36.030319'], ['120.084816', '36.030396'], ['120.084694', '36.030464'], ['120.084549', '36.03051'], ['120.084396', '36.030548'], ['120.084221', '36.030563'], ['120.084084', '36.030556'], ['120.083923', '36.030529'], ['120.083771', '36.030487'], ['120.083641', '36.030434'], ['120.083519', '36.03035'], ['120.083405', '36.030254'], ['120.083313', '36.030155'], ['120.083244', '36.030045'], ['120.083206', '36.029953'], ['120.083176', '36.029827'], ['120.083176', '36.02969'], ['120.083183', '36.029568'], ['120.083328', '36.02903'], ['120.083344', '36.02887'], ['120.083351', '36.028717'], ['120.083344', '36.02858'], ['120.083298', '36.028427'], ['120.083229', '36.028278'], ['120.083038', '36.027977'], ['120.082909', '36.02776'], ['120.082527', '36.027386'], ['120.080559', '36.025482'], ['120.079216', '36.024166'], ['120.076775', '36.021797'], ['120.075829', '36.020912'], ['120.075127', '36.020279'], ['120.074074', '36.019367'], ['120.073242', '36.018684'], ['120.072456', '36.018051'], ['120.071304', '36.017174'], ['120.070152', '36.016335'], ['120.069145', '36.015636'], ['120.068008', '36.014881'], ['120.067146', '36.014336'], ['120.066109', '36.013702'], ['120.065201', '36.013184'], ['120.063606', '36.012276'], ['120.062355', '36.011524'], ['120.061272', '36.010845'], ['120.06015', '36.010128'], ['120.059265', '36.009525'], ['120.058594', '36.009064'], ['120.058029', '36.008663'], ['120.056793', '36.007755'], ['120.055946', '36.007111'], ['120.054985', '36.006336'], ['120.054146', '36.005638'], ['120.053307', '36.00491'], ['120.052353', '36.004063'], ['120.051323', '36.003094'], ['120.050446', '36.002243'], ['120.0504', '36.002197'], ['120.04921', '36.000954'], ['120.048416', '36.000134'], ['120.048027', '35.999695'], ['120.047424', '35.998993'], ['120.04631', '35.997673'], ['120.045502', '35.996632'], ['120.044693', '35.995548'], ['120.044258', '35.99493'], ['120.043472', '35.99379'], ['120.04274', '35.992657'], ['120.042206', '35.991795'], ['120.04187', '35.991211'], ['120.041412', '35.99041'], ['120.040688', '35.989044'], ['120.040321', '35.988338'], ['120.039642', '35.986923'], ['120.039322', '35.986225'], ['120.039032', '35.985516'], ['120.038322', '35.983692'], ['120.038063', '35.982994'], ['120.037491', '35.98122'], ['120.037216', '35.980221'], ['120.037186', '35.980095'], ['120.036865', '35.978817'], ['120.036621', '35.977665'], ['120.036552', '35.977329'], ['120.036285', '35.975845'], ['120.03614', '35.974869'], ['120.036072', '35.974258'], ['120.035912', '35.972546'], ['120.03582', '35.971096'], ['120.035797', '35.970131'], ['120.035797', '35.969234'], ['120.035797', '35.969154'], ['120.035843', '35.96801']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>