<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.958481', '35.876019'], ['119.958107', '35.876026'], ['119.958107', '35.876026'], ['119.958115', '35.876621'], ['119.958122', '35.877079'], ['119.958122', '35.877636'], ['119.958122', '35.878113'], ['119.958122', '35.878963'], ['119.958122', '35.879467'], ['119.958145', '35.879963'], ['119.95816', '35.880363'], ['119.958168', '35.880669'], ['119.958176', '35.881348'], ['119.958176', '35.881752'], ['119.958183', '35.88208'], ['119.958199', '35.882156'], ['119.958206', '35.882614'], ['119.958206', '35.884212'], ['119.958206', '35.88464'], ['119.958122', '35.884716'], ['119.957779', '35.884712'], ['119.957191', '35.884686'], ['119.955795', '35.884628'], ['119.954765', '35.884594'], ['119.953392', '35.88456'], ['119.952957', '35.884548'], ['119.952675', '35.884537'], ['119.952141', '35.884521'], ['119.951561', '35.88451'], ['119.951019', '35.884506'], ['119.95063', '35.884525'], ['119.950157', '35.884579'], ['119.949806', '35.884644'], ['119.949455', '35.884739'], ['119.949059', '35.884876'], ['119.948746', '35.885021'], ['119.94873', '35.885025'], ['119.948463', '35.885166'], ['119.948364', '35.885212'], ['119.947762', '35.885616'], ['119.946465', '35.886543'], ['119.945389', '35.887318'], ['119.945114', '35.887524'], ['119.944641', '35.887848'], ['119.943527', '35.888672'], ['119.943108', '35.889027'], ['119.942703', '35.889435'], ['119.942268', '35.889912'], ['119.941368', '35.890942'], ['119.941132', '35.891216'], ['119.941032', '35.891193'], ['119.940628', '35.890961'], ['119.940216', '35.890739'], ['119.939659', '35.890438'], ['119.939659', '35.890438'], ['119.939514', '35.890354'], ['119.939247', '35.890186'], ['119.93895', '35.890026'], ['119.938683', '35.889912'], ['119.938347', '35.889797'], ['119.938347', '35.889797'], ['119.937881', '35.889832'], ['119.937714', '35.88987'], ['119.9375', '35.889935'], ['119.937332', '35.890022'], ['119.937225', '35.890083'], ['119.937103', '35.890186'], ['119.937019', '35.890259'], ['119.936928', '35.890396'], ['119.936859', '35.890488'], ['119.936821', '35.890606'], ['119.936783', '35.89072'], ['119.936768', '35.890823'], ['119.936768', '35.890995'], ['119.936783', '35.891094'], ['119.936821', '35.891197'], ['119.937096', '35.891819'], ['119.937416', '35.892147'], ['119.937576', '35.89233'], ['119.937973', '35.892784'], ['119.938919', '35.893925'], ['119.940163', '35.895424'], ['119.94416', '35.900551'], ['119.946312', '35.90332'], ['119.94873', '35.906456'], ['119.948799', '35.906548'], ['119.949936', '35.907951'], ['119.95089', '35.90918'], ['119.95295', '35.911812'], ['119.954926', '35.914307'], ['119.955589', '35.915146'], ['119.956169', '35.915886'], ['119.956703', '35.916653'], ['119.957954', '35.918259'], ['119.957954', '35.918259'], ['119.958344', '35.91861'], ['119.958694', '35.918976'], ['119.95903', '35.919308'], ['119.959274', '35.919514'], ['119.959518', '35.919674'], ['119.959747', '35.919815'], ['119.960068', '35.919991'], ['119.960533', '35.920193'], ['119.960869', '35.920292'], ['119.96125', '35.920387'], ['119.962364', '35.920525'], ['119.963615', '35.920494'], ['119.964516', '35.920486'], ['119.967743', '35.920467'], ['119.970703', '35.920456'], ['119.971352', '35.920452'], ['119.972214', '35.920452'], ['119.973083', '35.920448'], ['119.978302', '35.920425'], ['119.984039', '35.920422'], ['119.985245', '35.920448'], ['119.986145', '35.920486'], ['119.98703', '35.920544'], ['119.987808', '35.920624'], ['119.988808', '35.920746'], ['119.989555', '35.920864'], ['119.990356', '35.921013'], ['119.991096', '35.921165'], ['119.992035', '35.921383'], ['119.992676', '35.921562'], ['119.992859', '35.921616'], ['119.993599', '35.921837'], ['119.994392', '35.922104'], ['119.995094', '35.922356'], ['119.995888', '35.922668'], ['119.996613', '35.922977'], ['119.997452', '35.923359'], ['119.998047', '35.923653'], ['119.999184', '35.924252'], ['120.000702', '35.92511'], ['120.001022', '35.925293'], ['120.001305', '35.925446'], ['120.001831', '35.925747'], ['120.00235', '35.926048'], ['120.003998', '35.926991'], ['120.005051', '35.927578'], ['120.005211', '35.92767'], ['120.005539', '35.927837'], ['120.006302', '35.928272'], ['120.008133', '35.929298'], ['120.01281', '35.931934'], ['120.01387', '35.932552'], ['120.014648', '35.933029'], ['120.01503', '35.933266'], ['120.016205', '35.934017'], ['120.016724', '35.934345'], ['120.018425', '35.935513'], ['120.019485', '35.936275'], ['120.019958', '35.936626'], ['120.021461', '35.937778'], ['120.022003', '35.938221'], ['120.022812', '35.938931'], ['120.024055', '35.939941'], ['120.024857', '35.940639'], ['120.026405', '35.942062'], ['120.027451', '35.943069'], ['120.028595', '35.944267'], ['120.028976', '35.944683'], ['120.029655', '35.945488'], ['120.030975', '35.947266'], ['120.031555', '35.948063'], ['120.031914', '35.948593'], ['120.032394', '35.949364'], ['120.03289', '35.95023'], ['120.033165', '35.95076'], ['120.033577', '35.951576'], ['120.033958', '35.952404'], ['120.03421', '35.953026'], ['120.034386', '35.953457'], ['120.035179', '35.955791'], ['120.035324', '35.956226'], ['120.035553', '35.957134'], ['120.035683', '35.957687'], ['120.035797', '35.958252'], ['120.035851', '35.958611'], ['120.036003', '35.959534'], ['120.036087', '35.960159'], ['120.036148', '35.960766'], ['120.036186', '35.961304'], ['120.036232', '35.961956'], ['120.036247', '35.963139'], ['120.03624', '35.963821'], ['120.036186', '35.964458'], ['120.036125', '35.965889'], ['120.036011', '35.967812'], ['120.03598', '35.968643'], ['120.035973', '35.969234'], ['120.035973', '35.969826'], ['120.035988', '35.970757'], ['120.036079', '35.972443'], ['120.036163', '35.973492'], ['120.036324', '35.974846'], ['120.036461', '35.975826'], ['120.036621', '35.976788'], ['120.036774', '35.977581'], ['120.037033', '35.97879'], ['120.037292', '35.979805'], ['120.037407', '35.980221'], ['120.037872', '35.981834'], ['120.038437', '35.983532'], ['120.03878', '35.984524'], ['120.038979', '35.98502'], ['120.039238', '35.985668'], ['120.039612', '35.986507'], ['120.040054', '35.987446'], ['120.041145', '35.989563'], ['120.042038', '35.99115'], ['120.042061', '35.991211'], ['120.042419', '35.991795'], ['120.043503', '35.993519'], ['120.043945', '35.994198'], ['120.044838', '35.995468'], ['120.045639', '35.996544'], ['120.046265', '35.997345'], ['120.04686', '35.998085'], ['120.047531', '35.998886'], ['120.04863', '36.000134'], ['120.04937', '36.000946'], ['120.050072', '36.001678'], ['120.050598', '36.002197'], ['120.051033', '36.002636'], ['120.05191', '36.003479'], ['120.053185', '36.004639'], ['120.054016', '36.005367'], ['120.054939', '36.006134'], ['120.056015', '36.007004'], ['120.057129', '36.007858'], ['120.057823', '36.008377'], ['120.058594', '36.008915'], ['120.059769', '36.009727'], ['120.061821', '36.011059'], ['120.062775', '36.011635'], ['120.063881', '36.012291'], ['120.065399', '36.013142'], ['120.06546', '36.013184'], ['120.066483', '36.01379'], ['120.06765', '36.014515'], ['120.068649', '36.015156'], ['120.069817', '36.015957'], ['120.071037', '36.016823'], ['120.071739', '36.017342'], ['120.072708', '36.018085'], ['120.073799', '36.018963'], ['120.074921', '36.019928'], ['120.07653', '36.021393'], ['120.079399', '36.024166'], ['120.080559', '36.025303'], ['120.082001', '36.026691'], ['120.082558', '36.027214'], ['120.082909', '36.027542'], ['120.082977', '36.027622'], ['120.083061', '36.027699'], ['120.083061', '36.027699'], ['120.083275', '36.027832'], ['120.083328', '36.027874'], ['120.083687', '36.028191'], ['120.084145', '36.028568'], ['120.08432', '36.028702'], ['120.084503', '36.028805'], ['120.084702', '36.028893'], ['120.084915', '36.028957'], ['120.085091', '36.029003'], ['120.085327', '36.029026'], ['120.085541', '36.029026'], ['120.085724', '36.029011'], ['120.085922', '36.028976'], ['120.086113', '36.028919'], ['120.086296', '36.028851'], ['120.086678', '36.028671'], ['120.086853', '36.0285'], ['120.087021', '36.02832'], ['120.087021', '36.02832'], ['120.087273', '36.028099'], ['120.087341', '36.028042'], ['120.087341', '36.028042'], ['120.087425', '36.028133'], ['120.087128', '36.028397'], ['120.087128', '36.028397'], ['120.08667', '36.028793'], ['120.08667', '36.028793'], ['120.085091', '36.030209'], ['120.084953', '36.030319'], ['120.084816', '36.030396'], ['120.084694', '36.030464'], ['120.084549', '36.03051'], ['120.084396', '36.030548'], ['120.084221', '36.030563'], ['120.084084', '36.030556'], ['120.083923', '36.030529'], ['120.083771', '36.030487'], ['120.083641', '36.030434'], ['120.083519', '36.03035'], ['120.083405', '36.030254'], ['120.083313', '36.030155'], ['120.083244', '36.030045'], ['120.083206', '36.029953'], ['120.083176', '36.029827'], ['120.083176', '36.02969'], ['120.083183', '36.029568'], ['120.083328', '36.02903'], ['120.083344', '36.02887'], ['120.083351', '36.028717'], ['120.083344', '36.02858'], ['120.083298', '36.028427'], ['120.083229', '36.028278'], ['120.083038', '36.027977'], ['120.082909', '36.02776'], ['120.082527', '36.027386'], ['120.080559', '36.025482'], ['120.079216', '36.024166'], ['120.076775', '36.021797'], ['120.075829', '36.020912'], ['120.075127', '36.020279'], ['120.074074', '36.019367'], ['120.073242', '36.018684'], ['120.072456', '36.018051'], ['120.071304', '36.017174'], ['120.070152', '36.016335'], ['120.069145', '36.015636'], ['120.068008', '36.014881'], ['120.067146', '36.014336'], ['120.066109', '36.013702'], ['120.065201', '36.013184'], ['120.063606', '36.012276'], ['120.062355', '36.011524'], ['120.061272', '36.010845'], ['120.06015', '36.010128'], ['120.059265', '36.009525'], ['120.058594', '36.009064'], ['120.058029', '36.008663'], ['120.056793', '36.007755'], ['120.055946', '36.007111'], ['120.054985', '36.006336'], ['120.054146', '36.005638'], ['120.053307', '36.00491'], ['120.052353', '36.004063'], ['120.051323', '36.003094'], ['120.050446', '36.002243'], ['120.0504', '36.002197'], ['120.04921', '36.000954'], ['120.048416', '36.000134'], ['120.048027', '35.999695'], ['120.047424', '35.998993'], ['120.04631', '35.997673'], ['120.045502', '35.996632'], ['120.044693', '35.995548'], ['120.044258', '35.99493'], ['120.043472', '35.99379'], ['120.04274', '35.992657'], ['120.042206', '35.991795'], ['120.04187', '35.991211'], ['120.041412', '35.99041'], ['120.040688', '35.989044'], ['120.040321', '35.988338'], ['120.039642', '35.986923'], ['120.039322', '35.986225'], ['120.039032', '35.985516'], ['120.038322', '35.983692'], ['120.038063', '35.982994'], ['120.037491', '35.98122'], ['120.037216', '35.980221'], ['120.037186', '35.980095'], ['120.036865', '35.978817'], ['120.036621', '35.977665'], ['120.036552', '35.977329'], ['120.036285', '35.975845'], ['120.03614', '35.974869'], ['120.036072', '35.974258'], ['120.035912', '35.972546'], ['120.03582', '35.971096'], ['120.035797', '35.970131'], ['120.035797', '35.969234'], ['120.035797', '35.969154'], ['120.035843', '35.96801']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>