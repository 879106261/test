<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['119.958481', '35.876019'], ['119.958107', '35.876026'], ['119.958107', '35.876026'], ['119.958115', '35.876621'], ['119.958122', '35.877079'], ['119.958122', '35.877636'], ['119.958122', '35.878113'], ['119.958122', '35.878963'], ['119.958122', '35.879467'], ['119.958145', '35.879963'], ['119.95816', '35.880363'], ['119.958168', '35.880669'], ['119.958176', '35.881348'], ['119.958176', '35.881752'], ['119.958183', '35.88208'], ['119.958199', '35.882156'], ['119.958206', '35.882614'], ['119.958206', '35.884212'], ['119.958206', '35.88464'], ['119.958122', '35.884716'], ['119.957779', '35.884712'], ['119.957191', '35.884686'], ['119.955795', '35.884628'], ['119.954765', '35.884594'], ['119.953392', '35.88456'], ['119.952957', '35.884548'], ['119.952675', '35.884537'], ['119.952141', '35.884521'], ['119.951561', '35.88451'], ['119.951019', '35.884506'], ['119.95063', '35.884525'], ['119.950157', '35.884579'], ['119.949806', '35.884644'], ['119.949455', '35.884739'], ['119.949059', '35.884876'], ['119.948746', '35.885021'], ['119.94873', '35.885025'], ['119.948463', '35.885166'], ['119.948364', '35.885212'], ['119.947762', '35.885616'], ['119.946465', '35.886543'], ['119.945389', '35.887318'], ['119.945114', '35.887524'], ['119.944641', '35.887848'], ['119.943527', '35.888672'], ['119.943108', '35.889027'], ['119.942703', '35.889435'], ['119.942268', '35.889912'], ['119.941368', '35.890942'], ['119.941132', '35.891216'], ['119.941032', '35.891193'], ['119.940628', '35.890961'], ['119.940216', '35.890739'], ['119.939659', '35.890438'], ['119.939659', '35.890438'], ['119.939514', '35.890354'], ['119.939247', '35.890186'], ['119.93895', '35.890026'], ['119.938683', '35.889912'], ['119.938347', '35.889797'], ['119.938347', '35.889797'], ['119.937881', '35.889832'], ['119.937714', '35.88987'], ['119.9375', '35.889935'], ['119.937332', '35.890022'], ['119.937225', '35.890083'], ['119.937103', '35.890186'], ['119.937019', '35.890259'], ['119.936928', '35.890396'], ['119.936859', '35.890488'], ['119.936821', '35.890606'], ['119.936783', '35.89072'], ['119.936768', '35.890823'], ['119.936768', '35.890995'], ['119.936783', '35.891094'], ['119.936821', '35.891197'], ['119.937096', '35.891819'], ['119.937416', '35.892147'], ['119.937576', '35.89233'], ['119.937973', '35.892784'], ['119.938919', '35.893925'], ['119.940163', '35.895424'], ['119.94416', '35.900551'], ['119.946312', '35.90332'], ['119.94873', '35.906456'], ['119.948799', '35.906548'], ['119.949936', '35.907951'], ['119.95089', '35.90918'], ['119.95295', '35.911812'], ['119.954926', '35.914307'], ['119.955589', '35.915146'], ['119.956169', '35.915886'], ['119.956703', '35.916653'], ['119.957954', '35.918259'], ['119.958549', '35.919022'], ['119.95903', '35.919682'], ['119.959618', '35.920383'], ['119.959709', '35.920479'], ['119.959892', '35.920715'], ['119.961296', '35.922592'], ['119.961845', '35.923382'], ['119.962128', '35.923775'], ['119.962418', '35.924217'], ['119.96312', '35.925293'], ['119.96315', '35.925327'], ['119.963852', '35.926491'], ['119.964508', '35.92767'], ['119.965004', '35.928627'], ['119.965775', '35.930172'], ['119.9664', '35.931534'], ['119.96682', '35.932541'], ['119.967117', '35.933334'], ['119.967232', '35.933659'], ['119.967484', '35.934357'], ['119.967751', '35.935188'], ['119.968002', '35.936024'], ['119.968071', '35.936275'], ['119.96859', '35.938084'], ['119.968735', '35.938663'], ['119.969055', '35.940159'], ['119.969193', '35.940887'], ['119.969398', '35.942268'], ['119.969482', '35.943005'], ['119.969597', '35.944077'], ['119.969704', '35.945568'], ['119.969757', '35.946804'], ['119.969757', '35.947266'], ['119.969757', '35.948868'], ['119.969734', '35.949673'], ['119.969635', '35.95105'], ['119.969582', '35.951725'], ['119.969429', '35.953087'], ['119.969353', '35.953648'], ['119.969101', '35.955132'], ['119.968834', '35.956501'], ['119.968605', '35.957775'], ['119.968536', '35.958252'], ['119.968269', '35.960133'], ['119.968178', '35.961128'], ['119.968117', '35.962185'], ['119.968056', '35.962898'], ['119.967949', '35.964787'], ['119.967941', '35.965874'], ['119.967941', '35.96685'], ['119.967957', '35.967892'], ['119.968018', '35.969234'], ['119.968025', '35.969376'], ['119.968086', '35.970379'], ['119.9683', '35.972588'], ['119.968414', '35.973526'], ['119.968895', '35.976219'], ['119.96907', '35.977032'], ['119.969597', '35.97937'], ['119.969826', '35.980221'], ['119.970703', '35.983665'], ['119.971916', '35.98843'], ['119.97261', '35.991211'], ['119.972847', '35.992157'], ['119.973145', '35.993275'], ['119.974861', '36.000034'], ['119.97541', '36.002197'], ['119.975731', '36.003494'], ['119.975937', '36.004433'], ['119.976166', '36.005657'], ['119.976372', '36.006996'], ['119.976479', '36.007744'], ['119.976624', '36.009148'], ['119.976692', '36.010017'], ['119.976799', '36.011856'], ['119.976814', '36.013184'], ['119.976814', '36.013229'], ['119.976807', '36.01429'], ['119.976784', '36.01519'], ['119.976707', '36.016365'], ['119.976631', '36.017326'], ['119.976555', '36.018078'], ['119.976273', '36.020077'], ['119.975945', '36.021938'], ['119.975761', '36.022823'], ['119.975456', '36.024166'], ['119.974403', '36.028763'], ['119.97419', '36.029869'], ['119.974037', '36.030766'], ['119.973801', '36.032421'], ['119.973625', '36.034294'], ['119.973572', '36.035156'], ['119.973557', '36.035507'], ['119.973526', '36.036247'], ['119.973526', '36.037102'], ['119.973541', '36.037804'], ['119.973579', '36.039116'], ['119.973709', '36.040829'], ['119.973892', '36.042553'], ['119.974106', '36.043972'], ['119.974106', '36.043972'], ['119.974373', '36.0448'], ['119.974739', '36.046143'], ['119.974739', '36.046143'], ['119.974739', '36.046143'], ['119.97496', '36.046421'], ['119.97541', '36.04705'], ['119.975647', '36.04731'], ['119.975876', '36.047535'], ['119.976265', '36.047825'], ['119.976532', '36.048004'], ['119.976959', '36.048237'], ['119.977173', '36.048347'], ['119.977722', '36.048561'], ['119.978172', '36.048683'], ['119.978668', '36.048779'], ['119.979202', '36.048843'], ['119.980347', '36.048943'], ['119.981606', '36.04895'], ['119.981941', '36.048969'], ['119.982155', '36.049011'], ['119.983559', '36.048988'], ['119.989624', '36.048893'], ['119.991203', '36.048859'], ['119.992676', '36.04884'], ['119.993408', '36.048828'], ['119.995499', '36.048798'], ['119.997368', '36.048763'], ['119.999825', '36.048721'], ['120.000343', '36.048714'], ['120.001976', '36.048691'], ['120.002747', '36.048672'], ['120.00441', '36.048676'], ['120.005219', '36.048691'], ['120.006638', '36.048725'], ['120.00856', '36.048832'], ['120.009682', '36.048916'], ['120.010811', '36.049019'], ['120.012405', '36.049194'], ['120.014648', '36.049484'], ['120.023697', '36.050671'], ['120.027519', '36.051163'], ['120.029556', '36.05138'], ['120.034264', '36.051682'], ['120.036621', '36.051788'], ['120.047386', '36.052303'], ['120.052551', '36.052544'], ['120.052917', '36.052559'], ['120.052917', '36.052559'], ['120.053528', '36.052505'], ['120.054558', '36.052448'], ['120.054924', '36.052414'], ['120.05529', '36.052353'], ['120.055641', '36.052273'], ['120.056007', '36.05217'], ['120.056335', '36.052059'], ['120.056648', '36.051926'], ['120.056969', '36.051785'], ['120.057274', '36.051617'], ['120.057541', '36.051445'], ['120.057823', '36.051243'], ['120.058594', '36.050621'], ['120.058655', '36.050564'], ['120.059769', '36.049625'], ['120.061401', '36.048241'], ['120.063911', '36.046143'], ['120.06646', '36.044006'], ['120.067177', '36.043438'], ['120.067757', '36.043003'], ['120.068314', '36.042622'], ['120.068764', '36.042328'], ['120.070122', '36.041546'], ['120.071335', '36.040958'], ['120.071869', '36.040714'], ['120.07238', '36.040508'], ['120.073143', '36.040222'], ['120.073814', '36.040005'], ['120.074516', '36.039795'], ['120.075317', '36.039593'], ['120.076035', '36.039433'], ['120.076691', '36.039307'], ['120.077553', '36.039169'], ['120.079056', '36.038975'], ['120.080559', '36.038803'], ['120.084816', '36.038319'], ['120.085541', '36.038219'], ['120.086365', '36.03809'], ['120.087456', '36.037849'], ['120.088402', '36.037617'], ['120.089203', '36.037376'], ['120.090202', '36.037048'], ['120.090836', '36.036819'], ['120.091248', '36.036648'], ['120.091438', '36.036552'], ['120.091438', '36.036552'], ['120.091637', '36.036366'], ['120.091827', '36.036228'], ['120.091957', '36.03611'], ['120.092079', '36.035976'], ['120.092255', '36.035702'], ['120.092331', '36.035545'], ['120.092377', '36.035397'], ['120.0924', '36.035236'], ['120.092407', '36.035156'], ['120.092407', '36.035072'], ['120.092392', '36.034916'], ['120.092346', '36.034725'], ['120.092308', '36.034592'], ['120.092232', '36.034424'], ['120.09211', '36.034241'], ['120.091972', '36.034058'], ['120.091743', '36.033825'], ['120.091476', '36.033611'], ['120.091225', '36.033455'], ['120.090935', '36.033295'], ['120.090576', '36.033054'], ['120.08905', '36.032299'], ['120.088425', '36.031967'], ['120.087563', '36.031456'], ['120.086884', '36.031006'], ['120.086319', '36.030621'], ['120.085777', '36.030228'], ['120.085312', '36.029873'], ['120.084656', '36.02935'], ['120.084175', '36.028934'], ['120.082909', '36.02776'], ['120.082527', '36.027386'], ['120.080559', '36.025482'], ['120.079216', '36.024166'], ['120.076775', '36.021797'], ['120.075829', '36.020912'], ['120.075127', '36.020279'], ['120.074074', '36.019367'], ['120.073242', '36.018684'], ['120.072456', '36.018051'], ['120.071304', '36.017174'], ['120.070152', '36.016335'], ['120.069145', '36.015636'], ['120.068008', '36.014881'], ['120.067146', '36.014336'], ['120.066109', '36.013702'], ['120.065201', '36.013184'], ['120.063606', '36.012276'], ['120.062355', '36.011524'], ['120.061272', '36.010845'], ['120.06015', '36.010128'], ['120.059265', '36.009525'], ['120.058594', '36.009064'], ['120.058029', '36.008663'], ['120.056793', '36.007755'], ['120.055946', '36.007111'], ['120.054985', '36.006336'], ['120.054146', '36.005638'], ['120.053307', '36.00491'], ['120.052353', '36.004063'], ['120.051323', '36.003094'], ['120.050446', '36.002243'], ['120.0504', '36.002197'], ['120.04921', '36.000954'], ['120.048416', '36.000134'], ['120.048027', '35.999695'], ['120.047424', '35.998993'], ['120.04631', '35.997673'], ['120.045502', '35.996632'], ['120.044693', '35.995548'], ['120.044258', '35.99493'], ['120.043472', '35.99379'], ['120.04274', '35.992657'], ['120.042206', '35.991795'], ['120.04187', '35.991211'], ['120.041412', '35.99041'], ['120.040688', '35.989044'], ['120.040321', '35.988338'], ['120.039642', '35.986923'], ['120.039322', '35.986225'], ['120.039032', '35.985516'], ['120.038322', '35.983692'], ['120.038063', '35.982994'], ['120.037491', '35.98122'], ['120.037216', '35.980221'], ['120.037186', '35.980095'], ['120.036865', '35.978817'], ['120.036621', '35.977665'], ['120.036552', '35.977329'], ['120.036285', '35.975845'], ['120.03614', '35.974869'], ['120.036072', '35.974258'], ['120.035912', '35.972546'], ['120.03582', '35.971096'], ['120.035797', '35.970131'], ['120.035797', '35.969234'], ['120.035797', '35.969154'], ['120.035843', '35.96801']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>