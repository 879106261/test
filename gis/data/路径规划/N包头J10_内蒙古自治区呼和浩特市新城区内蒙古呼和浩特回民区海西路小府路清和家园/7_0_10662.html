<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['111.550835', '40.799503'], ['111.550545', '40.799408'], ['111.550468', '40.799431'], ['111.550232', '40.799786'], ['111.550041', '40.800068'], ['111.550041', '40.800068'], ['111.550224', '40.800148'], ['111.550339', '40.800194'], ['111.550606', '40.800308'], ['111.550606', '40.800308'], ['111.551102', '40.800404'], ['111.551102', '40.800404'], ['111.551147', '40.800381'], ['111.551247', '40.800365'], ['111.551323', '40.800373'], ['111.551376', '40.800388'], ['111.551468', '40.800442'], ['111.551498', '40.800488'], ['111.551537', '40.800568'], ['111.551552', '40.800671'], ['111.551544', '40.800724'], ['111.551544', '40.800724'], ['111.551857', '40.800953'], ['111.551918', '40.800995'], ['111.552055', '40.801044'], ['111.553345', '40.801636'], ['111.55378', '40.801834'], ['111.554039', '40.801952'], ['111.554489', '40.802174'], ['111.554695', '40.802273'], ['111.555008', '40.802425'], ['111.555176', '40.802505'], ['111.555397', '40.802612'], ['111.556549', '40.803173'], ['111.556656', '40.803223'], ['111.557404', '40.803555'], ['111.557861', '40.803764'], ['111.559288', '40.80447'], ['111.55954', '40.804634'], ['111.559746', '40.804813'], ['111.560791', '40.805973'], ['111.561256', '40.806526'], ['111.561401', '40.806698'], ['111.56234', '40.807766'], ['111.562851', '40.808372'], ['111.563248', '40.808853'], ['111.563698', '40.809406'], ['111.563904', '40.809654'], ['111.564445', '40.810314'], ['111.564445', '40.810314'], ['111.565292', '40.809864'], ['111.566055', '40.809418'], ['111.566971', '40.808868'], ['111.568115', '40.808208'], ['111.569206', '40.807564'], ['111.569359', '40.807476'], ['111.569534', '40.807373'], ['111.572075', '40.805901'], ['111.572479', '40.805672'], ['111.572731', '40.805679'], ['111.573318', '40.80595'], ['111.574821', '40.80661'], ['111.575241', '40.80677'], ['111.57621', '40.807102'], ['111.576569', '40.807217'], ['111.577148', '40.807407'], ['111.579048', '40.808048'], ['111.579971', '40.80835'], ['111.5812', '40.8088'], ['111.581619', '40.808968'], ['111.581619', '40.808968'], ['111.583344', '40.809696'], ['111.583405', '40.809715'], ['111.584877', '40.810337'], ['111.586792', '40.811165'], ['111.591545', '40.813152'], ['111.593384', '40.813904'], ['111.593636', '40.813999'], ['111.594109', '40.814205'], ['111.594986', '40.814583'], ['111.597153', '40.815479'], ['111.598206', '40.815922'], ['111.599121', '40.816292'], ['111.599503', '40.816452'], ['111.600594', '40.81691'], ['111.602211', '40.817585'], ['111.60363', '40.818176'], ['111.604965', '40.818748'], ['111.605011', '40.818768'], ['111.605736', '40.819061'], ['111.606926', '40.819557'], ['111.608536', '40.820232'], ['111.609085', '40.820461'], ['111.611084', '40.821297'], ['111.611237', '40.821365'], ['111.611778', '40.821587'], ['111.61232', '40.821812'], ['111.613037', '40.822109'], ['111.613808', '40.822437'], ['111.615288', '40.823059'], ['111.61586', '40.823292'], ['111.616623', '40.823608'], ['111.617935', '40.824162'], ['111.618576', '40.824429'], ['111.618706', '40.824486'], ['111.619247', '40.824711'], ['111.619751', '40.824917'], ['111.620308', '40.825157'], ['111.620399', '40.825195'], ['111.62085', '40.825386'], ['111.621094', '40.825481'], ['111.621384', '40.825607'], ['111.621506', '40.825657'], ['111.621979', '40.825859'], ['111.622345', '40.826008'], ['111.623032', '40.82629'], ['111.623474', '40.826462'], ['111.62471', '40.826981'], ['111.625114', '40.827152'], ['111.625938', '40.827492'], ['111.627121', '40.827988'], ['111.628036', '40.828373'], ['111.62838', '40.828522'], ['111.628883', '40.828724'], ['111.629883', '40.829155'], ['111.631264', '40.829723'], ['111.631538', '40.829845'], ['111.631691', '40.829903'], ['111.6325', '40.830246'], ['111.632744', '40.830345'], ['111.633728', '40.830757'], ['111.634621', '40.83112'], ['111.634987', '40.831272'], ['111.637932', '40.832497'], ['111.639526', '40.833168'], ['111.639694', '40.833237'], ['111.640762', '40.833691'], ['111.641685', '40.834068'], ['111.642044', '40.834202'], ['111.642334', '40.834278'], ['111.642708', '40.834358'], ['111.643066', '40.834419'], ['111.643272', '40.83445'], ['111.643349', '40.834457'], ['111.644859', '40.834633'], ['111.64547', '40.834702'], ['111.647408', '40.834923'], ['111.648445', '40.835045'], ['111.648399', '40.835182'], ['111.648193', '40.83601'], ['111.648148', '40.836182'], ['111.648018', '40.836639'], ['111.647636', '40.838005'], ['111.647545', '40.838322'], ['111.647446', '40.838638'], ['111.647339', '40.839024'], ['111.647316', '40.839111'], ['111.646935', '40.840111'], ['111.646446', '40.841396'], ['111.646446', '40.841396'], ['111.646225', '40.841354'], ['111.646103', '40.841339'], ['111.6455', '40.841221'], ['111.645241', '40.841179']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>