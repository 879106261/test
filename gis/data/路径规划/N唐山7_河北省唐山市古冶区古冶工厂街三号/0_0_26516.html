<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['118.19799', '39.696365'], ['118.198029', '39.695869'], ['118.198029', '39.695869'], ['118.197067', '39.695862'], ['118.197067', '39.695862'], ['118.19706', '39.695751'], ['118.198036', '39.695751'], ['118.198532', '39.695751'], ['118.199806', '39.695744'], ['118.200989', '39.695736'], ['118.202263', '39.695736'], ['118.202469', '39.695736'], ['118.202827', '39.695751'], ['118.204025', '39.695751'], ['118.209511', '39.695744'], ['118.210442', '39.695744'], ['118.210762', '39.695721'], ['118.211243', '39.695744'], ['118.212479', '39.695831'], ['118.212852', '39.695858'], ['118.212891', '39.695862'], ['118.214096', '39.695999'], ['118.216606', '39.696312'], ['118.217216', '39.696392'], ['118.225449', '39.69743'], ['118.226234', '39.697502'], ['118.226753', '39.697521'], ['118.227318', '39.697521'], ['118.228241', '39.697495'], ['118.228943', '39.697426'], ['118.229385', '39.697361'], ['118.230324', '39.697201'], ['118.233833', '39.69651'], ['118.234863', '39.696312'], ['118.234955', '39.696293'], ['118.238251', '39.695652'], ['118.239716', '39.695358'], ['118.241127', '39.695087'], ['118.242821', '39.694752'], ['118.244629', '39.694401'], ['118.245819', '39.694157'], ['118.245819', '39.694157'], ['118.24585', '39.694286'], ['118.245209', '39.694416'], ['118.244408', '39.694576'], ['118.24202', '39.695045'], ['118.239754', '39.695492'], ['118.239754', '39.695492'], ['118.23941', '39.69569'], ['118.236855', '39.696182'], ['118.235535', '39.696445'], ['118.235535', '39.696445'], ['118.236305', '39.696854'], ['118.237022', '39.697224'], ['118.238358', '39.697948'], ['118.240234', '39.698952'], ['118.240921', '39.699322'], ['118.241585', '39.699677'], ['118.241661', '39.699707'], ['118.242264', '39.699963'], ['118.242699', '39.700111'], ['118.244026', '39.700516'], ['118.244202', '39.700581'], ['118.244736', '39.700779'], ['118.245461', '39.701115'], ['118.246117', '39.701424'], ['118.246994', '39.701855'], ['118.247856', '39.70229'], ['118.248779', '39.702728'], ['118.250824', '39.70377'], ['118.251366', '39.704025'], ['118.251442', '39.704102'], ['118.252411', '39.704586'], ['118.252495', '39.704636'], ['118.252876', '39.70483'], ['118.252876', '39.70483'], ['118.252899', '39.704964'], ['118.25296', '39.706261'], ['118.253014', '39.707108'], ['118.253075', '39.707603'], ['118.253128', '39.707802'], ['118.253189', '39.707973'], ['118.253265', '39.708138'], ['118.253387', '39.708347'], ['118.253601', '39.708599'], ['118.253937', '39.708923'], ['118.255455', '39.709961'], ['118.255829', '39.710201'], ['118.256149', '39.710403'], ['118.256836', '39.710884'], ['118.256874', '39.710911'], ['118.257065', '39.711071'], ['118.257339', '39.711346'], ['118.257713', '39.711823'], ['118.258278', '39.712845'], ['118.258461', '39.713177'], ['118.259109', '39.714386'], ['118.259361', '39.714809'], ['118.259598', '39.715107'], ['118.259735', '39.715252'], ['118.259819', '39.715347'], ['118.260078', '39.715572'], ['118.260117', '39.715611'], ['118.260506', '39.715893'], ['118.260818', '39.716076'], ['118.26107', '39.716209'], ['118.261543', '39.7164'], ['118.262077', '39.716568'], ['118.263733', '39.71701'], ['118.263908', '39.717052'], ['118.264328', '39.717159'], ['118.265335', '39.717419'], ['118.265892', '39.717548'], ['118.2668', '39.717777'], ['118.267487', '39.717957'], ['118.267487', '39.717957'], ['118.267052', '39.718708'], ['118.266891', '39.719086'], ['118.266815', '39.719254'], ['118.266792', '39.719341'], ['118.266777', '39.719479'], ['118.266792', '39.719601'], ['118.26696', '39.720024'], ['118.267548', '39.721256'], ['118.267845', '39.721939'], ['118.267845', '39.721939'], ['118.271248', '39.720901'], ['118.278809', '39.718525'], ['118.281944', '39.717537'], ['118.285362', '39.716476'], ['118.286362', '39.71616'], ['118.287376', '39.715816'], ['118.288033', '39.715572'], ['118.290367', '39.714752'], ['118.293526', '39.713741'], ['118.29776', '39.71246'], ['118.29969', '39.711926'], ['118.300781', '39.711674'], ['118.301949', '39.711414'], ['118.305145', '39.710442'], ['118.305984', '39.710144'], ['118.306381', '39.709999'], ['118.307617', '39.70945'], ['118.307884', '39.709293'], ['118.308846', '39.70871'], ['118.310059', '39.707779'], ['118.31089', '39.706944'], ['118.311752', '39.70591'], ['118.312187', '39.705318'], ['118.312286', '39.705368'], ['118.313919', '39.706028'], ['118.315002', '39.706524'], ['118.318665', '39.708061'], ['118.319626', '39.708458'], ['118.321785', '39.709332'], ['118.322754', '39.709717'], ['118.324799', '39.710541'], ['118.325684', '39.710915'], ['118.326187', '39.711113'], ['118.32637', '39.711163'], ['118.326782', '39.711372'], ['118.32946', '39.713383'], ['118.331261', '39.71484'], ['118.332184', '39.715572'], ['118.335007', '39.717823'], ['118.336899', '39.719353'], ['118.339233', '39.721138'], ['118.340721', '39.722313'], ['118.342041', '39.723373'], ['118.342567', '39.723686'], ['118.344017', '39.724426'], ['118.344215', '39.724529'], ['118.344727', '39.724751'], ['118.345421', '39.72506'], ['118.347092', '39.725456'], ['118.349304', '39.726112'], ['118.351112', '39.726566'], ['118.352562', '39.726921'], ['118.35334', '39.727116'], ['118.355057', '39.727501'], ['118.357513', '39.727806'], ['118.358459', '39.727852'], ['118.358459', '39.727852'], ['118.35865', '39.72728'], ['118.35891', '39.726566'], ['118.359192', '39.725845'], ['118.359619', '39.724854'], ['118.360199', '39.723633'], ['118.360634', '39.722824'], ['118.361099', '39.722004'], ['118.363457', '39.718025'], ['118.364899', '39.715572'], ['118.365082', '39.715271'], ['118.366043', '39.713619'], ['118.366585', '39.712708'], ['118.366692', '39.712517'], ['118.367935', '39.710403'], ['118.368065', '39.710461'], ['118.369247', '39.711411'], ['118.36985', '39.711872'], ['118.37088', '39.712685'], ['118.371101', '39.712856'], ['118.371666', '39.71328'], ['118.372391', '39.713783'], ['118.37294', '39.714096'], ['118.37323', '39.714237'], ['118.373795', '39.714474'], ['118.374519', '39.714729'], ['118.375191', '39.714924'], ['118.375954', '39.715073'], ['118.376328', '39.715118'], ['118.379532', '39.715572'], ['118.379639', '39.715591'], ['118.380684', '39.715782'], ['118.381317', '39.715961'], ['118.382042', '39.71616'], ['118.383217', '39.71648'], ['118.388672', '39.718021'], ['118.391495', '39.718819'], ['118.393295', '39.719326'], ['118.395416', '39.719917'], ['118.3965', '39.720222'], ['118.397491', '39.720497'], ['118.399086', '39.720943'], ['118.400024', '39.721199'], ['118.400917', '39.721474'], ['118.401466', '39.721676'], ['118.40229', '39.722031'], ['118.403122', '39.722462'], ['118.403549', '39.722702'], ['118.405022', '39.723553'], ['118.405396', '39.72377'], ['118.406372', '39.724339'], ['118.407349', '39.724892'], ['118.408096', '39.725315'], ['118.408623', '39.72559'], ['118.409256', '39.725857'], ['118.410126', '39.726185'], ['118.410637', '39.72633'], ['118.410736', '39.72636'], ['118.410973', '39.726418'], ['118.411575', '39.726566'], ['118.41214', '39.726688'], ['118.4132', '39.726917'], ['118.414185', '39.727127'], ['118.41478', '39.727261'], ['118.416275', '39.727608'], ['118.416985', '39.727757'], ['118.4188', '39.728115'], ['118.419334', '39.728214'], ['118.419708', '39.728249'], ['118.419914', '39.728241'], ['118.420166', '39.728195'], ['118.420364', '39.728142'], ['118.420647', '39.728031'], ['118.420815', '39.727943'], ['118.42099', '39.72784'], ['118.422226', '39.726944'], ['118.422729', '39.726566'], ['118.422928', '39.72641'], ['118.422928', '39.72641'], ['118.423058', '39.726158'], ['118.423073', '39.726089'], ['118.423073', '39.726089'], ['118.423317', '39.725006'], ['118.423317', '39.724915'], ['118.423264', '39.724792'], ['118.422806', '39.724022'], ['118.422729', '39.723942'], ['118.422569', '39.723858'], ['118.421188', '39.723339'], ['118.421188', '39.723339'], ['118.421097', '39.723503']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>