<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.247505', '40.084339'], ['116.247414', '40.084324'], ['116.247414', '40.084324'], ['116.24733', '40.084438'], ['116.247276', '40.084526'], ['116.247276', '40.084526'], ['116.247475', '40.084564'], ['116.24781', '40.084644'], ['116.248283', '40.084743'], ['116.249725', '40.084991'], ['116.24984', '40.085094'], ['116.24855', '40.087543'], ['116.247856', '40.088917'], ['116.247772', '40.089111'], ['116.246552', '40.091534'], ['116.24469', '40.09523'], ['116.244041', '40.096569'], ['116.244041', '40.096569'], ['116.244553', '40.096737'], ['116.247131', '40.097614'], ['116.250252', '40.098724'], ['116.252594', '40.099537'], ['116.253532', '40.099865'], ['116.254112', '40.10006'], ['116.254257', '40.100098'], ['116.254883', '40.100338'], ['116.255211', '40.100441'], ['116.25605', '40.100712'], ['116.256248', '40.100777'], ['116.256248', '40.100777'], ['116.256714', '40.100456'], ['116.256958', '40.100277'], ['116.257248', '40.100098'], ['116.257324', '40.100048'], ['116.258255', '40.099442'], ['116.258438', '40.099346'], ['116.258934', '40.099003'], ['116.259636', '40.098671'], ['116.260605', '40.098015'], ['116.262062', '40.097038'], ['116.262611', '40.096684'], ['116.262817', '40.096554'], ['116.262962', '40.096466'], ['116.26458', '40.095467'], ['116.265121', '40.095135'], ['116.26577', '40.094749'], ['116.271378', '40.091419'], ['116.272095', '40.090996'], ['116.274406', '40.089622'], ['116.274872', '40.089352'], ['116.275269', '40.089111'], ['116.275536', '40.088951'], ['116.276695', '40.088257'], ['116.276939', '40.088116'], ['116.277611', '40.087719'], ['116.27803', '40.087471'], ['116.2789', '40.086952'], ['116.279297', '40.08672'], ['116.279877', '40.086384'], ['116.281265', '40.085522'], ['116.282852', '40.084591'], ['116.283699', '40.084072'], ['116.284966', '40.083271'], ['116.285599', '40.082836'], ['116.286011', '40.08252'], ['116.286713', '40.081955'], ['116.287621', '40.081177'], ['116.288284', '40.080544'], ['116.28862', '40.080196'], ['116.289192', '40.079594'], ['116.289719', '40.078972'], ['116.28997', '40.078651'], ['116.290222', '40.078339'], ['116.290382', '40.078125'], ['116.290543', '40.077908'], ['116.29081', '40.077538'], ['116.291557', '40.076435'], ['116.292084', '40.075596'], ['116.293205', '40.073677'], ['116.293991', '40.07233'], ['116.295013', '40.070541'], ['116.296562', '40.067875'], ['116.296989', '40.067139'], ['116.298668', '40.06422'], ['116.299232', '40.063236'], ['116.300377', '40.061268'], ['116.30127', '40.059715'], ['116.302185', '40.058128'], ['116.302399', '40.057747'], ['116.302811', '40.057053'], ['116.303322', '40.056152'], ['116.304543', '40.054031'], ['116.304726', '40.053719'], ['116.30529', '40.052769'], ['116.305817', '40.051949'], ['116.306519', '40.050892'], ['116.306976', '40.05024'], ['116.308044', '40.04879'], ['116.309517', '40.046925'], ['116.31015', '40.046146'], ['116.310936', '40.045166'], ['116.311157', '40.044868'], ['116.31189', '40.043858'], ['116.312469', '40.042973'], ['116.31282', '40.042412'], ['116.313873', '40.040562'], ['116.314255', '40.039932'], ['116.314621', '40.039398'], ['116.314972', '40.038948'], ['116.315163', '40.038719'], ['116.315643', '40.038208'], ['116.315926', '40.037926'], ['116.316841', '40.037106'], ['116.319443', '40.034874'], ['116.320107', '40.034237'], ['116.320168', '40.034176'], ['116.320526', '40.033806'], ['116.320732', '40.033577'], ['116.321091', '40.033112'], ['116.321411', '40.032635'], ['116.321548', '40.032398'], ['116.321709', '40.032093'], ['116.321976', '40.031517'], ['116.322083', '40.03125'], ['116.322266', '40.030708'], ['116.322388', '40.030304'], ['116.322617', '40.02948'], ['116.322701', '40.02919'], ['116.322891', '40.028461'], ['116.32309', '40.027809'], ['116.323242', '40.027416'], ['116.323296', '40.027264'], ['116.32341', '40.027012'], ['116.323593', '40.026569'], ['116.323929', '40.025822'], ['116.324089', '40.025501'], ['116.324089', '40.025501'], ['116.324158', '40.025124'], ['116.324242', '40.024799'], ['116.32431', '40.024532'], ['116.324432', '40.024212'], ['116.324585', '40.023804'], ['116.324699', '40.023567'], ['116.324829', '40.023338'], ['116.324936', '40.02319'], ['116.325043', '40.023045'], ['116.325043', '40.023045'], ['116.325394', '40.022713'], ['116.325546', '40.022594'], ['116.325821', '40.022427'], ['116.325958', '40.022343'], ['116.326225', '40.022213'], ['116.326675', '40.022022'], ['116.327545', '40.021717'], ['116.328491', '40.021435'], ['116.328918', '40.021339'], ['116.329453', '40.021244'], ['116.329803', '40.02121'], ['116.330124', '40.021191'], ['116.330437', '40.02121'], ['116.330673', '40.021236'], ['116.330833', '40.021259'], ['116.331139', '40.021328'], ['116.331482', '40.021439'], ['116.33194', '40.021637'], ['116.332146', '40.021736'], ['116.332481', '40.021889'], ['116.333557', '40.022392'], ['116.33445', '40.022747'], ['116.335007', '40.022865'], ['116.336136', '40.023045'], ['116.336746', '40.023102'], ['116.337463', '40.023144'], ['116.338799', '40.023159'], ['116.3451', '40.023075'], ['116.345207', '40.023075'], ['116.346649', '40.023064'], ['116.34774', '40.023071'], ['116.348061', '40.023067'], ['116.3489', '40.023056'], ['116.349831', '40.023014'], ['116.349831', '40.023014'], ['116.350281', '40.022949'], ['116.350471', '40.022911'], ['116.350891', '40.022797'], ['116.351456', '40.022614'], ['116.351875', '40.022469'], ['116.351875', '40.022469'], ['116.35202', '40.022392'], ['116.352234', '40.022285'], ['116.352554', '40.022156'], ['116.352745', '40.022057'], ['116.353081', '40.021912'], ['116.353905', '40.021549'], ['116.354477', '40.021267'], ['116.354897', '40.020977'], ['116.355049', '40.020866'], ['116.355354', '40.020615'], ['116.355392', '40.020592'], ['116.355988', '40.019852'], ['116.356277', '40.019497'], ['116.356354', '40.019375'], ['116.356491', '40.019054'], ['116.357193', '40.018188'], ['116.357948', '40.017235'], ['116.358711', '40.016232'], ['116.359123', '40.015705'], ['116.359459', '40.015259'], ['116.359787', '40.014828'], ['116.36013', '40.014359'], ['116.360214', '40.014225'], ['116.360374', '40.013863'], ['116.360649', '40.013226'], ['116.360855', '40.012821'], ['116.361076', '40.012508'], ['116.361229', '40.012306'], ['116.361298', '40.012203'], ['116.361473', '40.012005'], ['116.361641', '40.011826'], ['116.362579', '40.011086'], ['116.362579', '40.011086'], ['116.36306', '40.01078'], ['116.364586', '40.008728'], ['116.367188', '40.005188'], ['116.367294', '40.005039'], ['116.367744', '40.004436'], ['116.367882', '40.004238'], ['116.368179', '40.003822'], ['116.369331', '40.002338'], ['116.370033', '40.001377'], ['116.370148', '40.001217'], ['116.370438', '40.000839'], ['116.372276', '39.998428'], ['116.372696', '39.997883'], ['116.374603', '39.995422'], ['116.376144', '39.993412'], ['116.376472', '39.992947'], ['116.376793', '39.992424'], ['116.37706', '39.991848'], ['116.377228', '39.99136'], ['116.377357', '39.991013'], ['116.377602', '39.990234'], ['116.377678', '39.989964'], ['116.377831', '39.989399'], ['116.378006', '39.988766'], ['116.378181', '39.988129'], ['116.37822', '39.988014'], ['116.378899', '39.985676'], ['116.379074', '39.985043'], ['116.379539', '39.983528'], ['116.379761', '39.982788'], ['116.380562', '39.97998'], ['116.380768', '39.979244'], ['116.380951', '39.978592'], ['116.381012', '39.978359'], ['116.381172', '39.977654'], ['116.381218', '39.977142'], ['116.381218', '39.976059'], ['116.381126', '39.975014'], ['116.380966', '39.97361'], ['116.380859', '39.972733'], ['116.380844', '39.972641'], ['116.380608', '39.970551'], ['116.380608', '39.970551'], ['116.380516', '39.970459'], ['116.380455', '39.97007'], ['116.380379', '39.969936'], ['116.380264', '39.968941'], ['116.380211', '39.968449'], ['116.380196', '39.968258'], ['116.38018', '39.96817'], ['116.380142', '39.9678'], ['116.380142', '39.9678'], ['116.380066', '39.967712'], ['116.38002', '39.967674'], ['116.379967', '39.967644'], ['116.379852', '39.967621'], ['116.378937', '39.967609'], ['116.378868', '39.967628'], ['116.378838', '39.96764'], ['116.378792', '39.967682'], ['116.378754', '39.967739'], ['116.378754', '39.967758'], ['116.378784', '39.967831'], ['116.378807', '39.967857'], ['116.378845', '39.967876'], ['116.378998', '39.967934'], ['116.378998', '39.967934'], ['116.379799', '39.968098'], ['116.380409', '39.968105'], ['116.381226', '39.96814'], ['116.381485', '39.968143'], ['116.383377', '39.968178'], ['116.384003', '39.968197'], ['116.386009', '39.968239'], ['116.386566', '39.968258'], ['116.386566', '39.968258'], ['116.388527', '39.968304'], ['116.389153', '39.968319'], ['116.389473', '39.968323'], ['116.390015', '39.968349'], ['116.391113', '39.968372'], ['116.391792', '39.968391'], ['116.391937', '39.968395'], ['116.392212', '39.968403'], ['116.393448', '39.968437'], ['116.395332', '39.968502'], ['116.397476', '39.968552'], ['116.399246', '39.968605'], ['116.401505', '39.968655'], ['116.402802', '39.968708'], ['116.403442', '39.968735'], ['116.405212', '39.968792'], ['116.407074', '39.968849'], ['116.407425', '39.968857'], ['116.407745', '39.968868'], ['116.409065', '39.968903'], ['116.410141', '39.968937'], ['116.410141', '39.968937'], ['116.410316', '39.96888'], ['116.410492', '39.968826'], ['116.410652', '39.968803'], ['116.41082', '39.968788'], ['116.411125', '39.968781'], ['116.411232', '39.968777'], ['116.411232', '39.968777'], ['116.411209', '39.968697'], ['116.411194', '39.968491'], ['116.411194', '39.968258'], ['116.411194', '39.968102'], ['116.411194', '39.967911'], ['116.411194', '39.967373'], ['116.411209', '39.966869'], ['116.411209', '39.966743'], ['116.411209', '39.966743'], ['116.411125', '39.966743'], ['116.41098', '39.96674'], ['116.410728', '39.966732']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>