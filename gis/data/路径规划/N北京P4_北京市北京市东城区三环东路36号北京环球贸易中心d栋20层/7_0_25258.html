<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
    </style>
    <title>折线的绘制和编辑</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <script src="https://webapi.amap.com/maps?v=1.4.13&key=您申请的key值&plugin=AMap.PolyEditor"></script>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="width: 120px">
   <button class="btn" onclick="polyEditor.open()" style="margin-bottom: 5px">开始编辑</button> 
   <button class="btn" onclick="polyEditor.close()">结束编辑</button> 
</div>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        center: [116.395577, 39.892257],
        zoom: 14
    });

    var path =[['116.247505', '40.084339'], ['116.247414', '40.084324'], ['116.247414', '40.084324'], ['116.24733', '40.084438'], ['116.247276', '40.084526'], ['116.247276', '40.084526'], ['116.247475', '40.084564'], ['116.24781', '40.084644'], ['116.248283', '40.084743'], ['116.249725', '40.084991'], ['116.249725', '40.084991'], ['116.249939', '40.084564'], ['116.250481', '40.083481'], ['116.251205', '40.082062'], ['116.251205', '40.082062'], ['116.24926', '40.081547'], ['116.248932', '40.081459'], ['116.247681', '40.08112'], ['116.247528', '40.081081'], ['116.246437', '40.080791'], ['116.246292', '40.08075'], ['116.244995', '40.080425'], ['116.242661', '40.079796'], ['116.242294', '40.079697'], ['116.241241', '40.079411'], ['116.240417', '40.079044'], ['116.240906', '40.078125'], ['116.240944', '40.078041'], ['116.241318', '40.07729'], ['116.242157', '40.075607'], ['116.242226', '40.07547'], ['116.242249', '40.075413'], ['116.24234', '40.075249'], ['116.242592', '40.07473'], ['116.242699', '40.07452'], ['116.243271', '40.07338'], ['116.24334', '40.073219'], ['116.243454', '40.073029'], ['116.243927', '40.072189'], ['116.243958', '40.072136'], ['116.244514', '40.071148'], ['116.244568', '40.071053'], ['116.245148', '40.070045'], ['116.245209', '40.069927'], ['116.245842', '40.068832'], ['116.246361', '40.067924'], ['116.24649', '40.067726'], ['116.246613', '40.067577'], ['116.246925', '40.067139'], ['116.247032', '40.066967'], ['116.247482', '40.066219'], ['116.247826', '40.065639'], ['116.248337', '40.064751'], ['116.248505', '40.064442'], ['116.249062', '40.063263'], ['116.24926', '40.062683'], ['116.249588', '40.061687'], ['116.250099', '40.060242'], ['116.25032', '40.059612'], ['116.25058', '40.058853'], ['116.250908', '40.058037'], ['116.251099', '40.057625'], ['116.251434', '40.057056'], ['116.251686', '40.056675'], ['116.25206', '40.05619'], ['116.252098', '40.056152'], ['116.252419', '40.055782'], ['116.252762', '40.055424'], ['116.253159', '40.055019'], ['116.253319', '40.054871'], ['116.254372', '40.053764'], ['116.255371', '40.052734'], ['116.256042', '40.05204'], ['116.256454', '40.051609'], ['116.256699', '40.051323'], ['116.256912', '40.051048'], ['116.257072', '40.0508'], ['116.257256', '40.05048'], ['116.257317', '40.05024'], ['116.257324', '40.050209'], ['116.257339', '40.050076'], ['116.25753', '40.049129'], ['116.257713', '40.047668'], ['116.257767', '40.047466'], ['116.257828', '40.047245'], ['116.258232', '40.045609'], ['116.258301', '40.045166'], ['116.258392', '40.044559'], ['116.258636', '40.044277'], ['116.259552', '40.04385'], ['116.259895', '40.043648'], ['116.260193', '40.043449'], ['116.261665', '40.042347'], ['116.262527', '40.041695'], ['116.265884', '40.039124'], ['116.265999', '40.039036'], ['116.266808', '40.038441'], ['116.267281', '40.038063'], ['116.267502', '40.037868'], ['116.267769', '40.037613'], ['116.268936', '40.036503'], ['116.269638', '40.035812'], ['116.270393', '40.035049'], ['116.270607', '40.034859'], ['116.270912', '40.034557'], ['116.271248', '40.034176'], ['116.271408', '40.033981'], ['116.271667', '40.033619'], ['116.272491', '40.032391'], ['116.27256', '40.032284'], ['116.272888', '40.03183'], ['116.27327', '40.031387'], ['116.273949', '40.030621'], ['116.2743', '40.030262'], ['116.275398', '40.029068'], ['116.276108', '40.028259'], ['116.276123', '40.028236'], ['116.276833', '40.027431'], ['116.277122', '40.027126'], ['116.277786', '40.026363'], ['116.278664', '40.025364'], ['116.279297', '40.024609'], ['116.279869', '40.023952'], ['116.280525', '40.02319'], ['116.280739', '40.022949'], ['116.281319', '40.022293'], ['116.282219', '40.021271'], ['116.282257', '40.021221'], ['116.28363', '40.019741'], ['116.283943', '40.019363'], ['116.284088', '40.019192'], ['116.284462', '40.018784'], ['116.285179', '40.017975'], ['116.285767', '40.017227'], ['116.28595', '40.017021'], ['116.286232', '40.016621'], ['116.286507', '40.016201'], ['116.286621', '40.015972'], ['116.286781', '40.015633'], ['116.28688', '40.015301'], ['116.287003', '40.014812'], ['116.287102', '40.014248'], ['116.287148', '40.01403'], ['116.2873', '40.013111'], ['116.287437', '40.012203'], ['116.287483', '40.011936'], ['116.287674', '40.010773'], ['116.287949', '40.009094'], ['116.28801', '40.008633'], ['116.288673', '40.004337'], ['116.288971', '40.00246'], ['116.289017', '40.00227'], ['116.289085', '40.002068'], ['116.289177', '40.001865'], ['116.289322', '40.00161'], ['116.289467', '40.001411'], ['116.289627', '40.001263'], ['116.28968', '40.001217'], ['116.290642', '40.000492'], ['116.292068', '39.999435'], ['116.293022', '39.998718'], ['116.29406', '39.997932'], ['116.29435', '39.997696'], ['116.294487', '39.997559'], ['116.294594', '39.997433'], ['116.294746', '39.997192'], ['116.294868', '39.996952'], ['116.294937', '39.996773'], ['116.295006', '39.996456'], ['116.295174', '39.995655'], ['116.295303', '39.994831'], ['116.295395', '39.994396'], ['116.295486', '39.994087'], ['116.295616', '39.993797'], ['116.295723', '39.993637'], ['116.295891', '39.993423'], ['116.296326', '39.992977'], ['116.296806', '39.992588'], ['116.297783', '39.991783'], ['116.298553', '39.99115'], ['116.298729', '39.990974'], ['116.298943', '39.990696'], ['116.299057', '39.990524'], ['116.299179', '39.990234'], ['116.299179', '39.990211'], ['116.299278', '39.989807'], ['116.29937', '39.989338'], ['116.299583', '39.987877'], ['116.299606', '39.987648'], ['116.299637', '39.987419'], ['116.299744', '39.986778'], ['116.300064', '39.984489'], ['116.300079', '39.984348'], ['116.300194', '39.98357'], ['116.30027', '39.982746'], ['116.300339', '39.981926'], ['116.300407', '39.981224'], ['116.300491', '39.980534'], ['116.300552', '39.980061'], ['116.300621', '39.979244'], ['116.30088', '39.976467'], ['116.300949', '39.975777'], ['116.30098', '39.975449'], ['116.301025', '39.974937'], ['116.301094', '39.974583'], ['116.301186', '39.974281'], ['116.30127', '39.974102'], ['116.301308', '39.974014'], ['116.301514', '39.973686'], ['116.301712', '39.973412'], ['116.301994', '39.973106'], ['116.302399', '39.972744'], ['116.302658', '39.972549'], ['116.303688', '39.971901'], ['116.304726', '39.971245'], ['116.305481', '39.970787'], ['116.30629', '39.970284'], ['116.306557', '39.970081'], ['116.306755', '39.969852'], ['116.306862', '39.969654'], ['116.306915', '39.969448'], ['116.306953', '39.969261'], ['116.30706', '39.968258'], ['116.307198', '39.967049'], ['116.307259', '39.966606'], ['116.307259', '39.966606'], ['116.307228', '39.966515'], ['116.30722', '39.966434'], ['116.307243', '39.966206'], ['116.307243', '39.966099'], ['116.30722', '39.965981'], ['116.307236', '39.965874'], ['116.307281', '39.965656'], ['116.307411', '39.965019'], ['116.307503', '39.964535'], ['116.307594', '39.964058'], ['116.307701', '39.963444'], ['116.307755', '39.963181'], ['116.307808', '39.962936'], ['116.307808', '39.962936'], ['116.307938', '39.962852'], ['116.308006', '39.962757'], ['116.308113', '39.962433'], ['116.308197', '39.962326'], ['116.308273', '39.962254'], ['116.30835', '39.962238'], ['116.308426', '39.962246'], ['116.308853', '39.962311'], ['116.309906', '39.962734'], ['116.310074', '39.962799'], ['116.310341', '39.962898'], ['116.310585', '39.962982'], ['116.310966', '39.963108'], ['116.311272', '39.963207'], ['116.312256', '39.963547'], ['116.312683', '39.963688'], ['116.312683', '39.963688'], ['116.313385', '39.964108'], ['116.314766', '39.964603'], ['116.316994', '39.965435'], ['116.318581', '39.966015'], ['116.319618', '39.966393'], ['116.320145', '39.966564'], ['116.320953', '39.966785'], ['116.321869', '39.966957'], ['116.322533', '39.967018'], ['116.323074', '39.967052'], ['116.323242', '39.967064'], ['116.323692', '39.967079'], ['116.324745', '39.967129'], ['116.32653', '39.967197'], ['116.32769', '39.967243'], ['116.328415', '39.967274'], ['116.328827', '39.967289'], ['116.330025', '39.967327'], ['116.330772', '39.967365'], ['116.331154', '39.967377'], ['116.332306', '39.967419'], ['116.333733', '39.967461'], ['116.336304', '39.967506'], ['116.342117', '39.967556'], ['116.344177', '39.967575'], ['116.345161', '39.96759'], ['116.345207', '39.96759'], ['116.347557', '39.967602'], ['116.348244', '39.967621'], ['116.348763', '39.967628'], ['116.350105', '39.96764'], ['116.351753', '39.96764'], ['116.357048', '39.967682'], ['116.358582', '39.967648'], ['116.359406', '39.967648'], ['116.360222', '39.967648'], ['116.362221', '39.967667'], ['116.36393', '39.967663'], ['116.36554', '39.96769'], ['116.366531', '39.967697'], ['116.366669', '39.967705'], ['116.367188', '39.967731'], ['116.368126', '39.967777'], ['116.36879', '39.967808'], ['116.370354', '39.967854'], ['116.372261', '39.967918'], ['116.373772', '39.967968'], ['116.374329', '39.967983'], ['116.375549', '39.968014'], ['116.377441', '39.968052'], ['116.378563', '39.968063'], ['116.379799', '39.968098'], ['116.380409', '39.968105'], ['116.381226', '39.96814'], ['116.381485', '39.968143'], ['116.383377', '39.968178'], ['116.384003', '39.968197'], ['116.386009', '39.968239'], ['116.386566', '39.968258'], ['116.386566', '39.968258'], ['116.388527', '39.968304'], ['116.389153', '39.968319'], ['116.389473', '39.968323'], ['116.390015', '39.968349'], ['116.391113', '39.968372'], ['116.391792', '39.968391'], ['116.391937', '39.968395'], ['116.392212', '39.968403'], ['116.393448', '39.968437'], ['116.395332', '39.968502'], ['116.397476', '39.968552'], ['116.399246', '39.968605'], ['116.401505', '39.968655'], ['116.402802', '39.968708'], ['116.403442', '39.968735'], ['116.405212', '39.968792'], ['116.407074', '39.968849'], ['116.407425', '39.968857'], ['116.407745', '39.968868'], ['116.409065', '39.968903'], ['116.410141', '39.968937'], ['116.410141', '39.968937'], ['116.410316', '39.96888'], ['116.410492', '39.968826'], ['116.410652', '39.968803'], ['116.41082', '39.968788'], ['116.411125', '39.968781'], ['116.411232', '39.968777'], ['116.411232', '39.968777'], ['116.411209', '39.968697'], ['116.411194', '39.968491'], ['116.411194', '39.968258'], ['116.411194', '39.968102'], ['116.411194', '39.967911'], ['116.411194', '39.967373'], ['116.411209', '39.966869'], ['116.411209', '39.966743'], ['116.411209', '39.966743'], ['116.411125', '39.966743'], ['116.41098', '39.96674'], ['116.410728', '39.966732']]

    var polyline = new AMap.Polyline({
        path: path,
        isOutline: true,
        outlineColor: '#ffeeff',
        borderWeight: 3,
        strokeColor: "#3366FF", 
        strokeOpacity: 1,
        strokeWeight: 6,
        // 折线样式还支持 'dashed'
        strokeStyle: "solid",
        // strokeStyle是dashed时有效
        strokeDasharray: [10, 5],
        lineJoin: 'round',
        lineCap: 'round',
        zIndex: 50,
    })

    polyline.setMap(map)
    // 缩放地图到合适的视野级别
    map.setFitView([ polyline ])

    var polyEditor = new AMap.PolyEditor(map, polyline)

    polyEditor.on('addnode', function(event) {
        log.info('触发事件：addnode')
    })

    polyEditor.on('adjust', function(event) {
        log.info('触发事件：adjust')
    })

    polyEditor.on('removenode', function(event) {
        log.info('触发事件：removenode')
    })

    polyEditor.on('end', function(event) {
        log.info('触发事件： end')
        // event.target 即为编辑后的折线对象
    })
</script>
</body>
</html>